(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();const Tk="G-TG7J1D38B6";{let e=function(){dataLayer.push(arguments)};const t=document.createElement("script");t.async=!0,t.src=`https://www.googletagmanager.com/gtag/js?id=${Tk}`,document.head.appendChild(t),window.dataLayer=window.dataLayer||[],e("js",new Date),window.gtag=e}function Ak(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function q_(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var l=!1;try{l=this instanceof r}catch{}return l?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var l=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,l.get?l:{enumerable:!0,get:function(){return e[r]}})}),n}var jh={exports:{}},Yo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function Ek(){if(Wv)return Yo;Wv=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var f in l)f!=="key"&&(c[f]=l[f])}else c=l;return l=c.ref,{$$typeof:e,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Yo.Fragment=t,Yo.jsx=n,Yo.jsxs=n,Yo}var Zv;function Mk(){return Zv||(Zv=1,jh.exports=Ek()),jh.exports}var i=Mk(),Sh={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function Rk(){if(Jv)return $e;Jv=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function b(M){return M===null||typeof M!="object"?null:(M=v&&M[v]||M["@@iterator"],typeof M=="function"?M:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,N={};function T(M,D,te){this.props=M,this.context=D,this.refs=N,this.updater=te||w}T.prototype.isReactComponent={},T.prototype.setState=function(M,D){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,D,"setState")},T.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function A(){}A.prototype=T.prototype;function C(M,D,te){this.props=M,this.context=D,this.refs=N,this.updater=te||w}var E=C.prototype=new A;E.constructor=C,S(E,T.prototype),E.isPureReactComponent=!0;var _=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},O=Object.prototype.hasOwnProperty;function z(M,D,te,J,de,ge){return te=ge.ref,{$$typeof:e,type:M,key:D,ref:te!==void 0?te:null,props:ge}}function P(M,D){return z(M.type,D,void 0,void 0,void 0,M.props)}function q(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function U(M){var D={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(te){return D[te]})}var Q=/\/+/g;function re(M,D){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):D.toString(36)}function ce(){}function he(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ce,ce):(M.status="pending",M.then(function(D){M.status==="pending"&&(M.status="fulfilled",M.value=D)},function(D){M.status==="pending"&&(M.status="rejected",M.reason=D)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ye(M,D,te,J,de){var ge=typeof M;(ge==="undefined"||ge==="boolean")&&(M=null);var ve=!1;if(M===null)ve=!0;else switch(ge){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(M.$$typeof){case e:case t:ve=!0;break;case g:return ve=M._init,ye(ve(M._payload),D,te,J,de)}}if(ve)return de=de(M),ve=J===""?"."+re(M,0):J,_(de)?(te="",ve!=null&&(te=ve.replace(Q,"$&/")+"/"),ye(de,D,te,"",function(St){return St})):de!=null&&(q(de)&&(de=P(de,te+(de.key==null||M&&M.key===de.key?"":(""+de.key).replace(Q,"$&/")+"/")+ve)),D.push(de)),1;ve=0;var Ce=J===""?".":J+":";if(_(M))for(var qe=0;qe<M.length;qe++)J=M[qe],ge=Ce+re(J,qe),ve+=ye(J,D,te,ge,de);else if(qe=b(M),typeof qe=="function")for(M=qe.call(M),qe=0;!(J=M.next()).done;)J=J.value,ge=Ce+re(J,qe++),ve+=ye(J,D,te,ge,de);else if(ge==="object"){if(typeof M.then=="function")return ye(he(M),D,te,J,de);throw D=String(M),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return ve}function G(M,D,te){if(M==null)return M;var J=[],de=0;return ye(M,J,"","",function(ge){return D.call(te,ge,de++)}),J}function I(M){if(M._status===-1){var D=M._result;D=D(),D.then(function(te){(M._status===0||M._status===-1)&&(M._status=1,M._result=te)},function(te){(M._status===0||M._status===-1)&&(M._status=2,M._result=te)}),M._status===-1&&(M._status=0,M._result=D)}if(M._status===1)return M._result.default;throw M._result}var B=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function ne(){}return $e.Children={map:G,forEach:function(M,D,te){G(M,function(){D.apply(this,arguments)},te)},count:function(M){var D=0;return G(M,function(){D++}),D},toArray:function(M){return G(M,function(D){return D})||[]},only:function(M){if(!q(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},$e.Component=T,$e.Fragment=n,$e.Profiler=l,$e.PureComponent=C,$e.StrictMode=r,$e.Suspense=m,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,$e.__COMPILER_RUNTIME={__proto__:null,c:function(M){return R.H.useMemoCache(M)}},$e.cache=function(M){return function(){return M.apply(null,arguments)}},$e.cloneElement=function(M,D,te){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var J=S({},M.props),de=M.key,ge=void 0;if(D!=null)for(ve in D.ref!==void 0&&(ge=void 0),D.key!==void 0&&(de=""+D.key),D)!O.call(D,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&D.ref===void 0||(J[ve]=D[ve]);var ve=arguments.length-2;if(ve===1)J.children=te;else if(1<ve){for(var Ce=Array(ve),qe=0;qe<ve;qe++)Ce[qe]=arguments[qe+2];J.children=Ce}return z(M.type,de,void 0,void 0,ge,J)},$e.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},$e.createElement=function(M,D,te){var J,de={},ge=null;if(D!=null)for(J in D.key!==void 0&&(ge=""+D.key),D)O.call(D,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(de[J]=D[J]);var ve=arguments.length-2;if(ve===1)de.children=te;else if(1<ve){for(var Ce=Array(ve),qe=0;qe<ve;qe++)Ce[qe]=arguments[qe+2];de.children=Ce}if(M&&M.defaultProps)for(J in ve=M.defaultProps,ve)de[J]===void 0&&(de[J]=ve[J]);return z(M,ge,void 0,void 0,null,de)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(M){return{$$typeof:f,render:M}},$e.isValidElement=q,$e.lazy=function(M){return{$$typeof:g,_payload:{_status:-1,_result:M},_init:I}},$e.memo=function(M,D){return{$$typeof:p,type:M,compare:D===void 0?null:D}},$e.startTransition=function(M){var D=R.T,te={};R.T=te;try{var J=M(),de=R.S;de!==null&&de(te,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(ne,B)}catch(ge){B(ge)}finally{R.T=D}},$e.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},$e.use=function(M){return R.H.use(M)},$e.useActionState=function(M,D,te){return R.H.useActionState(M,D,te)},$e.useCallback=function(M,D){return R.H.useCallback(M,D)},$e.useContext=function(M){return R.H.useContext(M)},$e.useDebugValue=function(){},$e.useDeferredValue=function(M,D){return R.H.useDeferredValue(M,D)},$e.useEffect=function(M,D,te){var J=R.H;if(typeof te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(M,D)},$e.useId=function(){return R.H.useId()},$e.useImperativeHandle=function(M,D,te){return R.H.useImperativeHandle(M,D,te)},$e.useInsertionEffect=function(M,D){return R.H.useInsertionEffect(M,D)},$e.useLayoutEffect=function(M,D){return R.H.useLayoutEffect(M,D)},$e.useMemo=function(M,D){return R.H.useMemo(M,D)},$e.useOptimistic=function(M,D){return R.H.useOptimistic(M,D)},$e.useReducer=function(M,D,te){return R.H.useReducer(M,D,te)},$e.useRef=function(M){return R.H.useRef(M)},$e.useState=function(M){return R.H.useState(M)},$e.useSyncExternalStore=function(M,D,te){return R.H.useSyncExternalStore(M,D,te)},$e.useTransition=function(){return R.H.useTransition()},$e.version="19.1.1",$e}var ex;function op(){return ex||(ex=1,Sh.exports=Rk()),Sh.exports}var x=op();const jt=Ak(x);var Nh={exports:{}},Xo={},kh={exports:{}},Ch={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tx;function Pk(){return tx||(tx=1,(function(e){function t(G,I){var B=G.length;G.push(I);e:for(;0<B;){var ne=B-1>>>1,M=G[ne];if(0<l(M,I))G[ne]=I,G[B]=M,B=ne;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var I=G[0],B=G.pop();if(B!==I){G[0]=B;e:for(var ne=0,M=G.length,D=M>>>1;ne<D;){var te=2*(ne+1)-1,J=G[te],de=te+1,ge=G[de];if(0>l(J,B))de<M&&0>l(ge,J)?(G[ne]=ge,G[de]=B,ne=de):(G[ne]=J,G[te]=B,ne=te);else if(de<M&&0>l(ge,B))G[ne]=ge,G[de]=B,ne=de;else break e}}return I}function l(G,I){var B=G.sortIndex-I.sortIndex;return B!==0?B:G.id-I.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,f=d.now();e.unstable_now=function(){return d.now()-f}}var m=[],p=[],g=1,v=null,b=3,w=!1,S=!1,N=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function _(G){for(var I=n(p);I!==null;){if(I.callback===null)r(p);else if(I.startTime<=G)r(p),I.sortIndex=I.expirationTime,t(m,I);else break;I=n(p)}}function R(G){if(N=!1,_(G),!S)if(n(m)!==null)S=!0,O||(O=!0,re());else{var I=n(p);I!==null&&ye(R,I.startTime-G)}}var O=!1,z=-1,P=5,q=-1;function U(){return T?!0:!(e.unstable_now()-q<P)}function Q(){if(T=!1,O){var G=e.unstable_now();q=G;var I=!0;try{e:{S=!1,N&&(N=!1,C(z),z=-1),w=!0;var B=b;try{t:{for(_(G),v=n(m);v!==null&&!(v.expirationTime>G&&U());){var ne=v.callback;if(typeof ne=="function"){v.callback=null,b=v.priorityLevel;var M=ne(v.expirationTime<=G);if(G=e.unstable_now(),typeof M=="function"){v.callback=M,_(G),I=!0;break t}v===n(m)&&r(m),_(G)}else r(m);v=n(m)}if(v!==null)I=!0;else{var D=n(p);D!==null&&ye(R,D.startTime-G),I=!1}}break e}finally{v=null,b=B,w=!1}I=void 0}}finally{I?re():O=!1}}}var re;if(typeof E=="function")re=function(){E(Q)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,he=ce.port2;ce.port1.onmessage=Q,re=function(){he.postMessage(null)}}else re=function(){A(Q,0)};function ye(G,I){z=A(function(){G(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(G){switch(b){case 1:case 2:case 3:var I=3;break;default:I=b}var B=b;b=I;try{return G()}finally{b=B}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(G,I){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var B=b;b=G;try{return I()}finally{b=B}},e.unstable_scheduleCallback=function(G,I,B){var ne=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ne+B:ne):B=ne,G){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=B+M,G={id:g++,callback:I,priorityLevel:G,startTime:B,expirationTime:M,sortIndex:-1},B>ne?(G.sortIndex=B,t(p,G),n(m)===null&&G===n(p)&&(N?(C(z),z=-1):N=!0,ye(R,B-ne))):(G.sortIndex=M,t(m,G),S||w||(S=!0,O||(O=!0,re()))),G},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(G){var I=b;return function(){var B=b;b=I;try{return G.apply(this,arguments)}finally{b=B}}}})(Ch)),Ch}var sx;function Lk(){return sx||(sx=1,kh.exports=Pk()),kh.exports}var Th={exports:{}},ks={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nx;function _k(){if(nx)return ks;nx=1;var e=op();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(m,p,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:v==null?null:""+v,children:m,containerInfo:p,implementation:g}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ks.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ks.createPortal=function(m,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return c(m,p,null,g)},ks.flushSync=function(m){var p=d.T,g=r.p;try{if(d.T=null,r.p=2,m)return m()}finally{d.T=p,r.p=g,r.d.f()}},ks.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},ks.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},ks.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var g=p.as,v=f(g,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:w}):g==="script"&&r.d.X(m,{crossOrigin:v,integrity:b,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ks.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=f(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},ks.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,v=f(g,p.crossOrigin);r.d.L(m,g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ks.preloadModule=function(m,p){if(typeof m=="string")if(p){var g=f(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},ks.requestFormReset=function(m){r.d.r(m)},ks.unstable_batchedUpdates=function(m,p){return m(p)},ks.useFormState=function(m,p,g){return d.H.useFormState(m,p,g)},ks.useFormStatus=function(){return d.H.useHostTransitionStatus()},ks.version="19.1.1",ks}var ax;function B1(){if(ax)return Th.exports;ax=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Th.exports=_k(),Th.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rx;function Dk(){if(rx)return Xo;rx=1;var e=Lk(),t=op(),n=B1();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function c(s){var a=s,o=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(o=a.return),s=a.return;while(s)}return a.tag===3?o:null}function d(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function f(s){if(c(s)!==s)throw Error(r(188))}function m(s){var a=s.alternate;if(!a){if(a=c(s),a===null)throw Error(r(188));return a!==s?null:s}for(var o=s,u=a;;){var h=o.return;if(h===null)break;var y=h.alternate;if(y===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===y.child){for(y=h.child;y;){if(y===o)return f(h),s;if(y===u)return f(h),a;y=y.sibling}throw Error(r(188))}if(o.return!==u.return)o=h,u=y;else{for(var j=!1,k=h.child;k;){if(k===o){j=!0,o=h,u=y;break}if(k===u){j=!0,u=h,o=y;break}k=k.sibling}if(!j){for(k=y.child;k;){if(k===o){j=!0,o=y,u=h;break}if(k===u){j=!0,u=y,o=h;break}k=k.sibling}if(!j)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?s:a}function p(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=p(s),a!==null)return a;s=s.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),E=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function re(s){return s===null||typeof s!="object"?null:(s=Q&&s[Q]||s["@@iterator"],typeof s=="function"?s:null)}var ce=Symbol.for("react.client.reference");function he(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===ce?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case T:return"Profiler";case N:return"StrictMode";case R:return"Suspense";case O:return"SuspenseList";case q:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case E:return(s.displayName||"Context")+".Provider";case C:return(s._context.displayName||"Context")+".Consumer";case _:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case z:return a=s.displayName||null,a!==null?a:he(s.type)||"Memo";case P:a=s._payload,s=s._init;try{return he(s(a))}catch{}}return null}var ye=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},ne=[],M=-1;function D(s){return{current:s}}function te(s){0>M||(s.current=ne[M],ne[M]=null,M--)}function J(s,a){M++,ne[M]=s.current,s.current=a}var de=D(null),ge=D(null),ve=D(null),Ce=D(null);function qe(s,a){switch(J(ve,a),J(ge,s),J(de,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?kv(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=kv(a),s=Cv(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}te(de),J(de,s)}function St(){te(de),te(ge),te(ve)}function nt(s){s.memoizedState!==null&&J(Ce,s);var a=de.current,o=Cv(a,s.type);a!==o&&(J(ge,s),J(de,o))}function Ct(s){ge.current===s&&(te(de),te(ge)),Ce.current===s&&(te(Ce),Ho._currentValue=B)}var ut=Object.prototype.hasOwnProperty,et=e.unstable_scheduleCallback,Pt=e.unstable_cancelCallback,ms=e.unstable_shouldYield,Zt=e.unstable_requestPaint,dt=e.unstable_now,ps=e.unstable_getCurrentPriorityLevel,me=e.unstable_ImmediatePriority,ie=e.unstable_UserBlockingPriority,pe=e.unstable_NormalPriority,Ae=e.unstable_LowPriority,Ee=e.unstable_IdlePriority,ot=e.log,Be=e.unstable_setDisableYieldValue,Ue=null,Ge=null;function xt(s){if(typeof ot=="function"&&Be(s),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Ue,s)}catch{}}var pt=Math.clz32?Math.clz32:rt,Ln=Math.log,Xe=Math.LN2;function rt(s){return s>>>=0,s===0?32:31-(Ln(s)/Xe|0)|0}var gt=256,on=4194304;function Lt(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ss(s,a,o){var u=s.pendingLanes;if(u===0)return 0;var h=0,y=s.suspendedLanes,j=s.pingedLanes;s=s.warmLanes;var k=u&134217727;return k!==0?(u=k&~y,u!==0?h=Lt(u):(j&=k,j!==0?h=Lt(j):o||(o=k&~s,o!==0&&(h=Lt(o))))):(k=u&~y,k!==0?h=Lt(k):j!==0?h=Lt(j):o||(o=u&~s,o!==0&&(h=Lt(o)))),h===0?0:a!==0&&a!==h&&(a&y)===0&&(y=h&-h,o=a&-a,y>=o||y===32&&(o&4194048)!==0)?a:h}function zs(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function _n(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qr(){var s=gt;return gt<<=1,(gt&4194048)===0&&(gt=256),s}function Ur(){var s=on;return on<<=1,(on&62914560)===0&&(on=4194304),s}function ar(s){for(var a=[],o=0;31>o;o++)a.push(s);return a}function Tt(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function gs(s,a,o,u,h,y){var j=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var k=s.entanglements,L=s.expirationTimes,F=s.hiddenUpdates;for(o=j&~o;0<o;){var ae=31-pt(o),le=1<<ae;k[ae]=0,L[ae]=-1;var Y=F[ae];if(Y!==null)for(F[ae]=null,ae=0;ae<Y.length;ae++){var X=Y[ae];X!==null&&(X.lane&=-536870913)}o&=~le}u!==0&&is(s,u,0),y!==0&&h===0&&s.tag!==0&&(s.suspendedLanes|=y&~(j&~a))}function is(s,a,o){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-pt(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|o&4194090}function Qs(s,a){var o=s.entangledLanes|=a;for(s=s.entanglements;o;){var u=31-pt(o),h=1<<u;h&a|s[u]&a&&(s[u]|=a),o&=~h}}function os(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Jt(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ms(){var s=I.p;return s!==0?s:(s=window.event,s===void 0?32:Kv(s.type))}function W(s,a){var o=I.p;try{return I.p=s,a()}finally{I.p=o}}var Je=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Je,it="__reactProps$"+Je,ue="__reactContainer$"+Je,Rs="__reactEvents$"+Je,bt="__reactListeners$"+Je,Ut="__reactHandles$"+Je,Dn="__reactResources$"+Je,Ot="__reactMarker$"+Je;function Vr(s){delete s[Ie],delete s[it],delete s[Rs],delete s[bt],delete s[Ut]}function Qn(s){var a=s[Ie];if(a)return a;for(var o=s.parentNode;o;){if(a=o[ue]||o[Ie]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(s=Mv(s);s!==null;){if(o=s[Ie])return o;s=Mv(s)}return a}s=o,o=s.parentNode}return null}function Se(s){if(s=s[Ie]||s[ue]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function rr(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function Yn(s){var a=s[Dn];return a||(a=s[Dn]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function It(s){s[Ot]=!0}var Zi=new Set,Il={};function Xn(s,a){Na(s,a),Na(s+"Capture",a)}function Na(s,a){for(Il[s]=a,s=0;s<a.length;s++)Zi.add(a[s])}var Ql=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ji={},Yl={};function yd(s){return ut.call(Yl,s)?!0:ut.call(Ji,s)?!1:Ql.test(s)?Yl[s]=!0:(Ji[s]=!0,!1)}function $r(s,a,o){if(yd(a))if(o===null)s.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+o)}}function ir(s,a,o){if(o===null)s.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+o)}}function Ys(s,a,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(a,o,""+u)}}var eo,Xl;function Wn(s){if(eo===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);eo=a&&a[1]||"",Xl=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+eo+s+Xl}var to=!1;function es(s,a){if(!s||to)return"";to=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(X){var Y=X}Reflect.construct(s,[],le)}else{try{le.call()}catch(X){Y=X}s.call(le.prototype)}}else{try{throw Error()}catch(X){Y=X}(le=s())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),j=y[0],k=y[1];if(j&&k){var L=j.split(`
`),F=k.split(`
`);for(h=u=0;u<L.length&&!L[u].includes("DetermineComponentFrameRoot");)u++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(u===L.length||h===F.length)for(u=L.length-1,h=F.length-1;1<=u&&0<=h&&L[u]!==F[h];)h--;for(;1<=u&&0<=h;u--,h--)if(L[u]!==F[h]){if(u!==1||h!==1)do if(u--,h--,0>h||L[u]!==F[h]){var ae=`
`+L[u].replace(" at new "," at ");return s.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",s.displayName)),ae}while(1<=u&&0<=h);break}}}finally{to=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?Wn(o):""}function H(s){switch(s.tag){case 26:case 27:case 5:return Wn(s.type);case 16:return Wn("Lazy");case 13:return Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return es(s.type,!1);case 11:return es(s.type.render,!1);case 1:return es(s.type,!0);case 31:return Wn("Activity");default:return""}}function se(s){try{var a="";do a+=H(s),s=s.return;while(s);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Z(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ke(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Te(s){var a=ke(s)?"checked":"value",o=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),u=""+s[a];if(!s.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,y=o.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return h.call(this)},set:function(j){u=""+j,y.call(this,j)}}),Object.defineProperty(s,a,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(j){u=""+j},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function We(s){s._valueTracker||(s._valueTracker=Te(s))}function On(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var o=a.getValue(),u="";return s&&(u=ke(s)?s.checked?"true":"false":s.value),s=u,s!==o?(a.setValue(s),!0):!1}function Zn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var SS=/[\n"\\]/g;function ln(s){return s.replace(SS,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function vd(s,a,o,u,h,y,j,k){s.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?s.type=j:s.removeAttribute("type"),a!=null?j==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Z(a)):s.value!==""+Z(a)&&(s.value=""+Z(a)):j!=="submit"&&j!=="reset"||s.removeAttribute("value"),a!=null?xd(s,j,Z(a)):o!=null?xd(s,j,Z(o)):u!=null&&s.removeAttribute("value"),h==null&&y!=null&&(s.defaultChecked=!!y),h!=null&&(s.checked=h&&typeof h!="function"&&typeof h!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?s.name=""+Z(k):s.removeAttribute("name")}function jg(s,a,o,u,h,y,j,k){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;o=o!=null?""+Z(o):"",a=a!=null?""+Z(a):o,k||a===s.value||(s.value=a),s.defaultValue=a}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=k?s.checked:!!u,s.defaultChecked=!!u,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(s.name=j)}function xd(s,a,o){a==="number"&&Zn(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function Gr(s,a,o,u){if(s=s.options,a){a={};for(var h=0;h<o.length;h++)a["$"+o[h]]=!0;for(o=0;o<s.length;o++)h=a.hasOwnProperty("$"+s[o].value),s[o].selected!==h&&(s[o].selected=h),h&&u&&(s[o].defaultSelected=!0)}else{for(o=""+Z(o),a=null,h=0;h<s.length;h++){if(s[h].value===o){s[h].selected=!0,u&&(s[h].defaultSelected=!0);return}a!==null||s[h].disabled||(a=s[h])}a!==null&&(a.selected=!0)}}function Sg(s,a,o){if(a!=null&&(a=""+Z(a),a!==s.value&&(s.value=a),o==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=o!=null?""+Z(o):""}function Ng(s,a,o,u){if(a==null){if(u!=null){if(o!=null)throw Error(r(92));if(ye(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),a=o}o=Z(a),s.defaultValue=o,u=s.textContent,u===o&&u!==""&&u!==null&&(s.value=u)}function Hr(s,a){if(a){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=a;return}}s.textContent=a}var NS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kg(s,a,o){var u=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,o):typeof o!="number"||o===0||NS.has(a)?a==="float"?s.cssFloat=o:s[a]=(""+o).trim():s[a]=o+"px"}function Cg(s,a,o){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var h in a)u=a[h],a.hasOwnProperty(h)&&o[h]!==u&&kg(s,h,u)}else for(var y in a)a.hasOwnProperty(y)&&kg(s,y,a[y])}function bd(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),CS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wl(s){return CS.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var wd=null;function jd(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Kr=null,Fr=null;function Tg(s){var a=Se(s);if(a&&(s=a.stateNode)){var o=s[it]||null;e:switch(s=a.stateNode,a.type){case"input":if(vd(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+ln(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var u=o[a];if(u!==s&&u.form===s.form){var h=u[it]||null;if(!h)throw Error(r(90));vd(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(a=0;a<o.length;a++)u=o[a],u.form===s.form&&On(u)}break e;case"textarea":Sg(s,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&Gr(s,!!o.multiple,a,!1)}}}var Sd=!1;function Ag(s,a,o){if(Sd)return s(a,o);Sd=!0;try{var u=s(a);return u}finally{if(Sd=!1,(Kr!==null||Fr!==null)&&(Oc(),Kr&&(a=Kr,s=Fr,Fr=Kr=null,Tg(a),s)))for(a=0;a<s.length;a++)Tg(s[a])}}function so(s,a){var o=s.stateNode;if(o===null)return null;var u=o[it]||null;if(u===null)return null;o=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(r(231,a,typeof o));return o}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nd=!1;if(Jn)try{var no={};Object.defineProperty(no,"passive",{get:function(){Nd=!0}}),window.addEventListener("test",no,no),window.removeEventListener("test",no,no)}catch{Nd=!1}var ka=null,kd=null,Zl=null;function Eg(){if(Zl)return Zl;var s,a=kd,o=a.length,u,h="value"in ka?ka.value:ka.textContent,y=h.length;for(s=0;s<o&&a[s]===h[s];s++);var j=o-s;for(u=1;u<=j&&a[o-u]===h[y-u];u++);return Zl=h.slice(s,1<u?1-u:void 0)}function Jl(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function ec(){return!0}function Mg(){return!1}function Bs(s){function a(o,u,h,y,j){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=y,this.target=j,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(o=s[k],this[k]=o?o(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ec:Mg,this.isPropagationStopped=Mg,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ec)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ec)},persist:function(){},isPersistent:ec}),a}var or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tc=Bs(or),ao=g({},or,{view:0,detail:0}),TS=Bs(ao),Cd,Td,ro,sc=g({},ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ed,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ro&&(ro&&s.type==="mousemove"?(Cd=s.screenX-ro.screenX,Td=s.screenY-ro.screenY):Td=Cd=0,ro=s),Cd)},movementY:function(s){return"movementY"in s?s.movementY:Td}}),Rg=Bs(sc),AS=g({},sc,{dataTransfer:0}),ES=Bs(AS),MS=g({},ao,{relatedTarget:0}),Ad=Bs(MS),RS=g({},or,{animationName:0,elapsedTime:0,pseudoElement:0}),PS=Bs(RS),LS=g({},or,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),_S=Bs(LS),DS=g({},or,{data:0}),Pg=Bs(DS),OS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qS(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=BS[s])?!!a[s]:!1}function Ed(){return qS}var US=g({},ao,{key:function(s){if(s.key){var a=OS[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Jl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?zS[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ed,charCode:function(s){return s.type==="keypress"?Jl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Jl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),VS=Bs(US),$S=g({},sc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lg=Bs($S),GS=g({},ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ed}),HS=Bs(GS),KS=g({},or,{propertyName:0,elapsedTime:0,pseudoElement:0}),FS=Bs(KS),IS=g({},sc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),QS=Bs(IS),YS=g({},or,{newState:0,oldState:0}),XS=Bs(YS),WS=[9,13,27,32],Md=Jn&&"CompositionEvent"in window,io=null;Jn&&"documentMode"in document&&(io=document.documentMode);var ZS=Jn&&"TextEvent"in window&&!io,_g=Jn&&(!Md||io&&8<io&&11>=io),Dg=" ",Og=!1;function zg(s,a){switch(s){case"keyup":return WS.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bg(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ir=!1;function JS(s,a){switch(s){case"compositionend":return Bg(a);case"keypress":return a.which!==32?null:(Og=!0,Dg);case"textInput":return s=a.data,s===Dg&&Og?null:s;default:return null}}function eN(s,a){if(Ir)return s==="compositionend"||!Md&&zg(s,a)?(s=Eg(),Zl=kd=ka=null,Ir=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return _g&&a.locale!=="ko"?null:a.data;default:return null}}var tN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qg(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!tN[s.type]:a==="textarea"}function Ug(s,a,o,u){Kr?Fr?Fr.push(u):Fr=[u]:Kr=u,a=$c(a,"onChange"),0<a.length&&(o=new tc("onChange","change",null,o,u),s.push({event:o,listeners:a}))}var oo=null,lo=null;function sN(s){bv(s,0)}function nc(s){var a=rr(s);if(On(a))return s}function Vg(s,a){if(s==="change")return a}var $g=!1;if(Jn){var Rd;if(Jn){var Pd="oninput"in document;if(!Pd){var Gg=document.createElement("div");Gg.setAttribute("oninput","return;"),Pd=typeof Gg.oninput=="function"}Rd=Pd}else Rd=!1;$g=Rd&&(!document.documentMode||9<document.documentMode)}function Hg(){oo&&(oo.detachEvent("onpropertychange",Kg),lo=oo=null)}function Kg(s){if(s.propertyName==="value"&&nc(lo)){var a=[];Ug(a,lo,s,jd(s)),Ag(sN,a)}}function nN(s,a,o){s==="focusin"?(Hg(),oo=a,lo=o,oo.attachEvent("onpropertychange",Kg)):s==="focusout"&&Hg()}function aN(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return nc(lo)}function rN(s,a){if(s==="click")return nc(a)}function iN(s,a){if(s==="input"||s==="change")return nc(a)}function oN(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Xs=typeof Object.is=="function"?Object.is:oN;function co(s,a){if(Xs(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var o=Object.keys(s),u=Object.keys(a);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!ut.call(a,h)||!Xs(s[h],a[h]))return!1}return!0}function Fg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ig(s,a){var o=Fg(s);s=0;for(var u;o;){if(o.nodeType===3){if(u=s+o.textContent.length,s<=a&&u>=a)return{node:o,offset:a-s};s=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Fg(o)}}function Qg(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Qg(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Yg(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Zn(s.document);a instanceof s.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)s=a.contentWindow;else break;a=Zn(s.document)}return a}function Ld(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var lN=Jn&&"documentMode"in document&&11>=document.documentMode,Qr=null,_d=null,uo=null,Dd=!1;function Xg(s,a,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Dd||Qr==null||Qr!==Zn(u)||(u=Qr,"selectionStart"in u&&Ld(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),uo&&co(uo,u)||(uo=u,u=$c(_d,"onSelect"),0<u.length&&(a=new tc("onSelect","select",null,a,o),s.push({event:a,listeners:u}),a.target=Qr)))}function lr(s,a){var o={};return o[s.toLowerCase()]=a.toLowerCase(),o["Webkit"+s]="webkit"+a,o["Moz"+s]="moz"+a,o}var Yr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},Od={},Wg={};Jn&&(Wg=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function cr(s){if(Od[s])return Od[s];if(!Yr[s])return s;var a=Yr[s],o;for(o in a)if(a.hasOwnProperty(o)&&o in Wg)return Od[s]=a[o];return s}var Zg=cr("animationend"),Jg=cr("animationiteration"),e0=cr("animationstart"),cN=cr("transitionrun"),uN=cr("transitionstart"),dN=cr("transitioncancel"),t0=cr("transitionend"),s0=new Map,zd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zd.push("scrollEnd");function jn(s,a){s0.set(s,a),Xn(a,[s])}var n0=new WeakMap;function cn(s,a){if(typeof s=="object"&&s!==null){var o=n0.get(s);return o!==void 0?o:(a={value:s,source:a,stack:se(a)},n0.set(s,a),a)}return{value:s,source:a,stack:se(a)}}var un=[],Xr=0,Bd=0;function ac(){for(var s=Xr,a=Bd=Xr=0;a<s;){var o=un[a];un[a++]=null;var u=un[a];un[a++]=null;var h=un[a];un[a++]=null;var y=un[a];if(un[a++]=null,u!==null&&h!==null){var j=u.pending;j===null?h.next=h:(h.next=j.next,j.next=h),u.pending=h}y!==0&&a0(o,h,y)}}function rc(s,a,o,u){un[Xr++]=s,un[Xr++]=a,un[Xr++]=o,un[Xr++]=u,Bd|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function qd(s,a,o,u){return rc(s,a,o,u),ic(s)}function Wr(s,a){return rc(s,null,null,a),ic(s)}function a0(s,a,o){s.lanes|=o;var u=s.alternate;u!==null&&(u.lanes|=o);for(var h=!1,y=s.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(h=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,h&&a!==null&&(h=31-pt(o),s=y.hiddenUpdates,u=s[h],u===null?s[h]=[a]:u.push(a),a.lane=o|536870912),y):null}function ic(s){if(50<Oo)throw Oo=0,Ff=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Zr={};function fN(s,a,o,u){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(s,a,o,u){return new fN(s,a,o,u)}function Ud(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ea(s,a){var o=s.alternate;return o===null?(o=Ws(s.tag,a,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=a,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,a=s.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function r0(s,a){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,a=o.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function oc(s,a,o,u,h,y){var j=0;if(u=s,typeof s=="function")Ud(s)&&(j=1);else if(typeof s=="string")j=mk(s,o,de.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case q:return s=Ws(31,o,a,h),s.elementType=q,s.lanes=y,s;case S:return ur(o.children,h,y,a);case N:j=8,h|=24;break;case T:return s=Ws(12,o,a,h|2),s.elementType=T,s.lanes=y,s;case R:return s=Ws(13,o,a,h),s.elementType=R,s.lanes=y,s;case O:return s=Ws(19,o,a,h),s.elementType=O,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case A:case E:j=10;break e;case C:j=9;break e;case _:j=11;break e;case z:j=14;break e;case P:j=16,u=null;break e}j=29,o=Error(r(130,s===null?"null":typeof s,"")),u=null}return a=Ws(j,o,a,h),a.elementType=s,a.type=u,a.lanes=y,a}function ur(s,a,o,u){return s=Ws(7,s,u,a),s.lanes=o,s}function Vd(s,a,o){return s=Ws(6,s,null,a),s.lanes=o,s}function $d(s,a,o){return a=Ws(4,s.children!==null?s.children:[],s.key,a),a.lanes=o,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Jr=[],ei=0,lc=null,cc=0,dn=[],fn=0,dr=null,ta=1,sa="";function fr(s,a){Jr[ei++]=cc,Jr[ei++]=lc,lc=s,cc=a}function i0(s,a,o){dn[fn++]=ta,dn[fn++]=sa,dn[fn++]=dr,dr=s;var u=ta;s=sa;var h=32-pt(u)-1;u&=~(1<<h),o+=1;var y=32-pt(a)+h;if(30<y){var j=h-h%5;y=(u&(1<<j)-1).toString(32),u>>=j,h-=j,ta=1<<32-pt(a)+h|o<<h|u,sa=y+s}else ta=1<<y|o<<h|u,sa=s}function Gd(s){s.return!==null&&(fr(s,1),i0(s,1,0))}function Hd(s){for(;s===lc;)lc=Jr[--ei],Jr[ei]=null,cc=Jr[--ei],Jr[ei]=null;for(;s===dr;)dr=dn[--fn],dn[fn]=null,sa=dn[--fn],dn[fn]=null,ta=dn[--fn],dn[fn]=null}var Ps=null,zt=null,at=!1,hr=null,zn=!1,Kd=Error(r(519));function mr(s){var a=Error(r(418,""));throw mo(cn(a,s)),Kd}function o0(s){var a=s.stateNode,o=s.type,u=s.memoizedProps;switch(a[Ie]=s,a[it]=u,o){case"dialog":Ye("cancel",a),Ye("close",a);break;case"iframe":case"object":case"embed":Ye("load",a);break;case"video":case"audio":for(o=0;o<Bo.length;o++)Ye(Bo[o],a);break;case"source":Ye("error",a);break;case"img":case"image":case"link":Ye("error",a),Ye("load",a);break;case"details":Ye("toggle",a);break;case"input":Ye("invalid",a),jg(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),We(a);break;case"select":Ye("invalid",a);break;case"textarea":Ye("invalid",a),Ng(a,u.value,u.defaultValue,u.children),We(a)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||u.suppressHydrationWarning===!0||Nv(a.textContent,o)?(u.popover!=null&&(Ye("beforetoggle",a),Ye("toggle",a)),u.onScroll!=null&&Ye("scroll",a),u.onScrollEnd!=null&&Ye("scrollend",a),u.onClick!=null&&(a.onclick=Gc),a=!0):a=!1,a||mr(s)}function l0(s){for(Ps=s.return;Ps;)switch(Ps.tag){case 5:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Ps=Ps.return}}function fo(s){if(s!==Ps)return!1;if(!at)return l0(s),at=!0,!1;var a=s.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||lh(s.type,s.memoizedProps)),o=!o),o&&zt&&mr(s),l0(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(o=s.data,o==="/$"){if(a===0){zt=Nn(s.nextSibling);break e}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;s=s.nextSibling}zt=null}}else a===27?(a=zt,Va(s.type)?(s=fh,fh=null,zt=s):zt=a):zt=Ps?Nn(s.stateNode.nextSibling):null;return!0}function ho(){zt=Ps=null,at=!1}function c0(){var s=hr;return s!==null&&(Vs===null?Vs=s:Vs.push.apply(Vs,s),hr=null),s}function mo(s){hr===null?hr=[s]:hr.push(s)}var Fd=D(null),pr=null,na=null;function Ca(s,a,o){J(Fd,a._currentValue),a._currentValue=o}function aa(s){s._currentValue=Fd.current,te(Fd)}function Id(s,a,o){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===o)break;s=s.return}}function Qd(s,a,o,u){var h=s.child;for(h!==null&&(h.return=s);h!==null;){var y=h.dependencies;if(y!==null){var j=h.child;y=y.firstContext;e:for(;y!==null;){var k=y;y=h;for(var L=0;L<a.length;L++)if(k.context===a[L]){y.lanes|=o,k=y.alternate,k!==null&&(k.lanes|=o),Id(y.return,o,s),u||(j=null);break e}y=k.next}}else if(h.tag===18){if(j=h.return,j===null)throw Error(r(341));j.lanes|=o,y=j.alternate,y!==null&&(y.lanes|=o),Id(j,o,s),j=null}else j=h.child;if(j!==null)j.return=h;else for(j=h;j!==null;){if(j===s){j=null;break}if(h=j.sibling,h!==null){h.return=j.return,j=h;break}j=j.return}h=j}}function po(s,a,o,u){s=null;for(var h=a,y=!1;h!==null;){if(!y){if((h.flags&524288)!==0)y=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var j=h.alternate;if(j===null)throw Error(r(387));if(j=j.memoizedProps,j!==null){var k=h.type;Xs(h.pendingProps.value,j.value)||(s!==null?s.push(k):s=[k])}}else if(h===Ce.current){if(j=h.alternate,j===null)throw Error(r(387));j.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(s!==null?s.push(Ho):s=[Ho])}h=h.return}s!==null&&Qd(a,s,o,u),a.flags|=262144}function uc(s){for(s=s.firstContext;s!==null;){if(!Xs(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function gr(s){pr=s,na=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Ns(s){return u0(pr,s)}function dc(s,a){return pr===null&&gr(s),u0(s,a)}function u0(s,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},na===null){if(s===null)throw Error(r(308));na=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else na=na.next=a;return o}var hN=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(o,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(o){return o()})}},mN=e.unstable_scheduleCallback,pN=e.unstable_NormalPriority,ts={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yd(){return{controller:new hN,data:new Map,refCount:0}}function go(s){s.refCount--,s.refCount===0&&mN(pN,function(){s.controller.abort()})}var yo=null,Xd=0,ti=0,si=null;function gN(s,a){if(yo===null){var o=yo=[];Xd=0,ti=Jf(),si={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Xd++,a.then(d0,d0),a}function d0(){if(--Xd===0&&yo!==null){si!==null&&(si.status="fulfilled");var s=yo;yo=null,ti=0,si=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function yN(s,a){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var h=0;h<o.length;h++)(0,o[h])(a)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var f0=G.S;G.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&gN(s,a),f0!==null&&f0(s,a)};var yr=D(null);function Wd(){var s=yr.current;return s!==null?s:wt.pooledCache}function fc(s,a){a===null?J(yr,yr.current):J(yr,a.pool)}function h0(){var s=Wd();return s===null?null:{parent:ts._currentValue,pool:s}}var vo=Error(r(460)),m0=Error(r(474)),hc=Error(r(542)),Zd={then:function(){}};function p0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function mc(){}function g0(s,a,o){switch(o=s[o],o===void 0?s.push(a):o!==a&&(a.then(mc,mc),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,v0(s),s;default:if(typeof a.status=="string")a.then(mc,mc);else{if(s=wt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var h=a;h.status="fulfilled",h.value=u}},function(u){if(a.status==="pending"){var h=a;h.status="rejected",h.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,v0(s),s}throw xo=a,vo}}var xo=null;function y0(){if(xo===null)throw Error(r(459));var s=xo;return xo=null,s}function v0(s){if(s===vo||s===hc)throw Error(r(483))}var Ta=!1;function Jd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ef(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Aa(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ea(s,a,o){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(lt&2)!==0){var h=u.pending;return h===null?a.next=a:(a.next=h.next,h.next=a),u.pending=a,a=ic(s),a0(s,null,o),a}return rc(s,u,a,o),ic(s)}function bo(s,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var u=a.lanes;u&=s.pendingLanes,o|=u,a.lanes=o,Qs(s,o)}}function tf(s,a){var o=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var j={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?h=y=j:y=y.next=j,o=o.next}while(o!==null);y===null?h=y=a:y=y.next=a}else h=y=a;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=a:s.next=a,o.lastBaseUpdate=a}var sf=!1;function wo(){if(sf){var s=si;if(s!==null)throw s}}function jo(s,a,o,u){sf=!1;var h=s.updateQueue;Ta=!1;var y=h.firstBaseUpdate,j=h.lastBaseUpdate,k=h.shared.pending;if(k!==null){h.shared.pending=null;var L=k,F=L.next;L.next=null,j===null?y=F:j.next=F,j=L;var ae=s.alternate;ae!==null&&(ae=ae.updateQueue,k=ae.lastBaseUpdate,k!==j&&(k===null?ae.firstBaseUpdate=F:k.next=F,ae.lastBaseUpdate=L))}if(y!==null){var le=h.baseState;j=0,ae=F=L=null,k=y;do{var Y=k.lane&-536870913,X=Y!==k.lane;if(X?(Ze&Y)===Y:(u&Y)===Y){Y!==0&&Y===ti&&(sf=!0),ae!==null&&(ae=ae.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Le=s,Me=k;Y=a;var mt=o;switch(Me.tag){case 1:if(Le=Me.payload,typeof Le=="function"){le=Le.call(mt,le,Y);break e}le=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Me.payload,Y=typeof Le=="function"?Le.call(mt,le,Y):Le,Y==null)break e;le=g({},le,Y);break e;case 2:Ta=!0}}Y=k.callback,Y!==null&&(s.flags|=64,X&&(s.flags|=8192),X=h.callbacks,X===null?h.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ae===null?(F=ae=X,L=le):ae=ae.next=X,j|=Y;if(k=k.next,k===null){if(k=h.shared.pending,k===null)break;X=k,k=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);ae===null&&(L=le),h.baseState=L,h.firstBaseUpdate=F,h.lastBaseUpdate=ae,y===null&&(h.shared.lanes=0),za|=j,s.lanes=j,s.memoizedState=le}}function x0(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function b0(s,a){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)x0(o[s],a)}var ni=D(null),pc=D(0);function w0(s,a){s=da,J(pc,s),J(ni,a),da=s|a.baseLanes}function nf(){J(pc,da),J(ni,ni.current)}function af(){da=pc.current,te(ni),te(pc)}var Ma=0,He=null,ft=null,Qt=null,gc=!1,ai=!1,vr=!1,yc=0,So=0,ri=null,vN=0;function Vt(){throw Error(r(321))}function rf(s,a){if(a===null)return!1;for(var o=0;o<a.length&&o<s.length;o++)if(!Xs(s[o],a[o]))return!1;return!0}function of(s,a,o,u,h,y){return Ma=y,He=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,G.H=s===null||s.memoizedState===null?ay:ry,vr=!1,y=o(u,h),vr=!1,ai&&(y=S0(a,o,u,h)),j0(s),y}function j0(s){G.H=Sc;var a=ft!==null&&ft.next!==null;if(Ma=0,Qt=ft=He=null,gc=!1,So=0,ri=null,a)throw Error(r(300));s===null||ls||(s=s.dependencies,s!==null&&uc(s)&&(ls=!0))}function S0(s,a,o,u){He=s;var h=0;do{if(ai&&(ri=null),So=0,ai=!1,25<=h)throw Error(r(301));if(h+=1,Qt=ft=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}G.H=kN,y=a(o,u)}while(ai);return y}function xN(){var s=G.H,a=s.useState()[0];return a=typeof a.then=="function"?No(a):a,s=s.useState()[0],(ft!==null?ft.memoizedState:null)!==s&&(He.flags|=1024),a}function lf(){var s=yc!==0;return yc=0,s}function cf(s,a,o){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~o}function uf(s){if(gc){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}gc=!1}Ma=0,Qt=ft=He=null,ai=!1,So=yc=0,ri=null}function qs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?He.memoizedState=Qt=s:Qt=Qt.next=s,Qt}function Yt(){if(ft===null){var s=He.alternate;s=s!==null?s.memoizedState:null}else s=ft.next;var a=Qt===null?He.memoizedState:Qt.next;if(a!==null)Qt=a,ft=s;else{if(s===null)throw He.alternate===null?Error(r(467)):Error(r(310));ft=s,s={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Qt===null?He.memoizedState=Qt=s:Qt=Qt.next=s}return Qt}function df(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function No(s){var a=So;return So+=1,ri===null&&(ri=[]),s=g0(ri,s,a),a=He,(Qt===null?a.memoizedState:Qt.next)===null&&(a=a.alternate,G.H=a===null||a.memoizedState===null?ay:ry),s}function vc(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return No(s);if(s.$$typeof===E)return Ns(s)}throw Error(r(438,String(s)))}function ff(s){var a=null,o=He.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var u=He.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(h){return h.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=df(),He.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(s),u=0;u<s;u++)o[u]=U;return a.index++,o}function ra(s,a){return typeof a=="function"?a(s):a}function xc(s){var a=Yt();return hf(a,ft,s)}function hf(s,a,o){var u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var h=s.baseQueue,y=u.pending;if(y!==null){if(h!==null){var j=h.next;h.next=y.next,y.next=j}a.baseQueue=h=y,u.pending=null}if(y=s.baseState,h===null)s.memoizedState=y;else{a=h.next;var k=j=null,L=null,F=a,ae=!1;do{var le=F.lane&-536870913;if(le!==F.lane?(Ze&le)===le:(Ma&le)===le){var Y=F.revertLane;if(Y===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),le===ti&&(ae=!0);else if((Ma&Y)===Y){F=F.next,Y===ti&&(ae=!0);continue}else le={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},L===null?(k=L=le,j=y):L=L.next=le,He.lanes|=Y,za|=Y;le=F.action,vr&&o(y,le),y=F.hasEagerState?F.eagerState:o(y,le)}else Y={lane:le,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},L===null?(k=L=Y,j=y):L=L.next=Y,He.lanes|=le,za|=le;F=F.next}while(F!==null&&F!==a);if(L===null?j=y:L.next=k,!Xs(y,s.memoizedState)&&(ls=!0,ae&&(o=si,o!==null)))throw o;s.memoizedState=y,s.baseState=j,s.baseQueue=L,u.lastRenderedState=y}return h===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function mf(s){var a=Yt(),o=a.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var u=o.dispatch,h=o.pending,y=a.memoizedState;if(h!==null){o.pending=null;var j=h=h.next;do y=s(y,j.action),j=j.next;while(j!==h);Xs(y,a.memoizedState)||(ls=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),o.lastRenderedState=y}return[y,u]}function N0(s,a,o){var u=He,h=Yt(),y=at;if(y){if(o===void 0)throw Error(r(407));o=o()}else o=a();var j=!Xs((ft||h).memoizedState,o);j&&(h.memoizedState=o,ls=!0),h=h.queue;var k=T0.bind(null,u,h,s);if(ko(2048,8,k,[s]),h.getSnapshot!==a||j||Qt!==null&&Qt.memoizedState.tag&1){if(u.flags|=2048,ii(9,bc(),C0.bind(null,u,h,o,a),null),wt===null)throw Error(r(349));y||(Ma&124)!==0||k0(u,a,o)}return o}function k0(s,a,o){s.flags|=16384,s={getSnapshot:a,value:o},a=He.updateQueue,a===null?(a=df(),He.updateQueue=a,a.stores=[s]):(o=a.stores,o===null?a.stores=[s]:o.push(s))}function C0(s,a,o,u){a.value=o,a.getSnapshot=u,A0(a)&&E0(s)}function T0(s,a,o){return o(function(){A0(a)&&E0(s)})}function A0(s){var a=s.getSnapshot;s=s.value;try{var o=a();return!Xs(s,o)}catch{return!0}}function E0(s){var a=Wr(s,2);a!==null&&sn(a,s,2)}function pf(s){var a=qs();if(typeof s=="function"){var o=s;if(s=o(),vr){xt(!0);try{o()}finally{xt(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:s},a}function M0(s,a,o,u){return s.baseState=o,hf(s,ft,typeof u=="function"?u:ra)}function bN(s,a,o,u,h){if(jc(s))throw Error(r(485));if(s=a.action,s!==null){var y={payload:h,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){y.listeners.push(j)}};G.T!==null?o(!0):y.isTransition=!1,u(y),o=a.pending,o===null?(y.next=a.pending=y,R0(a,y)):(y.next=o.next,a.pending=o.next=y)}}function R0(s,a){var o=a.action,u=a.payload,h=s.state;if(a.isTransition){var y=G.T,j={};G.T=j;try{var k=o(h,u),L=G.S;L!==null&&L(j,k),P0(s,a,k)}catch(F){gf(s,a,F)}finally{G.T=y}}else try{y=o(h,u),P0(s,a,y)}catch(F){gf(s,a,F)}}function P0(s,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){L0(s,a,u)},function(u){return gf(s,a,u)}):L0(s,a,o)}function L0(s,a,o){a.status="fulfilled",a.value=o,_0(a),s.state=o,a=s.pending,a!==null&&(o=a.next,o===a?s.pending=null:(o=o.next,a.next=o,R0(s,o)))}function gf(s,a,o){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=o,_0(a),a=a.next;while(a!==u)}s.action=null}function _0(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function D0(s,a){return a}function O0(s,a){if(at){var o=wt.formState;if(o!==null){e:{var u=He;if(at){if(zt){t:{for(var h=zt,y=zn;h.nodeType!==8;){if(!y){h=null;break t}if(h=Nn(h.nextSibling),h===null){h=null;break t}}y=h.data,h=y==="F!"||y==="F"?h:null}if(h){zt=Nn(h.nextSibling),u=h.data==="F!";break e}}mr(u)}u=!1}u&&(a=o[0])}}return o=qs(),o.memoizedState=o.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:D0,lastRenderedState:a},o.queue=u,o=ty.bind(null,He,u),u.dispatch=o,u=pf(!1),y=wf.bind(null,He,!1,u.queue),u=qs(),h={state:a,dispatch:null,action:s,pending:null},u.queue=h,o=bN.bind(null,He,h,y,o),h.dispatch=o,u.memoizedState=s,[a,o,!1]}function z0(s){var a=Yt();return B0(a,ft,s)}function B0(s,a,o){if(a=hf(s,a,D0)[0],s=xc(ra)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=No(a)}catch(j){throw j===vo?hc:j}else u=a;a=Yt();var h=a.queue,y=h.dispatch;return o!==a.memoizedState&&(He.flags|=2048,ii(9,bc(),wN.bind(null,h,o),null)),[u,y,s]}function wN(s,a){s.action=a}function q0(s){var a=Yt(),o=ft;if(o!==null)return B0(a,o,s);Yt(),a=a.memoizedState,o=Yt();var u=o.queue.dispatch;return o.memoizedState=s,[a,u,!1]}function ii(s,a,o,u){return s={tag:s,create:o,deps:u,inst:a,next:null},a=He.updateQueue,a===null&&(a=df(),He.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=s.next=s:(u=o.next,o.next=s,s.next=u,a.lastEffect=s),s}function bc(){return{destroy:void 0,resource:void 0}}function U0(){return Yt().memoizedState}function wc(s,a,o,u){var h=qs();u=u===void 0?null:u,He.flags|=s,h.memoizedState=ii(1|a,bc(),o,u)}function ko(s,a,o,u){var h=Yt();u=u===void 0?null:u;var y=h.memoizedState.inst;ft!==null&&u!==null&&rf(u,ft.memoizedState.deps)?h.memoizedState=ii(a,y,o,u):(He.flags|=s,h.memoizedState=ii(1|a,y,o,u))}function V0(s,a){wc(8390656,8,s,a)}function $0(s,a){ko(2048,8,s,a)}function G0(s,a){return ko(4,2,s,a)}function H0(s,a){return ko(4,4,s,a)}function K0(s,a){if(typeof a=="function"){s=s();var o=a(s);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function F0(s,a,o){o=o!=null?o.concat([s]):null,ko(4,4,K0.bind(null,a,s),o)}function yf(){}function I0(s,a){var o=Yt();a=a===void 0?null:a;var u=o.memoizedState;return a!==null&&rf(a,u[1])?u[0]:(o.memoizedState=[s,a],s)}function Q0(s,a){var o=Yt();a=a===void 0?null:a;var u=o.memoizedState;if(a!==null&&rf(a,u[1]))return u[0];if(u=s(),vr){xt(!0);try{s()}finally{xt(!1)}}return o.memoizedState=[u,a],u}function vf(s,a,o){return o===void 0||(Ma&1073741824)!==0?s.memoizedState=a:(s.memoizedState=o,s=Wy(),He.lanes|=s,za|=s,o)}function Y0(s,a,o,u){return Xs(o,a)?o:ni.current!==null?(s=vf(s,o,u),Xs(s,a)||(ls=!0),s):(Ma&42)===0?(ls=!0,s.memoizedState=o):(s=Wy(),He.lanes|=s,za|=s,a)}function X0(s,a,o,u,h){var y=I.p;I.p=y!==0&&8>y?y:8;var j=G.T,k={};G.T=k,wf(s,!1,a,o);try{var L=h(),F=G.S;if(F!==null&&F(k,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ae=yN(L,u);Co(s,a,ae,tn(s))}else Co(s,a,u,tn(s))}catch(le){Co(s,a,{then:function(){},status:"rejected",reason:le},tn())}finally{I.p=y,G.T=j}}function jN(){}function xf(s,a,o,u){if(s.tag!==5)throw Error(r(476));var h=W0(s).queue;X0(s,h,a,B,o===null?jN:function(){return Z0(s),o(u)})}function W0(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:B},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:o},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function Z0(s){var a=W0(s).next.queue;Co(s,a,{},tn())}function bf(){return Ns(Ho)}function J0(){return Yt().memoizedState}function ey(){return Yt().memoizedState}function SN(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var o=tn();s=Aa(o);var u=Ea(a,s,o);u!==null&&(sn(u,a,o),bo(u,a,o)),a={cache:Yd()},s.payload=a;return}a=a.return}}function NN(s,a,o){var u=tn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},jc(s)?sy(a,o):(o=qd(s,a,o,u),o!==null&&(sn(o,s,u),ny(o,a,u)))}function ty(s,a,o){var u=tn();Co(s,a,o,u)}function Co(s,a,o,u){var h={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(jc(s))sy(a,h);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var j=a.lastRenderedState,k=y(j,o);if(h.hasEagerState=!0,h.eagerState=k,Xs(k,j))return rc(s,a,h,0),wt===null&&ac(),!1}catch{}finally{}if(o=qd(s,a,h,u),o!==null)return sn(o,s,u),ny(o,a,u),!0}return!1}function wf(s,a,o,u){if(u={lane:2,revertLane:Jf(),action:u,hasEagerState:!1,eagerState:null,next:null},jc(s)){if(a)throw Error(r(479))}else a=qd(s,o,u,2),a!==null&&sn(a,s,2)}function jc(s){var a=s.alternate;return s===He||a!==null&&a===He}function sy(s,a){ai=gc=!0;var o=s.pending;o===null?a.next=a:(a.next=o.next,o.next=a),s.pending=a}function ny(s,a,o){if((o&4194048)!==0){var u=a.lanes;u&=s.pendingLanes,o|=u,a.lanes=o,Qs(s,o)}}var Sc={readContext:Ns,use:vc,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt},ay={readContext:Ns,use:vc,useCallback:function(s,a){return qs().memoizedState=[s,a===void 0?null:a],s},useContext:Ns,useEffect:V0,useImperativeHandle:function(s,a,o){o=o!=null?o.concat([s]):null,wc(4194308,4,K0.bind(null,a,s),o)},useLayoutEffect:function(s,a){return wc(4194308,4,s,a)},useInsertionEffect:function(s,a){wc(4,2,s,a)},useMemo:function(s,a){var o=qs();a=a===void 0?null:a;var u=s();if(vr){xt(!0);try{s()}finally{xt(!1)}}return o.memoizedState=[u,a],u},useReducer:function(s,a,o){var u=qs();if(o!==void 0){var h=o(a);if(vr){xt(!0);try{o(a)}finally{xt(!1)}}}else h=a;return u.memoizedState=u.baseState=h,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:h},u.queue=s,s=s.dispatch=NN.bind(null,He,s),[u.memoizedState,s]},useRef:function(s){var a=qs();return s={current:s},a.memoizedState=s},useState:function(s){s=pf(s);var a=s.queue,o=ty.bind(null,He,a);return a.dispatch=o,[s.memoizedState,o]},useDebugValue:yf,useDeferredValue:function(s,a){var o=qs();return vf(o,s,a)},useTransition:function(){var s=pf(!1);return s=X0.bind(null,He,s.queue,!0,!1),qs().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,o){var u=He,h=qs();if(at){if(o===void 0)throw Error(r(407));o=o()}else{if(o=a(),wt===null)throw Error(r(349));(Ze&124)!==0||k0(u,a,o)}h.memoizedState=o;var y={value:o,getSnapshot:a};return h.queue=y,V0(T0.bind(null,u,y,s),[s]),u.flags|=2048,ii(9,bc(),C0.bind(null,u,y,o,a),null),o},useId:function(){var s=qs(),a=wt.identifierPrefix;if(at){var o=sa,u=ta;o=(u&~(1<<32-pt(u)-1)).toString(32)+o,a="«"+a+"R"+o,o=yc++,0<o&&(a+="H"+o.toString(32)),a+="»"}else o=vN++,a="«"+a+"r"+o.toString(32)+"»";return s.memoizedState=a},useHostTransitionStatus:bf,useFormState:O0,useActionState:O0,useOptimistic:function(s){var a=qs();a.memoizedState=a.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=wf.bind(null,He,!0,o),o.dispatch=a,[s,a]},useMemoCache:ff,useCacheRefresh:function(){return qs().memoizedState=SN.bind(null,He)}},ry={readContext:Ns,use:vc,useCallback:I0,useContext:Ns,useEffect:$0,useImperativeHandle:F0,useInsertionEffect:G0,useLayoutEffect:H0,useMemo:Q0,useReducer:xc,useRef:U0,useState:function(){return xc(ra)},useDebugValue:yf,useDeferredValue:function(s,a){var o=Yt();return Y0(o,ft.memoizedState,s,a)},useTransition:function(){var s=xc(ra)[0],a=Yt().memoizedState;return[typeof s=="boolean"?s:No(s),a]},useSyncExternalStore:N0,useId:J0,useHostTransitionStatus:bf,useFormState:z0,useActionState:z0,useOptimistic:function(s,a){var o=Yt();return M0(o,ft,s,a)},useMemoCache:ff,useCacheRefresh:ey},kN={readContext:Ns,use:vc,useCallback:I0,useContext:Ns,useEffect:$0,useImperativeHandle:F0,useInsertionEffect:G0,useLayoutEffect:H0,useMemo:Q0,useReducer:mf,useRef:U0,useState:function(){return mf(ra)},useDebugValue:yf,useDeferredValue:function(s,a){var o=Yt();return ft===null?vf(o,s,a):Y0(o,ft.memoizedState,s,a)},useTransition:function(){var s=mf(ra)[0],a=Yt().memoizedState;return[typeof s=="boolean"?s:No(s),a]},useSyncExternalStore:N0,useId:J0,useHostTransitionStatus:bf,useFormState:q0,useActionState:q0,useOptimistic:function(s,a){var o=Yt();return ft!==null?M0(o,ft,s,a):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:ff,useCacheRefresh:ey},oi=null,To=0;function Nc(s){var a=To;return To+=1,oi===null&&(oi=[]),g0(oi,s,a)}function Ao(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function kc(s,a){throw a.$$typeof===v?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function iy(s){var a=s._init;return a(s._payload)}function oy(s){function a($,V){if(s){var K=$.deletions;K===null?($.deletions=[V],$.flags|=16):K.push(V)}}function o($,V){if(!s)return null;for(;V!==null;)a($,V),V=V.sibling;return null}function u($){for(var V=new Map;$!==null;)$.key!==null?V.set($.key,$):V.set($.index,$),$=$.sibling;return V}function h($,V){return $=ea($,V),$.index=0,$.sibling=null,$}function y($,V,K){return $.index=K,s?(K=$.alternate,K!==null?(K=K.index,K<V?($.flags|=67108866,V):K):($.flags|=67108866,V)):($.flags|=1048576,V)}function j($){return s&&$.alternate===null&&($.flags|=67108866),$}function k($,V,K,oe){return V===null||V.tag!==6?(V=Vd(K,$.mode,oe),V.return=$,V):(V=h(V,K),V.return=$,V)}function L($,V,K,oe){var be=K.type;return be===S?ae($,V,K.props.children,oe,K.key):V!==null&&(V.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===P&&iy(be)===V.type)?(V=h(V,K.props),Ao(V,K),V.return=$,V):(V=oc(K.type,K.key,K.props,null,$.mode,oe),Ao(V,K),V.return=$,V)}function F($,V,K,oe){return V===null||V.tag!==4||V.stateNode.containerInfo!==K.containerInfo||V.stateNode.implementation!==K.implementation?(V=$d(K,$.mode,oe),V.return=$,V):(V=h(V,K.children||[]),V.return=$,V)}function ae($,V,K,oe,be){return V===null||V.tag!==7?(V=ur(K,$.mode,oe,be),V.return=$,V):(V=h(V,K),V.return=$,V)}function le($,V,K){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Vd(""+V,$.mode,K),V.return=$,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case b:return K=oc(V.type,V.key,V.props,null,$.mode,K),Ao(K,V),K.return=$,K;case w:return V=$d(V,$.mode,K),V.return=$,V;case P:var oe=V._init;return V=oe(V._payload),le($,V,K)}if(ye(V)||re(V))return V=ur(V,$.mode,K,null),V.return=$,V;if(typeof V.then=="function")return le($,Nc(V),K);if(V.$$typeof===E)return le($,dc($,V),K);kc($,V)}return null}function Y($,V,K,oe){var be=V!==null?V.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return be!==null?null:k($,V,""+K,oe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return K.key===be?L($,V,K,oe):null;case w:return K.key===be?F($,V,K,oe):null;case P:return be=K._init,K=be(K._payload),Y($,V,K,oe)}if(ye(K)||re(K))return be!==null?null:ae($,V,K,oe,null);if(typeof K.then=="function")return Y($,V,Nc(K),oe);if(K.$$typeof===E)return Y($,V,dc($,K),oe);kc($,K)}return null}function X($,V,K,oe,be){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return $=$.get(K)||null,k(V,$,""+oe,be);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case b:return $=$.get(oe.key===null?K:oe.key)||null,L(V,$,oe,be);case w:return $=$.get(oe.key===null?K:oe.key)||null,F(V,$,oe,be);case P:var Fe=oe._init;return oe=Fe(oe._payload),X($,V,K,oe,be)}if(ye(oe)||re(oe))return $=$.get(K)||null,ae(V,$,oe,be,null);if(typeof oe.then=="function")return X($,V,K,Nc(oe),be);if(oe.$$typeof===E)return X($,V,K,dc(V,oe),be);kc(V,oe)}return null}function Le($,V,K,oe){for(var be=null,Fe=null,Ne=V,Pe=V=0,us=null;Ne!==null&&Pe<K.length;Pe++){Ne.index>Pe?(us=Ne,Ne=null):us=Ne.sibling;var tt=Y($,Ne,K[Pe],oe);if(tt===null){Ne===null&&(Ne=us);break}s&&Ne&&tt.alternate===null&&a($,Ne),V=y(tt,V,Pe),Fe===null?be=tt:Fe.sibling=tt,Fe=tt,Ne=us}if(Pe===K.length)return o($,Ne),at&&fr($,Pe),be;if(Ne===null){for(;Pe<K.length;Pe++)Ne=le($,K[Pe],oe),Ne!==null&&(V=y(Ne,V,Pe),Fe===null?be=Ne:Fe.sibling=Ne,Fe=Ne);return at&&fr($,Pe),be}for(Ne=u(Ne);Pe<K.length;Pe++)us=X(Ne,$,Pe,K[Pe],oe),us!==null&&(s&&us.alternate!==null&&Ne.delete(us.key===null?Pe:us.key),V=y(us,V,Pe),Fe===null?be=us:Fe.sibling=us,Fe=us);return s&&Ne.forEach(function(Fa){return a($,Fa)}),at&&fr($,Pe),be}function Me($,V,K,oe){if(K==null)throw Error(r(151));for(var be=null,Fe=null,Ne=V,Pe=V=0,us=null,tt=K.next();Ne!==null&&!tt.done;Pe++,tt=K.next()){Ne.index>Pe?(us=Ne,Ne=null):us=Ne.sibling;var Fa=Y($,Ne,tt.value,oe);if(Fa===null){Ne===null&&(Ne=us);break}s&&Ne&&Fa.alternate===null&&a($,Ne),V=y(Fa,V,Pe),Fe===null?be=Fa:Fe.sibling=Fa,Fe=Fa,Ne=us}if(tt.done)return o($,Ne),at&&fr($,Pe),be;if(Ne===null){for(;!tt.done;Pe++,tt=K.next())tt=le($,tt.value,oe),tt!==null&&(V=y(tt,V,Pe),Fe===null?be=tt:Fe.sibling=tt,Fe=tt);return at&&fr($,Pe),be}for(Ne=u(Ne);!tt.done;Pe++,tt=K.next())tt=X(Ne,$,Pe,tt.value,oe),tt!==null&&(s&&tt.alternate!==null&&Ne.delete(tt.key===null?Pe:tt.key),V=y(tt,V,Pe),Fe===null?be=tt:Fe.sibling=tt,Fe=tt);return s&&Ne.forEach(function(Ck){return a($,Ck)}),at&&fr($,Pe),be}function mt($,V,K,oe){if(typeof K=="object"&&K!==null&&K.type===S&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case b:e:{for(var be=K.key;V!==null;){if(V.key===be){if(be=K.type,be===S){if(V.tag===7){o($,V.sibling),oe=h(V,K.props.children),oe.return=$,$=oe;break e}}else if(V.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===P&&iy(be)===V.type){o($,V.sibling),oe=h(V,K.props),Ao(oe,K),oe.return=$,$=oe;break e}o($,V);break}else a($,V);V=V.sibling}K.type===S?(oe=ur(K.props.children,$.mode,oe,K.key),oe.return=$,$=oe):(oe=oc(K.type,K.key,K.props,null,$.mode,oe),Ao(oe,K),oe.return=$,$=oe)}return j($);case w:e:{for(be=K.key;V!==null;){if(V.key===be)if(V.tag===4&&V.stateNode.containerInfo===K.containerInfo&&V.stateNode.implementation===K.implementation){o($,V.sibling),oe=h(V,K.children||[]),oe.return=$,$=oe;break e}else{o($,V);break}else a($,V);V=V.sibling}oe=$d(K,$.mode,oe),oe.return=$,$=oe}return j($);case P:return be=K._init,K=be(K._payload),mt($,V,K,oe)}if(ye(K))return Le($,V,K,oe);if(re(K)){if(be=re(K),typeof be!="function")throw Error(r(150));return K=be.call(K),Me($,V,K,oe)}if(typeof K.then=="function")return mt($,V,Nc(K),oe);if(K.$$typeof===E)return mt($,V,dc($,K),oe);kc($,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,V!==null&&V.tag===6?(o($,V.sibling),oe=h(V,K),oe.return=$,$=oe):(o($,V),oe=Vd(K,$.mode,oe),oe.return=$,$=oe),j($)):o($,V)}return function($,V,K,oe){try{To=0;var be=mt($,V,K,oe);return oi=null,be}catch(Ne){if(Ne===vo||Ne===hc)throw Ne;var Fe=Ws(29,Ne,null,$.mode);return Fe.lanes=oe,Fe.return=$,Fe}finally{}}}var li=oy(!0),ly=oy(!1),hn=D(null),Bn=null;function Ra(s){var a=s.alternate;J(ss,ss.current&1),J(hn,s),Bn===null&&(a===null||ni.current!==null||a.memoizedState!==null)&&(Bn=s)}function cy(s){if(s.tag===22){if(J(ss,ss.current),J(hn,s),Bn===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Bn=s)}}else Pa()}function Pa(){J(ss,ss.current),J(hn,hn.current)}function ia(s){te(hn),Bn===s&&(Bn=null),te(ss)}var ss=D(0);function Cc(s){for(var a=s;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||dh(o)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function jf(s,a,o,u){a=s.memoizedState,o=o(u,a),o=o==null?a:g({},a,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var Sf={enqueueSetState:function(s,a,o){s=s._reactInternals;var u=tn(),h=Aa(u);h.payload=a,o!=null&&(h.callback=o),a=Ea(s,h,u),a!==null&&(sn(a,s,u),bo(a,s,u))},enqueueReplaceState:function(s,a,o){s=s._reactInternals;var u=tn(),h=Aa(u);h.tag=1,h.payload=a,o!=null&&(h.callback=o),a=Ea(s,h,u),a!==null&&(sn(a,s,u),bo(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var o=tn(),u=Aa(o);u.tag=2,a!=null&&(u.callback=a),a=Ea(s,u,o),a!==null&&(sn(a,s,o),bo(a,s,o))}};function uy(s,a,o,u,h,y,j){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,y,j):a.prototype&&a.prototype.isPureReactComponent?!co(o,u)||!co(h,y):!0}function dy(s,a,o,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,u),a.state!==s&&Sf.enqueueReplaceState(a,a.state,null)}function xr(s,a){var o=a;if("ref"in a){o={};for(var u in a)u!=="ref"&&(o[u]=a[u])}if(s=s.defaultProps){o===a&&(o=g({},o));for(var h in s)o[h]===void 0&&(o[h]=s[h])}return o}var Tc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function fy(s){Tc(s)}function hy(s){console.error(s)}function my(s){Tc(s)}function Ac(s,a){try{var o=s.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function py(s,a,o){try{var u=s.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nf(s,a,o){return o=Aa(o),o.tag=3,o.payload={element:null},o.callback=function(){Ac(s,a)},o}function gy(s){return s=Aa(s),s.tag=3,s}function yy(s,a,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var y=u.value;s.payload=function(){return h(y)},s.callback=function(){py(a,o,u)}}var j=o.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(s.callback=function(){py(a,o,u),typeof h!="function"&&(Ba===null?Ba=new Set([this]):Ba.add(this));var k=u.stack;this.componentDidCatch(u.value,{componentStack:k!==null?k:""})})}function CN(s,a,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=o.alternate,a!==null&&po(a,o,h,!0),o=hn.current,o!==null){switch(o.tag){case 13:return Bn===null?Qf():o.alternate===null&&Bt===0&&(Bt=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===Zd?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([u]):a.add(u),Xf(s,u,h)),!1;case 22:return o.flags|=65536,u===Zd?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([u]):o.add(u)),Xf(s,u,h)),!1}throw Error(r(435,o.tag))}return Xf(s,u,h),Qf(),!1}if(at)return a=hn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=h,u!==Kd&&(s=Error(r(422),{cause:u}),mo(cn(s,o)))):(u!==Kd&&(a=Error(r(423),{cause:u}),mo(cn(a,o))),s=s.current.alternate,s.flags|=65536,h&=-h,s.lanes|=h,u=cn(u,o),h=Nf(s.stateNode,u,h),tf(s,h),Bt!==4&&(Bt=2)),!1;var y=Error(r(520),{cause:u});if(y=cn(y,o),Do===null?Do=[y]:Do.push(y),Bt!==4&&(Bt=2),a===null)return!0;u=cn(u,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,s=h&-h,o.lanes|=s,s=Nf(o.stateNode,u,s),tf(o,s),!1;case 1:if(a=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ba===null||!Ba.has(y))))return o.flags|=65536,h&=-h,o.lanes|=h,h=gy(h),yy(h,s,o,u),tf(o,h),!1}o=o.return}while(o!==null);return!1}var vy=Error(r(461)),ls=!1;function ys(s,a,o,u){a.child=s===null?ly(a,null,o,u):li(a,s.child,o,u)}function xy(s,a,o,u,h){o=o.render;var y=a.ref;if("ref"in u){var j={};for(var k in u)k!=="ref"&&(j[k]=u[k])}else j=u;return gr(a),u=of(s,a,o,j,y,h),k=lf(),s!==null&&!ls?(cf(s,a,h),oa(s,a,h)):(at&&k&&Gd(a),a.flags|=1,ys(s,a,u,h),a.child)}function by(s,a,o,u,h){if(s===null){var y=o.type;return typeof y=="function"&&!Ud(y)&&y.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=y,wy(s,a,y,u,h)):(s=oc(o.type,null,u,a,a.mode,h),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!Pf(s,h)){var j=y.memoizedProps;if(o=o.compare,o=o!==null?o:co,o(j,u)&&s.ref===a.ref)return oa(s,a,h)}return a.flags|=1,s=ea(y,u),s.ref=a.ref,s.return=a,a.child=s}function wy(s,a,o,u,h){if(s!==null){var y=s.memoizedProps;if(co(y,u)&&s.ref===a.ref)if(ls=!1,a.pendingProps=u=y,Pf(s,h))(s.flags&131072)!==0&&(ls=!0);else return a.lanes=s.lanes,oa(s,a,h)}return kf(s,a,o,u,h)}function jy(s,a,o){var u=a.pendingProps,h=u.children,y=s!==null?s.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=y!==null?y.baseLanes|o:o,s!==null){for(h=a.child=s.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;a.childLanes=y&~u}else a.childLanes=0,a.child=null;return Sy(s,a,u,o)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&fc(a,y!==null?y.cachePool:null),y!==null?w0(a,y):nf(),cy(a);else return a.lanes=a.childLanes=536870912,Sy(s,a,y!==null?y.baseLanes|o:o,o)}else y!==null?(fc(a,y.cachePool),w0(a,y),Pa(),a.memoizedState=null):(s!==null&&fc(a,null),nf(),Pa());return ys(s,a,h,o),a.child}function Sy(s,a,o,u){var h=Wd();return h=h===null?null:{parent:ts._currentValue,pool:h},a.memoizedState={baseLanes:o,cachePool:h},s!==null&&fc(a,null),nf(),cy(a),s!==null&&po(s,a,u,!0),null}function Ec(s,a){var o=a.ref;if(o===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(s===null||s.ref!==o)&&(a.flags|=4194816)}}function kf(s,a,o,u,h){return gr(a),o=of(s,a,o,u,void 0,h),u=lf(),s!==null&&!ls?(cf(s,a,h),oa(s,a,h)):(at&&u&&Gd(a),a.flags|=1,ys(s,a,o,h),a.child)}function Ny(s,a,o,u,h,y){return gr(a),a.updateQueue=null,o=S0(a,u,o,h),j0(s),u=lf(),s!==null&&!ls?(cf(s,a,y),oa(s,a,y)):(at&&u&&Gd(a),a.flags|=1,ys(s,a,o,y),a.child)}function ky(s,a,o,u,h){if(gr(a),a.stateNode===null){var y=Zr,j=o.contextType;typeof j=="object"&&j!==null&&(y=Ns(j)),y=new o(u,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Sf,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=u,y.state=a.memoizedState,y.refs={},Jd(a),j=o.contextType,y.context=typeof j=="object"&&j!==null?Ns(j):Zr,y.state=a.memoizedState,j=o.getDerivedStateFromProps,typeof j=="function"&&(jf(a,o,j,u),y.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(j=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),j!==y.state&&Sf.enqueueReplaceState(y,y.state,null),jo(a,u,y,h),wo(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){y=a.stateNode;var k=a.memoizedProps,L=xr(o,k);y.props=L;var F=y.context,ae=o.contextType;j=Zr,typeof ae=="object"&&ae!==null&&(j=Ns(ae));var le=o.getDerivedStateFromProps;ae=typeof le=="function"||typeof y.getSnapshotBeforeUpdate=="function",k=a.pendingProps!==k,ae||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k||F!==j)&&dy(a,y,u,j),Ta=!1;var Y=a.memoizedState;y.state=Y,jo(a,u,y,h),wo(),F=a.memoizedState,k||Y!==F||Ta?(typeof le=="function"&&(jf(a,o,le,u),F=a.memoizedState),(L=Ta||uy(a,o,L,u,Y,F,j))?(ae||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=F),y.props=u,y.state=F,y.context=j,u=L):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{y=a.stateNode,ef(s,a),j=a.memoizedProps,ae=xr(o,j),y.props=ae,le=a.pendingProps,Y=y.context,F=o.contextType,L=Zr,typeof F=="object"&&F!==null&&(L=Ns(F)),k=o.getDerivedStateFromProps,(F=typeof k=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(j!==le||Y!==L)&&dy(a,y,u,L),Ta=!1,Y=a.memoizedState,y.state=Y,jo(a,u,y,h),wo();var X=a.memoizedState;j!==le||Y!==X||Ta||s!==null&&s.dependencies!==null&&uc(s.dependencies)?(typeof k=="function"&&(jf(a,o,k,u),X=a.memoizedState),(ae=Ta||uy(a,o,ae,u,Y,X,L)||s!==null&&s.dependencies!==null&&uc(s.dependencies))?(F||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,X,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,X,L)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||j===s.memoizedProps&&Y===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&Y===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=X),y.props=u,y.state=X,y.context=L,u=ae):(typeof y.componentDidUpdate!="function"||j===s.memoizedProps&&Y===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&Y===s.memoizedState||(a.flags|=1024),u=!1)}return y=u,Ec(s,a),u=(a.flags&128)!==0,y||u?(y=a.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&u?(a.child=li(a,s.child,null,h),a.child=li(a,null,o,h)):ys(s,a,o,h),a.memoizedState=y.state,s=a.child):s=oa(s,a,h),s}function Cy(s,a,o,u){return ho(),a.flags|=256,ys(s,a,o,u),a.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tf(s){return{baseLanes:s,cachePool:h0()}}function Af(s,a,o){return s=s!==null?s.childLanes&~o:0,a&&(s|=mn),s}function Ty(s,a,o){var u=a.pendingProps,h=!1,y=(a.flags&128)!==0,j;if((j=y)||(j=s!==null&&s.memoizedState===null?!1:(ss.current&2)!==0),j&&(h=!0,a.flags&=-129),j=(a.flags&32)!==0,a.flags&=-33,s===null){if(at){if(h?Ra(a):Pa(),at){var k=zt,L;if(L=k){e:{for(L=k,k=zn;L.nodeType!==8;){if(!k){k=null;break e}if(L=Nn(L.nextSibling),L===null){k=null;break e}}k=L}k!==null?(a.memoizedState={dehydrated:k,treeContext:dr!==null?{id:ta,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},L=Ws(18,null,null,0),L.stateNode=k,L.return=a,a.child=L,Ps=a,zt=null,L=!0):L=!1}L||mr(a)}if(k=a.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return dh(k)?a.lanes=32:a.lanes=536870912,null;ia(a)}return k=u.children,u=u.fallback,h?(Pa(),h=a.mode,k=Mc({mode:"hidden",children:k},h),u=ur(u,h,o,null),k.return=a,u.return=a,k.sibling=u,a.child=k,h=a.child,h.memoizedState=Tf(o),h.childLanes=Af(s,j,o),a.memoizedState=Cf,u):(Ra(a),Ef(a,k))}if(L=s.memoizedState,L!==null&&(k=L.dehydrated,k!==null)){if(y)a.flags&256?(Ra(a),a.flags&=-257,a=Mf(s,a,o)):a.memoizedState!==null?(Pa(),a.child=s.child,a.flags|=128,a=null):(Pa(),h=u.fallback,k=a.mode,u=Mc({mode:"visible",children:u.children},k),h=ur(h,k,o,null),h.flags|=2,u.return=a,h.return=a,u.sibling=h,a.child=u,li(a,s.child,null,o),u=a.child,u.memoizedState=Tf(o),u.childLanes=Af(s,j,o),a.memoizedState=Cf,a=h);else if(Ra(a),dh(k)){if(j=k.nextSibling&&k.nextSibling.dataset,j)var F=j.dgst;j=F,u=Error(r(419)),u.stack="",u.digest=j,mo({value:u,source:null,stack:null}),a=Mf(s,a,o)}else if(ls||po(s,a,o,!1),j=(o&s.childLanes)!==0,ls||j){if(j=wt,j!==null&&(u=o&-o,u=(u&42)!==0?1:os(u),u=(u&(j.suspendedLanes|o))!==0?0:u,u!==0&&u!==L.retryLane))throw L.retryLane=u,Wr(s,u),sn(j,s,u),vy;k.data==="$?"||Qf(),a=Mf(s,a,o)}else k.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=L.treeContext,zt=Nn(k.nextSibling),Ps=a,at=!0,hr=null,zn=!1,s!==null&&(dn[fn++]=ta,dn[fn++]=sa,dn[fn++]=dr,ta=s.id,sa=s.overflow,dr=a),a=Ef(a,u.children),a.flags|=4096);return a}return h?(Pa(),h=u.fallback,k=a.mode,L=s.child,F=L.sibling,u=ea(L,{mode:"hidden",children:u.children}),u.subtreeFlags=L.subtreeFlags&65011712,F!==null?h=ea(F,h):(h=ur(h,k,o,null),h.flags|=2),h.return=a,u.return=a,u.sibling=h,a.child=u,u=h,h=a.child,k=s.child.memoizedState,k===null?k=Tf(o):(L=k.cachePool,L!==null?(F=ts._currentValue,L=L.parent!==F?{parent:F,pool:F}:L):L=h0(),k={baseLanes:k.baseLanes|o,cachePool:L}),h.memoizedState=k,h.childLanes=Af(s,j,o),a.memoizedState=Cf,u):(Ra(a),o=s.child,s=o.sibling,o=ea(o,{mode:"visible",children:u.children}),o.return=a,o.sibling=null,s!==null&&(j=a.deletions,j===null?(a.deletions=[s],a.flags|=16):j.push(s)),a.child=o,a.memoizedState=null,o)}function Ef(s,a){return a=Mc({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Mc(s,a){return s=Ws(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Mf(s,a,o){return li(a,s.child,null,o),s=Ef(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Ay(s,a,o){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),Id(s.return,a,o)}function Rf(s,a,o,u,h){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=o,y.tailMode=h)}function Ey(s,a,o){var u=a.pendingProps,h=u.revealOrder,y=u.tail;if(ys(s,a,u.children,o),u=ss.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Ay(s,o,a);else if(s.tag===19)Ay(s,o,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}u&=1}switch(J(ss,u),h){case"forwards":for(o=a.child,h=null;o!==null;)s=o.alternate,s!==null&&Cc(s)===null&&(h=o),o=o.sibling;o=h,o===null?(h=a.child,a.child=null):(h=o.sibling,o.sibling=null),Rf(a,!1,h,o,y);break;case"backwards":for(o=null,h=a.child,a.child=null;h!==null;){if(s=h.alternate,s!==null&&Cc(s)===null){a.child=h;break}s=h.sibling,h.sibling=o,o=h,h=s}Rf(a,!0,o,null,y);break;case"together":Rf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function oa(s,a,o){if(s!==null&&(a.dependencies=s.dependencies),za|=a.lanes,(o&a.childLanes)===0)if(s!==null){if(po(s,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,o=ea(s,s.pendingProps),a.child=o,o.return=a;s.sibling!==null;)s=s.sibling,o=o.sibling=ea(s,s.pendingProps),o.return=a;o.sibling=null}return a.child}function Pf(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&uc(s)))}function TN(s,a,o){switch(a.tag){case 3:qe(a,a.stateNode.containerInfo),Ca(a,ts,s.memoizedState.cache),ho();break;case 27:case 5:nt(a);break;case 4:qe(a,a.stateNode.containerInfo);break;case 10:Ca(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Ra(a),a.flags|=128,null):(o&a.child.childLanes)!==0?Ty(s,a,o):(Ra(a),s=oa(s,a,o),s!==null?s.sibling:null);Ra(a);break;case 19:var h=(s.flags&128)!==0;if(u=(o&a.childLanes)!==0,u||(po(s,a,o,!1),u=(o&a.childLanes)!==0),h){if(u)return Ey(s,a,o);a.flags|=128}if(h=a.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(ss,ss.current),u)break;return null;case 22:case 23:return a.lanes=0,jy(s,a,o);case 24:Ca(a,ts,s.memoizedState.cache)}return oa(s,a,o)}function My(s,a,o){if(s!==null)if(s.memoizedProps!==a.pendingProps)ls=!0;else{if(!Pf(s,o)&&(a.flags&128)===0)return ls=!1,TN(s,a,o);ls=(s.flags&131072)!==0}else ls=!1,at&&(a.flags&1048576)!==0&&i0(a,cc,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var u=a.elementType,h=u._init;if(u=h(u._payload),a.type=u,typeof u=="function")Ud(u)?(s=xr(u,s),a.tag=1,a=ky(null,a,u,s,o)):(a.tag=0,a=kf(null,a,u,s,o));else{if(u!=null){if(h=u.$$typeof,h===_){a.tag=11,a=xy(null,a,u,s,o);break e}else if(h===z){a.tag=14,a=by(null,a,u,s,o);break e}}throw a=he(u)||u,Error(r(306,a,""))}}return a;case 0:return kf(s,a,a.type,a.pendingProps,o);case 1:return u=a.type,h=xr(u,a.pendingProps),ky(s,a,u,h,o);case 3:e:{if(qe(a,a.stateNode.containerInfo),s===null)throw Error(r(387));u=a.pendingProps;var y=a.memoizedState;h=y.element,ef(s,a),jo(a,u,null,o);var j=a.memoizedState;if(u=j.cache,Ca(a,ts,u),u!==y.cache&&Qd(a,[ts],o,!0),wo(),u=j.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:j.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=Cy(s,a,u,o);break e}else if(u!==h){h=cn(Error(r(424)),a),mo(h),a=Cy(s,a,u,o);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(zt=Nn(s.firstChild),Ps=a,at=!0,hr=null,zn=!0,o=ly(a,null,u,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ho(),u===h){a=oa(s,a,o);break e}ys(s,a,u,o)}a=a.child}return a;case 26:return Ec(s,a),s===null?(o=_v(a.type,null,a.pendingProps,null))?a.memoizedState=o:at||(o=a.type,s=a.pendingProps,u=Hc(ve.current).createElement(o),u[Ie]=a,u[it]=s,xs(u,o,s),It(u),a.stateNode=u):a.memoizedState=_v(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return nt(a),s===null&&at&&(u=a.stateNode=Rv(a.type,a.pendingProps,ve.current),Ps=a,zn=!0,h=zt,Va(a.type)?(fh=h,zt=Nn(u.firstChild)):zt=h),ys(s,a,a.pendingProps.children,o),Ec(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&at&&((h=u=zt)&&(u=tk(u,a.type,a.pendingProps,zn),u!==null?(a.stateNode=u,Ps=a,zt=Nn(u.firstChild),zn=!1,h=!0):h=!1),h||mr(a)),nt(a),h=a.type,y=a.pendingProps,j=s!==null?s.memoizedProps:null,u=y.children,lh(h,y)?u=null:j!==null&&lh(h,j)&&(a.flags|=32),a.memoizedState!==null&&(h=of(s,a,xN,null,null,o),Ho._currentValue=h),Ec(s,a),ys(s,a,u,o),a.child;case 6:return s===null&&at&&((s=o=zt)&&(o=sk(o,a.pendingProps,zn),o!==null?(a.stateNode=o,Ps=a,zt=null,s=!0):s=!1),s||mr(a)),null;case 13:return Ty(s,a,o);case 4:return qe(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=li(a,null,u,o):ys(s,a,u,o),a.child;case 11:return xy(s,a,a.type,a.pendingProps,o);case 7:return ys(s,a,a.pendingProps,o),a.child;case 8:return ys(s,a,a.pendingProps.children,o),a.child;case 12:return ys(s,a,a.pendingProps.children,o),a.child;case 10:return u=a.pendingProps,Ca(a,a.type,u.value),ys(s,a,u.children,o),a.child;case 9:return h=a.type._context,u=a.pendingProps.children,gr(a),h=Ns(h),u=u(h),a.flags|=1,ys(s,a,u,o),a.child;case 14:return by(s,a,a.type,a.pendingProps,o);case 15:return wy(s,a,a.type,a.pendingProps,o);case 19:return Ey(s,a,o);case 31:return u=a.pendingProps,o=a.mode,u={mode:u.mode,children:u.children},s===null?(o=Mc(u,o),o.ref=a.ref,a.child=o,o.return=a,a=o):(o=ea(s.child,u),o.ref=a.ref,a.child=o,o.return=a,a=o),a;case 22:return jy(s,a,o);case 24:return gr(a),u=Ns(ts),s===null?(h=Wd(),h===null&&(h=wt,y=Yd(),h.pooledCache=y,y.refCount++,y!==null&&(h.pooledCacheLanes|=o),h=y),a.memoizedState={parent:u,cache:h},Jd(a),Ca(a,ts,h)):((s.lanes&o)!==0&&(ef(s,a),jo(a,null,null,o),wo()),h=s.memoizedState,y=a.memoizedState,h.parent!==u?(h={parent:u,cache:u},a.memoizedState=h,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=h),Ca(a,ts,u)):(u=y.cache,Ca(a,ts,u),u!==h.cache&&Qd(a,[ts],o,!0))),ys(s,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function la(s){s.flags|=4}function Ry(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!qv(a)){if(a=hn.current,a!==null&&((Ze&4194048)===Ze?Bn!==null:(Ze&62914560)!==Ze&&(Ze&536870912)===0||a!==Bn))throw xo=Zd,m0;s.flags|=8192}}function Rc(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Ur():536870912,s.lanes|=a,fi|=a)}function Eo(s,a){if(!at)switch(s.tailMode){case"hidden":a=s.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function _t(s){var a=s.alternate!==null&&s.alternate.child===s.child,o=0,u=0;if(a)for(var h=s.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=s,h=h.sibling;else for(h=s.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=s,h=h.sibling;return s.subtreeFlags|=u,s.childLanes=o,a}function AN(s,a,o){var u=a.pendingProps;switch(Hd(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(a),null;case 1:return _t(a),null;case 3:return o=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),aa(ts),St(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(fo(a)?la(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,c0())),_t(a),null;case 26:return o=a.memoizedState,s===null?(la(a),o!==null?(_t(a),Ry(a,o)):(_t(a),a.flags&=-16777217)):o?o!==s.memoizedState?(la(a),_t(a),Ry(a,o)):(_t(a),a.flags&=-16777217):(s.memoizedProps!==u&&la(a),_t(a),a.flags&=-16777217),null;case 27:Ct(a),o=ve.current;var h=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==u&&la(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return _t(a),null}s=de.current,fo(a)?o0(a):(s=Rv(h,u,o),a.stateNode=s,la(a))}return _t(a),null;case 5:if(Ct(a),o=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&la(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return _t(a),null}if(s=de.current,fo(a))o0(a);else{switch(h=Hc(ve.current),s){case 1:s=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:s=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":s=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":s=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":s=h.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?s.multiple=!0:u.size&&(s.size=u.size);break;default:s=typeof u.is=="string"?h.createElement(o,{is:u.is}):h.createElement(o)}}s[Ie]=a,s[it]=u;e:for(h=a.child;h!==null;){if(h.tag===5||h.tag===6)s.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break e;for(;h.sibling===null;){if(h.return===null||h.return===a)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}a.stateNode=s;e:switch(xs(s,o,u),o){case"button":case"input":case"select":case"textarea":s=!!u.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&la(a)}}return _t(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&la(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(r(166));if(s=ve.current,fo(a)){if(s=a.stateNode,o=a.memoizedProps,u=null,h=Ps,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}s[Ie]=a,s=!!(s.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Nv(s.nodeValue,o)),s||mr(a)}else s=Hc(s).createTextNode(u),s[Ie]=a,a.stateNode=s}return _t(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(h=fo(a),u!==null&&u.dehydrated!==null){if(s===null){if(!h)throw Error(r(318));if(h=a.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ie]=a}else ho(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;_t(a),h=!1}else h=c0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=h),h=!0;if(!h)return a.flags&256?(ia(a),a):(ia(a),null)}if(ia(a),(a.flags&128)!==0)return a.lanes=o,a;if(o=u!==null,s=s!==null&&s.memoizedState!==null,o){u=a.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==h&&(u.flags|=2048)}return o!==s&&o&&(a.child.flags|=8192),Rc(a,a.updateQueue),_t(a),null;case 4:return St(),s===null&&nh(a.stateNode.containerInfo),_t(a),null;case 10:return aa(a.type),_t(a),null;case 19:if(te(ss),h=a.memoizedState,h===null)return _t(a),null;if(u=(a.flags&128)!==0,y=h.rendering,y===null)if(u)Eo(h,!1);else{if(Bt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(y=Cc(s),y!==null){for(a.flags|=128,Eo(h,!1),s=y.updateQueue,a.updateQueue=s,Rc(a,s),a.subtreeFlags=0,s=o,o=a.child;o!==null;)r0(o,s),o=o.sibling;return J(ss,ss.current&1|2),a.child}s=s.sibling}h.tail!==null&&dt()>_c&&(a.flags|=128,u=!0,Eo(h,!1),a.lanes=4194304)}else{if(!u)if(s=Cc(y),s!==null){if(a.flags|=128,u=!0,s=s.updateQueue,a.updateQueue=s,Rc(a,s),Eo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!at)return _t(a),null}else 2*dt()-h.renderingStartTime>_c&&o!==536870912&&(a.flags|=128,u=!0,Eo(h,!1),a.lanes=4194304);h.isBackwards?(y.sibling=a.child,a.child=y):(s=h.last,s!==null?s.sibling=y:a.child=y,h.last=y)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=dt(),a.sibling=null,s=ss.current,J(ss,u?s&1|2:s&1),a):(_t(a),null);case 22:case 23:return ia(a),af(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(o&536870912)!==0&&(a.flags&128)===0&&(_t(a),a.subtreeFlags&6&&(a.flags|=8192)):_t(a),o=a.updateQueue,o!==null&&Rc(a,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==o&&(a.flags|=2048),s!==null&&te(yr),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),aa(ts),_t(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function EN(s,a){switch(Hd(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return aa(ts),St(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Ct(a),null;case 13:if(ia(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));ho()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return te(ss),null;case 4:return St(),null;case 10:return aa(a.type),null;case 22:case 23:return ia(a),af(),s!==null&&te(yr),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return aa(ts),null;case 25:return null;default:return null}}function Py(s,a){switch(Hd(a),a.tag){case 3:aa(ts),St();break;case 26:case 27:case 5:Ct(a);break;case 4:St();break;case 13:ia(a);break;case 19:te(ss);break;case 10:aa(a.type);break;case 22:case 23:ia(a),af(),s!==null&&te(yr);break;case 24:aa(ts)}}function Mo(s,a){try{var o=a.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&s)===s){u=void 0;var y=o.create,j=o.inst;u=y(),j.destroy=u}o=o.next}while(o!==h)}}catch(k){yt(a,a.return,k)}}function La(s,a,o){try{var u=a.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var y=h.next;u=y;do{if((u.tag&s)===s){var j=u.inst,k=j.destroy;if(k!==void 0){j.destroy=void 0,h=a;var L=o,F=k;try{F()}catch(ae){yt(h,L,ae)}}}u=u.next}while(u!==y)}}catch(ae){yt(a,a.return,ae)}}function Ly(s){var a=s.updateQueue;if(a!==null){var o=s.stateNode;try{b0(a,o)}catch(u){yt(s,s.return,u)}}}function _y(s,a,o){o.props=xr(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(u){yt(s,a,u)}}function Ro(s,a){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof o=="function"?s.refCleanup=o(u):o.current=u}}catch(h){yt(s,a,h)}}function qn(s,a){var o=s.ref,u=s.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){yt(s,a,h)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){yt(s,a,h)}else o.current=null}function Dy(s){var a=s.type,o=s.memoizedProps,u=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){yt(s,s.return,h)}}function Lf(s,a,o){try{var u=s.stateNode;XN(u,s.type,o,a),u[it]=a}catch(h){yt(s,s.return,h)}}function Oy(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Va(s.type)||s.tag===4}function _f(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Oy(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Va(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Df(s,a,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(s),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=Gc));else if(u!==4&&(u===27&&Va(s.type)&&(o=s.stateNode,a=null),s=s.child,s!==null))for(Df(s,a,o),s=s.sibling;s!==null;)Df(s,a,o),s=s.sibling}function Pc(s,a,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?o.insertBefore(s,a):o.appendChild(s);else if(u!==4&&(u===27&&Va(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(Pc(s,a,o),s=s.sibling;s!==null;)Pc(s,a,o),s=s.sibling}function zy(s){var a=s.stateNode,o=s.memoizedProps;try{for(var u=s.type,h=a.attributes;h.length;)a.removeAttributeNode(h[0]);xs(a,u,o),a[Ie]=s,a[it]=o}catch(y){yt(s,s.return,y)}}var ca=!1,$t=!1,Of=!1,By=typeof WeakSet=="function"?WeakSet:Set,cs=null;function MN(s,a){if(s=s.containerInfo,ih=Xc,s=Yg(s),Ld(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var j=0,k=-1,L=-1,F=0,ae=0,le=s,Y=null;t:for(;;){for(var X;le!==o||h!==0&&le.nodeType!==3||(k=j+h),le!==y||u!==0&&le.nodeType!==3||(L=j+u),le.nodeType===3&&(j+=le.nodeValue.length),(X=le.firstChild)!==null;)Y=le,le=X;for(;;){if(le===s)break t;if(Y===o&&++F===h&&(k=j),Y===y&&++ae===u&&(L=j),(X=le.nextSibling)!==null)break;le=Y,Y=le.parentNode}le=X}o=k===-1||L===-1?null:{start:k,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(oh={focusedElem:s,selectionRange:o},Xc=!1,cs=a;cs!==null;)if(a=cs,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,cs=s;else for(;cs!==null;){switch(a=cs,y=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,o=a,h=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var Le=xr(o.type,h,o.elementType===o.type);s=u.getSnapshotBeforeUpdate(Le,y),u.__reactInternalSnapshotBeforeUpdate=s}catch(Me){yt(o,o.return,Me)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,o=s.nodeType,o===9)uh(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":uh(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,cs=s;break}cs=a.return}}function qy(s,a,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:_a(s,o),u&4&&Mo(5,o);break;case 1:if(_a(s,o),u&4)if(s=o.stateNode,a===null)try{s.componentDidMount()}catch(j){yt(o,o.return,j)}else{var h=xr(o.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(h,a,s.__reactInternalSnapshotBeforeUpdate)}catch(j){yt(o,o.return,j)}}u&64&&Ly(o),u&512&&Ro(o,o.return);break;case 3:if(_a(s,o),u&64&&(s=o.updateQueue,s!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{b0(s,a)}catch(j){yt(o,o.return,j)}}break;case 27:a===null&&u&4&&zy(o);case 26:case 5:_a(s,o),a===null&&u&4&&Dy(o),u&512&&Ro(o,o.return);break;case 12:_a(s,o);break;case 13:_a(s,o),u&4&&$y(s,o),u&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=qN.bind(null,o),nk(s,o))));break;case 22:if(u=o.memoizedState!==null||ca,!u){a=a!==null&&a.memoizedState!==null||$t,h=ca;var y=$t;ca=u,($t=a)&&!y?Da(s,o,(o.subtreeFlags&8772)!==0):_a(s,o),ca=h,$t=y}break;case 30:break;default:_a(s,o)}}function Uy(s){var a=s.alternate;a!==null&&(s.alternate=null,Uy(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Vr(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var At=null,Us=!1;function ua(s,a,o){for(o=o.child;o!==null;)Vy(s,a,o),o=o.sibling}function Vy(s,a,o){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Ue,o)}catch{}switch(o.tag){case 26:$t||qn(o,a),ua(s,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:$t||qn(o,a);var u=At,h=Us;Va(o.type)&&(At=o.stateNode,Us=!1),ua(s,a,o),Uo(o.stateNode),At=u,Us=h;break;case 5:$t||qn(o,a);case 6:if(u=At,h=Us,At=null,ua(s,a,o),At=u,Us=h,At!==null)if(Us)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(o.stateNode)}catch(y){yt(o,a,y)}else try{At.removeChild(o.stateNode)}catch(y){yt(o,a,y)}break;case 18:At!==null&&(Us?(s=At,Ev(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),Qo(s)):Ev(At,o.stateNode));break;case 4:u=At,h=Us,At=o.stateNode.containerInfo,Us=!0,ua(s,a,o),At=u,Us=h;break;case 0:case 11:case 14:case 15:$t||La(2,o,a),$t||La(4,o,a),ua(s,a,o);break;case 1:$t||(qn(o,a),u=o.stateNode,typeof u.componentWillUnmount=="function"&&_y(o,a,u)),ua(s,a,o);break;case 21:ua(s,a,o);break;case 22:$t=(u=$t)||o.memoizedState!==null,ua(s,a,o),$t=u;break;default:ua(s,a,o)}}function $y(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Qo(s)}catch(o){yt(a,a.return,o)}}function RN(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new By),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new By),a;default:throw Error(r(435,s.tag))}}function zf(s,a){var o=RN(s);a.forEach(function(u){var h=UN.bind(null,s,u);o.has(u)||(o.add(u),u.then(h,h))})}function Zs(s,a){var o=a.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],y=s,j=a,k=j;e:for(;k!==null;){switch(k.tag){case 27:if(Va(k.type)){At=k.stateNode,Us=!1;break e}break;case 5:At=k.stateNode,Us=!1;break e;case 3:case 4:At=k.stateNode.containerInfo,Us=!0;break e}k=k.return}if(At===null)throw Error(r(160));Vy(y,j,h),At=null,Us=!1,y=h.alternate,y!==null&&(y.return=null),h.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Gy(a,s),a=a.sibling}var Sn=null;function Gy(s,a){var o=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Zs(a,s),Js(s),u&4&&(La(3,s,s.return),Mo(3,s),La(5,s,s.return));break;case 1:Zs(a,s),Js(s),u&512&&($t||o===null||qn(o,o.return)),u&64&&ca&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=Sn;if(Zs(a,s),Js(s),u&512&&($t||o===null||qn(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=s.memoizedState,o===null)if(u===null)if(s.stateNode===null){e:{u=s.type,o=s.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":y=h.getElementsByTagName("title")[0],(!y||y[Ot]||y[Ie]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=h.createElement(u),h.head.insertBefore(y,h.querySelector("head > title"))),xs(y,u,o),y[Ie]=s,It(y),u=y;break e;case"link":var j=zv("link","href",h).get(u+(o.href||""));if(j){for(var k=0;k<j.length;k++)if(y=j[k],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){j.splice(k,1);break t}}y=h.createElement(u),xs(y,u,o),h.head.appendChild(y);break;case"meta":if(j=zv("meta","content",h).get(u+(o.content||""))){for(k=0;k<j.length;k++)if(y=j[k],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){j.splice(k,1);break t}}y=h.createElement(u),xs(y,u,o),h.head.appendChild(y);break;default:throw Error(r(468,u))}y[Ie]=s,It(y),u=y}s.stateNode=u}else Bv(h,s.type,s.stateNode);else s.stateNode=Ov(h,u,s.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?Bv(h,s.type,s.stateNode):Ov(h,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Lf(s,s.memoizedProps,o.memoizedProps)}break;case 27:Zs(a,s),Js(s),u&512&&($t||o===null||qn(o,o.return)),o!==null&&u&4&&Lf(s,s.memoizedProps,o.memoizedProps);break;case 5:if(Zs(a,s),Js(s),u&512&&($t||o===null||qn(o,o.return)),s.flags&32){h=s.stateNode;try{Hr(h,"")}catch(X){yt(s,s.return,X)}}u&4&&s.stateNode!=null&&(h=s.memoizedProps,Lf(s,h,o!==null?o.memoizedProps:h)),u&1024&&(Of=!0);break;case 6:if(Zs(a,s),Js(s),u&4){if(s.stateNode===null)throw Error(r(162));u=s.memoizedProps,o=s.stateNode;try{o.nodeValue=u}catch(X){yt(s,s.return,X)}}break;case 3:if(Ic=null,h=Sn,Sn=Kc(a.containerInfo),Zs(a,s),Sn=h,Js(s),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Qo(a.containerInfo)}catch(X){yt(s,s.return,X)}Of&&(Of=!1,Hy(s));break;case 4:u=Sn,Sn=Kc(s.stateNode.containerInfo),Zs(a,s),Js(s),Sn=u;break;case 12:Zs(a,s),Js(s);break;case 13:Zs(a,s),Js(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Gf=dt()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,zf(s,u)));break;case 22:h=s.memoizedState!==null;var L=o!==null&&o.memoizedState!==null,F=ca,ae=$t;if(ca=F||h,$t=ae||L,Zs(a,s),$t=ae,ca=F,Js(s),u&8192)e:for(a=s.stateNode,a._visibility=h?a._visibility&-2:a._visibility|1,h&&(o===null||L||ca||$t||br(s)),o=null,a=s;;){if(a.tag===5||a.tag===26){if(o===null){L=o=a;try{if(y=L.stateNode,h)j=y.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{k=L.stateNode;var le=L.memoizedProps.style,Y=le!=null&&le.hasOwnProperty("display")?le.display:null;k.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(X){yt(L,L.return,X)}}}else if(a.tag===6){if(o===null){L=a;try{L.stateNode.nodeValue=h?"":L.memoizedProps}catch(X){yt(L,L.return,X)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,zf(s,o))));break;case 19:Zs(a,s),Js(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,zf(s,u)));break;case 30:break;case 21:break;default:Zs(a,s),Js(s)}}function Js(s){var a=s.flags;if(a&2){try{for(var o,u=s.return;u!==null;){if(Oy(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var h=o.stateNode,y=_f(s);Pc(s,y,h);break;case 5:var j=o.stateNode;o.flags&32&&(Hr(j,""),o.flags&=-33);var k=_f(s);Pc(s,k,j);break;case 3:case 4:var L=o.stateNode.containerInfo,F=_f(s);Df(s,F,L);break;default:throw Error(r(161))}}catch(ae){yt(s,s.return,ae)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function Hy(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;Hy(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function _a(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)qy(s,a.alternate,a),a=a.sibling}function br(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:La(4,a,a.return),br(a);break;case 1:qn(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&_y(a,a.return,o),br(a);break;case 27:Uo(a.stateNode);case 26:case 5:qn(a,a.return),br(a);break;case 22:a.memoizedState===null&&br(a);break;case 30:br(a);break;default:br(a)}s=s.sibling}}function Da(s,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,h=s,y=a,j=y.flags;switch(y.tag){case 0:case 11:case 15:Da(h,y,o),Mo(4,y);break;case 1:if(Da(h,y,o),u=y,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){yt(u,u.return,F)}if(u=y,h=u.updateQueue,h!==null){var k=u.stateNode;try{var L=h.shared.hiddenCallbacks;if(L!==null)for(h.shared.hiddenCallbacks=null,h=0;h<L.length;h++)x0(L[h],k)}catch(F){yt(u,u.return,F)}}o&&j&64&&Ly(y),Ro(y,y.return);break;case 27:zy(y);case 26:case 5:Da(h,y,o),o&&u===null&&j&4&&Dy(y),Ro(y,y.return);break;case 12:Da(h,y,o);break;case 13:Da(h,y,o),o&&j&4&&$y(h,y);break;case 22:y.memoizedState===null&&Da(h,y,o),Ro(y,y.return);break;case 30:break;default:Da(h,y,o)}a=a.sibling}}function Bf(s,a){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&go(o))}function qf(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&go(s))}function Un(s,a,o,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Ky(s,a,o,u),a=a.sibling}function Ky(s,a,o,u){var h=a.flags;switch(a.tag){case 0:case 11:case 15:Un(s,a,o,u),h&2048&&Mo(9,a);break;case 1:Un(s,a,o,u);break;case 3:Un(s,a,o,u),h&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&go(s)));break;case 12:if(h&2048){Un(s,a,o,u),s=a.stateNode;try{var y=a.memoizedProps,j=y.id,k=y.onPostCommit;typeof k=="function"&&k(j,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(L){yt(a,a.return,L)}}else Un(s,a,o,u);break;case 13:Un(s,a,o,u);break;case 23:break;case 22:y=a.stateNode,j=a.alternate,a.memoizedState!==null?y._visibility&2?Un(s,a,o,u):Po(s,a):y._visibility&2?Un(s,a,o,u):(y._visibility|=2,ci(s,a,o,u,(a.subtreeFlags&10256)!==0)),h&2048&&Bf(j,a);break;case 24:Un(s,a,o,u),h&2048&&qf(a.alternate,a);break;default:Un(s,a,o,u)}}function ci(s,a,o,u,h){for(h=h&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=s,j=a,k=o,L=u,F=j.flags;switch(j.tag){case 0:case 11:case 15:ci(y,j,k,L,h),Mo(8,j);break;case 23:break;case 22:var ae=j.stateNode;j.memoizedState!==null?ae._visibility&2?ci(y,j,k,L,h):Po(y,j):(ae._visibility|=2,ci(y,j,k,L,h)),h&&F&2048&&Bf(j.alternate,j);break;case 24:ci(y,j,k,L,h),h&&F&2048&&qf(j.alternate,j);break;default:ci(y,j,k,L,h)}a=a.sibling}}function Po(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=s,u=a,h=u.flags;switch(u.tag){case 22:Po(o,u),h&2048&&Bf(u.alternate,u);break;case 24:Po(o,u),h&2048&&qf(u.alternate,u);break;default:Po(o,u)}a=a.sibling}}var Lo=8192;function ui(s){if(s.subtreeFlags&Lo)for(s=s.child;s!==null;)Fy(s),s=s.sibling}function Fy(s){switch(s.tag){case 26:ui(s),s.flags&Lo&&s.memoizedState!==null&&gk(Sn,s.memoizedState,s.memoizedProps);break;case 5:ui(s);break;case 3:case 4:var a=Sn;Sn=Kc(s.stateNode.containerInfo),ui(s),Sn=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Lo,Lo=16777216,ui(s),Lo=a):ui(s));break;default:ui(s)}}function Iy(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function _o(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];cs=u,Yy(u,s)}Iy(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Qy(s),s=s.sibling}function Qy(s){switch(s.tag){case 0:case 11:case 15:_o(s),s.flags&2048&&La(9,s,s.return);break;case 3:_o(s);break;case 12:_o(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Lc(s)):_o(s);break;default:_o(s)}}function Lc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];cs=u,Yy(u,s)}Iy(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:La(8,a,a.return),Lc(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,Lc(a));break;default:Lc(a)}s=s.sibling}}function Yy(s,a){for(;cs!==null;){var o=cs;switch(o.tag){case 0:case 11:case 15:La(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:go(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,cs=u;else e:for(o=s;cs!==null;){u=cs;var h=u.sibling,y=u.return;if(Uy(u),u===o){cs=null;break e}if(h!==null){h.return=y,cs=h;break e}cs=y}}}var PN={getCacheForType:function(s){var a=Ns(ts),o=a.data.get(s);return o===void 0&&(o=s(),a.data.set(s,o)),o}},LN=typeof WeakMap=="function"?WeakMap:Map,lt=0,wt=null,Qe=null,Ze=0,ct=0,en=null,Oa=!1,di=!1,Uf=!1,da=0,Bt=0,za=0,wr=0,Vf=0,mn=0,fi=0,Do=null,Vs=null,$f=!1,Gf=0,_c=1/0,Dc=null,Ba=null,vs=0,qa=null,hi=null,mi=0,Hf=0,Kf=null,Xy=null,Oo=0,Ff=null;function tn(){if((lt&2)!==0&&Ze!==0)return Ze&-Ze;if(G.T!==null){var s=ti;return s!==0?s:Jf()}return Ms()}function Wy(){mn===0&&(mn=(Ze&536870912)===0||at?qr():536870912);var s=hn.current;return s!==null&&(s.flags|=32),mn}function sn(s,a,o){(s===wt&&(ct===2||ct===9)||s.cancelPendingCommit!==null)&&(pi(s,0),Ua(s,Ze,mn,!1)),Tt(s,o),((lt&2)===0||s!==wt)&&(s===wt&&((lt&2)===0&&(wr|=o),Bt===4&&Ua(s,Ze,mn,!1)),Vn(s))}function Zy(s,a,o){if((lt&6)!==0)throw Error(r(327));var u=!o&&(a&124)===0&&(a&s.expiredLanes)===0||zs(s,a),h=u?ON(s,a):Yf(s,a,!0),y=u;do{if(h===0){di&&!u&&Ua(s,a,0,!1);break}else{if(o=s.current.alternate,y&&!_N(o)){h=Yf(s,a,!1),y=!1;continue}if(h===2){if(y=a,s.errorRecoveryDisabledLanes&y)var j=0;else j=s.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){a=j;e:{var k=s;h=Do;var L=k.current.memoizedState.isDehydrated;if(L&&(pi(k,j).flags|=256),j=Yf(k,j,!1),j!==2){if(Uf&&!L){k.errorRecoveryDisabledLanes|=y,wr|=y,h=4;break e}y=Vs,Vs=h,y!==null&&(Vs===null?Vs=y:Vs.push.apply(Vs,y))}h=j}if(y=!1,h!==2)continue}}if(h===1){pi(s,0),Ua(s,a,0,!0);break}e:{switch(u=s,y=h,y){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Ua(u,a,mn,!Oa);break e;case 2:Vs=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(h=Gf+300-dt(),10<h)){if(Ua(u,a,mn,!Oa),Ss(u,0,!0)!==0)break e;u.timeoutHandle=Tv(Jy.bind(null,u,o,Vs,Dc,$f,a,mn,wr,fi,Oa,y,2,-0,0),h);break e}Jy(u,o,Vs,Dc,$f,a,mn,wr,fi,Oa,y,0,-0,0)}}break}while(!0);Vn(s)}function Jy(s,a,o,u,h,y,j,k,L,F,ae,le,Y,X){if(s.timeoutHandle=-1,le=a.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(Go={stylesheets:null,count:0,unsuspend:pk},Fy(a),le=yk(),le!==null)){s.cancelPendingCommit=le(iv.bind(null,s,a,y,o,u,h,j,k,L,ae,1,Y,X)),Ua(s,y,j,!F);return}iv(s,a,y,o,u,h,j,k,L)}function _N(s){for(var a=s;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],y=h.getSnapshot;h=h.value;try{if(!Xs(y(),h))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ua(s,a,o,u){a&=~Vf,a&=~wr,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var h=a;0<h;){var y=31-pt(h),j=1<<y;u[y]=-1,h&=~j}o!==0&&is(s,o,a)}function Oc(){return(lt&6)===0?(zo(0),!1):!0}function If(){if(Qe!==null){if(ct===0)var s=Qe.return;else s=Qe,na=pr=null,uf(s),oi=null,To=0,s=Qe;for(;s!==null;)Py(s.alternate,s),s=s.return;Qe=null}}function pi(s,a){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,ZN(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),If(),wt=s,Qe=o=ea(s.current,null),Ze=a,ct=0,en=null,Oa=!1,di=zs(s,a),Uf=!1,fi=mn=Vf=wr=za=Bt=0,Vs=Do=null,$f=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var h=31-pt(u),y=1<<h;a|=s[h],u&=~y}return da=a,ac(),o}function ev(s,a){He=null,G.H=Sc,a===vo||a===hc?(a=y0(),ct=3):a===m0?(a=y0(),ct=4):ct=a===vy?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,en=a,Qe===null&&(Bt=1,Ac(s,cn(a,s.current)))}function tv(){var s=G.H;return G.H=Sc,s===null?Sc:s}function sv(){var s=G.A;return G.A=PN,s}function Qf(){Bt=4,Oa||(Ze&4194048)!==Ze&&hn.current!==null||(di=!0),(za&134217727)===0&&(wr&134217727)===0||wt===null||Ua(wt,Ze,mn,!1)}function Yf(s,a,o){var u=lt;lt|=2;var h=tv(),y=sv();(wt!==s||Ze!==a)&&(Dc=null,pi(s,a)),a=!1;var j=Bt;e:do try{if(ct!==0&&Qe!==null){var k=Qe,L=en;switch(ct){case 8:If(),j=6;break e;case 3:case 2:case 9:case 6:hn.current===null&&(a=!0);var F=ct;if(ct=0,en=null,gi(s,k,L,F),o&&di){j=0;break e}break;default:F=ct,ct=0,en=null,gi(s,k,L,F)}}DN(),j=Bt;break}catch(ae){ev(s,ae)}while(!0);return a&&s.shellSuspendCounter++,na=pr=null,lt=u,G.H=h,G.A=y,Qe===null&&(wt=null,Ze=0,ac()),j}function DN(){for(;Qe!==null;)nv(Qe)}function ON(s,a){var o=lt;lt|=2;var u=tv(),h=sv();wt!==s||Ze!==a?(Dc=null,_c=dt()+500,pi(s,a)):di=zs(s,a);e:do try{if(ct!==0&&Qe!==null){a=Qe;var y=en;t:switch(ct){case 1:ct=0,en=null,gi(s,a,y,1);break;case 2:case 9:if(p0(y)){ct=0,en=null,av(a);break}a=function(){ct!==2&&ct!==9||wt!==s||(ct=7),Vn(s)},y.then(a,a);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:p0(y)?(ct=0,en=null,av(a)):(ct=0,en=null,gi(s,a,y,7));break;case 5:var j=null;switch(Qe.tag){case 26:j=Qe.memoizedState;case 5:case 27:var k=Qe;if(!j||qv(j)){ct=0,en=null;var L=k.sibling;if(L!==null)Qe=L;else{var F=k.return;F!==null?(Qe=F,zc(F)):Qe=null}break t}}ct=0,en=null,gi(s,a,y,5);break;case 6:ct=0,en=null,gi(s,a,y,6);break;case 8:If(),Bt=6;break e;default:throw Error(r(462))}}zN();break}catch(ae){ev(s,ae)}while(!0);return na=pr=null,G.H=u,G.A=h,lt=o,Qe!==null?0:(wt=null,Ze=0,ac(),Bt)}function zN(){for(;Qe!==null&&!ms();)nv(Qe)}function nv(s){var a=My(s.alternate,s,da);s.memoizedProps=s.pendingProps,a===null?zc(s):Qe=a}function av(s){var a=s,o=a.alternate;switch(a.tag){case 15:case 0:a=Ny(o,a,a.pendingProps,a.type,void 0,Ze);break;case 11:a=Ny(o,a,a.pendingProps,a.type.render,a.ref,Ze);break;case 5:uf(a);default:Py(o,a),a=Qe=r0(a,da),a=My(o,a,da)}s.memoizedProps=s.pendingProps,a===null?zc(s):Qe=a}function gi(s,a,o,u){na=pr=null,uf(a),oi=null,To=0;var h=a.return;try{if(CN(s,h,a,o,Ze)){Bt=1,Ac(s,cn(o,s.current)),Qe=null;return}}catch(y){if(h!==null)throw Qe=h,y;Bt=1,Ac(s,cn(o,s.current)),Qe=null;return}a.flags&32768?(at||u===1?s=!0:di||(Ze&536870912)!==0?s=!1:(Oa=s=!0,(u===2||u===9||u===3||u===6)&&(u=hn.current,u!==null&&u.tag===13&&(u.flags|=16384))),rv(a,s)):zc(a)}function zc(s){var a=s;do{if((a.flags&32768)!==0){rv(a,Oa);return}s=a.return;var o=AN(a.alternate,a,da);if(o!==null){Qe=o;return}if(a=a.sibling,a!==null){Qe=a;return}Qe=a=s}while(a!==null);Bt===0&&(Bt=5)}function rv(s,a){do{var o=EN(s.alternate,s);if(o!==null){o.flags&=32767,Qe=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(s=s.sibling,s!==null)){Qe=s;return}Qe=s=o}while(s!==null);Bt=6,Qe=null}function iv(s,a,o,u,h,y,j,k,L){s.cancelPendingCommit=null;do Bc();while(vs!==0);if((lt&6)!==0)throw Error(r(327));if(a!==null){if(a===s.current)throw Error(r(177));if(y=a.lanes|a.childLanes,y|=Bd,gs(s,o,y,j,k,L),s===wt&&(Qe=wt=null,Ze=0),hi=a,qa=s,mi=o,Hf=y,Kf=h,Xy=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,VN(pe,function(){return dv(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=G.T,G.T=null,h=I.p,I.p=2,j=lt,lt|=4;try{MN(s,a,o)}finally{lt=j,I.p=h,G.T=u}}vs=1,ov(),lv(),cv()}}function ov(){if(vs===1){vs=0;var s=qa,a=hi,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=G.T,G.T=null;var u=I.p;I.p=2;var h=lt;lt|=4;try{Gy(a,s);var y=oh,j=Yg(s.containerInfo),k=y.focusedElem,L=y.selectionRange;if(j!==k&&k&&k.ownerDocument&&Qg(k.ownerDocument.documentElement,k)){if(L!==null&&Ld(k)){var F=L.start,ae=L.end;if(ae===void 0&&(ae=F),"selectionStart"in k)k.selectionStart=F,k.selectionEnd=Math.min(ae,k.value.length);else{var le=k.ownerDocument||document,Y=le&&le.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),Le=k.textContent.length,Me=Math.min(L.start,Le),mt=L.end===void 0?Me:Math.min(L.end,Le);!X.extend&&Me>mt&&(j=mt,mt=Me,Me=j);var $=Ig(k,Me),V=Ig(k,mt);if($&&V&&(X.rangeCount!==1||X.anchorNode!==$.node||X.anchorOffset!==$.offset||X.focusNode!==V.node||X.focusOffset!==V.offset)){var K=le.createRange();K.setStart($.node,$.offset),X.removeAllRanges(),Me>mt?(X.addRange(K),X.extend(V.node,V.offset)):(K.setEnd(V.node,V.offset),X.addRange(K))}}}}for(le=[],X=k;X=X.parentNode;)X.nodeType===1&&le.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<le.length;k++){var oe=le[k];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Xc=!!ih,oh=ih=null}finally{lt=h,I.p=u,G.T=o}}s.current=a,vs=2}}function lv(){if(vs===2){vs=0;var s=qa,a=hi,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=G.T,G.T=null;var u=I.p;I.p=2;var h=lt;lt|=4;try{qy(s,a.alternate,a)}finally{lt=h,I.p=u,G.T=o}}vs=3}}function cv(){if(vs===4||vs===3){vs=0,Zt();var s=qa,a=hi,o=mi,u=Xy;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?vs=5:(vs=0,hi=qa=null,uv(s,s.pendingLanes));var h=s.pendingLanes;if(h===0&&(Ba=null),Jt(o),a=a.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Ue,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=G.T,h=I.p,I.p=2,G.T=null;try{for(var y=s.onRecoverableError,j=0;j<u.length;j++){var k=u[j];y(k.value,{componentStack:k.stack})}}finally{G.T=a,I.p=h}}(mi&3)!==0&&Bc(),Vn(s),h=s.pendingLanes,(o&4194090)!==0&&(h&42)!==0?s===Ff?Oo++:(Oo=0,Ff=s):Oo=0,zo(0)}}function uv(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,go(a)))}function Bc(s){return ov(),lv(),cv(),dv()}function dv(){if(vs!==5)return!1;var s=qa,a=Hf;Hf=0;var o=Jt(mi),u=G.T,h=I.p;try{I.p=32>o?32:o,G.T=null,o=Kf,Kf=null;var y=qa,j=mi;if(vs=0,hi=qa=null,mi=0,(lt&6)!==0)throw Error(r(331));var k=lt;if(lt|=4,Qy(y.current),Ky(y,y.current,j,o),lt=k,zo(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Ue,y)}catch{}return!0}finally{I.p=h,G.T=u,uv(s,a)}}function fv(s,a,o){a=cn(o,a),a=Nf(s.stateNode,a,2),s=Ea(s,a,2),s!==null&&(Tt(s,2),Vn(s))}function yt(s,a,o){if(s.tag===3)fv(s,s,o);else for(;a!==null;){if(a.tag===3){fv(a,s,o);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ba===null||!Ba.has(u))){s=cn(o,s),o=gy(2),u=Ea(a,o,2),u!==null&&(yy(o,u,a,s),Tt(u,2),Vn(u));break}}a=a.return}}function Xf(s,a,o){var u=s.pingCache;if(u===null){u=s.pingCache=new LN;var h=new Set;u.set(a,h)}else h=u.get(a),h===void 0&&(h=new Set,u.set(a,h));h.has(o)||(Uf=!0,h.add(o),s=BN.bind(null,s,a,o),a.then(s,s))}function BN(s,a,o){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,wt===s&&(Ze&o)===o&&(Bt===4||Bt===3&&(Ze&62914560)===Ze&&300>dt()-Gf?(lt&2)===0&&pi(s,0):Vf|=o,fi===Ze&&(fi=0)),Vn(s)}function hv(s,a){a===0&&(a=Ur()),s=Wr(s,a),s!==null&&(Tt(s,a),Vn(s))}function qN(s){var a=s.memoizedState,o=0;a!==null&&(o=a.retryLane),hv(s,o)}function UN(s,a){var o=0;switch(s.tag){case 13:var u=s.stateNode,h=s.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(a),hv(s,o)}function VN(s,a){return et(s,a)}var qc=null,yi=null,Wf=!1,Uc=!1,Zf=!1,jr=0;function Vn(s){s!==yi&&s.next===null&&(yi===null?qc=yi=s:yi=yi.next=s),Uc=!0,Wf||(Wf=!0,GN())}function zo(s,a){if(!Zf&&Uc){Zf=!0;do for(var o=!1,u=qc;u!==null;){if(s!==0){var h=u.pendingLanes;if(h===0)var y=0;else{var j=u.suspendedLanes,k=u.pingedLanes;y=(1<<31-pt(42|s)+1)-1,y&=h&~(j&~k),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,yv(u,y))}else y=Ze,y=Ss(u,u===wt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||zs(u,y)||(o=!0,yv(u,y));u=u.next}while(o);Zf=!1}}function $N(){mv()}function mv(){Uc=Wf=!1;var s=0;jr!==0&&(WN()&&(s=jr),jr=0);for(var a=dt(),o=null,u=qc;u!==null;){var h=u.next,y=pv(u,a);y===0?(u.next=null,o===null?qc=h:o.next=h,h===null&&(yi=o)):(o=u,(s!==0||(y&3)!==0)&&(Uc=!0)),u=h}zo(s)}function pv(s,a){for(var o=s.suspendedLanes,u=s.pingedLanes,h=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var j=31-pt(y),k=1<<j,L=h[j];L===-1?((k&o)===0||(k&u)!==0)&&(h[j]=_n(k,a)):L<=a&&(s.expiredLanes|=k),y&=~k}if(a=wt,o=Ze,o=Ss(s,s===a?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,o===0||s===a&&(ct===2||ct===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Pt(u),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||zs(s,o)){if(a=o&-o,a===s.callbackPriority)return a;switch(u!==null&&Pt(u),Jt(o)){case 2:case 8:o=ie;break;case 32:o=pe;break;case 268435456:o=Ee;break;default:o=pe}return u=gv.bind(null,s),o=et(o,u),s.callbackPriority=a,s.callbackNode=o,a}return u!==null&&u!==null&&Pt(u),s.callbackPriority=2,s.callbackNode=null,2}function gv(s,a){if(vs!==0&&vs!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(Bc()&&s.callbackNode!==o)return null;var u=Ze;return u=Ss(s,s===wt?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(Zy(s,u,a),pv(s,dt()),s.callbackNode!=null&&s.callbackNode===o?gv.bind(null,s):null)}function yv(s,a){if(Bc())return null;Zy(s,a,!0)}function GN(){JN(function(){(lt&6)!==0?et(me,$N):mv()})}function Jf(){return jr===0&&(jr=qr()),jr}function vv(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Wl(""+s)}function xv(s,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,s.id&&o.setAttribute("form",s.id),a.parentNode.insertBefore(o,a),s=new FormData(s),o.parentNode.removeChild(o),s}function HN(s,a,o,u,h){if(a==="submit"&&o&&o.stateNode===h){var y=vv((h[it]||null).action),j=u.submitter;j&&(a=(a=j[it]||null)?vv(a.formAction):j.getAttribute("formAction"),a!==null&&(y=a,j=null));var k=new tc("action","action",null,u,h);s.push({event:k,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(jr!==0){var L=j?xv(h,j):new FormData(h);xf(o,{pending:!0,data:L,method:h.method,action:y},null,L)}}else typeof y=="function"&&(k.preventDefault(),L=j?xv(h,j):new FormData(h),xf(o,{pending:!0,data:L,method:h.method,action:y},y,L))},currentTarget:h}]})}}for(var eh=0;eh<zd.length;eh++){var th=zd[eh],KN=th.toLowerCase(),FN=th[0].toUpperCase()+th.slice(1);jn(KN,"on"+FN)}jn(Zg,"onAnimationEnd"),jn(Jg,"onAnimationIteration"),jn(e0,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(cN,"onTransitionRun"),jn(uN,"onTransitionStart"),jn(dN,"onTransitionCancel"),jn(t0,"onTransitionEnd"),Na("onMouseEnter",["mouseout","mouseover"]),Na("onMouseLeave",["mouseout","mouseover"]),Na("onPointerEnter",["pointerout","pointerover"]),Na("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bo));function bv(s,a){a=(a&4)!==0;for(var o=0;o<s.length;o++){var u=s[o],h=u.event;u=u.listeners;e:{var y=void 0;if(a)for(var j=u.length-1;0<=j;j--){var k=u[j],L=k.instance,F=k.currentTarget;if(k=k.listener,L!==y&&h.isPropagationStopped())break e;y=k,h.currentTarget=F;try{y(h)}catch(ae){Tc(ae)}h.currentTarget=null,y=L}else for(j=0;j<u.length;j++){if(k=u[j],L=k.instance,F=k.currentTarget,k=k.listener,L!==y&&h.isPropagationStopped())break e;y=k,h.currentTarget=F;try{y(h)}catch(ae){Tc(ae)}h.currentTarget=null,y=L}}}}function Ye(s,a){var o=a[Rs];o===void 0&&(o=a[Rs]=new Set);var u=s+"__bubble";o.has(u)||(wv(a,s,2,!1),o.add(u))}function sh(s,a,o){var u=0;a&&(u|=4),wv(o,s,u,a)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function nh(s){if(!s[Vc]){s[Vc]=!0,Zi.forEach(function(o){o!=="selectionchange"&&(IN.has(o)||sh(o,!1,s),sh(o,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Vc]||(a[Vc]=!0,sh("selectionchange",!1,a))}}function wv(s,a,o,u){switch(Kv(a)){case 2:var h=bk;break;case 8:h=wk;break;default:h=yh}o=h.bind(null,a,o,s),h=void 0,!Nd||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(h=!0),u?h!==void 0?s.addEventListener(a,o,{capture:!0,passive:h}):s.addEventListener(a,o,!0):h!==void 0?s.addEventListener(a,o,{passive:h}):s.addEventListener(a,o,!1)}function ah(s,a,o,u,h){var y=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var j=u.tag;if(j===3||j===4){var k=u.stateNode.containerInfo;if(k===h)break;if(j===4)for(j=u.return;j!==null;){var L=j.tag;if((L===3||L===4)&&j.stateNode.containerInfo===h)return;j=j.return}for(;k!==null;){if(j=Qn(k),j===null)return;if(L=j.tag,L===5||L===6||L===26||L===27){u=y=j;continue e}k=k.parentNode}}u=u.return}Ag(function(){var F=y,ae=jd(o),le=[];e:{var Y=s0.get(s);if(Y!==void 0){var X=tc,Le=s;switch(s){case"keypress":if(Jl(o)===0)break e;case"keydown":case"keyup":X=VS;break;case"focusin":Le="focus",X=Ad;break;case"focusout":Le="blur",X=Ad;break;case"beforeblur":case"afterblur":X=Ad;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Rg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=ES;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=HS;break;case Zg:case Jg:case e0:X=PS;break;case t0:X=FS;break;case"scroll":case"scrollend":X=TS;break;case"wheel":X=QS;break;case"copy":case"cut":case"paste":X=_S;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Lg;break;case"toggle":case"beforetoggle":X=XS}var Me=(a&4)!==0,mt=!Me&&(s==="scroll"||s==="scrollend"),$=Me?Y!==null?Y+"Capture":null:Y;Me=[];for(var V=F,K;V!==null;){var oe=V;if(K=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||K===null||$===null||(oe=so(V,$),oe!=null&&Me.push(qo(V,oe,K))),mt)break;V=V.return}0<Me.length&&(Y=new X(Y,Le,null,o,ae),le.push({event:Y,listeners:Me}))}}if((a&7)===0){e:{if(Y=s==="mouseover"||s==="pointerover",X=s==="mouseout"||s==="pointerout",Y&&o!==wd&&(Le=o.relatedTarget||o.fromElement)&&(Qn(Le)||Le[ue]))break e;if((X||Y)&&(Y=ae.window===ae?ae:(Y=ae.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(Le=o.relatedTarget||o.toElement,X=F,Le=Le?Qn(Le):null,Le!==null&&(mt=c(Le),Me=Le.tag,Le!==mt||Me!==5&&Me!==27&&Me!==6)&&(Le=null)):(X=null,Le=F),X!==Le)){if(Me=Rg,oe="onMouseLeave",$="onMouseEnter",V="mouse",(s==="pointerout"||s==="pointerover")&&(Me=Lg,oe="onPointerLeave",$="onPointerEnter",V="pointer"),mt=X==null?Y:rr(X),K=Le==null?Y:rr(Le),Y=new Me(oe,V+"leave",X,o,ae),Y.target=mt,Y.relatedTarget=K,oe=null,Qn(ae)===F&&(Me=new Me($,V+"enter",Le,o,ae),Me.target=K,Me.relatedTarget=mt,oe=Me),mt=oe,X&&Le)t:{for(Me=X,$=Le,V=0,K=Me;K;K=vi(K))V++;for(K=0,oe=$;oe;oe=vi(oe))K++;for(;0<V-K;)Me=vi(Me),V--;for(;0<K-V;)$=vi($),K--;for(;V--;){if(Me===$||$!==null&&Me===$.alternate)break t;Me=vi(Me),$=vi($)}Me=null}else Me=null;X!==null&&jv(le,Y,X,Me,!1),Le!==null&&mt!==null&&jv(le,mt,Le,Me,!0)}}e:{if(Y=F?rr(F):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var be=Vg;else if(qg(Y))if($g)be=iN;else{be=aN;var Fe=nN}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?F&&bd(F.elementType)&&(be=Vg):be=rN;if(be&&(be=be(s,F))){Ug(le,be,o,ae);break e}Fe&&Fe(s,Y,F),s==="focusout"&&F&&Y.type==="number"&&F.memoizedProps.value!=null&&xd(Y,"number",Y.value)}switch(Fe=F?rr(F):window,s){case"focusin":(qg(Fe)||Fe.contentEditable==="true")&&(Qr=Fe,_d=F,uo=null);break;case"focusout":uo=_d=Qr=null;break;case"mousedown":Dd=!0;break;case"contextmenu":case"mouseup":case"dragend":Dd=!1,Xg(le,o,ae);break;case"selectionchange":if(lN)break;case"keydown":case"keyup":Xg(le,o,ae)}var Ne;if(Md)e:{switch(s){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Ir?zg(s,o)&&(Pe="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(Pe="onCompositionStart");Pe&&(_g&&o.locale!=="ko"&&(Ir||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ir&&(Ne=Eg()):(ka=ae,kd="value"in ka?ka.value:ka.textContent,Ir=!0)),Fe=$c(F,Pe),0<Fe.length&&(Pe=new Pg(Pe,s,null,o,ae),le.push({event:Pe,listeners:Fe}),Ne?Pe.data=Ne:(Ne=Bg(o),Ne!==null&&(Pe.data=Ne)))),(Ne=ZS?JS(s,o):eN(s,o))&&(Pe=$c(F,"onBeforeInput"),0<Pe.length&&(Fe=new Pg("onBeforeInput","beforeinput",null,o,ae),le.push({event:Fe,listeners:Pe}),Fe.data=Ne)),HN(le,s,F,o,ae)}bv(le,a)})}function qo(s,a,o){return{instance:s,listener:a,currentTarget:o}}function $c(s,a){for(var o=a+"Capture",u=[];s!==null;){var h=s,y=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||y===null||(h=so(s,o),h!=null&&u.unshift(qo(s,h,y)),h=so(s,a),h!=null&&u.push(qo(s,h,y))),s.tag===3)return u;s=s.return}return[]}function vi(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function jv(s,a,o,u,h){for(var y=a._reactName,j=[];o!==null&&o!==u;){var k=o,L=k.alternate,F=k.stateNode;if(k=k.tag,L!==null&&L===u)break;k!==5&&k!==26&&k!==27||F===null||(L=F,h?(F=so(o,y),F!=null&&j.unshift(qo(o,F,L))):h||(F=so(o,y),F!=null&&j.push(qo(o,F,L)))),o=o.return}j.length!==0&&s.push({event:a,listeners:j})}var QN=/\r\n?/g,YN=/\u0000|\uFFFD/g;function Sv(s){return(typeof s=="string"?s:""+s).replace(QN,`
`).replace(YN,"")}function Nv(s,a){return a=Sv(a),Sv(s)===a}function Gc(){}function ht(s,a,o,u,h,y){switch(o){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Hr(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Hr(s,""+u);break;case"className":ir(s,"class",u);break;case"tabIndex":ir(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ir(s,o,u);break;case"style":Cg(s,u,y);break;case"data":if(a!=="object"){ir(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||o!=="href")){s.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=Wl(""+u),s.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(a!=="input"&&ht(s,a,"name",h.name,h,null),ht(s,a,"formEncType",h.formEncType,h,null),ht(s,a,"formMethod",h.formMethod,h,null),ht(s,a,"formTarget",h.formTarget,h,null)):(ht(s,a,"encType",h.encType,h,null),ht(s,a,"method",h.method,h,null),ht(s,a,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=Wl(""+u),s.setAttribute(o,u);break;case"onClick":u!=null&&(s.onclick=Gc);break;case"onScroll":u!=null&&Ye("scroll",s);break;case"onScrollEnd":u!=null&&Ye("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(r(60));s.innerHTML=o}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}o=Wl(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""+u):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":u===!0?s.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,u):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(o,u):s.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(o):s.setAttribute(o,u);break;case"popover":Ye("beforetoggle",s),Ye("toggle",s),$r(s,"popover",u);break;case"xlinkActuate":Ys(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ys(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ys(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ys(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ys(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ys(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ys(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ys(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ys(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":$r(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=kS.get(o)||o,$r(s,o,u))}}function rh(s,a,o,u,h,y){switch(o){case"style":Cg(s,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(r(60));s.innerHTML=o}}break;case"children":typeof u=="string"?Hr(s,u):(typeof u=="number"||typeof u=="bigint")&&Hr(s,""+u);break;case"onScroll":u!=null&&Ye("scroll",s);break;case"onScrollEnd":u!=null&&Ye("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Gc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Il.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),a=o.slice(2,h?o.length-7:void 0),y=s[it]||null,y=y!=null?y[o]:null,typeof y=="function"&&s.removeEventListener(a,y,h),typeof u=="function")){typeof y!="function"&&y!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(a,u,h);break e}o in s?s[o]=u:u===!0?s.setAttribute(o,""):$r(s,o,u)}}}function xs(s,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",s),Ye("load",s);var u=!1,h=!1,y;for(y in o)if(o.hasOwnProperty(y)){var j=o[y];if(j!=null)switch(y){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ht(s,a,y,j,o,null)}}h&&ht(s,a,"srcSet",o.srcSet,o,null),u&&ht(s,a,"src",o.src,o,null);return;case"input":Ye("invalid",s);var k=y=j=h=null,L=null,F=null;for(u in o)if(o.hasOwnProperty(u)){var ae=o[u];if(ae!=null)switch(u){case"name":h=ae;break;case"type":j=ae;break;case"checked":L=ae;break;case"defaultChecked":F=ae;break;case"value":y=ae;break;case"defaultValue":k=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,a));break;default:ht(s,a,u,ae,o,null)}}jg(s,y,k,L,F,j,h,!1),We(s);return;case"select":Ye("invalid",s),u=j=y=null;for(h in o)if(o.hasOwnProperty(h)&&(k=o[h],k!=null))switch(h){case"value":y=k;break;case"defaultValue":j=k;break;case"multiple":u=k;default:ht(s,a,h,k,o,null)}a=y,o=j,s.multiple=!!u,a!=null?Gr(s,!!u,a,!1):o!=null&&Gr(s,!!u,o,!0);return;case"textarea":Ye("invalid",s),y=h=u=null;for(j in o)if(o.hasOwnProperty(j)&&(k=o[j],k!=null))switch(j){case"value":u=k;break;case"defaultValue":h=k;break;case"children":y=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:ht(s,a,j,k,o,null)}Ng(s,u,h,y),We(s);return;case"option":for(L in o)if(o.hasOwnProperty(L)&&(u=o[L],u!=null))switch(L){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ht(s,a,L,u,o,null)}return;case"dialog":Ye("beforetoggle",s),Ye("toggle",s),Ye("cancel",s),Ye("close",s);break;case"iframe":case"object":Ye("load",s);break;case"video":case"audio":for(u=0;u<Bo.length;u++)Ye(Bo[u],s);break;case"image":Ye("error",s),Ye("load",s);break;case"details":Ye("toggle",s);break;case"embed":case"source":case"link":Ye("error",s),Ye("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in o)if(o.hasOwnProperty(F)&&(u=o[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ht(s,a,F,u,o,null)}return;default:if(bd(a)){for(ae in o)o.hasOwnProperty(ae)&&(u=o[ae],u!==void 0&&rh(s,a,ae,u,o,void 0));return}}for(k in o)o.hasOwnProperty(k)&&(u=o[k],u!=null&&ht(s,a,k,u,o,null))}function XN(s,a,o,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,y=null,j=null,k=null,L=null,F=null,ae=null;for(X in o){var le=o[X];if(o.hasOwnProperty(X)&&le!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":L=le;default:u.hasOwnProperty(X)||ht(s,a,X,null,u,le)}}for(var Y in u){var X=u[Y];if(le=o[Y],u.hasOwnProperty(Y)&&(X!=null||le!=null))switch(Y){case"type":y=X;break;case"name":h=X;break;case"checked":F=X;break;case"defaultChecked":ae=X;break;case"value":j=X;break;case"defaultValue":k=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,a));break;default:X!==le&&ht(s,a,Y,X,u,le)}}vd(s,j,k,L,F,ae,y,h);return;case"select":X=j=k=Y=null;for(y in o)if(L=o[y],o.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":X=L;default:u.hasOwnProperty(y)||ht(s,a,y,null,u,L)}for(h in u)if(y=u[h],L=o[h],u.hasOwnProperty(h)&&(y!=null||L!=null))switch(h){case"value":Y=y;break;case"defaultValue":k=y;break;case"multiple":j=y;default:y!==L&&ht(s,a,h,y,u,L)}a=k,o=j,u=X,Y!=null?Gr(s,!!o,Y,!1):!!u!=!!o&&(a!=null?Gr(s,!!o,a,!0):Gr(s,!!o,o?[]:"",!1));return;case"textarea":X=Y=null;for(k in o)if(h=o[k],o.hasOwnProperty(k)&&h!=null&&!u.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:ht(s,a,k,null,u,h)}for(j in u)if(h=u[j],y=o[j],u.hasOwnProperty(j)&&(h!=null||y!=null))switch(j){case"value":Y=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==y&&ht(s,a,j,h,u,y)}Sg(s,Y,X);return;case"option":for(var Le in o)if(Y=o[Le],o.hasOwnProperty(Le)&&Y!=null&&!u.hasOwnProperty(Le))switch(Le){case"selected":s.selected=!1;break;default:ht(s,a,Le,null,u,Y)}for(L in u)if(Y=u[L],X=o[L],u.hasOwnProperty(L)&&Y!==X&&(Y!=null||X!=null))switch(L){case"selected":s.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:ht(s,a,L,Y,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in o)Y=o[Me],o.hasOwnProperty(Me)&&Y!=null&&!u.hasOwnProperty(Me)&&ht(s,a,Me,null,u,Y);for(F in u)if(Y=u[F],X=o[F],u.hasOwnProperty(F)&&Y!==X&&(Y!=null||X!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,a));break;default:ht(s,a,F,Y,u,X)}return;default:if(bd(a)){for(var mt in o)Y=o[mt],o.hasOwnProperty(mt)&&Y!==void 0&&!u.hasOwnProperty(mt)&&rh(s,a,mt,void 0,u,Y);for(ae in u)Y=u[ae],X=o[ae],!u.hasOwnProperty(ae)||Y===X||Y===void 0&&X===void 0||rh(s,a,ae,Y,u,X);return}}for(var $ in o)Y=o[$],o.hasOwnProperty($)&&Y!=null&&!u.hasOwnProperty($)&&ht(s,a,$,null,u,Y);for(le in u)Y=u[le],X=o[le],!u.hasOwnProperty(le)||Y===X||Y==null&&X==null||ht(s,a,le,Y,u,X)}var ih=null,oh=null;function Hc(s){return s.nodeType===9?s:s.ownerDocument}function kv(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cv(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function lh(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var ch=null;function WN(){var s=window.event;return s&&s.type==="popstate"?s===ch?!1:(ch=s,!0):(ch=null,!1)}var Tv=typeof setTimeout=="function"?setTimeout:void 0,ZN=typeof clearTimeout=="function"?clearTimeout:void 0,Av=typeof Promise=="function"?Promise:void 0,JN=typeof queueMicrotask=="function"?queueMicrotask:typeof Av<"u"?function(s){return Av.resolve(null).then(s).catch(ek)}:Tv;function ek(s){setTimeout(function(){throw s})}function Va(s){return s==="head"}function Ev(s,a){var o=a,u=0,h=0;do{var y=o.nextSibling;if(s.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<u&&8>u){o=u;var j=s.ownerDocument;if(o&1&&Uo(j.documentElement),o&2&&Uo(j.body),o&4)for(o=j.head,Uo(o),j=o.firstChild;j;){var k=j.nextSibling,L=j.nodeName;j[Ot]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&j.rel.toLowerCase()==="stylesheet"||o.removeChild(j),j=k}}if(h===0){s.removeChild(y),Qo(a);return}h--}else o==="$"||o==="$?"||o==="$!"?h++:u=o.charCodeAt(0)-48;else u=0;o=y}while(o);Qo(a)}function uh(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":uh(o),Vr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function tk(s,a,o,u){for(;s.nodeType===1;){var h=o;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Ot])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==h.rel||s.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||s.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||s.getAttribute("title")!==(h.title==null?null:h.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(h.src==null?null:h.src)||s.getAttribute("type")!==(h.type==null?null:h.type)||s.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=h.name==null?null:""+h.name;if(h.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=Nn(s.nextSibling),s===null)break}return null}function sk(s,a,o){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=Nn(s.nextSibling),s===null))return null;return s}function dh(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function nk(s,a){var o=s.ownerDocument;if(s.data!=="$?"||o.readyState==="complete")a();else{var u=function(){a(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function Nn(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var fh=null;function Mv(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return s;a--}else o==="/$"&&a++}s=s.previousSibling}return null}function Rv(s,a,o){switch(a=Hc(o),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Uo(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Vr(s)}var pn=new Map,Pv=new Set;function Kc(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var fa=I.d;I.d={f:ak,r:rk,D:ik,C:ok,L:lk,m:ck,X:dk,S:uk,M:fk};function ak(){var s=fa.f(),a=Oc();return s||a}function rk(s){var a=Se(s);a!==null&&a.tag===5&&a.type==="form"?Z0(a):fa.r(s)}var xi=typeof document>"u"?null:document;function Lv(s,a,o){var u=xi;if(u&&typeof a=="string"&&a){var h=ln(a);h='link[rel="'+s+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),Pv.has(h)||(Pv.add(h),s={rel:s,crossOrigin:o,href:a},u.querySelector(h)===null&&(a=u.createElement("link"),xs(a,"link",s),It(a),u.head.appendChild(a)))}}function ik(s){fa.D(s),Lv("dns-prefetch",s,null)}function ok(s,a){fa.C(s,a),Lv("preconnect",s,a)}function lk(s,a,o){fa.L(s,a,o);var u=xi;if(u&&s&&a){var h='link[rel="preload"][as="'+ln(a)+'"]';a==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+ln(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+ln(o.imageSizes)+'"]')):h+='[href="'+ln(s)+'"]';var y=h;switch(a){case"style":y=bi(s);break;case"script":y=wi(s)}pn.has(y)||(s=g({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:s,as:a},o),pn.set(y,s),u.querySelector(h)!==null||a==="style"&&u.querySelector(Vo(y))||a==="script"&&u.querySelector($o(y))||(a=u.createElement("link"),xs(a,"link",s),It(a),u.head.appendChild(a)))}}function ck(s,a){fa.m(s,a);var o=xi;if(o&&s){var u=a&&typeof a.as=="string"?a.as:"script",h='link[rel="modulepreload"][as="'+ln(u)+'"][href="'+ln(s)+'"]',y=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=wi(s)}if(!pn.has(y)&&(s=g({rel:"modulepreload",href:s},a),pn.set(y,s),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector($o(y)))return}u=o.createElement("link"),xs(u,"link",s),It(u),o.head.appendChild(u)}}}function uk(s,a,o){fa.S(s,a,o);var u=xi;if(u&&s){var h=Yn(u).hoistableStyles,y=bi(s);a=a||"default";var j=h.get(y);if(!j){var k={loading:0,preload:null};if(j=u.querySelector(Vo(y)))k.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":a},o),(o=pn.get(y))&&hh(s,o);var L=j=u.createElement("link");It(L),xs(L,"link",s),L._p=new Promise(function(F,ae){L.onload=F,L.onerror=ae}),L.addEventListener("load",function(){k.loading|=1}),L.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Fc(j,a,u)}j={type:"stylesheet",instance:j,count:1,state:k},h.set(y,j)}}}function dk(s,a){fa.X(s,a);var o=xi;if(o&&s){var u=Yn(o).hoistableScripts,h=wi(s),y=u.get(h);y||(y=o.querySelector($o(h)),y||(s=g({src:s,async:!0},a),(a=pn.get(h))&&mh(s,a),y=o.createElement("script"),It(y),xs(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(h,y))}}function fk(s,a){fa.M(s,a);var o=xi;if(o&&s){var u=Yn(o).hoistableScripts,h=wi(s),y=u.get(h);y||(y=o.querySelector($o(h)),y||(s=g({src:s,async:!0,type:"module"},a),(a=pn.get(h))&&mh(s,a),y=o.createElement("script"),It(y),xs(y,"link",s),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(h,y))}}function _v(s,a,o,u){var h=(h=ve.current)?Kc(h):null;if(!h)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=bi(o.href),o=Yn(h).hoistableStyles,u=o.get(a),u||(u={type:"style",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=bi(o.href);var y=Yn(h).hoistableStyles,j=y.get(s);if(j||(h=h.ownerDocument||h,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,j),(y=h.querySelector(Vo(s)))&&!y._p&&(j.instance=y,j.state.loading=5),pn.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},pn.set(s,o),y||hk(h,s,o,j.state))),a&&u===null)throw Error(r(528,""));return j}if(a&&u!==null)throw Error(r(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=wi(o),o=Yn(h).hoistableScripts,u=o.get(a),u||(u={type:"script",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function bi(s){return'href="'+ln(s)+'"'}function Vo(s){return'link[rel="stylesheet"]['+s+"]"}function Dv(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function hk(s,a,o,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),xs(a,"link",o),It(a),s.head.appendChild(a))}function wi(s){return'[src="'+ln(s)+'"]'}function $o(s){return"script[async]"+s}function Ov(s,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+ln(o.href)+'"]');if(u)return a.instance=u,It(u),u;var h=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),It(u),xs(u,"style",h),Fc(u,o.precedence,s),a.instance=u;case"stylesheet":h=bi(o.href);var y=s.querySelector(Vo(h));if(y)return a.state.loading|=4,a.instance=y,It(y),y;u=Dv(o),(h=pn.get(h))&&hh(u,h),y=(s.ownerDocument||s).createElement("link"),It(y);var j=y;return j._p=new Promise(function(k,L){j.onload=k,j.onerror=L}),xs(y,"link",u),a.state.loading|=4,Fc(y,o.precedence,s),a.instance=y;case"script":return y=wi(o.src),(h=s.querySelector($o(y)))?(a.instance=h,It(h),h):(u=o,(h=pn.get(y))&&(u=g({},o),mh(u,h)),s=s.ownerDocument||s,h=s.createElement("script"),It(h),xs(h,"link",u),s.head.appendChild(h),a.instance=h);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Fc(u,o.precedence,s));return a.instance}function Fc(s,a,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,y=h,j=0;j<u.length;j++){var k=u[j];if(k.dataset.precedence===a)y=k;else if(y!==h)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(s,a.firstChild))}function hh(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function mh(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Ic=null;function zv(s,a,o){if(Ic===null){var u=new Map,h=Ic=new Map;h.set(o,u)}else h=Ic,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(s))return u;for(u.set(s,null),o=o.getElementsByTagName(s),h=0;h<o.length;h++){var y=o[h];if(!(y[Ot]||y[Ie]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var j=y.getAttribute(a)||"";j=s+j;var k=u.get(j);k?k.push(y):u.set(j,[y])}}return u}function Bv(s,a,o){s=s.ownerDocument||s,s.head.insertBefore(o,a==="title"?s.querySelector("head > title"):null)}function mk(s,a,o){if(o===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function qv(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Go=null;function pk(){}function gk(s,a,o){if(Go===null)throw Error(r(475));var u=Go;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=bi(o.href),y=s.querySelector(Vo(h));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(u.count++,u=Qc.bind(u),s.then(u,u)),a.state.loading|=4,a.instance=y,It(y);return}y=s.ownerDocument||s,o=Dv(o),(h=pn.get(h))&&hh(o,h),y=y.createElement("link"),It(y);var j=y;j._p=new Promise(function(k,L){j.onload=k,j.onerror=L}),xs(y,"link",o),a.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=Qc.bind(u),s.addEventListener("load",a),s.addEventListener("error",a))}}function yk(){if(Go===null)throw Error(r(475));var s=Go;return s.stylesheets&&s.count===0&&ph(s,s.stylesheets),0<s.count?function(a){var o=setTimeout(function(){if(s.stylesheets&&ph(s,s.stylesheets),s.unsuspend){var u=s.unsuspend;s.unsuspend=null,u()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(o)}}:null}function Qc(){if(this.count--,this.count===0){if(this.stylesheets)ph(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Yc=null;function ph(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Yc=new Map,a.forEach(vk,s),Yc=null,Qc.call(s))}function vk(s,a){if(!(a.state.loading&4)){var o=Yc.get(s);if(o)var u=o.get(null);else{o=new Map,Yc.set(s,o);for(var h=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<h.length;y++){var j=h[y];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(o.set(j.dataset.precedence,j),u=j)}u&&o.set(null,u)}h=a.instance,j=h.getAttribute("data-precedence"),y=o.get(j)||u,y===u&&o.set(null,h),o.set(j,h),this.count++,u=Qc.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),y?y.parentNode.insertBefore(h,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(h,s.firstChild)),a.state.loading|=4}}var Ho={$$typeof:E,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function xk(s,a,o,u,h,y,j,k){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ar(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ar(0),this.hiddenUpdates=ar(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=y,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function Uv(s,a,o,u,h,y,j,k,L,F,ae,le){return s=new xk(s,a,o,j,k,L,F,le),a=1,y===!0&&(a|=24),y=Ws(3,null,null,a),s.current=y,y.stateNode=s,a=Yd(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:a},Jd(y),s}function Vv(s){return s?(s=Zr,s):Zr}function $v(s,a,o,u,h,y){h=Vv(h),u.context===null?u.context=h:u.pendingContext=h,u=Aa(a),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=Ea(s,u,a),o!==null&&(sn(o,s,a),bo(o,s,a))}function Gv(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<a?o:a}}function gh(s,a){Gv(s,a),(s=s.alternate)&&Gv(s,a)}function Hv(s){if(s.tag===13){var a=Wr(s,67108864);a!==null&&sn(a,s,67108864),gh(s,67108864)}}var Xc=!0;function bk(s,a,o,u){var h=G.T;G.T=null;var y=I.p;try{I.p=2,yh(s,a,o,u)}finally{I.p=y,G.T=h}}function wk(s,a,o,u){var h=G.T;G.T=null;var y=I.p;try{I.p=8,yh(s,a,o,u)}finally{I.p=y,G.T=h}}function yh(s,a,o,u){if(Xc){var h=vh(u);if(h===null)ah(s,a,u,Wc,o),Fv(s,u);else if(Sk(h,s,a,o,u))u.stopPropagation();else if(Fv(s,u),a&4&&-1<jk.indexOf(s)){for(;h!==null;){var y=Se(h);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var j=Lt(y.pendingLanes);if(j!==0){var k=y;for(k.pendingLanes|=2,k.entangledLanes|=2;j;){var L=1<<31-pt(j);k.entanglements[1]|=L,j&=~L}Vn(y),(lt&6)===0&&(_c=dt()+500,zo(0))}}break;case 13:k=Wr(y,2),k!==null&&sn(k,y,2),Oc(),gh(y,2)}if(y=vh(u),y===null&&ah(s,a,u,Wc,o),y===h)break;h=y}h!==null&&u.stopPropagation()}else ah(s,a,u,null,o)}}function vh(s){return s=jd(s),xh(s)}var Wc=null;function xh(s){if(Wc=null,s=Qn(s),s!==null){var a=c(s);if(a===null)s=null;else{var o=a.tag;if(o===13){if(s=d(a),s!==null)return s;s=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Wc=s,null}function Kv(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ps()){case me:return 2;case ie:return 8;case pe:case Ae:return 32;case Ee:return 268435456;default:return 32}default:return 32}}var bh=!1,$a=null,Ga=null,Ha=null,Ko=new Map,Fo=new Map,Ka=[],jk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fv(s,a){switch(s){case"focusin":case"focusout":$a=null;break;case"dragenter":case"dragleave":Ga=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":Ko.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fo.delete(a.pointerId)}}function Io(s,a,o,u,h,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[h]},a!==null&&(a=Se(a),a!==null&&Hv(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,h!==null&&a.indexOf(h)===-1&&a.push(h),s)}function Sk(s,a,o,u,h){switch(a){case"focusin":return $a=Io($a,s,a,o,u,h),!0;case"dragenter":return Ga=Io(Ga,s,a,o,u,h),!0;case"mouseover":return Ha=Io(Ha,s,a,o,u,h),!0;case"pointerover":var y=h.pointerId;return Ko.set(y,Io(Ko.get(y)||null,s,a,o,u,h)),!0;case"gotpointercapture":return y=h.pointerId,Fo.set(y,Io(Fo.get(y)||null,s,a,o,u,h)),!0}return!1}function Iv(s){var a=Qn(s.target);if(a!==null){var o=c(a);if(o!==null){if(a=o.tag,a===13){if(a=d(o),a!==null){s.blockedOn=a,W(s.priority,function(){if(o.tag===13){var u=tn();u=os(u);var h=Wr(o,u);h!==null&&sn(h,o,u),gh(o,u)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Zc(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var o=vh(s.nativeEvent);if(o===null){o=s.nativeEvent;var u=new o.constructor(o.type,o);wd=u,o.target.dispatchEvent(u),wd=null}else return a=Se(o),a!==null&&Hv(a),s.blockedOn=o,!1;a.shift()}return!0}function Qv(s,a,o){Zc(s)&&o.delete(a)}function Nk(){bh=!1,$a!==null&&Zc($a)&&($a=null),Ga!==null&&Zc(Ga)&&(Ga=null),Ha!==null&&Zc(Ha)&&(Ha=null),Ko.forEach(Qv),Fo.forEach(Qv)}function Jc(s,a){s.blockedOn===a&&(s.blockedOn=null,bh||(bh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Nk)))}var eu=null;function Yv(s){eu!==s&&(eu=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){eu===s&&(eu=null);for(var a=0;a<s.length;a+=3){var o=s[a],u=s[a+1],h=s[a+2];if(typeof u!="function"){if(xh(u||o)===null)continue;break}var y=Se(o);y!==null&&(s.splice(a,3),a-=3,xf(y,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function Qo(s){function a(L){return Jc(L,s)}$a!==null&&Jc($a,s),Ga!==null&&Jc(Ga,s),Ha!==null&&Jc(Ha,s),Ko.forEach(a),Fo.forEach(a);for(var o=0;o<Ka.length;o++){var u=Ka[o];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Ka.length&&(o=Ka[0],o.blockedOn===null);)Iv(o),o.blockedOn===null&&Ka.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],y=o[u+1],j=h[it]||null;if(typeof y=="function")j||Yv(o);else if(j){var k=null;if(y&&y.hasAttribute("formAction")){if(h=y,j=y[it]||null)k=j.formAction;else if(xh(h)!==null)continue}else k=j.action;typeof k=="function"?o[u+1]=k:(o.splice(u,3),u-=3),Yv(o)}}}function wh(s){this._internalRoot=s}tu.prototype.render=wh.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var o=a.current,u=tn();$v(o,u,s,a,null,null)},tu.prototype.unmount=wh.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;$v(s.current,2,null,s,null,null),Oc(),a[ue]=null}};function tu(s){this._internalRoot=s}tu.prototype.unstable_scheduleHydration=function(s){if(s){var a=Ms();s={blockedOn:null,target:s,priority:a};for(var o=0;o<Ka.length&&a!==0&&a<Ka[o].priority;o++);Ka.splice(o,0,s),o===0&&Iv(s)}};var Xv=t.version;if(Xv!=="19.1.1")throw Error(r(527,Xv,"19.1.1"));I.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=m(a),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var kk={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!su.isDisabled&&su.supportsFiber)try{Ue=su.inject(kk),Ge=su}catch{}}return Xo.createRoot=function(s,a){if(!l(s))throw Error(r(299));var o=!1,u="",h=fy,y=hy,j=my,k=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(j=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(k=a.unstable_transitionCallbacks)),a=Uv(s,1,!1,null,null,o,u,h,y,j,k,null),s[ue]=a.current,nh(s),new wh(a)},Xo.hydrateRoot=function(s,a,o){if(!l(s))throw Error(r(299));var u=!1,h="",y=fy,j=hy,k=my,L=null,F=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(j=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(L=o.unstable_transitionCallbacks),o.formState!==void 0&&(F=o.formState)),a=Uv(s,1,!0,a,o??null,u,h,y,j,k,L,F),a.context=Vv(null),o=a.current,u=tn(),u=os(u),h=Aa(u),h.callback=null,Ea(o,h,u),o=u,a.current.lanes=o,Tt(a,o),Vn(a),s[ue]=a.current,nh(s),new tu(a)},Xo.version="19.1.1",Xo}var ix;function Ok(){if(ix)return Nh.exports;ix=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Nh.exports=Dk(),Nh.exports}var zk=Ok();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ox="popstate";function Bk(e={}){function t(r,l){let{pathname:c,search:d,hash:f}=r.location;return mm("",{pathname:c,search:d,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:gl(l)}return Uk(t,n,null,e)}function Rt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function qk(){return Math.random().toString(36).substring(2,10)}function lx(e,t){return{usr:e.state,key:e.key,idx:t}}function mm(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?qi(t):t,state:n,key:t&&t.key||r||qk()}}function gl({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function qi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Uk(e,t,n,r={}){let{window:l=document.defaultView,v5Compat:c=!1}=r,d=l.history,f="POP",m=null,p=g();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function g(){return(d.state||{idx:null}).idx}function v(){f="POP";let T=g(),A=T==null?null:T-p;p=T,m&&m({action:f,location:N.location,delta:A})}function b(T,A){f="PUSH";let C=mm(N.location,T,A);p=g()+1;let E=lx(C,p),_=N.createHref(C);try{d.pushState(E,"",_)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;l.location.assign(_)}c&&m&&m({action:f,location:N.location,delta:1})}function w(T,A){f="REPLACE";let C=mm(N.location,T,A);p=g();let E=lx(C,p),_=N.createHref(C);d.replaceState(E,"",_),c&&m&&m({action:f,location:N.location,delta:0})}function S(T){return Vk(T)}let N={get action(){return f},get location(){return e(l,d)},listen(T){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(ox,v),m=T,()=>{l.removeEventListener(ox,v),m=null}},createHref(T){return t(l,T)},createURL:S,encodeLocation(T){let A=S(T);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:b,replace:w,go(T){return d.go(T)}};return N}function Vk(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Rt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:gl(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function q1(e,t,n="/"){return $k(e,t,n,!1)}function $k(e,t,n,r){let l=typeof t=="string"?qi(t):t,c=va(l.pathname||"/",n);if(c==null)return null;let d=U1(e);Gk(d);let f=null;for(let m=0;f==null&&m<d.length;++m){let p=eC(c);f=Zk(d[m],p,r)}return f}function U1(e,t=[],n=[],r="",l=!1){let c=(d,f,m=l,p)=>{let g={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&m)return;Rt(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let v=ya([r,g.relativePath]),b=n.concat(g);d.children&&d.children.length>0&&(Rt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),U1(d.children,t,b,v,m)),!(d.path==null&&!d.index)&&t.push({path:v,score:Xk(v,d.index),routesMeta:b})};return e.forEach((d,f)=>{if(d.path===""||!d.path?.includes("?"))c(d,f);else for(let m of V1(d.path))c(d,f,!0,m)}),t}function V1(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),c=n.replace(/\?$/,"");if(r.length===0)return l?[c,""]:[c];let d=V1(r.join("/")),f=[];return f.push(...d.map(m=>m===""?c:[c,m].join("/"))),l&&f.push(...d),f.map(m=>e.startsWith("/")&&m===""?"/":m)}function Gk(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Wk(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Hk=/^:[\w-]+$/,Kk=3,Fk=2,Ik=1,Qk=10,Yk=-2,cx=e=>e==="*";function Xk(e,t){let n=e.split("/"),r=n.length;return n.some(cx)&&(r+=Yk),t&&(r+=Fk),n.filter(l=>!cx(l)).reduce((l,c)=>l+(Hk.test(c)?Kk:c===""?Ik:Qk),r)}function Wk(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function Zk(e,t,n=!1){let{routesMeta:r}=e,l={},c="/",d=[];for(let f=0;f<r.length;++f){let m=r[f],p=f===r.length-1,g=c==="/"?t:t.slice(c.length)||"/",v=Pu({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},g),b=m.route;if(!v&&p&&n&&!r[r.length-1].route.index&&(v=Pu({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},g)),!v)return null;Object.assign(l,v.params),d.push({params:l,pathname:ya([c,v.pathname]),pathnameBase:aC(ya([c,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(c=ya([c,v.pathnameBase]))}return d}function Pu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Jk(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let c=l[0],d=c.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:v},b)=>{if(g==="*"){let S=f[b]||"";d=c.slice(0,c.length-S.length).replace(/(.)\/+$/,"$1")}const w=f[b];return v&&!w?p[g]=void 0:p[g]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:d,pattern:e}}function Jk(e,t=!1,n=!0){wn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,m)=>(r.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function eC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function va(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function tC(e,t="/"){let{pathname:n,search:r="",hash:l=""}=typeof e=="string"?qi(e):e;return{pathname:n?n.startsWith("/")?n:sC(n,t):t,search:rC(r),hash:iC(l)}}function sC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Ah(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nC(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function lp(e){let t=nC(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function cp(e,t,n,r=!1){let l;typeof e=="string"?l=qi(e):(l={...e},Rt(!l.pathname||!l.pathname.includes("?"),Ah("?","pathname","search",l)),Rt(!l.pathname||!l.pathname.includes("#"),Ah("#","pathname","hash",l)),Rt(!l.search||!l.search.includes("#"),Ah("#","search","hash",l)));let c=e===""||l.pathname==="",d=c?"/":l.pathname,f;if(d==null)f=n;else{let v=t.length-1;if(!r&&d.startsWith("..")){let b=d.split("/");for(;b[0]==="..";)b.shift(),v-=1;l.pathname=b.join("/")}f=v>=0?t[v]:"/"}let m=tC(l,f),p=d&&d!=="/"&&d.endsWith("/"),g=(c||d===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||g)&&(m.pathname+="/"),m}var ya=e=>e.join("/").replace(/\/\/+/g,"/"),aC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),rC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,iC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function oC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var $1=["POST","PUT","PATCH","DELETE"];new Set($1);var lC=["GET",...$1];new Set(lC);var Ui=x.createContext(null);Ui.displayName="DataRouter";var Yu=x.createContext(null);Yu.displayName="DataRouterState";x.createContext(!1);var G1=x.createContext({isTransitioning:!1});G1.displayName="ViewTransition";var cC=x.createContext(new Map);cC.displayName="Fetchers";var uC=x.createContext(null);uC.displayName="Await";var En=x.createContext(null);En.displayName="Navigation";var Pl=x.createContext(null);Pl.displayName="Location";var Mn=x.createContext({outlet:null,matches:[],isDataRoute:!1});Mn.displayName="Route";var up=x.createContext(null);up.displayName="RouteError";function dC(e,{relative:t}={}){Rt(Vi(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(En),{hash:l,pathname:c,search:d}=Ll(e,{relative:t}),f=c;return n!=="/"&&(f=c==="/"?n:ya([n,c])),r.createHref({pathname:f,search:d,hash:l})}function Vi(){return x.useContext(Pl)!=null}function Rn(){return Rt(Vi(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Pl).location}var H1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function K1(e){x.useContext(En).static||x.useLayoutEffect(e)}function ja(){let{isDataRoute:e}=x.useContext(Mn);return e?kC():fC()}function fC(){Rt(Vi(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(Ui),{basename:t,navigator:n}=x.useContext(En),{matches:r}=x.useContext(Mn),{pathname:l}=Rn(),c=JSON.stringify(lp(r)),d=x.useRef(!1);return K1(()=>{d.current=!0}),x.useCallback((m,p={})=>{if(wn(d.current,H1),!d.current)return;if(typeof m=="number"){n.go(m);return}let g=cp(m,JSON.parse(c),l,p.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:ya([t,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[t,n,c,l,e])}x.createContext(null);function hC(){let{matches:e}=x.useContext(Mn),t=e[e.length-1];return t?t.params:{}}function Ll(e,{relative:t}={}){let{matches:n}=x.useContext(Mn),{pathname:r}=Rn(),l=JSON.stringify(lp(n));return x.useMemo(()=>cp(e,JSON.parse(l),r,t==="path"),[e,l,r,t])}function mC(e,t){return F1(e,t)}function F1(e,t,n,r,l){Rt(Vi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=x.useContext(En),{matches:d}=x.useContext(Mn),f=d[d.length-1],m=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",v=f&&f.route;{let C=v&&v.path||"";I1(p,!v||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let b=Rn(),w;if(t){let C=typeof t=="string"?qi(t):t;Rt(g==="/"||C.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${C.pathname}" was given in the \`location\` prop.`),w=C}else w=b;let S=w.pathname||"/",N=S;if(g!=="/"){let C=g.replace(/^\//,"").split("/");N="/"+S.replace(/^\//,"").split("/").slice(C.length).join("/")}let T=q1(e,{pathname:N});wn(v||T!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),wn(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=xC(T&&T.map(C=>Object.assign({},C,{params:Object.assign({},m,C.params),pathname:ya([g,c.encodeLocation?c.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?g:ya([g,c.encodeLocation?c.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),d,n,r,l);return t&&A?x.createElement(Pl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},A):A}function pC(){let e=NC(),t=oC(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",e),d=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:c},"ErrorBoundary")," or"," ",x.createElement("code",{style:c},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:l},n):null,d)}var gC=x.createElement(pC,null),yC=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?x.createElement(Mn.Provider,{value:this.props.routeContext},x.createElement(up.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vC({routeContext:e,match:t,children:n}){let r=x.useContext(Ui);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(Mn.Provider,{value:e},n)}function xC(e,t=[],n=null,r=null,l=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let c=e,d=n?.errors;if(d!=null){let p=c.findIndex(g=>g.route.id&&d?.[g.route.id]!==void 0);Rt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<c.length;p++){let g=c[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:v,errors:b}=n,w=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||w){f=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((p,g,v)=>{let b,w=!1,S=null,N=null;n&&(b=d&&g.route.id?d[g.route.id]:void 0,S=g.route.errorElement||gC,f&&(m<0&&v===0?(I1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,N=null):m===v&&(w=!0,N=g.route.hydrateFallbackElement||null)));let T=t.concat(c.slice(0,v+1)),A=()=>{let C;return b?C=S:w?C=N:g.route.Component?C=x.createElement(g.route.Component,null):g.route.element?C=g.route.element:C=p,x.createElement(vC,{match:g,routeContext:{outlet:p,matches:T,isDataRoute:n!=null},children:C})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?x.createElement(yC,{location:n.location,revalidation:n.revalidation,component:S,error:b,children:A(),routeContext:{outlet:null,matches:T,isDataRoute:!0},unstable_onError:r}):A()},null)}function dp(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bC(e){let t=x.useContext(Ui);return Rt(t,dp(e)),t}function wC(e){let t=x.useContext(Yu);return Rt(t,dp(e)),t}function jC(e){let t=x.useContext(Mn);return Rt(t,dp(e)),t}function fp(e){let t=jC(e),n=t.matches[t.matches.length-1];return Rt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function SC(){return fp("useRouteId")}function NC(){let e=x.useContext(up),t=wC("useRouteError"),n=fp("useRouteError");return e!==void 0?e:t.errors?.[n]}function kC(){let{router:e}=bC("useNavigate"),t=fp("useNavigate"),n=x.useRef(!1);return K1(()=>{n.current=!0}),x.useCallback(async(l,c={})=>{wn(n.current,H1),n.current&&(typeof l=="number"?e.navigate(l):await e.navigate(l,{fromRouteId:t,...c}))},[e,t])}var ux={};function I1(e,t,n){!t&&!ux[e]&&(ux[e]=!0,wn(!1,n))}x.memo(CC);function CC({routes:e,future:t,state:n,unstable_onError:r}){return F1(e,void 0,n,r,t)}function ol({to:e,replace:t,state:n,relative:r}){Rt(Vi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=x.useContext(En);wn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=x.useContext(Mn),{pathname:d}=Rn(),f=ja(),m=cp(e,lp(c),d,r==="path"),p=JSON.stringify(m);return x.useEffect(()=>{f(JSON.parse(p),{replace:t,state:n,relative:r})},[f,p,r,t,n]),null}function Cs(e){Rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TC({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:l,static:c=!1}){Rt(!Vi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),f=x.useMemo(()=>({basename:d,navigator:l,static:c,future:{}}),[d,l,c]);typeof n=="string"&&(n=qi(n));let{pathname:m="/",search:p="",hash:g="",state:v=null,key:b="default"}=n,w=x.useMemo(()=>{let S=va(m,d);return S==null?null:{location:{pathname:S,search:p,hash:g,state:v,key:b},navigationType:r}},[d,m,p,g,v,b,r]);return wn(w!=null,`<Router basename="${d}"> is not able to match the URL "${m}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:x.createElement(En.Provider,{value:f},x.createElement(Pl.Provider,{children:t,value:w}))}function AC({children:e,location:t}){return mC(pm(e),t)}function pm(e,t=[]){let n=[];return x.Children.forEach(e,(r,l)=>{if(!x.isValidElement(r))return;let c=[...t,l];if(r.type===x.Fragment){n.push.apply(n,pm(r.props.children,c));return}Rt(r.type===Cs,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Rt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=pm(r.props.children,c)),n.push(d)}),n}var vu="get",xu="application/x-www-form-urlencoded";function Xu(e){return e!=null&&typeof e.tagName=="string"}function EC(e){return Xu(e)&&e.tagName.toLowerCase()==="button"}function MC(e){return Xu(e)&&e.tagName.toLowerCase()==="form"}function RC(e){return Xu(e)&&e.tagName.toLowerCase()==="input"}function PC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function LC(e,t){return e.button===0&&(!t||t==="_self")&&!PC(e)}function gm(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(l=>[n,l]):[[n,r]])},[]))}function _C(e,t){let n=gm(e);return t&&t.forEach((r,l)=>{n.has(l)||t.getAll(l).forEach(c=>{n.append(l,c)})}),n}var nu=null;function DC(){if(nu===null)try{new FormData(document.createElement("form"),0),nu=!1}catch{nu=!0}return nu}var OC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Eh(e){return e!=null&&!OC.has(e)?(wn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xu}"`),null):e}function zC(e,t){let n,r,l,c,d;if(MC(e)){let f=e.getAttribute("action");r=f?va(f,t):null,n=e.getAttribute("method")||vu,l=Eh(e.getAttribute("enctype"))||xu,c=new FormData(e)}else if(EC(e)||RC(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||f.getAttribute("action");if(r=m?va(m,t):null,n=e.getAttribute("formmethod")||f.getAttribute("method")||vu,l=Eh(e.getAttribute("formenctype"))||Eh(f.getAttribute("enctype"))||xu,c=new FormData(f,e),!DC()){let{name:p,type:g,value:v}=e;if(g==="image"){let b=p?`${p}.`:"";c.append(`${b}x`,"0"),c.append(`${b}y`,"0")}else p&&c.append(p,v)}}else{if(Xu(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=vu,r=null,l=xu,d=e}return c&&l==="text/plain"&&(d=c,c=void 0),{action:r,method:n.toLowerCase(),encType:l,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hp(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function BC(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&va(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function qC(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UC(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function VC(e,t,n){let r=await Promise.all(e.map(async l=>{let c=t.routes[l.route.id];if(c){let d=await qC(c,n);return d.links?d.links():[]}return[]}));return KC(r.flat(1).filter(UC).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function dx(e,t,n,r,l,c){let d=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return c==="assets"?t.filter((m,p)=>d(m,p)||f(m,p)):c==="data"?t.filter((m,p)=>{let g=r.routes[m.route.id];if(!g||!g.hasLoader)return!1;if(d(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let v=m.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function $C(e,t,{includeHydrateFallback:n}={}){return GC(e.map(r=>{let l=t.routes[r.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function GC(e){return[...new Set(e)]}function HC(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function KC(e,t){let n=new Set;return new Set(t),e.reduce((r,l)=>{let c=JSON.stringify(HC(l));return n.has(c)||(n.add(c),r.push({key:c,link:l})),r},[])}function Q1(){let e=x.useContext(Ui);return hp(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function FC(){let e=x.useContext(Yu);return hp(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var mp=x.createContext(void 0);mp.displayName="FrameworkContext";function Y1(){let e=x.useContext(mp);return hp(e,"You must render this element inside a <HydratedRouter> element"),e}function IC(e,t){let n=x.useContext(mp),[r,l]=x.useState(!1),[c,d]=x.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:g,onTouchStart:v}=t,b=x.useRef(null);x.useEffect(()=>{if(e==="render"&&d(!0),e==="viewport"){let N=A=>{A.forEach(C=>{d(C.isIntersecting)})},T=new IntersectionObserver(N,{threshold:.5});return b.current&&T.observe(b.current),()=>{T.disconnect()}}},[e]),x.useEffect(()=>{if(r){let N=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(N)}}},[r]);let w=()=>{l(!0)},S=()=>{l(!1),d(!1)};return n?e!=="intent"?[c,b,{}]:[c,b,{onFocus:Wo(f,w),onBlur:Wo(m,S),onMouseEnter:Wo(p,w),onMouseLeave:Wo(g,S),onTouchStart:Wo(v,w)}]:[!1,b,{}]}function Wo(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function QC({page:e,...t}){let{router:n}=Q1(),r=x.useMemo(()=>q1(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?x.createElement(XC,{page:e,matches:r,...t}):null}function YC(e){let{manifest:t,routeModules:n}=Y1(),[r,l]=x.useState([]);return x.useEffect(()=>{let c=!1;return VC(e,t,n).then(d=>{c||l(d)}),()=>{c=!0}},[e,t,n]),r}function XC({page:e,matches:t,...n}){let r=Rn(),{manifest:l,routeModules:c}=Y1(),{basename:d}=Q1(),{loaderData:f,matches:m}=FC(),p=x.useMemo(()=>dx(e,t,m,l,r,"data"),[e,t,m,l,r]),g=x.useMemo(()=>dx(e,t,m,l,r,"assets"),[e,t,m,l,r]),v=x.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let S=new Set,N=!1;if(t.forEach(A=>{let C=l.routes[A.route.id];!C||!C.hasLoader||(!p.some(E=>E.route.id===A.route.id)&&A.route.id in f&&c[A.route.id]?.shouldRevalidate||C.hasClientLoader?N=!0:S.add(A.route.id))}),S.size===0)return[];let T=BC(e,d,"data");return N&&S.size>0&&T.searchParams.set("_routes",t.filter(A=>S.has(A.route.id)).map(A=>A.route.id).join(",")),[T.pathname+T.search]},[d,f,r,l,p,t,e,c]),b=x.useMemo(()=>$C(g,l),[g,l]),w=YC(g);return x.createElement(x.Fragment,null,v.map(S=>x.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),b.map(S=>x.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),w.map(({key:S,link:N})=>x.createElement("link",{key:S,nonce:n.nonce,...N})))}function WC(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var X1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{X1&&(window.__reactRouterVersion="7.8.2")}catch{}function ZC({basename:e,children:t,window:n}){let r=x.useRef();r.current==null&&(r.current=Bk({window:n,v5Compat:!0}));let l=r.current,[c,d]=x.useState({action:l.action,location:l.location}),f=x.useCallback(m=>{x.startTransition(()=>d(m))},[d]);return x.useLayoutEffect(()=>l.listen(f),[l,f]),x.createElement(TC,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l})}var W1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gn=x.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:l,reloadDocument:c,replace:d,state:f,target:m,to:p,preventScrollReset:g,viewTransition:v,...b},w){let{basename:S}=x.useContext(En),N=typeof p=="string"&&W1.test(p),T,A=!1;if(typeof p=="string"&&N&&(T=p,X1))try{let q=new URL(window.location.href),U=p.startsWith("//")?new URL(q.protocol+p):new URL(p),Q=va(U.pathname,S);U.origin===q.origin&&Q!=null?p=Q+U.search+U.hash:A=!0}catch{wn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=dC(p,{relative:l}),[E,_,R]=IC(r,b),O=s3(p,{replace:d,state:f,target:m,preventScrollReset:g,relative:l,viewTransition:v});function z(q){t&&t(q),q.defaultPrevented||O(q)}let P=x.createElement("a",{...b,...R,href:T||C,onClick:A||c?t:z,ref:WC(w,_),target:m,"data-discover":!N&&n==="render"?"true":void 0});return E&&!N?x.createElement(x.Fragment,null,P,x.createElement(QC,{page:C})):P});Gn.displayName="Link";var JC=x.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:l=!1,style:c,to:d,viewTransition:f,children:m,...p},g){let v=Ll(d,{relative:p.relative}),b=Rn(),w=x.useContext(Yu),{navigator:S,basename:N}=x.useContext(En),T=w!=null&&o3(v)&&f===!0,A=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,C=b.pathname,E=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(C=C.toLowerCase(),E=E?E.toLowerCase():null,A=A.toLowerCase()),E&&N&&(E=va(E,N)||E);const _=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let R=C===A||!l&&C.startsWith(A)&&C.charAt(_)==="/",O=E!=null&&(E===A||!l&&E.startsWith(A)&&E.charAt(A.length)==="/"),z={isActive:R,isPending:O,isTransitioning:T},P=R?t:void 0,q;typeof r=="function"?q=r(z):q=[r,R?"active":null,O?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let U=typeof c=="function"?c(z):c;return x.createElement(Gn,{...p,"aria-current":P,className:q,ref:g,style:U,to:d,viewTransition:f},typeof m=="function"?m(z):m)});JC.displayName="NavLink";var e3=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:l,state:c,method:d=vu,action:f,onSubmit:m,relative:p,preventScrollReset:g,viewTransition:v,...b},w)=>{let S=r3(),N=i3(f,{relative:p}),T=d.toLowerCase()==="get"?"get":"post",A=typeof f=="string"&&W1.test(f),C=E=>{if(m&&m(E),E.defaultPrevented)return;E.preventDefault();let _=E.nativeEvent.submitter,R=_?.getAttribute("formmethod")||d;S(_||E.currentTarget,{fetcherKey:t,method:R,navigate:n,replace:l,state:c,relative:p,preventScrollReset:g,viewTransition:v})};return x.createElement("form",{ref:w,method:T,action:N,onSubmit:r?m:C,...b,"data-discover":!A&&e==="render"?"true":void 0})});e3.displayName="Form";function t3(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z1(e){let t=x.useContext(Ui);return Rt(t,t3(e)),t}function s3(e,{target:t,replace:n,state:r,preventScrollReset:l,relative:c,viewTransition:d}={}){let f=ja(),m=Rn(),p=Ll(e,{relative:c});return x.useCallback(g=>{if(LC(g,t)){g.preventDefault();let v=n!==void 0?n:gl(m)===gl(p);f(e,{replace:v,state:r,preventScrollReset:l,relative:c,viewTransition:d})}},[m,f,p,n,r,t,e,l,c,d])}function pp(e){wn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=x.useRef(gm(e)),n=x.useRef(!1),r=Rn(),l=x.useMemo(()=>_C(r.search,n.current?null:t.current),[r.search]),c=ja(),d=x.useCallback((f,m)=>{const p=gm(typeof f=="function"?f(new URLSearchParams(l)):f);n.current=!0,c("?"+p,m)},[c,l]);return[l,d]}var n3=0,a3=()=>`__${String(++n3)}__`;function r3(){let{router:e}=Z1("useSubmit"),{basename:t}=x.useContext(En),n=SC();return x.useCallback(async(r,l={})=>{let{action:c,method:d,encType:f,formData:m,body:p}=zC(r,t);if(l.navigate===!1){let g=l.fetcherKey||a3();await e.fetch(g,n,l.action||c,{preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await e.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:m,body:p,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[e,t,n])}function i3(e,{relative:t}={}){let{basename:n}=x.useContext(En),r=x.useContext(Mn);Rt(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),c={...Ll(e||".",{relative:t})},d=Rn();if(e==null){c.search=d.search;let f=new URLSearchParams(c.search),m=f.getAll("index");if(m.some(g=>g==="")){f.delete("index"),m.filter(v=>v).forEach(v=>f.append("index",v));let g=f.toString();c.search=g?`?${g}`:""}}return(!e||e===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:ya([n,c.pathname])),gl(c)}function o3(e,{relative:t}={}){let n=x.useContext(G1);Rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Z1("useViewTransitionState"),l=Ll(e,{relative:t});if(!n.isTransitioning)return!1;let c=va(n.currentLocation.pathname,r)||n.currentLocation.pathname,d=va(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Pu(l.pathname,d)!=null||Pu(l.pathname,c)!=null}var sl=B1(),Wu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Zu=typeof window>"u"||"Deno"in globalThis;function Tn(){}function l3(e,t){return typeof e=="function"?e(t):e}function c3(e){return typeof e=="number"&&e>=0&&e!==1/0}function u3(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ym(e,t){return typeof e=="function"?e(t):e}function d3(e,t){return typeof e=="function"?e(t):e}function fx(e,t){const{type:n="all",exact:r,fetchStatus:l,predicate:c,queryKey:d,stale:f}=e;if(d){if(r){if(t.queryHash!==gp(d,t.options))return!1}else if(!vl(t.queryKey,d))return!1}if(n!=="all"){const m=t.isActive();if(n==="active"&&!m||n==="inactive"&&m)return!1}return!(typeof f=="boolean"&&t.isStale()!==f||l&&l!==t.state.fetchStatus||c&&!c(t))}function hx(e,t){const{exact:n,status:r,predicate:l,mutationKey:c}=e;if(c){if(!t.options.mutationKey)return!1;if(n){if(yl(t.options.mutationKey)!==yl(c))return!1}else if(!vl(t.options.mutationKey,c))return!1}return!(r&&t.state.status!==r||l&&!l(t))}function gp(e,t){return(t?.queryKeyHashFn||yl)(e)}function yl(e){return JSON.stringify(e,(t,n)=>vm(n)?Object.keys(n).sort().reduce((r,l)=>(r[l]=n[l],r),{}):n)}function vl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>vl(e[n],t[n])):!1}var f3=Object.prototype.hasOwnProperty;function J1(e,t){if(e===t)return e;const n=mx(e)&&mx(t);if(!n&&!(vm(e)&&vm(t)))return t;const l=(n?e:Object.keys(e)).length,c=n?t:Object.keys(t),d=c.length,f=n?new Array(d):{};let m=0;for(let p=0;p<d;p++){const g=n?p:c[p],v=e[g],b=t[g];if(v===b){f[g]=v,(n?p<l:f3.call(e,g))&&m++;continue}if(v===null||b===null||typeof v!="object"||typeof b!="object"){f[g]=b;continue}const w=J1(v,b);f[g]=w,w===v&&m++}return l===d&&m===l?e:f}function mx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function vm(e){if(!px(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!px(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function px(e){return Object.prototype.toString.call(e)==="[object Object]"}function h3(e){return new Promise(t=>{setTimeout(t,e)})}function m3(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?J1(e,t):t}function p3(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function g3(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var yp=Symbol();function ew(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===yp?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var y3=class extends Wu{#e;#t;#s;constructor(){super(),this.#s=e=>{if(!Zu&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#s=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},tw=new y3,v3=class extends Wu{#e=!0;#t;#s;constructor(){super(),this.#s=e=>{if(!Zu&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#s=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},Lu=new v3;function x3(){let e,t;const n=new Promise((l,c)=>{e=l,t=c});n.status="pending",n.catch(()=>{});function r(l){Object.assign(n,l),delete n.resolve,delete n.reject}return n.resolve=l=>{r({status:"fulfilled",value:l}),e(l)},n.reject=l=>{r({status:"rejected",reason:l}),t(l)},n}function b3(e){return Math.min(1e3*2**e,3e4)}function sw(e){return(e??"online")==="online"?Lu.isOnline():!0}var xm=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function nw(e){let t=!1,n=0,r;const l=x3(),c=()=>l.status!=="pending",d=N=>{if(!c()){const T=new xm(N);b(T),e.onCancel?.(T)}},f=()=>{t=!0},m=()=>{t=!1},p=()=>tw.isFocused()&&(e.networkMode==="always"||Lu.isOnline())&&e.canRun(),g=()=>sw(e.networkMode)&&e.canRun(),v=N=>{c()||(r?.(),l.resolve(N))},b=N=>{c()||(r?.(),l.reject(N))},w=()=>new Promise(N=>{r=T=>{(c()||p())&&N(T)},e.onPause?.()}).then(()=>{r=void 0,c()||e.onContinue?.()}),S=()=>{if(c())return;let N;const T=n===0?e.initialPromise:void 0;try{N=T??e.fn()}catch(A){N=Promise.reject(A)}Promise.resolve(N).then(v).catch(A=>{if(c())return;const C=e.retry??(Zu?0:3),E=e.retryDelay??b3,_=typeof E=="function"?E(n,A):E,R=C===!0||typeof C=="number"&&n<C||typeof C=="function"&&C(n,A);if(t||!R){b(A);return}n++,e.onFail?.(n,A),h3(_).then(()=>p()?void 0:w()).then(()=>{t?b(A):S()})})};return{promise:l,status:()=>l.status,cancel:d,continue:()=>(r?.(),l),cancelRetry:f,continueRetry:m,canStart:g,start:()=>(g()?S():w().then(S),l)}}var w3=e=>setTimeout(e,0);function j3(){let e=[],t=0,n=f=>{f()},r=f=>{f()},l=w3;const c=f=>{t?e.push(f):l(()=>{n(f)})},d=()=>{const f=e;e=[],f.length&&l(()=>{r(()=>{f.forEach(m=>{n(m)})})})};return{batch:f=>{let m;t++;try{m=f()}finally{t--,t||d()}return m},batchCalls:f=>(...m)=>{c(()=>{f(...m)})},schedule:c,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{r=f},setScheduler:f=>{l=f}}}var _s=j3(),aw=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),c3(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Zu?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},S3=class extends aw{#e;#t;#s;#a;#n;#i;#o;constructor(e){super(),this.#o=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#s=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=k3(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(e,t){const n=m3(this.state.data,e,this.options);return this.#r({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#r({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(Tn).catch(Tn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>d3(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===yp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ym(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!u3(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#o?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,r=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},l=()=>{const f=ew(this.options,t),p=(()=>{const g={client:this.#a,queryKey:this.queryKey,meta:this.meta};return r(g),g})();return this.#o=!1,this.options.persister?this.options.persister(f,p,this):f(p)},d=(()=>{const f={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:l};return r(f),f})();this.options.behavior?.onFetch(d,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#r({type:"fetch",meta:d.fetchOptions?.meta}),this.#n=nw({initialPromise:t?.initialPromise,fn:d.fetchFn,onCancel:f=>{f instanceof xm&&f.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(f,m)=>{this.#r({type:"failed",failureCount:f,error:m})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0});try{const f=await this.#n.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#s.config.onSuccess?.(f,this),this.#s.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof xm){if(f.silent)return this.#n.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#r({type:"error",error:f}),this.#s.config.onError?.(f,this),this.#s.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...N3(n.data,this.options),fetchMeta:e.meta??null};case"success":const r={...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?r:void 0,r;case"error":const l=e.error;return{...n,error:l,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),_s.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:e})})}};function N3(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:sw(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function k3(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var C3=class extends Wu{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const r=t.queryKey,l=t.queryHash??gp(r,t);let c=this.get(l);return c||(c=new S3({client:e,queryKey:r,queryHash:l,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(c)),c}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){_s.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>fx(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>fx(e,n)):t}notify(e){_s.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){_s.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){_s.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},T3=class extends aw{#e;#t;#s;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||A3(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#a({type:"continue"})};this.#s=nw({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(l,c)=>{this.#a({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#a({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const n=this.state.status==="pending",r=!this.#s.canStart();try{if(n)t();else{this.#a({type:"pending",variables:e,isPaused:r}),await this.#t.config.onMutate?.(e,this);const c=await this.options.onMutate?.(e);c!==this.state.context&&this.#a({type:"pending",context:c,variables:e,isPaused:r})}const l=await this.#s.start();return await this.#t.config.onSuccess?.(l,e,this.state.context,this),await this.options.onSuccess?.(l,e,this.state.context),await this.#t.config.onSettled?.(l,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(l,null,e,this.state.context),this.#a({type:"success",data:l}),l}catch(l){try{throw await this.#t.config.onError?.(l,e,this.state.context,this),await this.options.onError?.(l,e,this.state.context),await this.#t.config.onSettled?.(void 0,l,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,l,e,this.state.context),l}finally{this.#a({type:"error",error:l})}}finally{this.#t.runNext(this)}}#a(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),_s.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function A3(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var E3=class extends Wu{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#s=0}#e;#t;#s;build(e,t,n){const r=new T3({mutationCache:this,mutationId:++this.#s,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#e.add(e);const t=au(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=au(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=au(e);if(typeof t=="string"){const r=this.#t.get(t)?.find(l=>l.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=au(e);return typeof t=="string"?this.#t.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){_s.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>hx(t,n))}findAll(e={}){return this.getAll().filter(t=>hx(e,t))}notify(e){_s.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return _s.batch(()=>Promise.all(e.map(t=>t.continue().catch(Tn))))}};function au(e){return e.options.scope?.id}function gx(e){return{onFetch:(t,n)=>{const r=t.options,l=t.fetchOptions?.meta?.fetchMore?.direction,c=t.state.data?.pages||[],d=t.state.data?.pageParams||[];let f={pages:[],pageParams:[]},m=0;const p=async()=>{let g=!1;const v=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},b=ew(t.options,t.fetchOptions),w=async(S,N,T)=>{if(g)return Promise.reject();if(N==null&&S.pages.length)return Promise.resolve(S);const C=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:N,direction:T?"backward":"forward",meta:t.options.meta};return v(O),O})(),E=await b(C),{maxPages:_}=t.options,R=T?g3:p3;return{pages:R(S.pages,E,_),pageParams:R(S.pageParams,N,_)}};if(l&&c.length){const S=l==="backward",N=S?M3:yx,T={pages:c,pageParams:d},A=N(r,T);f=await w(T,A,S)}else{const S=e??c.length;do{const N=m===0?d[0]??r.initialPageParam:yx(r,f);if(m>0&&N==null)break;f=await w(f,N),m++}while(m<S)}return f};t.options.persister?t.fetchFn=()=>t.options.persister?.(p,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=p}}}function yx(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function M3(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var R3=class{#e;#t;#s;#a;#n;#i;#o;#r;constructor(e={}){this.#e=e.queryCache||new C3,this.#t=e.mutationCache||new E3,this.#s=e.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=tw.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=Lu.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#r?.(),this.#r=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(ym(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),c=this.#e.get(r.queryHash)?.state.data,d=l3(t,c);if(d!==void 0)return this.#e.build(this,r).setData(d,{...n,manual:!0})}setQueriesData(e,t,n){return _s.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;_s.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return _s.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=_s.batch(()=>this.#e.findAll(e).map(l=>l.cancel(n)));return Promise.all(r).then(Tn).catch(Tn)}invalidateQueries(e,t={}){return _s.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=_s.batch(()=>this.#e.findAll(e).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let c=l.fetch(void 0,n);return n.throwOnError||(c=c.catch(Tn)),l.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(r).then(Tn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(ym(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Tn).catch(Tn)}fetchInfiniteQuery(e){return e.behavior=gx(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Tn).catch(Tn)}ensureInfiniteQueryData(e){return e.behavior=gx(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Lu.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#s}setDefaultOptions(e){this.#s=e}setQueryDefaults(e,t){this.#a.set(yl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],n={};return t.forEach(r=>{vl(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#n.set(yl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#n.values()],n={};return t.forEach(r=>{vl(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#s.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=gp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===yp&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#s.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},P3=x.createContext(void 0),L3=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(P3.Provider,{value:e,children:t}));const vx=e=>{let t;const n=new Set,r=(p,g)=>{const v=typeof p=="function"?p(t):p;if(!Object.is(v,t)){const b=t;t=g??(typeof v!="object"||v===null)?v:Object.assign({},t,v),n.forEach(w=>w(t,b))}},l=()=>t,f={setState:r,getState:l,getInitialState:()=>m,subscribe:p=>(n.add(p),()=>n.delete(p))},m=t=e(r,l,f);return f},_3=(e=>e?vx(e):vx),D3=e=>e;function O3(e,t=D3){const n=jt.useSyncExternalStore(e.subscribe,jt.useCallback(()=>t(e.getState()),[e,t]),jt.useCallback(()=>t(e.getInitialState()),[e,t]));return jt.useDebugValue(n),n}const z3=e=>{const t=_3(e),n=r=>O3(t,r);return Object.assign(n,t),n},vp=(e=>z3);function B3(e,t){let n;try{n=e()}catch{return}return{getItem:l=>{var c;const d=m=>m===null?null:JSON.parse(m,void 0),f=(c=n.getItem(l))!=null?c:null;return f instanceof Promise?f.then(d):d(f)},setItem:(l,c)=>n.setItem(l,JSON.stringify(c,void 0)),removeItem:l=>n.removeItem(l)}}const bm=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return bm(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return bm(r)(n)}}}},q3=(e,t)=>(n,r,l)=>{let c={storage:B3(()=>localStorage),partialize:N=>N,version:0,merge:(N,T)=>({...T,...N}),...t},d=!1;const f=new Set,m=new Set;let p=c.storage;if(!p)return e((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),n(...N)},r,l);const g=()=>{const N=c.partialize({...r()});return p.setItem(c.name,{state:N,version:c.version})},v=l.setState;l.setState=(N,T)=>(v(N,T),g());const b=e((...N)=>(n(...N),g()),r,l);l.getInitialState=()=>b;let w;const S=()=>{var N,T;if(!p)return;d=!1,f.forEach(C=>{var E;return C((E=r())!=null?E:b)});const A=((T=c.onRehydrateStorage)==null?void 0:T.call(c,(N=r())!=null?N:b))||void 0;return bm(p.getItem.bind(p))(c.name).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==c.version){if(c.migrate){const E=c.migrate(C.state,C.version);return E instanceof Promise?E.then(_=>[!0,_]):[!0,E]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,C.state];return[!1,void 0]}).then(C=>{var E;const[_,R]=C;if(w=c.merge(R,(E=r())!=null?E:b),n(w,!0),_)return g()}).then(()=>{A?.(w,void 0),w=r(),d=!0,m.forEach(C=>C(w))}).catch(C=>{A?.(void 0,C)})};return l.persist={setOptions:N=>{c={...c,...N},N.storage&&(p=N.storage)},clearStorage:()=>{p?.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>S(),hasHydrated:()=>d,onHydrate:N=>(f.add(N),()=>{f.delete(N)}),onFinishHydration:N=>(m.add(N),()=>{m.delete(N)})},c.skipHydration||S(),w||b},xp=q3,rw=vp()(xp((e,t)=>({theme:"dark",toggleTheme:()=>{const n=t().theme==="light"?"dark":"light";e({theme:n}),document.documentElement.setAttribute("data-theme",n)},setTheme:n=>{e({theme:n}),document.documentElement.setAttribute("data-theme",n)}}),{name:"chess-academy-theme",onRehydrateStorage:()=>e=>{e&&document.documentElement.setAttribute("data-theme",e.theme)}}));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),V3=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),xx=e=>{const t=V3(e);return t.charAt(0).toUpperCase()+t.slice(1)},iw=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),$3=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var G3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...f},m)=>x.createElement("svg",{ref:m,...G3,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:iw("lucide",l),...!c&&!$3(f)&&{"aria-hidden":"true"},...f},[...d.map(([p,g])=>x.createElement(p,g)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(e,t)=>{const n=x.forwardRef(({className:r,...l},c)=>x.createElement(H3,{ref:c,iconNode:t,className:iw(`lucide-${U3(xx(e))}`,`lucide-${e}`,r),...l}));return n.displayName=xx(e),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],bx=Oe("activity",K3);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],ow=Oe("award",F3);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],bp=Oe("book-open",I3);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],wx=Oe("book",Q3);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Ja=Oe("brain",Y3);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],W3=Oe("chart-column",X3);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],nl=Oe("chevron-left",Z3);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],wm=Oe("chevron-right",J3);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],t5=Oe("chevron-up",e5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=[["path",{d:"M10.88 21.94 15.46 14",key:"xkve6t"}],["path",{d:"M21.17 8H12",key:"19dcdn"}],["path",{d:"M3.95 6.06 8.54 14",key:"g8jz9m"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],n5=Oe("chromium",s5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],r5=Oe("circle-alert",a5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],wp=Oe("circle-check-big",i5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],l5=Oe("circle-question-mark",o5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],lw=Oe("circle-x",c5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],js=Oe("crown",u5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],f5=Oe("eye-off",d5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],m5=Oe("eye",h5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],g5=Oe("flag",p5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],bu=Oe("flame",y5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],jp=Oe("gamepad-2",v5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],b5=Oe("globe",x5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],j5=Oe("lightbulb",w5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],cw=Oe("lock",S5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],jx=Oe("log-in",N5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],C5=Oe("mail",k5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Sx=Oe("medal",T5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],E5=Oe("menu",A5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=[["path",{d:"M5 12h14",key:"1ays0h"}]],R5=Oe("minus",M5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],uw=Oe("monitor",P5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Nx=Oe("moon",L5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],D5=Oe("play",_5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],Or=Oe("puzzle",O5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],jm=Oe("rotate-ccw",z5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],q5=Oe("save",B5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],V5=Oe("settings",U5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],_u=Oe("shield",$5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Sm=Oe("sparkles",G5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],wu=Oe("star",H5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],kx=Oe("sun",K5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]],Mh=Oe("sword",F5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],er=Oe("target",I5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ri=Oe("trending-up",Q5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Hs=Oe("trophy",Y5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ju=Oe("user",X5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Nm=Oe("users",W5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Du=Oe("x",Z5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Pi=Oe("zap",J5),Sp=x.createContext({});function Np(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const kp=typeof window<"u",dw=kp?x.useLayoutEffect:x.useEffect,ed=x.createContext(null);function Cp(e,t){e.indexOf(t)===-1&&e.push(t)}function Tp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const xa=(e,t,n)=>n>t?t:n<e?e:n;let Ap=()=>{};const ba={},fw=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function hw(e){return typeof e=="object"&&e!==null}const mw=e=>/^0[^.\s]+$/u.test(e);function Ep(e){let t;return()=>(t===void 0&&(t=e()),t)}const xn=e=>e,e4=(e,t)=>n=>t(e(n)),_l=(...e)=>e.reduce(e4),xl=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Mp{constructor(){this.subscriptions=[]}add(t){return Cp(this.subscriptions,t),()=>Tp(this.subscriptions,t)}notify(t,n,r){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](t,n,r);else for(let c=0;c<l;c++){const d=this.subscriptions[c];d&&d(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Hn=e=>e*1e3,Kn=e=>e/1e3;function pw(e,t){return t?e*(1e3/t):0}const gw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,t4=1e-7,s4=12;function n4(e,t,n,r,l){let c,d,f=0;do d=t+(n-t)/2,c=gw(d,r,l)-e,c>0?n=d:t=d;while(Math.abs(c)>t4&&++f<s4);return d}function Dl(e,t,n,r){if(e===t&&n===r)return xn;const l=c=>n4(c,0,1,e,n);return c=>c===0||c===1?c:gw(l(c),t,r)}const yw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,vw=e=>t=>1-e(1-t),xw=Dl(.33,1.53,.69,.99),Rp=vw(xw),bw=yw(Rp),ww=e=>(e*=2)<1?.5*Rp(e):.5*(2-Math.pow(2,-10*(e-1))),Pp=e=>1-Math.sin(Math.acos(e)),jw=vw(Pp),Sw=yw(Pp),a4=Dl(.42,0,1,1),r4=Dl(0,0,.58,1),Nw=Dl(.42,0,.58,1),i4=e=>Array.isArray(e)&&typeof e[0]!="number",kw=e=>Array.isArray(e)&&typeof e[0]=="number",o4={linear:xn,easeIn:a4,easeInOut:Nw,easeOut:r4,circIn:Pp,circInOut:Sw,circOut:jw,backIn:Rp,backInOut:bw,backOut:xw,anticipate:ww},l4=e=>typeof e=="string",Cx=e=>{if(kw(e)){Ap(e.length===4);const[t,n,r,l]=e;return Dl(t,n,r,l)}else if(l4(e))return o4[e];return e},ru=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function c4(e,t){let n=new Set,r=new Set,l=!1,c=!1;const d=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(g){d.has(g)&&(p.schedule(g),e()),g(f)}const p={schedule:(g,v=!1,b=!1)=>{const S=b&&l?n:r;return v&&d.add(g),S.has(g)||S.add(g),g},cancel:g=>{r.delete(g),d.delete(g)},process:g=>{if(f=g,l){c=!0;return}l=!0,[n,r]=[r,n],n.forEach(m),n.clear(),l=!1,c&&(c=!1,p.process(g))}};return p}const u4=40;function Cw(e,t){let n=!1,r=!0;const l={delta:0,timestamp:0,isProcessing:!1},c=()=>n=!0,d=ru.reduce((E,_)=>(E[_]=c4(c),E),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:g,update:v,preRender:b,render:w,postRender:S}=d,N=()=>{const E=ba.useManualTiming?l.timestamp:performance.now();n=!1,ba.useManualTiming||(l.delta=r?1e3/60:Math.max(Math.min(E-l.timestamp,u4),1)),l.timestamp=E,l.isProcessing=!0,f.process(l),m.process(l),p.process(l),g.process(l),v.process(l),b.process(l),w.process(l),S.process(l),l.isProcessing=!1,n&&t&&(r=!1,e(N))},T=()=>{n=!0,r=!0,l.isProcessing||e(N)};return{schedule:ru.reduce((E,_)=>{const R=d[_];return E[_]=(O,z=!1,P=!1)=>(n||T(),R.schedule(O,z,P)),E},{}),cancel:E=>{for(let _=0;_<ru.length;_++)d[ru[_]].cancel(E)},state:l,steps:d}}const{schedule:Mt,cancel:tr,state:ws,steps:Rh}=Cw(typeof requestAnimationFrame<"u"?requestAnimationFrame:xn,!0);let ju;function d4(){ju=void 0}const Ks={now:()=>(ju===void 0&&Ks.set(ws.isProcessing||ba.useManualTiming?ws.timestamp:performance.now()),ju),set:e=>{ju=e,queueMicrotask(d4)}},Tw=e=>t=>typeof t=="string"&&t.startsWith(e),Lp=Tw("--"),f4=Tw("var(--"),_p=e=>f4(e)?h4.test(e.split("/*")[0].trim()):!1,h4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$i={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},bl={...$i,transform:e=>xa(0,1,e)},iu={...$i,default:1},ll=e=>Math.round(e*1e5)/1e5,Dp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function m4(e){return e==null}const p4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Op=(e,t)=>n=>!!(typeof n=="string"&&p4.test(n)&&n.startsWith(e)||t&&!m4(n)&&Object.prototype.hasOwnProperty.call(n,t)),Aw=(e,t,n)=>r=>{if(typeof r!="string")return r;const[l,c,d,f]=r.match(Dp);return{[e]:parseFloat(l),[t]:parseFloat(c),[n]:parseFloat(d),alpha:f!==void 0?parseFloat(f):1}},g4=e=>xa(0,255,e),Ph={...$i,transform:e=>Math.round(g4(e))},Ar={test:Op("rgb","red"),parse:Aw("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Ph.transform(e)+", "+Ph.transform(t)+", "+Ph.transform(n)+", "+ll(bl.transform(r))+")"};function y4(e){let t="",n="",r="",l="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),l=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),l=e.substring(4,5),t+=t,n+=n,r+=r,l+=l),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:l?parseInt(l,16)/255:1}}const km={test:Op("#"),parse:y4,transform:Ar.transform},Ol=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Xa=Ol("deg"),Fn=Ol("%"),De=Ol("px"),v4=Ol("vh"),x4=Ol("vw"),Tx={...Fn,parse:e=>Fn.parse(e)/100,transform:e=>Fn.transform(e*100)},ki={test:Op("hsl","hue"),parse:Aw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Fn.transform(ll(t))+", "+Fn.transform(ll(n))+", "+ll(bl.transform(r))+")"},Wt={test:e=>Ar.test(e)||km.test(e)||ki.test(e),parse:e=>Ar.test(e)?Ar.parse(e):ki.test(e)?ki.parse(e):km.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ar.transform(e):ki.transform(e),getAnimatableNone:e=>{const t=Wt.parse(e);return t.alpha=0,Wt.transform(t)}},b4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function w4(e){return isNaN(e)&&typeof e=="string"&&(e.match(Dp)?.length||0)+(e.match(b4)?.length||0)>0}const Ew="number",Mw="color",j4="var",S4="var(",Ax="${}",N4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wl(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},l=[];let c=0;const f=t.replace(N4,m=>(Wt.test(m)?(r.color.push(c),l.push(Mw),n.push(Wt.parse(m))):m.startsWith(S4)?(r.var.push(c),l.push(j4),n.push(m)):(r.number.push(c),l.push(Ew),n.push(parseFloat(m))),++c,Ax)).split(Ax);return{values:n,split:f,indexes:r,types:l}}function Rw(e){return wl(e).values}function Pw(e){const{split:t,types:n}=wl(e),r=t.length;return l=>{let c="";for(let d=0;d<r;d++)if(c+=t[d],l[d]!==void 0){const f=n[d];f===Ew?c+=ll(l[d]):f===Mw?c+=Wt.transform(l[d]):c+=l[d]}return c}}const k4=e=>typeof e=="number"?0:Wt.test(e)?Wt.getAnimatableNone(e):e;function C4(e){const t=Rw(e);return Pw(e)(t.map(k4))}const sr={test:w4,parse:Rw,createTransformer:Pw,getAnimatableNone:C4};function Lh(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function T4({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let l=0,c=0,d=0;if(!t)l=c=d=n;else{const f=n<.5?n*(1+t):n+t-n*t,m=2*n-f;l=Lh(m,f,e+1/3),c=Lh(m,f,e),d=Lh(m,f,e-1/3)}return{red:Math.round(l*255),green:Math.round(c*255),blue:Math.round(d*255),alpha:r}}function Ou(e,t){return n=>n>0?t:e}const Dt=(e,t,n)=>e+(t-e)*n,_h=(e,t,n)=>{const r=e*e,l=n*(t*t-r)+r;return l<0?0:Math.sqrt(l)},A4=[km,Ar,ki],E4=e=>A4.find(t=>t.test(e));function Ex(e){const t=E4(e);if(!t)return!1;let n=t.parse(e);return t===ki&&(n=T4(n)),n}const Mx=(e,t)=>{const n=Ex(e),r=Ex(t);if(!n||!r)return Ou(e,t);const l={...n};return c=>(l.red=_h(n.red,r.red,c),l.green=_h(n.green,r.green,c),l.blue=_h(n.blue,r.blue,c),l.alpha=Dt(n.alpha,r.alpha,c),Ar.transform(l))},Cm=new Set(["none","hidden"]);function M4(e,t){return Cm.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function R4(e,t){return n=>Dt(e,t,n)}function zp(e){return typeof e=="number"?R4:typeof e=="string"?_p(e)?Ou:Wt.test(e)?Mx:_4:Array.isArray(e)?Lw:typeof e=="object"?Wt.test(e)?Mx:P4:Ou}function Lw(e,t){const n=[...e],r=n.length,l=e.map((c,d)=>zp(c)(c,t[d]));return c=>{for(let d=0;d<r;d++)n[d]=l[d](c);return n}}function P4(e,t){const n={...e,...t},r={};for(const l in n)e[l]!==void 0&&t[l]!==void 0&&(r[l]=zp(e[l])(e[l],t[l]));return l=>{for(const c in r)n[c]=r[c](l);return n}}function L4(e,t){const n=[],r={color:0,var:0,number:0};for(let l=0;l<t.values.length;l++){const c=t.types[l],d=e.indexes[c][r[c]],f=e.values[d]??0;n[l]=f,r[c]++}return n}const _4=(e,t)=>{const n=sr.createTransformer(t),r=wl(e),l=wl(t);return r.indexes.var.length===l.indexes.var.length&&r.indexes.color.length===l.indexes.color.length&&r.indexes.number.length>=l.indexes.number.length?Cm.has(e)&&!l.values.length||Cm.has(t)&&!r.values.length?M4(e,t):_l(Lw(L4(r,l),l.values),n):Ou(e,t)};function _w(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Dt(e,t,n):zp(e)(e,t)}const D4=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Mt.update(t,n),stop:()=>tr(t),now:()=>ws.isProcessing?ws.timestamp:Ks.now()}},Dw=(e,t,n=10)=>{let r="";const l=Math.max(Math.round(t/n),2);for(let c=0;c<l;c++)r+=Math.round(e(c/(l-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},zu=2e4;function Bp(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<zu;)t+=n,r=e.next(t);return t>=zu?1/0:t}function O4(e,t=100,n){const r=n({...e,keyframes:[0,t]}),l=Math.min(Bp(r),zu);return{type:"keyframes",ease:c=>r.next(l*c).value/t,duration:Kn(l)}}const z4=5;function Ow(e,t,n){const r=Math.max(t-z4,0);return pw(n-e(r),t-r)}const qt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Dh=.001;function B4({duration:e=qt.duration,bounce:t=qt.bounce,velocity:n=qt.velocity,mass:r=qt.mass}){let l,c,d=1-t;d=xa(qt.minDamping,qt.maxDamping,d),e=xa(qt.minDuration,qt.maxDuration,Kn(e)),d<1?(l=p=>{const g=p*d,v=g*e,b=g-n,w=Tm(p,d),S=Math.exp(-v);return Dh-b/w*S},c=p=>{const v=p*d*e,b=v*n+n,w=Math.pow(d,2)*Math.pow(p,2)*e,S=Math.exp(-v),N=Tm(Math.pow(p,2),d);return(-l(p)+Dh>0?-1:1)*((b-w)*S)/N}):(l=p=>{const g=Math.exp(-p*e),v=(p-n)*e+1;return-Dh+g*v},c=p=>{const g=Math.exp(-p*e),v=(n-p)*(e*e);return g*v});const f=5/e,m=U4(l,c,f);if(e=Hn(e),isNaN(m))return{stiffness:qt.stiffness,damping:qt.damping,duration:e};{const p=Math.pow(m,2)*r;return{stiffness:p,damping:d*2*Math.sqrt(r*p),duration:e}}}const q4=12;function U4(e,t,n){let r=n;for(let l=1;l<q4;l++)r=r-e(r)/t(r);return r}function Tm(e,t){return e*Math.sqrt(1-t*t)}const V4=["duration","bounce"],$4=["stiffness","damping","mass"];function Rx(e,t){return t.some(n=>e[n]!==void 0)}function G4(e){let t={velocity:qt.velocity,stiffness:qt.stiffness,damping:qt.damping,mass:qt.mass,isResolvedFromDuration:!1,...e};if(!Rx(e,$4)&&Rx(e,V4))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),l=r*r,c=2*xa(.05,1,1-(e.bounce||0))*Math.sqrt(l);t={...t,mass:qt.mass,stiffness:l,damping:c}}else{const n=B4(e);t={...t,...n,mass:qt.mass},t.isResolvedFromDuration=!0}return t}function Bu(e=qt.visualDuration,t=qt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:l}=n;const c=n.keyframes[0],d=n.keyframes[n.keyframes.length-1],f={done:!1,value:c},{stiffness:m,damping:p,mass:g,duration:v,velocity:b,isResolvedFromDuration:w}=G4({...n,velocity:-Kn(n.velocity||0)}),S=b||0,N=p/(2*Math.sqrt(m*g)),T=d-c,A=Kn(Math.sqrt(m/g)),C=Math.abs(T)<5;r||(r=C?qt.restSpeed.granular:qt.restSpeed.default),l||(l=C?qt.restDelta.granular:qt.restDelta.default);let E;if(N<1){const R=Tm(A,N);E=O=>{const z=Math.exp(-N*A*O);return d-z*((S+N*A*T)/R*Math.sin(R*O)+T*Math.cos(R*O))}}else if(N===1)E=R=>d-Math.exp(-A*R)*(T+(S+A*T)*R);else{const R=A*Math.sqrt(N*N-1);E=O=>{const z=Math.exp(-N*A*O),P=Math.min(R*O,300);return d-z*((S+N*A*T)*Math.sinh(P)+R*T*Math.cosh(P))/R}}const _={calculatedDuration:w&&v||null,next:R=>{const O=E(R);if(w)f.done=R>=v;else{let z=R===0?S:0;N<1&&(z=R===0?Hn(S):Ow(E,R,O));const P=Math.abs(z)<=r,q=Math.abs(d-O)<=l;f.done=P&&q}return f.value=f.done?d:O,f},toString:()=>{const R=Math.min(Bp(_),zu),O=Dw(z=>_.next(R*z).value,R,30);return R+"ms "+O},toTransition:()=>{}};return _}Bu.applyToOptions=e=>{const t=O4(e,100,Bu);return e.ease=t.ease,e.duration=Hn(t.duration),e.type="keyframes",e};function Am({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:l=10,bounceStiffness:c=500,modifyTarget:d,min:f,max:m,restDelta:p=.5,restSpeed:g}){const v=e[0],b={done:!1,value:v},w=P=>f!==void 0&&P<f||m!==void 0&&P>m,S=P=>f===void 0?m:m===void 0||Math.abs(f-P)<Math.abs(m-P)?f:m;let N=n*t;const T=v+N,A=d===void 0?T:d(T);A!==T&&(N=A-v);const C=P=>-N*Math.exp(-P/r),E=P=>A+C(P),_=P=>{const q=C(P),U=E(P);b.done=Math.abs(q)<=p,b.value=b.done?A:U};let R,O;const z=P=>{w(b.value)&&(R=P,O=Bu({keyframes:[b.value,S(b.value)],velocity:Ow(E,P,b.value),damping:l,stiffness:c,restDelta:p,restSpeed:g}))};return z(0),{calculatedDuration:null,next:P=>{let q=!1;return!O&&R===void 0&&(q=!0,_(P),z(P)),R!==void 0&&P>=R?O.next(P-R):(!q&&_(P),b)}}}function H4(e,t,n){const r=[],l=n||ba.mix||_w,c=e.length-1;for(let d=0;d<c;d++){let f=l(e[d],e[d+1]);if(t){const m=Array.isArray(t)?t[d]||xn:t;f=_l(m,f)}r.push(f)}return r}function K4(e,t,{clamp:n=!0,ease:r,mixer:l}={}){const c=e.length;if(Ap(c===t.length),c===1)return()=>t[0];if(c===2&&t[0]===t[1])return()=>t[1];const d=e[0]===e[1];e[0]>e[c-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=H4(t,r,l),m=f.length,p=g=>{if(d&&g<e[0])return t[0];let v=0;if(m>1)for(;v<e.length-2&&!(g<e[v+1]);v++);const b=xl(e[v],e[v+1],g);return f[v](b)};return n?g=>p(xa(e[0],e[c-1],g)):p}function F4(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const l=xl(0,t,r);e.push(Dt(n,1,l))}}function I4(e){const t=[0];return F4(t,e.length-1),t}function Q4(e,t){return e.map(n=>n*t)}function Y4(e,t){return e.map(()=>t||Nw).splice(0,e.length-1)}function cl({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const l=i4(r)?r.map(Cx):Cx(r),c={done:!1,value:t[0]},d=Q4(n&&n.length===t.length?n:I4(t),e),f=K4(d,t,{ease:Array.isArray(l)?l:Y4(t,l)});return{calculatedDuration:e,next:m=>(c.value=f(m),c.done=m>=e,c)}}const X4=e=>e!==null;function qp(e,{repeat:t,repeatType:n="loop"},r,l=1){const c=e.filter(X4),f=l<0||t&&n!=="loop"&&t%2===1?0:c.length-1;return!f||r===void 0?c[f]:r}const W4={decay:Am,inertia:Am,tween:cl,keyframes:cl,spring:Bu};function zw(e){typeof e.type=="string"&&(e.type=W4[e.type])}class Up{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Z4=e=>e/100;class Vp extends Up{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Ks.now()&&this.tick(Ks.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;zw(t);const{type:n=cl,repeat:r=0,repeatDelay:l=0,repeatType:c,velocity:d=0}=t;let{keyframes:f}=t;const m=n||cl;m!==cl&&typeof f[0]!="number"&&(this.mixKeyframes=_l(Z4,_w(f[0],f[1])),f=[0,100]);const p=m({...t,keyframes:f});c==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...f].reverse(),velocity:-d})),p.calculatedDuration===null&&(p.calculatedDuration=Bp(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+l,this.totalDuration=this.resolvedDuration*(r+1)-l,this.generator=p}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:l,mixKeyframes:c,mirroredGenerator:d,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:g,repeat:v,repeatType:b,repeatDelay:w,type:S,onUpdate:N,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-l/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const A=this.currentTime-p*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?A<0:A>l;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let E=this.currentTime,_=r;if(v){const P=Math.min(this.currentTime,l)/f;let q=Math.floor(P),U=P%1;!U&&P>=1&&(U=1),U===1&&q--,q=Math.min(q,v+1),!!(q%2)&&(b==="reverse"?(U=1-U,w&&(U-=w/f)):b==="mirror"&&(_=d)),E=xa(0,1,U)*f}const R=C?{done:!1,value:g[0]}:_.next(E);c&&(R.value=c(R.value));let{done:O}=R;!C&&m!==null&&(O=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return z&&S!==Am&&(R.value=qp(g,this.options,T,this.speed)),N&&N(R.value),z&&this.finish(),R}then(t,n){return this.finished.then(t,n)}get duration(){return Kn(this.calculatedDuration)}get time(){return Kn(this.currentTime)}set time(t){t=Hn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ks.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Kn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=D4,startTime:n}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ks.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function J4(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Er=e=>e*180/Math.PI,Em=e=>{const t=Er(Math.atan2(e[1],e[0]));return Mm(t)},eT={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Em,rotateZ:Em,skewX:e=>Er(Math.atan(e[1])),skewY:e=>Er(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Mm=e=>(e=e%360,e<0&&(e+=360),e),Px=Em,Lx=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),_x=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),tT={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Lx,scaleY:_x,scale:e=>(Lx(e)+_x(e))/2,rotateX:e=>Mm(Er(Math.atan2(e[6],e[5]))),rotateY:e=>Mm(Er(Math.atan2(-e[2],e[0]))),rotateZ:Px,rotate:Px,skewX:e=>Er(Math.atan(e[4])),skewY:e=>Er(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Rm(e){return e.includes("scale")?1:0}function Pm(e,t){if(!e||e==="none")return Rm(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,l;if(n)r=tT,l=n;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=eT,l=f}if(!l)return Rm(t);const c=r[t],d=l[1].split(",").map(nT);return typeof c=="function"?c(d):d[c]}const sT=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Pm(n,t)};function nT(e){return parseFloat(e.trim())}const Gi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Hi=new Set(Gi),Dx=e=>e===$i||e===De,aT=new Set(["x","y","z"]),rT=Gi.filter(e=>!aT.has(e));function iT(e){const t=[];return rT.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Pr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Pm(t,"x"),y:(e,{transform:t})=>Pm(t,"y")};Pr.translateX=Pr.x;Pr.translateY=Pr.y;const Lr=new Set;let Lm=!1,_m=!1,Dm=!1;function Bw(){if(_m){const e=Array.from(Lr).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const l=iT(r);l.length&&(n.set(r,l),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const l=n.get(r);l&&l.forEach(([c,d])=>{r.getValue(c)?.set(d)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}_m=!1,Lm=!1,Lr.forEach(e=>e.complete(Dm)),Lr.clear()}function qw(){Lr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(_m=!0)})}function oT(){Dm=!0,qw(),Bw(),Dm=!1}class $p{constructor(t,n,r,l,c,d=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=l,this.element=c,this.isAsync=d}scheduleResolve(){this.state="scheduled",this.isAsync?(Lr.add(this),Lm||(Lm=!0,Mt.read(qw),Mt.resolveKeyframes(Bw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:l}=this;if(t[0]===null){const c=l?.get(),d=t[t.length-1];if(c!==void 0)t[0]=c;else if(r&&n){const f=r.readValue(n,d);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=d),l&&c===void 0&&l.set(t[0])}J4(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Lr.delete(this)}cancel(){this.state==="scheduled"&&(Lr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const lT=e=>e.startsWith("--");function cT(e,t,n){lT(t)?e.style.setProperty(t,n):e.style[t]=n}const uT=Ep(()=>window.ScrollTimeline!==void 0),dT={};function fT(e,t){const n=Ep(e);return()=>dT[t]??n()}const Uw=fT(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),al=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Ox={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:al([0,.65,.55,1]),circOut:al([.55,0,1,.45]),backIn:al([.31,.01,.66,-.59]),backOut:al([.33,1.53,.69,.99])};function Vw(e,t){if(e)return typeof e=="function"?Uw()?Dw(e,t):"ease-out":kw(e)?al(e):Array.isArray(e)?e.map(n=>Vw(n,t)||Ox.easeOut):Ox[e]}function hT(e,t,n,{delay:r=0,duration:l=300,repeat:c=0,repeatType:d="loop",ease:f="easeOut",times:m}={},p=void 0){const g={[t]:n};m&&(g.offset=m);const v=Vw(f,l);Array.isArray(v)&&(g.easing=v);const b={delay:r,duration:l,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:c+1,direction:d==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),e.animate(g,b)}function $w(e){return typeof e=="function"&&"applyToOptions"in e}function mT({type:e,...t}){return $w(e)&&Uw()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class pT extends Up{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:l,pseudoElement:c,allowFlatten:d=!1,finalKeyframe:f,onComplete:m}=t;this.isPseudoElement=!!c,this.allowFlatten=d,this.options=t,Ap(typeof t.type!="string");const p=mT(t);this.animation=hT(n,r,l,p,c),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const g=qp(l,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(g):cT(n,r,g),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Kn(Number(t))}get time(){return Kn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Hn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&uT()?(this.animation.timeline=t,xn):n(this)}}const Gw={anticipate:ww,backInOut:bw,circInOut:Sw};function gT(e){return e in Gw}function yT(e){typeof e.ease=="string"&&gT(e.ease)&&(e.ease=Gw[e.ease])}const zx=10;class vT extends pT{constructor(t){yT(t),zw(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:l,element:c,...d}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const f=new Vp({...d,autoplay:!1}),m=Hn(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-zx).value,f.sample(m).value,zx),f.stop()}}const Bx=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(sr.test(e)||e==="0")&&!e.startsWith("url("));function xT(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function bT(e,t,n,r){const l=e[0];if(l===null)return!1;if(t==="display"||t==="visibility")return!0;const c=e[e.length-1],d=Bx(l,t),f=Bx(c,t);return!d||!f?!1:xT(e)||(n==="spring"||$w(n))&&r}function Om(e){e.duration=0,e.type}const wT=new Set(["opacity","clipPath","filter","transform"]),jT=Ep(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ST(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:l,damping:c,type:d}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=t.owner.getProps();return jT()&&n&&wT.has(n)&&(n!=="transform"||!p)&&!m&&!r&&l!=="mirror"&&c!==0&&d!=="inertia"}const NT=40;class kT extends Up{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:d="loop",keyframes:f,name:m,motionValue:p,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ks.now();const b={autoplay:t,delay:n,type:r,repeat:l,repeatDelay:c,repeatType:d,name:m,motionValue:p,element:g,...v},w=g?.KeyframeResolver||$p;this.keyframeResolver=new w(f,(S,N,T)=>this.onKeyframesResolved(S,N,b,!T),m,p,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,l){this.keyframeResolver=void 0;const{name:c,type:d,velocity:f,delay:m,isHandoff:p,onUpdate:g}=r;this.resolvedAt=Ks.now(),bT(t,c,d,f)||((ba.instantAnimations||!m)&&g?.(qp(t,r,n)),t[0]=t[t.length-1],Om(r),r.repeat=0);const b={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>NT?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},w=!p&&ST(b)?new vT({...b,element:b.motionValue.owner.current}):new Vp(b);w.finished.then(()=>this.notifyFinished()).catch(xn),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),oT()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const CT=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function TT(e){const t=CT.exec(e);if(!t)return[,];const[,n,r,l]=t;return[`--${n??r}`,l]}function Hw(e,t,n=1){const[r,l]=TT(e);if(!r)return;const c=window.getComputedStyle(t).getPropertyValue(r);if(c){const d=c.trim();return fw(d)?parseFloat(d):d}return _p(l)?Hw(l,t,n+1):l}function Gp(e,t){return e?.[t]??e?.default??e}const Kw=new Set(["width","height","top","left","right","bottom",...Gi]),AT={test:e=>e==="auto",parse:e=>e},Fw=e=>t=>t.test(e),Iw=[$i,De,Fn,Xa,x4,v4,AT],qx=e=>Iw.find(Fw(e));function ET(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||mw(e):!0}const MT=new Set(["brightness","contrast","saturate","opacity"]);function RT(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Dp)||[];if(!r)return e;const l=n.replace(r,"");let c=MT.has(t)?1:0;return r!==n&&(c*=100),t+"("+c+l+")"}const PT=/\b([a-z-]*)\(.*?\)/gu,zm={...sr,getAnimatableNone:e=>{const t=e.match(PT);return t?t.map(RT).join(" "):e}},Ux={...$i,transform:Math.round},LT={rotate:Xa,rotateX:Xa,rotateY:Xa,rotateZ:Xa,scale:iu,scaleX:iu,scaleY:iu,scaleZ:iu,skew:Xa,skewX:Xa,skewY:Xa,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:bl,originX:Tx,originY:Tx,originZ:De},Hp={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,radius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,top:De,right:De,bottom:De,left:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,backgroundPositionX:De,backgroundPositionY:De,...LT,zIndex:Ux,fillOpacity:bl,strokeOpacity:bl,numOctaves:Ux},_T={...Hp,color:Wt,backgroundColor:Wt,outlineColor:Wt,fill:Wt,stroke:Wt,borderColor:Wt,borderTopColor:Wt,borderRightColor:Wt,borderBottomColor:Wt,borderLeftColor:Wt,filter:zm,WebkitFilter:zm},Qw=e=>_T[e];function Yw(e,t){let n=Qw(e);return n!==zm&&(n=sr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const DT=new Set(["auto","none","0"]);function OT(e,t,n){let r=0,l;for(;r<e.length&&!l;){const c=e[r];typeof c=="string"&&!DT.has(c)&&wl(c).values.length&&(l=e[r]),r++}if(l&&n)for(const c of t)e[c]=Yw(n,l)}class zT extends $p{constructor(t,n,r,l,c){super(t,n,r,l,c,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let p=t[m];if(typeof p=="string"&&(p=p.trim(),_p(p))){const g=Hw(p,n.current);g!==void 0&&(t[m]=g),m===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Kw.has(r)||t.length!==2)return;const[l,c]=t,d=qx(l),f=qx(c);if(d!==f)if(Dx(d)&&Dx(f))for(let m=0;m<t.length;m++){const p=t[m];typeof p=="string"&&(t[m]=parseFloat(p))}else Pr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let l=0;l<t.length;l++)(t[l]===null||ET(t[l]))&&r.push(l);r.length&&OT(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Pr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const l=n[n.length-1];l!==void 0&&t.getValue(r,l).jump(l,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const l=t.getValue(n);l&&l.jump(this.measuredOrigin,!1);const c=r.length-1,d=r[c];r[c]=Pr[n](t.measureViewportBox(),window.getComputedStyle(t.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{t.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function BT(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const l=n?.[e]??r.querySelectorAll(e);return l?Array.from(l):[]}return Array.from(e)}const Xw=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Ww(e){return hw(e)&&"offsetHeight"in e}const Vx=30,qT=e=>!isNaN(parseFloat(e));class UT{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const l=Ks.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ks.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=qT(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Mp);const r=this.events[t].add(n);return t==="change"?()=>{r(),Mt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ks.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Vx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Vx);return pw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Di(e,t){return new UT(e,t)}const{schedule:Kp}=Cw(queueMicrotask,!1),Cn={x:!1,y:!1};function Zw(){return Cn.x||Cn.y}function VT(e){return e==="x"||e==="y"?Cn[e]?null:(Cn[e]=!0,()=>{Cn[e]=!1}):Cn.x||Cn.y?null:(Cn.x=Cn.y=!0,()=>{Cn.x=Cn.y=!1})}function Jw(e,t){const n=BT(e),r=new AbortController,l={passive:!0,...t,signal:r.signal};return[n,l,()=>r.abort()]}function $x(e){return!(e.pointerType==="touch"||Zw())}function $T(e,t,n={}){const[r,l,c]=Jw(e,n),d=f=>{if(!$x(f))return;const{target:m}=f,p=t(m,f);if(typeof p!="function"||!m)return;const g=v=>{$x(v)&&(p(v),m.removeEventListener("pointerleave",g))};m.addEventListener("pointerleave",g,l)};return r.forEach(f=>{f.addEventListener("pointerenter",d,l)}),c}const e2=(e,t)=>t?e===t?!0:e2(e,t.parentElement):!1,Fp=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,GT=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function HT(e){return GT.has(e.tagName)||e.tabIndex!==-1}const Su=new WeakSet;function Gx(e){return t=>{t.key==="Enter"&&e(t)}}function Oh(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const KT=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Gx(()=>{if(Su.has(n))return;Oh(n,"down");const l=Gx(()=>{Oh(n,"up")}),c=()=>Oh(n,"cancel");n.addEventListener("keyup",l,t),n.addEventListener("blur",c,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Hx(e){return Fp(e)&&!Zw()}function FT(e,t,n={}){const[r,l,c]=Jw(e,n),d=f=>{const m=f.currentTarget;if(!Hx(f))return;Su.add(m);const p=t(m,f),g=(w,S)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),Su.has(m)&&Su.delete(m),Hx(w)&&typeof p=="function"&&p(w,{success:S})},v=w=>{g(w,m===window||m===document||n.useGlobalTarget||e2(m,w.target))},b=w=>{g(w,!1)};window.addEventListener("pointerup",v,l),window.addEventListener("pointercancel",b,l)};return r.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",d,l),Ww(f)&&(f.addEventListener("focus",p=>KT(p,l)),!HT(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),c}function t2(e){return hw(e)&&"ownerSVGElement"in e}function IT(e){return t2(e)&&e.tagName==="svg"}const Es=e=>!!(e&&e.getVelocity),QT=[...Iw,Wt,sr],YT=e=>QT.find(Fw(e)),Ip=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class XT extends x.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,l=Ww(r)&&r.offsetWidth||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=l-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function WT({children:e,isPresent:t,anchorX:n,root:r}){const l=x.useId(),c=x.useRef(null),d=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=x.useContext(Ip);return x.useInsertionEffect(()=>{const{width:m,height:p,top:g,left:v,right:b}=d.current;if(t||!c.current||!m||!p)return;const w=n==="left"?`left: ${v}`:`right: ${b}`;c.current.dataset.motionPopId=l;const S=document.createElement("style");f&&(S.nonce=f);const N=r??document.head;return N.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${p}px !important;
            ${w}px !important;
            top: ${g}px !important;
          }
        `),()=>{N.contains(S)&&N.removeChild(S)}},[t]),i.jsx(XT,{isPresent:t,childRef:c,sizeRef:d,children:x.cloneElement(e,{ref:c})})}const ZT=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:l,presenceAffectsLayout:c,mode:d,anchorX:f,root:m})=>{const p=Np(JT),g=x.useId();let v=!0,b=x.useMemo(()=>(v=!1,{id:g,initial:t,isPresent:n,custom:l,onExitComplete:w=>{p.set(w,!0);for(const S of p.values())if(!S)return;r&&r()},register:w=>(p.set(w,!1),()=>p.delete(w))}),[n,p,r]);return c&&v&&(b={...b}),x.useMemo(()=>{p.forEach((w,S)=>p.set(S,!1))},[n]),x.useEffect(()=>{!n&&!p.size&&r&&r()},[n]),d==="popLayout"&&(e=i.jsx(WT,{isPresent:n,anchorX:f,root:m,children:e})),i.jsx(ed.Provider,{value:b,children:e})};function JT(){return new Map}function s2(e=!0){const t=x.useContext(ed);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:l}=t,c=x.useId();x.useEffect(()=>{if(e)return l(c)},[e]);const d=x.useCallback(()=>e&&r&&r(c),[c,r,e]);return!n&&r?[!1,d]:[!0]}const ou=e=>e.key||"";function Kx(e){const t=[];return x.Children.forEach(e,n=>{x.isValidElement(n)&&t.push(n)}),t}const Sa=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:l=!0,mode:c="sync",propagate:d=!1,anchorX:f="left",root:m})=>{const[p,g]=s2(d),v=x.useMemo(()=>Kx(e),[e]),b=d&&!p?[]:v.map(ou),w=x.useRef(!0),S=x.useRef(v),N=Np(()=>new Map),[T,A]=x.useState(v),[C,E]=x.useState(v);dw(()=>{w.current=!1,S.current=v;for(let O=0;O<C.length;O++){const z=ou(C[O]);b.includes(z)?N.delete(z):N.get(z)!==!0&&N.set(z,!1)}},[C,b.length,b.join("-")]);const _=[];if(v!==T){let O=[...v];for(let z=0;z<C.length;z++){const P=C[z],q=ou(P);b.includes(q)||(O.splice(z,0,P),_.push(P))}return c==="wait"&&_.length&&(O=_),E(Kx(O)),A(v),null}const{forceRender:R}=x.useContext(Sp);return i.jsx(i.Fragment,{children:C.map(O=>{const z=ou(O),P=d&&!p?!1:v===C||b.includes(z),q=()=>{if(N.has(z))N.set(z,!0);else return;let U=!0;N.forEach(Q=>{Q||(U=!1)}),U&&(R?.(),E(S.current),d&&g?.(),r&&r())};return i.jsx(ZT,{isPresent:P,initial:!w.current||n?void 0:!1,custom:t,presenceAffectsLayout:l,mode:c,root:m,onExitComplete:P?void 0:q,anchorX:f,children:O},z)})})},n2=x.createContext({strict:!1}),Fx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Oi={};for(const e in Fx)Oi[e]={isEnabled:t=>Fx[e].some(n=>!!t[n])};function eA(e){for(const t in e)Oi[t]={...Oi[t],...e[t]}}const tA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function qu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||tA.has(e)}let a2=e=>!qu(e);function sA(e){typeof e=="function"&&(a2=t=>t.startsWith("on")?!qu(t):e(t))}try{sA(require("@emotion/is-prop-valid").default)}catch{}function nA(e,t,n){const r={};for(const l in e)l==="values"&&typeof e.values=="object"||(a2(l)||n===!0&&qu(l)||!t&&!qu(l)||e.draggable&&l.startsWith("onDrag"))&&(r[l]=e[l]);return r}const td=x.createContext({});function sd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function jl(e){return typeof e=="string"||Array.isArray(e)}const Qp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Yp=["initial",...Qp];function nd(e){return sd(e.animate)||Yp.some(t=>jl(e[t]))}function r2(e){return!!(nd(e)||e.variants)}function aA(e,t){if(nd(e)){const{initial:n,animate:r}=e;return{initial:n===!1||jl(n)?n:void 0,animate:jl(r)?r:void 0}}return e.inherit!==!1?t:{}}function rA(e){const{initial:t,animate:n}=aA(e,x.useContext(td));return x.useMemo(()=>({initial:t,animate:n}),[Ix(t),Ix(n)])}function Ix(e){return Array.isArray(e)?e.join(" "):e}const Sl={};function iA(e){for(const t in e)Sl[t]=e[t],Lp(t)&&(Sl[t].isCSSVariable=!0)}function i2(e,{layout:t,layoutId:n}){return Hi.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Sl[e]||e==="opacity")}const oA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lA=Gi.length;function cA(e,t,n){let r="",l=!0;for(let c=0;c<lA;c++){const d=Gi[c],f=e[d];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(d.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const p=Xw(f,Hp[d]);if(!m){l=!1;const g=oA[d]||d;r+=`${g}(${p}) `}n&&(t[d]=p)}}return r=r.trim(),n?r=n(t,l?"":r):l&&(r="none"),r}function Xp(e,t,n){const{style:r,vars:l,transformOrigin:c}=e;let d=!1,f=!1;for(const m in t){const p=t[m];if(Hi.has(m)){d=!0;continue}else if(Lp(m)){l[m]=p;continue}else{const g=Xw(p,Hp[m]);m.startsWith("origin")?(f=!0,c[m]=g):r[m]=g}}if(t.transform||(d||n?r.transform=cA(t,e.transform,n):r.transform&&(r.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:g=0}=c;r.transformOrigin=`${m} ${p} ${g}`}}const Wp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function o2(e,t,n){for(const r in t)!Es(t[r])&&!i2(r,n)&&(e[r]=t[r])}function uA({transformTemplate:e},t){return x.useMemo(()=>{const n=Wp();return Xp(n,t,e),Object.assign({},n.vars,n.style)},[t])}function dA(e,t){const n=e.style||{},r={};return o2(r,n,e),Object.assign(r,uA(e,t)),r}function fA(e,t){const n={},r=dA(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const hA={offset:"stroke-dashoffset",array:"stroke-dasharray"},mA={offset:"strokeDashoffset",array:"strokeDasharray"};function pA(e,t,n=1,r=0,l=!0){e.pathLength=1;const c=l?hA:mA;e[c.offset]=De.transform(-r);const d=De.transform(t),f=De.transform(n);e[c.array]=`${d} ${f}`}function l2(e,{attrX:t,attrY:n,attrScale:r,pathLength:l,pathSpacing:c=1,pathOffset:d=0,...f},m,p,g){if(Xp(e,f,p),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:b}=e;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=g?.transformBox??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),l!==void 0&&pA(v,l,c,d,!1)}const c2=()=>({...Wp(),attrs:{}}),u2=e=>typeof e=="string"&&e.toLowerCase()==="svg";function gA(e,t,n,r){const l=x.useMemo(()=>{const c=c2();return l2(c,t,u2(r),e.transformTemplate,e.style),{...c.attrs,style:{...c.style}}},[t]);if(e.style){const c={};o2(c,e.style,e),l.style={...c,...l.style}}return l}const yA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Zp(e){return typeof e!="string"||e.includes("-")?!1:!!(yA.indexOf(e)>-1||/[A-Z]/u.test(e))}function vA(e,t,n,{latestValues:r},l,c=!1){const f=(Zp(e)?gA:fA)(t,r,l,e),m=nA(t,typeof e=="string",c),p=e!==x.Fragment?{...m,...f,ref:n}:{},{children:g}=t,v=x.useMemo(()=>Es(g)?g.get():g,[g]);return x.createElement(e,{...p,children:v})}function Qx(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Jp(e,t,n,r){if(typeof t=="function"){const[l,c]=Qx(r);t=t(n!==void 0?n:e.custom,l,c)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[l,c]=Qx(r);t=t(n!==void 0?n:e.custom,l,c)}return t}function Nu(e){return Es(e)?e.get():e}function xA({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,l){return{latestValues:bA(n,r,l,e),renderState:t()}}function bA(e,t,n,r){const l={},c=r(e,{});for(const b in c)l[b]=Nu(c[b]);let{initial:d,animate:f}=e;const m=nd(e),p=r2(e);t&&p&&!m&&e.inherit!==!1&&(d===void 0&&(d=t.initial),f===void 0&&(f=t.animate));let g=n?n.initial===!1:!1;g=g||d===!1;const v=g?f:d;if(v&&typeof v!="boolean"&&!sd(v)){const b=Array.isArray(v)?v:[v];for(let w=0;w<b.length;w++){const S=Jp(e,b[w]);if(S){const{transitionEnd:N,transition:T,...A}=S;for(const C in A){let E=A[C];if(Array.isArray(E)){const _=g?E.length-1:0;E=E[_]}E!==null&&(l[C]=E)}for(const C in N)l[C]=N[C]}}}return l}const d2=e=>(t,n)=>{const r=x.useContext(td),l=x.useContext(ed),c=()=>xA(e,t,r,l);return n?c():Np(c)};function eg(e,t,n){const{style:r}=e,l={};for(const c in r)(Es(r[c])||t.style&&Es(t.style[c])||i2(c,e)||n?.getValue(c)?.liveStyle!==void 0)&&(l[c]=r[c]);return l}const wA=d2({scrapeMotionValuesFromProps:eg,createRenderState:Wp});function f2(e,t,n){const r=eg(e,t,n);for(const l in e)if(Es(e[l])||Es(t[l])){const c=Gi.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;r[c]=e[l]}return r}const jA=d2({scrapeMotionValuesFromProps:f2,createRenderState:c2}),SA=Symbol.for("motionComponentSymbol");function Ci(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function NA(e,t,n){return x.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ci(n)&&(n.current=r))},[t])}const tg=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),kA="framerAppearId",h2="data-"+tg(kA),m2=x.createContext({});function CA(e,t,n,r,l){const{visualElement:c}=x.useContext(td),d=x.useContext(n2),f=x.useContext(ed),m=x.useContext(Ip).reducedMotion,p=x.useRef(null);r=r||d.renderer,!p.current&&r&&(p.current=r(e,{visualState:t,parent:c,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const g=p.current,v=x.useContext(m2);g&&!g.projection&&l&&(g.type==="html"||g.type==="svg")&&TA(p.current,n,l,v);const b=x.useRef(!1);x.useInsertionEffect(()=>{g&&b.current&&g.update(n,f)});const w=n[h2],S=x.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return dw(()=>{g&&(b.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),S.current&&g.animationState&&g.animationState.animateChanges())}),x.useEffect(()=>{g&&(!S.current&&g.animationState&&g.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),S.current=!1),g.enteringChildren=void 0)}),g}function TA(e,t,n,r){const{layoutId:l,layout:c,drag:d,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:g}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:p2(e.parent)),e.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||f&&Ci(f),visualElement:e,animationType:typeof c=="string"?c:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:m,layoutRoot:p})}function p2(e){if(e)return e.options.allowProjection!==!1?e.projection:p2(e.parent)}function zh(e,{forwardMotionProps:t=!1}={},n,r){n&&eA(n);const l=Zp(e)?jA:wA;function c(f,m){let p;const g={...x.useContext(Ip),...f,layoutId:AA(f)},{isStatic:v}=g,b=rA(f),w=l(f,v);if(!v&&kp){EA();const S=MA(g);p=S.MeasureLayout,b.visualElement=CA(e,w,g,r,S.ProjectionNode)}return i.jsxs(td.Provider,{value:b,children:[p&&b.visualElement?i.jsx(p,{visualElement:b.visualElement,...g}):null,vA(e,f,NA(w,b.visualElement,m),w,v,t)]})}c.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const d=x.forwardRef(c);return d[SA]=e,d}function AA({layoutId:e}){const t=x.useContext(Sp).id;return t&&e!==void 0?t+"-"+e:e}function EA(e,t){x.useContext(n2).strict}function MA(e){const{drag:t,layout:n}=Oi;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function RA(e,t){if(typeof Proxy>"u")return zh;const n=new Map,r=(c,d)=>zh(c,d,e,t),l=(c,d)=>r(c,d);return new Proxy(l,{get:(c,d)=>d==="create"?r:(n.has(d)||n.set(d,zh(d,void 0,e,t)),n.get(d))})}function g2({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function PA({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function LA(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Bh(e){return e===void 0||e===1}function Bm({scale:e,scaleX:t,scaleY:n}){return!Bh(e)||!Bh(t)||!Bh(n)}function Tr(e){return Bm(e)||y2(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function y2(e){return Yx(e.x)||Yx(e.y)}function Yx(e){return e&&e!=="0%"}function Uu(e,t,n){const r=e-n,l=t*r;return n+l}function Xx(e,t,n,r,l){return l!==void 0&&(e=Uu(e,l,r)),Uu(e,n,r)+t}function qm(e,t=0,n=1,r,l){e.min=Xx(e.min,t,n,r,l),e.max=Xx(e.max,t,n,r,l)}function v2(e,{x:t,y:n}){qm(e.x,t.translate,t.scale,t.originPoint),qm(e.y,n.translate,n.scale,n.originPoint)}const Wx=.999999999999,Zx=1.0000000000001;function _A(e,t,n,r=!1){const l=n.length;if(!l)return;t.x=t.y=1;let c,d;for(let f=0;f<l;f++){c=n[f],d=c.projectionDelta;const{visualElement:m}=c.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Ai(e,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),d&&(t.x*=d.x.scale,t.y*=d.y.scale,v2(e,d)),r&&Tr(c.latestValues)&&Ai(e,c.latestValues))}t.x<Zx&&t.x>Wx&&(t.x=1),t.y<Zx&&t.y>Wx&&(t.y=1)}function Ti(e,t){e.min=e.min+t,e.max=e.max+t}function Jx(e,t,n,r,l=.5){const c=Dt(e.min,e.max,l);qm(e,t,n,c,r)}function Ai(e,t){Jx(e.x,t.x,t.scaleX,t.scale,t.originX),Jx(e.y,t.y,t.scaleY,t.scale,t.originY)}function x2(e,t){return g2(LA(e.getBoundingClientRect(),t))}function DA(e,t,n){const r=x2(e,n),{scroll:l}=t;return l&&(Ti(r.x,l.offset.x),Ti(r.y,l.offset.y)),r}const eb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ei=()=>({x:eb(),y:eb()}),tb=()=>({min:0,max:0}),Gt=()=>({x:tb(),y:tb()}),Um={current:null},b2={current:!1};function OA(){if(b2.current=!0,!!kp)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Um.current=e.matches;e.addEventListener("change",t),t()}else Um.current=!1}const zA=new WeakMap;function BA(e,t,n){for(const r in t){const l=t[r],c=n[r];if(Es(l))e.addValue(r,l);else if(Es(c))e.addValue(r,Di(l,{owner:e}));else if(c!==l)if(e.hasValue(r)){const d=e.getValue(r);d.liveStyle===!0?d.jump(l):d.hasAnimated||d.set(l)}else{const d=e.getStaticValue(r);e.addValue(r,Di(d!==void 0?d:l,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const sb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class qA{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:l,blockInitialAnimation:c,visualState:d},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$p,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Ks.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Mt.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=d;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=l,this.options=f,this.blockInitialAnimation=!!c,this.isControllingVariants=nd(n),this.isVariantNode=r2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in v){const w=v[b];m[b]!==void 0&&Es(w)&&w.set(m[b])}}mount(t){this.current=t,zA.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),b2.current||OA(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Um.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),tr(this.notifyUpdate),tr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Hi.has(t);r&&this.onBindTransform&&this.onBindTransform();const l=n.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&Mt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Oi){const n=Oi[t];if(!n)continue;const{isEnabled:r,Feature:l}=n;if(!this.features[t]&&l&&r(this.props)&&(this.features[t]=new l(this)),this.features[t]){const c=this.features[t];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Gt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<sb.length;r++){const l=sb[r];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const c="on"+l,d=t[c];d&&(this.propEventSubscriptions[l]=this.on(l,d))}this.prevMotionValues=BA(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Di(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(fw(r)||mw(r))?r=parseFloat(r):!YT(r)&&sr.test(n)&&(r=Yw(t,n)),this.setBaseTarget(t,Es(r)?r.get():r)),Es(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const c=Jp(this.props,n,this.presenceContext?.custom);c&&(r=c[t])}if(n&&r!==void 0)return r;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!Es(l)?l:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Mp),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Kp.render(this.render)}}class w2 extends qA{constructor(){super(...arguments),this.KeyframeResolver=zT}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Es(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function j2(e,{style:t,vars:n},r,l){const c=e.style;let d;for(d in t)c[d]=t[d];l?.applyProjectionStyles(c,r);for(d in n)c.setProperty(d,n[d])}function UA(e){return window.getComputedStyle(e)}class VA extends w2{constructor(){super(...arguments),this.type="html",this.renderInstance=j2}readValueFromInstance(t,n){if(Hi.has(n))return this.projection?.isProjecting?Rm(n):sT(t,n);{const r=UA(t),l=(Lp(n)?r.getPropertyValue(n):r[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return x2(t,n)}build(t,n,r){Xp(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return eg(t,n,r)}}const S2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $A(e,t,n,r){j2(e,t,void 0,r);for(const l in t.attrs)e.setAttribute(S2.has(l)?l:tg(l),t.attrs[l])}class GA extends w2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Gt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Hi.has(n)){const r=Qw(n);return r&&r.default||0}return n=S2.has(n)?n:tg(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return f2(t,n,r)}build(t,n,r){l2(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,l){$A(t,n,r,l)}mount(t){this.isSVGTag=u2(t.tagName),super.mount(t)}}const HA=(e,t)=>Zp(e)?new GA(t):new VA(t,{allowProjection:e!==x.Fragment});function Li(e,t,n){const r=e.getProps();return Jp(r,t,n!==void 0?n:r.custom,e)}const Vm=e=>Array.isArray(e);function KA(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Di(n))}function FA(e){return Vm(e)?e[e.length-1]||0:e}function IA(e,t){const n=Li(e,t);let{transitionEnd:r={},transition:l={},...c}=n||{};c={...c,...r};for(const d in c){const f=FA(c[d]);KA(e,d,f)}}function QA(e){return!!(Es(e)&&e.add)}function $m(e,t){const n=e.getValue("willChange");if(QA(n))return n.add(t);if(!n&&ba.WillChange){const r=new ba.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function N2(e){return e.props[h2]}const YA=e=>e!==null;function XA(e,{repeat:t,repeatType:n="loop"},r){const l=e.filter(YA),c=t&&n!=="loop"&&t%2===1?0:l.length-1;return l[c]}const WA={type:"spring",stiffness:500,damping:25,restSpeed:10},ZA=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),JA={type:"keyframes",duration:.8},eE={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},tE=(e,{keyframes:t})=>t.length>2?JA:Hi.has(e)?e.startsWith("scale")?ZA(t[1]):WA:eE;function sE({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:l,repeat:c,repeatType:d,repeatDelay:f,from:m,elapsed:p,...g}){return!!Object.keys(g).length}const sg=(e,t,n,r={},l,c)=>d=>{const f=Gp(r,e)||{},m=f.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Hn(m);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-p,onUpdate:b=>{t.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{d(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:c?void 0:l};sE(f)||Object.assign(g,tE(e,g)),g.duration&&(g.duration=Hn(g.duration)),g.repeatDelay&&(g.repeatDelay=Hn(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Om(g),g.delay===0&&(v=!0)),(ba.instantAnimations||ba.skipAnimations)&&(v=!0,Om(g),g.delay=0),g.allowFlatten=!f.type&&!f.ease,v&&!c&&t.get()!==void 0){const b=XA(g.keyframes,f);if(b!==void 0){Mt.update(()=>{g.onUpdate(b),g.onComplete()});return}}return f.isSync?new Vp(g):new kT(g)};function nE({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function k2(e,t,{delay:n=0,transitionOverride:r,type:l}={}){let{transition:c=e.getDefaultTransition(),transitionEnd:d,...f}=t;r&&(c=r);const m=[],p=l&&e.animationState&&e.animationState.getState()[l];for(const g in f){const v=e.getValue(g,e.latestValues[g]??null),b=f[g];if(b===void 0||p&&nE(p,g))continue;const w={delay:n,...Gp(c||{},g)},S=v.get();if(S!==void 0&&!v.isAnimating&&!Array.isArray(b)&&b===S&&!w.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const A=N2(e);if(A){const C=window.MotionHandoffAnimation(A,g,Mt);C!==null&&(w.startTime=C,N=!0)}}$m(e,g),v.start(sg(g,v,b,e.shouldReduceMotion&&Kw.has(g)?{type:!1}:w,e,N));const T=v.animation;T&&m.push(T)}return d&&Promise.all(m).then(()=>{Mt.update(()=>{d&&IA(e,d)})}),m}function C2(e,t,n,r=0,l=1){const c=Array.from(e).sort((p,g)=>p.sortNodePosition(g)).indexOf(t),d=e.size,f=(d-1)*r;return typeof n=="function"?n(c,d):l===1?c*r:f-c*r}function Gm(e,t,n={}){const r=Li(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:l=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(l=n.transitionOverride);const c=r?()=>Promise.all(k2(e,r,n)):()=>Promise.resolve(),d=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=l;return aE(e,t,m,p,g,v,n)}:()=>Promise.resolve(),{when:f}=l;if(f){const[m,p]=f==="beforeChildren"?[c,d]:[d,c];return m().then(()=>p())}else return Promise.all([c(),d(n.delay)])}function aE(e,t,n=0,r=0,l=0,c=1,d){const f=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),f.push(Gm(m,t,{...d,delay:n+(typeof r=="function"?0:r)+C2(e.variantChildren,m,r,l,c)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(f)}function rE(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const l=t.map(c=>Gm(e,c,n));r=Promise.all(l)}else if(typeof t=="string")r=Gm(e,t,n);else{const l=typeof t=="function"?Li(e,t,n.custom):t;r=Promise.all(k2(e,l,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function T2(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const iE=Yp.length;function A2(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?A2(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<iE;n++){const r=Yp[n],l=e.props[r];(jl(l)||l===!1)&&(t[r]=l)}return t}const oE=[...Qp].reverse(),lE=Qp.length;function cE(e){return t=>Promise.all(t.map(({animation:n,options:r})=>rE(e,n,r)))}function uE(e){let t=cE(e),n=nb(),r=!0;const l=m=>(p,g)=>{const v=Li(e,g,m==="exit"?e.presenceContext?.custom:void 0);if(v){const{transition:b,transitionEnd:w,...S}=v;p={...p,...S,...w}}return p};function c(m){t=m(e)}function d(m){const{props:p}=e,g=A2(e.parent)||{},v=[],b=new Set;let w={},S=1/0;for(let T=0;T<lE;T++){const A=oE[T],C=n[A],E=p[A]!==void 0?p[A]:g[A],_=jl(E),R=A===m?C.isActive:null;R===!1&&(S=T);let O=E===g[A]&&E!==p[A]&&_;if(O&&r&&e.manuallyAnimateOnMount&&(O=!1),C.protectedKeys={...w},!C.isActive&&R===null||!E&&!C.prevProp||sd(E)||typeof E=="boolean")continue;const z=dE(C.prevProp,E);let P=z||A===m&&C.isActive&&!O&&_||T>S&&_,q=!1;const U=Array.isArray(E)?E:[E];let Q=U.reduce(l(A),{});R===!1&&(Q={});const{prevResolvedValues:re={}}=C,ce={...re,...Q},he=I=>{P=!0,b.has(I)&&(q=!0,b.delete(I)),C.needsAnimating[I]=!0;const B=e.getValue(I);B&&(B.liveStyle=!1)};for(const I in ce){const B=Q[I],ne=re[I];if(w.hasOwnProperty(I))continue;let M=!1;Vm(B)&&Vm(ne)?M=!T2(B,ne):M=B!==ne,M?B!=null?he(I):b.add(I):B!==void 0&&b.has(I)?he(I):C.protectedKeys[I]=!0}C.prevProp=E,C.prevResolvedValues=Q,C.isActive&&(w={...w,...Q}),r&&e.blockInitialAnimation&&(P=!1);const ye=O&&z;P&&(!ye||q)&&v.push(...U.map(I=>{const B={type:A};if(typeof I=="string"&&r&&!ye&&e.manuallyAnimateOnMount&&e.parent){const{parent:ne}=e,M=Li(ne,I);if(ne.enteringChildren&&M){const{delayChildren:D}=M.transition||{};B.delay=C2(ne.enteringChildren,e,D)}}return{animation:I,options:B}}))}if(b.size){const T={};if(typeof p.initial!="boolean"){const A=Li(e,Array.isArray(p.initial)?p.initial[0]:p.initial);A&&A.transition&&(T.transition=A.transition)}b.forEach(A=>{const C=e.getBaseTarget(A),E=e.getValue(A);E&&(E.liveStyle=!0),T[A]=C??null}),v.push({animation:T})}let N=!!v.length;return r&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(N=!1),r=!1,N?t(v):Promise.resolve()}function f(m,p){if(n[m].isActive===p)return Promise.resolve();e.variantChildren?.forEach(v=>v.animationState?.setActive(m,p)),n[m].isActive=p;const g=d(m);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:d,setActive:f,setAnimateFunction:c,getState:()=>n,reset:()=>{n=nb(),r=!0}}}function dE(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!T2(t,e):!1}function Sr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nb(){return{animate:Sr(!0),whileInView:Sr(),whileHover:Sr(),whileTap:Sr(),whileDrag:Sr(),whileFocus:Sr(),exit:Sr()}}class nr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class fE extends nr{constructor(t){super(t),t.animationState||(t.animationState=uE(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();sd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let hE=0;class mE extends nr{constructor(){super(...arguments),this.id=hE++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const l=this.node.animationState.setActive("exit",!t);n&&!t&&l.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const pE={animation:{Feature:fE},exit:{Feature:mE}};function Nl(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function zl(e){return{point:{x:e.pageX,y:e.pageY}}}const gE=e=>t=>Fp(t)&&e(t,zl(t));function ul(e,t,n,r){return Nl(e,t,gE(n),r)}const E2=1e-4,yE=1-E2,vE=1+E2,M2=.01,xE=0-M2,bE=0+M2;function Ds(e){return e.max-e.min}function wE(e,t,n){return Math.abs(e-t)<=n}function ab(e,t,n,r=.5){e.origin=r,e.originPoint=Dt(t.min,t.max,e.origin),e.scale=Ds(n)/Ds(t),e.translate=Dt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=yE&&e.scale<=vE||isNaN(e.scale))&&(e.scale=1),(e.translate>=xE&&e.translate<=bE||isNaN(e.translate))&&(e.translate=0)}function dl(e,t,n,r){ab(e.x,t.x,n.x,r?r.originX:void 0),ab(e.y,t.y,n.y,r?r.originY:void 0)}function rb(e,t,n){e.min=n.min+t.min,e.max=e.min+Ds(t)}function jE(e,t,n){rb(e.x,t.x,n.x),rb(e.y,t.y,n.y)}function ib(e,t,n){e.min=t.min-n.min,e.max=e.min+Ds(t)}function fl(e,t,n){ib(e.x,t.x,n.x),ib(e.y,t.y,n.y)}function yn(e){return[e("x"),e("y")]}const R2=({current:e})=>e?e.ownerDocument.defaultView:null,ob=(e,t)=>Math.abs(e-t);function SE(e,t){const n=ob(e.x,t.x),r=ob(e.y,t.y);return Math.sqrt(n**2+r**2)}class P2{constructor(t,n,{transformPagePoint:r,contextWindow:l=window,dragSnapToOrigin:c=!1,distanceThreshold:d=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Uh(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,S=SE(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!S)return;const{point:N}=b,{timestamp:T}=ws;this.history.push({...N,timestamp:T});const{onStart:A,onMove:C}=this.handlers;w||(A&&A(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,b)},this.handlePointerMove=(b,w)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=qh(w,this.transformPagePoint),Mt.update(this.updatePoint,!0)},this.handlePointerUp=(b,w)=>{this.end();const{onEnd:S,onSessionEnd:N,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Uh(b.type==="pointercancel"?this.lastMoveEventInfo:qh(w,this.transformPagePoint),this.history);this.startEvent&&S&&S(b,A),N&&N(b,A)},!Fp(t))return;this.dragSnapToOrigin=c,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=d,this.contextWindow=l||window;const f=zl(t),m=qh(f,this.transformPagePoint),{point:p}=m,{timestamp:g}=ws;this.history=[{...p,timestamp:g}];const{onSessionStart:v}=n;v&&v(t,Uh(m,this.history)),this.removeListeners=_l(ul(this.contextWindow,"pointermove",this.handlePointerMove),ul(this.contextWindow,"pointerup",this.handlePointerUp),ul(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),tr(this.updatePoint)}}function qh(e,t){return t?{point:t(e.point)}:e}function lb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Uh({point:e},t){return{point:e,delta:lb(e,L2(t)),offset:lb(e,NE(t)),velocity:kE(t,.1)}}function NE(e){return e[0]}function L2(e){return e[e.length-1]}function kE(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const l=L2(e);for(;n>=0&&(r=e[n],!(l.timestamp-r.timestamp>Hn(t)));)n--;if(!r)return{x:0,y:0};const c=Kn(l.timestamp-r.timestamp);if(c===0)return{x:0,y:0};const d={x:(l.x-r.x)/c,y:(l.y-r.y)/c};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function CE(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Dt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Dt(n,e,r.max):Math.min(e,n)),e}function cb(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function TE(e,{top:t,left:n,bottom:r,right:l}){return{x:cb(e.x,n,l),y:cb(e.y,t,r)}}function ub(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function AE(e,t){return{x:ub(e.x,t.x),y:ub(e.y,t.y)}}function EE(e,t){let n=.5;const r=Ds(e),l=Ds(t);return l>r?n=xl(t.min,t.max-r,e.min):r>l&&(n=xl(e.min,e.max-l,t.min)),xa(0,1,n)}function ME(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Hm=.35;function RE(e=Hm){return e===!1?e=0:e===!0&&(e=Hm),{x:db(e,"left","right"),y:db(e,"top","bottom")}}function db(e,t,n){return{min:fb(e,t),max:fb(e,n)}}function fb(e,t){return typeof e=="number"?e:e[t]||0}const PE=new WeakMap;class LE{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Gt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const c=v=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(zl(v).point)},d=(v,b)=>{const{drag:w,dragPropagation:S,onDragStart:N}=this.getProps();if(w&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=VT(w),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),yn(A=>{let C=this.getAxisMotionValue(A).get()||0;if(Fn.test(C)){const{projection:E}=this.visualElement;if(E&&E.layout){const _=E.layout.layoutBox[A];_&&(C=Ds(_)*(parseFloat(C)/100))}}this.originPoint[A]=C}),N&&Mt.postRender(()=>N(v,b)),$m(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},f=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:w,dragDirectionLock:S,onDirectionLock:N,onDrag:T}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:A}=b;if(S&&this.currentDirection===null){this.currentDirection=_E(A),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",b.point,A),this.updateAxis("y",b.point,A),this.visualElement.render(),T&&T(v,b)},m=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>yn(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new P2(t,{onSessionStart:c,onStart:d,onMove:f,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:R2(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,l=n||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!l||!r)return;const{velocity:d}=l;this.startAnimation(d);const{onDragEnd:f}=this.getProps();f&&Mt.postRender(()=>f(r,l))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:l}=this.getProps();if(!r||!lu(t,l,this.currentDirection))return;const c=this.getAxisMotionValue(t);let d=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(d=CE(d,this.constraints[t],this.elastic[t])),c.set(d)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,l=this.constraints;t&&Ci(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=TE(r.layoutBox,t):this.constraints=!1,this.elastic=RE(n),l!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&yn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=ME(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ci(t))return!1;const r=t.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const c=DA(r,l.root,this.visualElement.getTransformPagePoint());let d=AE(l.layout.layoutBox,c);if(n){const f=n(PA(d));this.hasMutatedConstraints=!!f,f&&(d=g2(f))}return d}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:l,dragTransition:c,dragSnapToOrigin:d,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=yn(g=>{if(!lu(g,n,this.currentDirection))return;let v=m&&m[g]||{};d&&(v={min:0,max:0});const b=l?200:1e6,w=l?40:1e7,S={type:"inertia",velocity:r?t[g]:0,bounceStiffness:b,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...c,...v};return this.startAxisValueAnimation(g,S)});return Promise.all(p).then(f)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return $m(this.visualElement,t),r.start(sg(t,r,0,n,this.visualElement,!1))}stopAnimation(){yn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){yn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),l=r[n];return l||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){yn(n=>{const{drag:r}=this.getProps();if(!lu(n,r,this.currentDirection))return;const{projection:l}=this.visualElement,c=this.getAxisMotionValue(n);if(l&&l.layout){const{min:d,max:f}=l.layout.layoutBox[n];c.set(t[n]-Dt(d,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ci(n)||!r||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};yn(d=>{const f=this.getAxisMotionValue(d);if(f&&this.constraints!==!1){const m=f.get();l[d]=EE({min:m,max:m},this.constraints[d])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),yn(d=>{if(!lu(d,t,null))return;const f=this.getAxisMotionValue(d),{min:m,max:p}=this.constraints[d];f.set(Dt(m,p,l[d]))})}addListeners(){if(!this.visualElement.current)return;PE.set(this.visualElement,this);const t=this.visualElement.current,n=ul(t,"pointerdown",m=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();Ci(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,c=l.addEventListener("measure",r);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),Mt.read(r);const d=Nl(window,"resize",()=>this.scalePositionWithinConstraints()),f=l.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(yn(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=m[g].translate,v.set(v.get()+m[g].translate))}),this.visualElement.render())}));return()=>{d(),n(),c(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:l=!1,dragConstraints:c=!1,dragElastic:d=Hm,dragMomentum:f=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:l,dragConstraints:c,dragElastic:d,dragMomentum:f}}}function lu(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function _E(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class DE extends nr{constructor(t){super(t),this.removeGroupControls=xn,this.removeListeners=xn,this.controls=new LE(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xn}unmount(){this.removeGroupControls(),this.removeListeners()}}const hb=e=>(t,n)=>{e&&Mt.postRender(()=>e(t,n))};class OE extends nr{constructor(){super(...arguments),this.removePointerDownListener=xn}onPointerDown(t){this.session=new P2(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:R2(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:l}=this.node.getProps();return{onSessionStart:hb(t),onStart:hb(n),onMove:r,onEnd:(c,d)=>{delete this.session,l&&Mt.postRender(()=>l(c,d))}}}mount(){this.removePointerDownListener=ul(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ku={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function mb(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Zo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(De.test(e))e=parseFloat(e);else return e;const n=mb(e,t.target.x),r=mb(e,t.target.y);return`${n}% ${r}%`}},zE={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,l=sr.parse(e);if(l.length>5)return r;const c=sr.createTransformer(e),d=typeof l[0]!="number"?1:0,f=n.x.scale*t.x,m=n.y.scale*t.y;l[0+d]/=f,l[1+d]/=m;const p=Dt(f,m,.5);return typeof l[2+d]=="number"&&(l[2+d]/=p),typeof l[3+d]=="number"&&(l[3+d]/=p),c(l)}};let Vh=!1;class BE extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:l}=this.props,{projection:c}=t;iA(qE),c&&(n.group&&n.group.add(c),r&&r.register&&l&&r.register(c),Vh&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),ku.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:l,isPresent:c}=this.props,{projection:d}=r;return d&&(d.isPresent=c,Vh=!0,l||t.layoutDependency!==n||n===void 0||t.isPresent!==c?d.willUpdate():this.safeToRemove(),t.isPresent!==c&&(c?d.promote():d.relegate()||Mt.postRender(()=>{const f=d.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Kp.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:l}=t;Vh=!0,l&&(l.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(l),r&&r.deregister&&r.deregister(l))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function _2(e){const[t,n]=s2(),r=x.useContext(Sp);return i.jsx(BE,{...e,layoutGroup:r,switchLayoutGroup:x.useContext(m2),isPresent:t,safeToRemove:n})}const qE={borderRadius:{...Zo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zo,borderTopRightRadius:Zo,borderBottomLeftRadius:Zo,borderBottomRightRadius:Zo,boxShadow:zE};function UE(e,t,n){const r=Es(e)?e:Di(e);return r.start(sg("",r,t,n)),r.animation}const VE=(e,t)=>e.depth-t.depth;class $E{constructor(){this.children=[],this.isDirty=!1}add(t){Cp(this.children,t),this.isDirty=!0}remove(t){Tp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(VE),this.isDirty=!1,this.children.forEach(t)}}function GE(e,t){const n=Ks.now(),r=({timestamp:l})=>{const c=l-n;c>=t&&(tr(r),e(c-t))};return Mt.setup(r,!0),()=>tr(r)}const D2=["TopLeft","TopRight","BottomLeft","BottomRight"],HE=D2.length,pb=e=>typeof e=="string"?parseFloat(e):e,gb=e=>typeof e=="number"||De.test(e);function KE(e,t,n,r,l,c){l?(e.opacity=Dt(0,n.opacity??1,FE(r)),e.opacityExit=Dt(t.opacity??1,0,IE(r))):c&&(e.opacity=Dt(t.opacity??1,n.opacity??1,r));for(let d=0;d<HE;d++){const f=`border${D2[d]}Radius`;let m=yb(t,f),p=yb(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||gb(m)===gb(p)?(e[f]=Math.max(Dt(pb(m),pb(p),r),0),(Fn.test(p)||Fn.test(m))&&(e[f]+="%")):e[f]=p}(t.rotate||n.rotate)&&(e.rotate=Dt(t.rotate||0,n.rotate||0,r))}function yb(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const FE=O2(0,.5,jw),IE=O2(.5,.95,xn);function O2(e,t,n){return r=>r<e?0:r>t?1:n(xl(e,t,r))}function vb(e,t){e.min=t.min,e.max=t.max}function gn(e,t){vb(e.x,t.x),vb(e.y,t.y)}function xb(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function bb(e,t,n,r,l){return e-=t,e=Uu(e,1/n,r),l!==void 0&&(e=Uu(e,1/l,r)),e}function QE(e,t=0,n=1,r=.5,l,c=e,d=e){if(Fn.test(t)&&(t=parseFloat(t),t=Dt(d.min,d.max,t/100)-d.min),typeof t!="number")return;let f=Dt(c.min,c.max,r);e===c&&(f-=t),e.min=bb(e.min,t,n,f,l),e.max=bb(e.max,t,n,f,l)}function wb(e,t,[n,r,l],c,d){QE(e,t[n],t[r],t[l],t.scale,c,d)}const YE=["x","scaleX","originX"],XE=["y","scaleY","originY"];function jb(e,t,n,r){wb(e.x,t,YE,n?n.x:void 0,r?r.x:void 0),wb(e.y,t,XE,n?n.y:void 0,r?r.y:void 0)}function Sb(e){return e.translate===0&&e.scale===1}function z2(e){return Sb(e.x)&&Sb(e.y)}function Nb(e,t){return e.min===t.min&&e.max===t.max}function WE(e,t){return Nb(e.x,t.x)&&Nb(e.y,t.y)}function kb(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function B2(e,t){return kb(e.x,t.x)&&kb(e.y,t.y)}function Cb(e){return Ds(e.x)/Ds(e.y)}function Tb(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class ZE{constructor(){this.members=[]}add(t){Cp(this.members,t),t.scheduleRender()}remove(t){if(Tp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(l=>t===l);if(n===0)return!1;let r;for(let l=n;l>=0;l--){const c=this.members[l];if(c.isPresent!==!1){r=c;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:l}=t.options;l===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function JE(e,t,n){let r="";const l=e.x.translate/t.x,c=e.y.translate/t.y,d=n?.z||0;if((l||c||d)&&(r=`translate3d(${l}px, ${c}px, ${d}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:v,rotateY:b,skewX:w,skewY:S}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),b&&(r+=`rotateY(${b}deg) `),w&&(r+=`skewX(${w}deg) `),S&&(r+=`skewY(${S}deg) `)}const f=e.x.scale*t.x,m=e.y.scale*t.y;return(f!==1||m!==1)&&(r+=`scale(${f}, ${m})`),r||"none"}const $h=["","X","Y","Z"],eM=1e3;let tM=0;function Gh(e,t,n,r){const{latestValues:l}=t;l[e]&&(n[e]=l[e],t.setStaticValue(e,0),r&&(r[e]=0))}function q2(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=N2(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:l,layoutId:c}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Mt,!(l||c))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&q2(r)}function U2({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:l}){return class{constructor(d={},f=t?.()){this.id=tM++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(aM),this.nodes.forEach(lM),this.nodes.forEach(cM),this.nodes.forEach(rM)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new $E)}addEventListener(d,f){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new Mp),this.eventHandlers.get(d).add(f)}notifyListeners(d,...f){const m=this.eventHandlers.get(d);m&&m.notify(...f)}hasListeners(d){return this.eventHandlers.has(d)}mount(d){if(this.instance)return;this.isSVG=t2(d)&&!IT(d),this.instance=d;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),e){let g,v=0;const b=()=>this.root.updateBlockedByResize=!1;Mt.read(()=>{v=window.innerWidth}),e(d,()=>{const w=window.innerWidth;w!==v&&(v=w,this.root.updateBlockedByResize=!0,g&&g(),g=GE(b,250),ku.hasAnimatedSinceResize&&(ku.hasAnimatedSinceResize=!1,this.nodes.forEach(Mb)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||p.getDefaultTransition()||mM,{onLayoutAnimationStart:N,onLayoutAnimationComplete:T}=p.getProps(),A=!this.targetLayout||!B2(this.targetLayout,w),C=!v&&b;if(this.options.layoutRoot||this.resumeFrom||C||v&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...Gp(S,"layout"),onPlay:N,onComplete:T};(p.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(g,C)}else v||Mb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),tr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(uM),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&q2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ab);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Eb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(oM),this.nodes.forEach(sM),this.nodes.forEach(nM)):this.nodes.forEach(Eb),this.clearAllSnapshots();const f=Ks.now();ws.delta=xa(0,1e3/60,f-ws.timestamp),ws.timestamp=f,ws.isProcessing=!0,Rh.update.process(ws),Rh.preRender.process(ws),Rh.render.process(ws),ws.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Kp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(iM),this.sharedNodes.forEach(dM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Mt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Mt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ds(this.snapshot.measuredBox.x)&&!Ds(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(f=!1),f&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!l)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!z2(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;d&&this.instance&&(f||Tr(this.latestValues)||g)&&(l(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return d&&(m=this.removeTransform(m)),pM(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:d}=this.options;if(!d)return Gt();const f=d.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(gM))){const{scroll:p}=this.root;p&&(Ti(f.x,p.offset.x),Ti(f.y,p.offset.y))}return f}removeElementScroll(d){const f=Gt();if(gn(f,d),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:g,options:v}=p;p!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&gn(f,d),Ti(f.x,g.offset.x),Ti(f.y,g.offset.y))}return f}applyTransform(d,f=!1){const m=Gt();gn(m,d);for(let p=0;p<this.path.length;p++){const g=this.path[p];!f&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Ai(m,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Tr(g.latestValues)&&Ai(m,g.latestValues)}return Tr(this.latestValues)&&Ai(m,this.latestValues),m}removeTransform(d){const f=Gt();gn(f,d);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Tr(p.latestValues))continue;Bm(p.latestValues)&&p.updateSnapshot();const g=Gt(),v=p.measurePageBox();gn(g,v),jb(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Tr(this.latestValues)&&jb(f,this.latestValues),f}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ws.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(d||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=ws.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gt(),this.relativeTargetOrigin=Gt(),fl(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Gt(),this.targetWithTransforms=Gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),jE(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gn(this.target,this.layout.layoutBox),v2(this.target,this.targetDelta)):gn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Gt(),this.relativeTargetOrigin=Gt(),fl(this.relativeTargetOrigin,this.target,b.target),gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Bm(this.parent.latestValues)||y2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const d=this.getLead(),f=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===ws.timestamp&&(m=!1),m)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;gn(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;_A(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=Gt());const{target:w}=d;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xb(this.prevProjectionDelta.x,this.projectionDelta.x),xb(this.prevProjectionDelta.y,this.projectionDelta.y)),dl(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!Tb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Tb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){if(this.options.visualElement?.scheduleRender(),d){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ei(),this.projectionDelta=Ei(),this.projectionDeltaWithTransform=Ei()}setAnimationOrigin(d,f=!1){const m=this.snapshot,p=m?m.latestValues:{},g={...this.latestValues},v=Ei();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=Gt(),w=m?m.source:void 0,S=this.layout?this.layout.source:void 0,N=w!==S,T=this.getStack(),A=!T||T.members.length<=1,C=!!(N&&!A&&this.options.crossfade===!0&&!this.path.some(hM));this.animationProgress=0;let E;this.mixTargetDelta=_=>{const R=_/1e3;Rb(v.x,d.x,R),Rb(v.y,d.y,R),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fl(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fM(this.relativeTarget,this.relativeTargetOrigin,b,R),E&&WE(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Gt()),gn(E,this.relativeTarget)),N&&(this.animationValues=g,KE(g,p,this.latestValues,R,C,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(tr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Mt.update(()=>{ku.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Di(0)),this.currentAnimation=UE(this.motionValue,[0,1e3],{...d,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),d.onUpdate&&d.onUpdate(f)},onStop:()=>{},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(eM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:g}=d;if(!(!f||!m||!p)){if(this!==d&&this.layout&&p&&V2(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Gt();const v=Ds(this.layout.layoutBox.x);m.x.min=d.target.x.min,m.x.max=m.x.min+v;const b=Ds(this.layout.layoutBox.y);m.y.min=d.target.y.min,m.y.max=m.y.min+b}gn(f,m),Ai(f,g),dl(this.projectionDeltaWithTransform,this.layoutCorrected,f,g)}}registerSharedNode(d,f){this.sharedNodes.has(d)||this.sharedNodes.set(d,new ZE),this.sharedNodes.get(d).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){const{layoutId:d}=this.options;return d?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:d}=this.options;return d?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),d&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let f=!1;const{latestValues:m}=d;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&Gh("z",d,p,this.animationValues);for(let g=0;g<$h.length;g++)Gh(`rotate${$h[g]}`,d,p,this.animationValues),Gh(`skew${$h[g]}`,d,p,this.animationValues);d.render();for(const g in p)d.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);d.scheduleRender()}applyProjectionStyles(d,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){d.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,d.visibility="",d.opacity="",d.pointerEvents=Nu(f?.pointerEvents)||"",d.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=Nu(f?.pointerEvents)||""),this.hasProjected&&!Tr(this.latestValues)&&(d.transform=m?m({},""):"none",this.hasProjected=!1);return}d.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=JE(this.projectionDeltaWithTransform,this.treeScale,g);m&&(v=m(g,v)),d.transform=v;const{x:b,y:w}=this.projectionDelta;d.transformOrigin=`${b.origin*100}% ${w.origin*100}% 0`,p.animationValues?d.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:d.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const S in Sl){if(g[S]===void 0)continue;const{correct:N,applyTo:T,isCSSVariable:A}=Sl[S],C=v==="none"?g[S]:N(g[S],p);if(T){const E=T.length;for(let _=0;_<E;_++)d[T[_]]=C}else A?this.options.visualElement.renderState.vars[S]=C:d[S]=C}this.options.layoutId&&(d.pointerEvents=p===this?Nu(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>d.currentAnimation?.stop()),this.root.nodes.forEach(Ab),this.root.sharedNodes.clear()}}}function sM(e){e.updateLayout()}function nM(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:l}=e.options,c=t.source!==e.layout.source;l==="size"?yn(g=>{const v=c?t.measuredBox[g]:t.layoutBox[g],b=Ds(v);v.min=n[g].min,v.max=v.min+b}):V2(l,t.layoutBox,n)&&yn(g=>{const v=c?t.measuredBox[g]:t.layoutBox[g],b=Ds(n[g]);v.max=v.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+b)});const d=Ei();dl(d,n,t.layoutBox);const f=Ei();c?dl(f,e.applyTransform(r,!0),t.measuredBox):dl(f,n,t.layoutBox);const m=!z2(d);let p=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:b}=g;if(v&&b){const w=Gt();fl(w,t.layoutBox,v.layoutBox);const S=Gt();fl(S,n,b.layoutBox),B2(w,S)||(p=!0),g.options.layoutRoot&&(e.relativeTarget=S,e.relativeTargetOrigin=w,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:f,layoutDelta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function aM(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function rM(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function iM(e){e.clearSnapshot()}function Ab(e){e.clearMeasurements()}function Eb(e){e.isLayoutDirty=!1}function oM(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Mb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function lM(e){e.resolveTargetDelta()}function cM(e){e.calcProjection()}function uM(e){e.resetSkewAndRotation()}function dM(e){e.removeLeadSnapshot()}function Rb(e,t,n){e.translate=Dt(t.translate,0,n),e.scale=Dt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Pb(e,t,n,r){e.min=Dt(t.min,n.min,r),e.max=Dt(t.max,n.max,r)}function fM(e,t,n,r){Pb(e.x,t.x,n.x,r),Pb(e.y,t.y,n.y,r)}function hM(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const mM={duration:.45,ease:[.4,0,.1,1]},Lb=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),_b=Lb("applewebkit/")&&!Lb("chrome/")?Math.round:xn;function Db(e){e.min=_b(e.min),e.max=_b(e.max)}function pM(e){Db(e.x),Db(e.y)}function V2(e,t,n){return e==="position"||e==="preserve-aspect"&&!wE(Cb(t),Cb(n),.2)}function gM(e){return e!==e.root&&e.scroll?.wasRoot}const yM=U2({attachResizeListener:(e,t)=>Nl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hh={current:void 0},$2=U2({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Hh.current){const e=new yM({});e.mount(window),e.setOptions({layoutScroll:!0}),Hh.current=e}return Hh.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),vM={pan:{Feature:OE},drag:{Feature:DE,ProjectionNode:$2,MeasureLayout:_2}};function Ob(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const l="onHover"+n,c=r[l];c&&Mt.postRender(()=>c(t,zl(t)))}class xM extends nr{mount(){const{current:t}=this.node;t&&(this.unmount=$T(t,(n,r)=>(Ob(this.node,r,"Start"),l=>Ob(this.node,l,"End"))))}unmount(){}}class bM extends nr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_l(Nl(this.node.current,"focus",()=>this.onFocus()),Nl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function zb(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const l="onTap"+(n==="End"?"":n),c=r[l];c&&Mt.postRender(()=>c(t,zl(t)))}class wM extends nr{mount(){const{current:t}=this.node;t&&(this.unmount=FT(t,(n,r)=>(zb(this.node,r,"Start"),(l,{success:c})=>zb(this.node,l,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Km=new WeakMap,Kh=new WeakMap,jM=e=>{const t=Km.get(e.target);t&&t(e)},SM=e=>{e.forEach(jM)};function NM({root:e,...t}){const n=e||document;Kh.has(n)||Kh.set(n,{});const r=Kh.get(n),l=JSON.stringify(t);return r[l]||(r[l]=new IntersectionObserver(SM,{root:e,...t})),r[l]}function kM(e,t,n){const r=NM(t);return Km.set(e,n),r.observe(e),()=>{Km.delete(e),r.unobserve(e)}}const CM={some:0,all:1};class TM extends nr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:l="some",once:c}=t,d={root:n?n.current:void 0,rootMargin:r,threshold:typeof l=="number"?l:CM[l]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,c&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),b=p?g:v;b&&b(m)};return kM(this.node.current,d,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(AM(t,n))&&this.startObserver()}unmount(){}}function AM({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const EM={inView:{Feature:TM},tap:{Feature:wM},focus:{Feature:bM},hover:{Feature:xM}},MM={layout:{ProjectionNode:$2,MeasureLayout:_2}},RM={...pE,...EM,...vM,...MM},xe=RA(RM,HA);function Bb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function PM(...e){return t=>{let n=!1;const r=e.map(l=>{const c=Bb(l,t);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let l=0;l<r.length;l++){const c=r[l];typeof c=="function"?c():Bb(e[l],null)}}}}function G2(e){const t=_M(e),n=x.forwardRef((r,l)=>{const{children:c,...d}=r,f=x.Children.toArray(c),m=f.find(OM);if(m){const p=m.props.children,g=f.map(v=>v===m?x.Children.count(p)>1?x.Children.only(null):x.isValidElement(p)?p.props.children:null:v);return i.jsx(t,{...d,ref:l,children:x.isValidElement(p)?x.cloneElement(p,void 0,g):null})}return i.jsx(t,{...d,ref:l,children:c})});return n.displayName=`${e}.Slot`,n}var LM=G2("Slot");function _M(e){const t=x.forwardRef((n,r)=>{const{children:l,...c}=n;if(x.isValidElement(l)){const d=BM(l),f=zM(c,l.props);return l.type!==x.Fragment&&(f.ref=r?PM(r,d):d),x.cloneElement(l,f)}return x.Children.count(l)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var DM=Symbol("radix.slottable");function OM(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===DM}function zM(e,t){const n={...t};for(const r in t){const l=e[r],c=t[r];/^on[A-Z]/.test(r)?l&&c?n[r]=(...f)=>{const m=c(...f);return l(...f),m}:l&&(n[r]=l):r==="style"?n[r]={...l,...c}:r==="className"&&(n[r]=[l,c].filter(Boolean).join(" "))}return{...e,...n}}function BM(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function H2(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(n=H2(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function K2(){for(var e,t,n=0,r="",l=arguments.length;n<l;n++)(e=arguments[n])&&(t=H2(e))&&(r&&(r+=" "),r+=t);return r}const qb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ub=K2,F2=(e,t)=>n=>{var r;if(t?.variants==null)return Ub(e,n?.class,n?.className);const{variants:l,defaultVariants:c}=t,d=Object.keys(l).map(p=>{const g=n?.[p],v=c?.[p];if(g===null)return null;const b=qb(g)||qb(v);return l[p][b]}),f=n&&Object.entries(n).reduce((p,g)=>{let[v,b]=g;return b===void 0||(p[v]=b),p},{}),m=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:v,className:b,...w}=g;return Object.entries(w).every(S=>{let[N,T]=S;return Array.isArray(T)?T.includes({...c,...f}[N]):{...c,...f}[N]===T})?[...p,v,b]:p},[]);return Ub(e,d,m,n?.class,n?.className)},ng="-",qM=e=>{const t=VM(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:d=>{const f=d.split(ng);return f[0]===""&&f.length!==1&&f.shift(),I2(f,t)||UM(d)},getConflictingClassGroupIds:(d,f)=>{const m=n[d]||[];return f&&r[d]?[...m,...r[d]]:m}}},I2=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),l=r?I2(e.slice(1),r):void 0;if(l)return l;if(t.validators.length===0)return;const c=e.join(ng);return t.validators.find(({validator:d})=>d(c))?.classGroupId},Vb=/^\[(.+)\]$/,UM=e=>{if(Vb.test(e)){const t=Vb.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},VM=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const l in n)Fm(n[l],r,l,t);return r},Fm=(e,t,n,r)=>{e.forEach(l=>{if(typeof l=="string"){const c=l===""?t:$b(t,l);c.classGroupId=n;return}if(typeof l=="function"){if($M(l)){Fm(l(r),t,n,r);return}t.validators.push({validator:l,classGroupId:n});return}Object.entries(l).forEach(([c,d])=>{Fm(d,$b(t,c),n,r)})})},$b=(e,t)=>{let n=e;return t.split(ng).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},$M=e=>e.isThemeGetter,GM=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const l=(c,d)=>{n.set(c,d),t++,t>e&&(t=0,r=n,n=new Map)};return{get(c){let d=n.get(c);if(d!==void 0)return d;if((d=r.get(c))!==void 0)return l(c,d),d},set(c,d){n.has(c)?n.set(c,d):l(c,d)}}},Im="!",Qm=":",HM=Qm.length,KM=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=l=>{const c=[];let d=0,f=0,m=0,p;for(let S=0;S<l.length;S++){let N=l[S];if(d===0&&f===0){if(N===Qm){c.push(l.slice(m,S)),m=S+HM;continue}if(N==="/"){p=S;continue}}N==="["?d++:N==="]"?d--:N==="("?f++:N===")"&&f--}const g=c.length===0?l:l.substring(m),v=FM(g),b=v!==g,w=p&&p>m?p-m:void 0;return{modifiers:c,hasImportantModifier:b,baseClassName:v,maybePostfixModifierPosition:w}};if(t){const l=t+Qm,c=r;r=d=>d.startsWith(l)?c(d.substring(l.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:d,maybePostfixModifierPosition:void 0}}if(n){const l=r;r=c=>n({className:c,parseClassName:l})}return r},FM=e=>e.endsWith(Im)?e.substring(0,e.length-1):e.startsWith(Im)?e.substring(1):e,IM=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const l=[];let c=[];return r.forEach(d=>{d[0]==="["||t[d]?(l.push(...c.sort(),d),c=[]):c.push(d)}),l.push(...c.sort()),l}},QM=e=>({cache:GM(e.cacheSize),parseClassName:KM(e),sortModifiers:IM(e),...qM(e)}),YM=/\s+/,XM=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:l,sortModifiers:c}=t,d=[],f=e.trim().split(YM);let m="";for(let p=f.length-1;p>=0;p-=1){const g=f[p],{isExternal:v,modifiers:b,hasImportantModifier:w,baseClassName:S,maybePostfixModifierPosition:N}=n(g);if(v){m=g+(m.length>0?" "+m:m);continue}let T=!!N,A=r(T?S.substring(0,N):S);if(!A){if(!T){m=g+(m.length>0?" "+m:m);continue}if(A=r(S),!A){m=g+(m.length>0?" "+m:m);continue}T=!1}const C=c(b).join(":"),E=w?C+Im:C,_=E+A;if(d.includes(_))continue;d.push(_);const R=l(A,T);for(let O=0;O<R.length;++O){const z=R[O];d.push(E+z)}m=g+(m.length>0?" "+m:m)}return m};function WM(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Q2(t))&&(r&&(r+=" "),r+=n);return r}const Q2=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Q2(e[r]))&&(n&&(n+=" "),n+=t);return n};function ZM(e,...t){let n,r,l,c=d;function d(m){const p=t.reduce((g,v)=>v(g),e());return n=QM(p),r=n.cache.get,l=n.cache.set,c=f,f(m)}function f(m){const p=r(m);if(p)return p;const g=XM(m,n);return l(m,g),g}return function(){return c(WM.apply(null,arguments))}}const ns=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Y2=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,X2=/^\((?:(\w[\w-]*):)?(.+)\)$/i,JM=/^\d+\/\d+$/,eR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,nR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,aR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ji=e=>JM.test(e),Ke=e=>!!e&&!Number.isNaN(Number(e)),Ia=e=>!!e&&Number.isInteger(Number(e)),Fh=e=>e.endsWith("%")&&Ke(e.slice(0,-1)),ha=e=>eR.test(e),rR=()=>!0,iR=e=>tR.test(e)&&!sR.test(e),W2=()=>!1,oR=e=>nR.test(e),lR=e=>aR.test(e),cR=e=>!we(e)&&!je(e),uR=e=>Ki(e,ej,W2),we=e=>Y2.test(e),Nr=e=>Ki(e,tj,iR),Ih=e=>Ki(e,pR,Ke),Gb=e=>Ki(e,Z2,W2),dR=e=>Ki(e,J2,lR),cu=e=>Ki(e,sj,oR),je=e=>X2.test(e),Jo=e=>Fi(e,tj),fR=e=>Fi(e,gR),Hb=e=>Fi(e,Z2),hR=e=>Fi(e,ej),mR=e=>Fi(e,J2),uu=e=>Fi(e,sj,!0),Ki=(e,t,n)=>{const r=Y2.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Fi=(e,t,n=!1)=>{const r=X2.exec(e);return r?r[1]?t(r[1]):n:!1},Z2=e=>e==="position"||e==="percentage",J2=e=>e==="image"||e==="url",ej=e=>e==="length"||e==="size"||e==="bg-size",tj=e=>e==="length",pR=e=>e==="number",gR=e=>e==="family-name",sj=e=>e==="shadow",yR=()=>{const e=ns("color"),t=ns("font"),n=ns("text"),r=ns("font-weight"),l=ns("tracking"),c=ns("leading"),d=ns("breakpoint"),f=ns("container"),m=ns("spacing"),p=ns("radius"),g=ns("shadow"),v=ns("inset-shadow"),b=ns("text-shadow"),w=ns("drop-shadow"),S=ns("blur"),N=ns("perspective"),T=ns("aspect"),A=ns("ease"),C=ns("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[..._(),je,we],O=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],P=()=>[je,we,m],q=()=>[ji,"full","auto",...P()],U=()=>[Ia,"none","subgrid",je,we],Q=()=>["auto",{span:["full",Ia,je,we]},Ia,je,we],re=()=>[Ia,"auto",je,we],ce=()=>["auto","min","max","fr",je,we],he=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ye=()=>["start","end","center","stretch","center-safe","end-safe"],G=()=>["auto",...P()],I=()=>[ji,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],B=()=>[e,je,we],ne=()=>[..._(),Hb,Gb,{position:[je,we]}],M=()=>["no-repeat",{repeat:["","x","y","space","round"]}],D=()=>["auto","cover","contain",hR,uR,{size:[je,we]}],te=()=>[Fh,Jo,Nr],J=()=>["","none","full",p,je,we],de=()=>["",Ke,Jo,Nr],ge=()=>["solid","dashed","dotted","double"],ve=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ce=()=>[Ke,Fh,Hb,Gb],qe=()=>["","none",S,je,we],St=()=>["none",Ke,je,we],nt=()=>["none",Ke,je,we],Ct=()=>[Ke,je,we],ut=()=>[ji,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ha],breakpoint:[ha],color:[rR],container:[ha],"drop-shadow":[ha],ease:["in","out","in-out"],font:[cR],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ha],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ha],shadow:[ha],spacing:["px",Ke],text:[ha],"text-shadow":[ha],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ji,we,je,T]}],container:["container"],columns:[{columns:[Ke,we,je,f]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:q()}],"inset-x":[{"inset-x":q()}],"inset-y":[{"inset-y":q()}],start:[{start:q()}],end:[{end:q()}],top:[{top:q()}],right:[{right:q()}],bottom:[{bottom:q()}],left:[{left:q()}],visibility:["visible","invisible","collapse"],z:[{z:[Ia,"auto",je,we]}],basis:[{basis:[ji,"full","auto",f,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ke,ji,"auto","initial","none",we]}],grow:[{grow:["",Ke,je,we]}],shrink:[{shrink:["",Ke,je,we]}],order:[{order:[Ia,"first","last","none",je,we]}],"grid-cols":[{"grid-cols":U()}],"col-start-end":[{col:Q()}],"col-start":[{"col-start":re()}],"col-end":[{"col-end":re()}],"grid-rows":[{"grid-rows":U()}],"row-start-end":[{row:Q()}],"row-start":[{"row-start":re()}],"row-end":[{"row-end":re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ce()}],"auto-rows":[{"auto-rows":ce()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...he(),"normal"]}],"justify-items":[{"justify-items":[...ye(),"normal"]}],"justify-self":[{"justify-self":["auto",...ye()]}],"align-content":[{content:["normal",...he()]}],"align-items":[{items:[...ye(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ye(),{baseline:["","last"]}]}],"place-content":[{"place-content":he()}],"place-items":[{"place-items":[...ye(),"baseline"]}],"place-self":[{"place-self":["auto",...ye()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:G()}],mx:[{mx:G()}],my:[{my:G()}],ms:[{ms:G()}],me:[{me:G()}],mt:[{mt:G()}],mr:[{mr:G()}],mb:[{mb:G()}],ml:[{ml:G()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:I()}],w:[{w:[f,"screen",...I()]}],"min-w":[{"min-w":[f,"screen","none",...I()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[d]},...I()]}],h:[{h:["screen","lh",...I()]}],"min-h":[{"min-h":["screen","lh","none",...I()]}],"max-h":[{"max-h":["screen","lh",...I()]}],"font-size":[{text:["base",n,Jo,Nr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,je,Ih]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Fh,we]}],"font-family":[{font:[fR,we,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,je,we]}],"line-clamp":[{"line-clamp":[Ke,"none",je,Ih]}],leading:[{leading:[c,...P()]}],"list-image":[{"list-image":["none",je,we]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",je,we]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:B()}],"text-color":[{text:B()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ke,"from-font","auto",je,Nr]}],"text-decoration-color":[{decoration:B()}],"underline-offset":[{"underline-offset":[Ke,"auto",je,we]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je,we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je,we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:M()}],"bg-size":[{bg:D()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ia,je,we],radial:["",je,we],conic:[Ia,je,we]},mR,dR]}],"bg-color":[{bg:B()}],"gradient-from-pos":[{from:te()}],"gradient-via-pos":[{via:te()}],"gradient-to-pos":[{to:te()}],"gradient-from":[{from:B()}],"gradient-via":[{via:B()}],"gradient-to":[{to:B()}],rounded:[{rounded:J()}],"rounded-s":[{"rounded-s":J()}],"rounded-e":[{"rounded-e":J()}],"rounded-t":[{"rounded-t":J()}],"rounded-r":[{"rounded-r":J()}],"rounded-b":[{"rounded-b":J()}],"rounded-l":[{"rounded-l":J()}],"rounded-ss":[{"rounded-ss":J()}],"rounded-se":[{"rounded-se":J()}],"rounded-ee":[{"rounded-ee":J()}],"rounded-es":[{"rounded-es":J()}],"rounded-tl":[{"rounded-tl":J()}],"rounded-tr":[{"rounded-tr":J()}],"rounded-br":[{"rounded-br":J()}],"rounded-bl":[{"rounded-bl":J()}],"border-w":[{border:de()}],"border-w-x":[{"border-x":de()}],"border-w-y":[{"border-y":de()}],"border-w-s":[{"border-s":de()}],"border-w-e":[{"border-e":de()}],"border-w-t":[{"border-t":de()}],"border-w-r":[{"border-r":de()}],"border-w-b":[{"border-b":de()}],"border-w-l":[{"border-l":de()}],"divide-x":[{"divide-x":de()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":de()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ge(),"hidden","none"]}],"divide-style":[{divide:[...ge(),"hidden","none"]}],"border-color":[{border:B()}],"border-color-x":[{"border-x":B()}],"border-color-y":[{"border-y":B()}],"border-color-s":[{"border-s":B()}],"border-color-e":[{"border-e":B()}],"border-color-t":[{"border-t":B()}],"border-color-r":[{"border-r":B()}],"border-color-b":[{"border-b":B()}],"border-color-l":[{"border-l":B()}],"divide-color":[{divide:B()}],"outline-style":[{outline:[...ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ke,je,we]}],"outline-w":[{outline:["",Ke,Jo,Nr]}],"outline-color":[{outline:B()}],shadow:[{shadow:["","none",g,uu,cu]}],"shadow-color":[{shadow:B()}],"inset-shadow":[{"inset-shadow":["none",v,uu,cu]}],"inset-shadow-color":[{"inset-shadow":B()}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:B()}],"ring-offset-w":[{"ring-offset":[Ke,Nr]}],"ring-offset-color":[{"ring-offset":B()}],"inset-ring-w":[{"inset-ring":de()}],"inset-ring-color":[{"inset-ring":B()}],"text-shadow":[{"text-shadow":["none",b,uu,cu]}],"text-shadow-color":[{"text-shadow":B()}],opacity:[{opacity:[Ke,je,we]}],"mix-blend":[{"mix-blend":[...ve(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ve()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ke]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ce()}],"mask-image-linear-from-color":[{"mask-linear-from":B()}],"mask-image-linear-to-color":[{"mask-linear-to":B()}],"mask-image-t-from-pos":[{"mask-t-from":Ce()}],"mask-image-t-to-pos":[{"mask-t-to":Ce()}],"mask-image-t-from-color":[{"mask-t-from":B()}],"mask-image-t-to-color":[{"mask-t-to":B()}],"mask-image-r-from-pos":[{"mask-r-from":Ce()}],"mask-image-r-to-pos":[{"mask-r-to":Ce()}],"mask-image-r-from-color":[{"mask-r-from":B()}],"mask-image-r-to-color":[{"mask-r-to":B()}],"mask-image-b-from-pos":[{"mask-b-from":Ce()}],"mask-image-b-to-pos":[{"mask-b-to":Ce()}],"mask-image-b-from-color":[{"mask-b-from":B()}],"mask-image-b-to-color":[{"mask-b-to":B()}],"mask-image-l-from-pos":[{"mask-l-from":Ce()}],"mask-image-l-to-pos":[{"mask-l-to":Ce()}],"mask-image-l-from-color":[{"mask-l-from":B()}],"mask-image-l-to-color":[{"mask-l-to":B()}],"mask-image-x-from-pos":[{"mask-x-from":Ce()}],"mask-image-x-to-pos":[{"mask-x-to":Ce()}],"mask-image-x-from-color":[{"mask-x-from":B()}],"mask-image-x-to-color":[{"mask-x-to":B()}],"mask-image-y-from-pos":[{"mask-y-from":Ce()}],"mask-image-y-to-pos":[{"mask-y-to":Ce()}],"mask-image-y-from-color":[{"mask-y-from":B()}],"mask-image-y-to-color":[{"mask-y-to":B()}],"mask-image-radial":[{"mask-radial":[je,we]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ce()}],"mask-image-radial-from-color":[{"mask-radial-from":B()}],"mask-image-radial-to-color":[{"mask-radial-to":B()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[Ke]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ce()}],"mask-image-conic-from-color":[{"mask-conic-from":B()}],"mask-image-conic-to-color":[{"mask-conic-to":B()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:M()}],"mask-size":[{mask:D()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",je,we]}],filter:[{filter:["","none",je,we]}],blur:[{blur:qe()}],brightness:[{brightness:[Ke,je,we]}],contrast:[{contrast:[Ke,je,we]}],"drop-shadow":[{"drop-shadow":["","none",w,uu,cu]}],"drop-shadow-color":[{"drop-shadow":B()}],grayscale:[{grayscale:["",Ke,je,we]}],"hue-rotate":[{"hue-rotate":[Ke,je,we]}],invert:[{invert:["",Ke,je,we]}],saturate:[{saturate:[Ke,je,we]}],sepia:[{sepia:["",Ke,je,we]}],"backdrop-filter":[{"backdrop-filter":["","none",je,we]}],"backdrop-blur":[{"backdrop-blur":qe()}],"backdrop-brightness":[{"backdrop-brightness":[Ke,je,we]}],"backdrop-contrast":[{"backdrop-contrast":[Ke,je,we]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ke,je,we]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ke,je,we]}],"backdrop-invert":[{"backdrop-invert":["",Ke,je,we]}],"backdrop-opacity":[{"backdrop-opacity":[Ke,je,we]}],"backdrop-saturate":[{"backdrop-saturate":[Ke,je,we]}],"backdrop-sepia":[{"backdrop-sepia":["",Ke,je,we]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",je,we]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ke,"initial",je,we]}],ease:[{ease:["linear","initial",A,je,we]}],delay:[{delay:[Ke,je,we]}],animate:[{animate:["none",C,je,we]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,je,we]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:St()}],"rotate-x":[{"rotate-x":St()}],"rotate-y":[{"rotate-y":St()}],"rotate-z":[{"rotate-z":St()}],scale:[{scale:nt()}],"scale-x":[{"scale-x":nt()}],"scale-y":[{"scale-y":nt()}],"scale-z":[{"scale-z":nt()}],"scale-3d":["scale-3d"],skew:[{skew:Ct()}],"skew-x":[{"skew-x":Ct()}],"skew-y":[{"skew-y":Ct()}],transform:[{transform:[je,we,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ut()}],"translate-x":[{"translate-x":ut()}],"translate-y":[{"translate-y":ut()}],"translate-z":[{"translate-z":ut()}],"translate-none":["translate-none"],accent:[{accent:B()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:B()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je,we]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je,we]}],fill:[{fill:["none",...B()]}],"stroke-w":[{stroke:[Ke,Jo,Nr,Ih]}],stroke:[{stroke:["none",...B()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},vR=ZM(yR);function st(...e){return vR(K2(e))}const xR=F2("inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 tracking-tight",{variants:{variant:{primary:"bg-accent text-white hover:bg-accent-600 active:bg-accent-700 shadow-card hover:shadow-dropdown transform hover:scale-[1.02] active:scale-[0.98]",secondary:"bg-dark-elevated text-light-text hover:bg-dark-overlay border border-border-default hover:border-strong shadow-subtle",outline:"border border-border-default bg-transparent text-light-text hover:bg-dark-surface hover:border-accent hover:text-accent shadow-subtle",ghost:"text-light-text hover:bg-dark-surface hover:text-accent transition-colors",destructive:"bg-danger text-white hover:bg-danger/90 active:bg-danger/80 shadow-card",link:"text-accent underline-offset-4 hover:underline p-0 h-auto font-normal"},size:{sm:"h-8 px-3 text-sm rounded-sm min-w-[44px]",default:"h-10 px-4 text-base rounded-md min-w-[44px]",lg:"h-12 px-6 text-lg rounded-lg min-w-[44px]",xl:"h-14 px-8 text-xl rounded-xl min-w-[44px]",icon:"h-10 w-10 rounded-md","icon-sm":"h-8 w-8 rounded-sm","icon-lg":"h-12 w-12 rounded-lg"}},defaultVariants:{variant:"primary",size:"default"}}),fe=x.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...l},c)=>{const d=r?LM:"button";return i.jsx(d,{className:st(xR({variant:t,size:n,className:e})),ref:c,...l})});fe.displayName="Button";const bR=F2("inline-flex items-center rounded-full border px-3 py-1 text-xs font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 tracking-wide font-secondary",{variants:{variant:{primary:"border-transparent bg-accent text-white hover:bg-accent-600 shadow-subtle",secondary:"border-transparent bg-dark-elevated text-light-text hover:bg-dark-overlay shadow-subtle",outline:"border border-border-default text-light-text hover:border-accent hover:text-accent hover:bg-accent/5",success:"border-transparent bg-success text-white hover:bg-success/90 shadow-subtle",warning:"border-transparent bg-warning text-white hover:bg-warning/90 shadow-subtle",danger:"border-transparent bg-danger text-white hover:bg-danger/90 shadow-subtle",subtle:"border-transparent bg-accent-subtle text-accent hover:bg-accent/20"},size:{sm:"px-2 py-1 text-xs",default:"px-3 py-1 text-sm",lg:"px-4 py-2 text-base"}},defaultVariants:{variant:"primary",size:"default"}});function Nt({className:e,variant:t,...n}){return i.jsx("div",{className:st(bR({variant:t}),e),...n})}/*! js-cookie v3.0.5 | MIT */function du(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var wR={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Ym(e,t){function n(l,c,d){if(!(typeof document>"u")){d=du({},t,d),typeof d.expires=="number"&&(d.expires=new Date(Date.now()+d.expires*864e5)),d.expires&&(d.expires=d.expires.toUTCString()),l=encodeURIComponent(l).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var f="";for(var m in d)d[m]&&(f+="; "+m,d[m]!==!0&&(f+="="+d[m].split(";")[0]));return document.cookie=l+"="+e.write(c,l)+f}}function r(l){if(!(typeof document>"u"||arguments.length&&!l)){for(var c=document.cookie?document.cookie.split("; "):[],d={},f=0;f<c.length;f++){var m=c[f].split("="),p=m.slice(1).join("=");try{var g=decodeURIComponent(m[0]);if(d[g]=e.read(p,g),l===g)break}catch{}}return l?d[l]:d}}return Object.create({set:n,get:r,remove:function(l,c){n(l,"",du({},c,{expires:-1}))},withAttributes:function(l){return Ym(this.converter,du({},this.attributes,l))},withConverter:function(l){return Ym(du({},this.converter,l),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var Mr=Ym(wR,{path:"/"});function nj(e,t){return function(){return e.apply(t,arguments)}}const{toString:jR}=Object.prototype,{getPrototypeOf:ag}=Object,{iterator:ad,toStringTag:aj}=Symbol,rd=(e=>t=>{const n=jR.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Pn=e=>(e=e.toLowerCase(),t=>rd(t)===e),id=e=>t=>typeof t===e,{isArray:Ii}=Array,kl=id("undefined");function Bl(e){return e!==null&&!kl(e)&&e.constructor!==null&&!kl(e.constructor)&&Fs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const rj=Pn("ArrayBuffer");function SR(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&rj(e.buffer),t}const NR=id("string"),Fs=id("function"),ij=id("number"),ql=e=>e!==null&&typeof e=="object",kR=e=>e===!0||e===!1,Cu=e=>{if(rd(e)!=="object")return!1;const t=ag(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(aj in e)&&!(ad in e)},CR=e=>{if(!ql(e)||Bl(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},TR=Pn("Date"),AR=Pn("File"),ER=Pn("Blob"),MR=Pn("FileList"),RR=e=>ql(e)&&Fs(e.pipe),PR=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Fs(e.append)&&((t=rd(e))==="formdata"||t==="object"&&Fs(e.toString)&&e.toString()==="[object FormData]"))},LR=Pn("URLSearchParams"),[_R,DR,OR,zR]=["ReadableStream","Request","Response","Headers"].map(Pn),BR=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ul(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,l;if(typeof e!="object"&&(e=[e]),Ii(e))for(r=0,l=e.length;r<l;r++)t.call(null,e[r],r,e);else{if(Bl(e))return;const c=n?Object.getOwnPropertyNames(e):Object.keys(e),d=c.length;let f;for(r=0;r<d;r++)f=c[r],t.call(null,e[f],f,e)}}function oj(e,t){if(Bl(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,l;for(;r-- >0;)if(l=n[r],t===l.toLowerCase())return l;return null}const Rr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,lj=e=>!kl(e)&&e!==Rr;function Xm(){const{caseless:e}=lj(this)&&this||{},t={},n=(r,l)=>{const c=e&&oj(t,l)||l;Cu(t[c])&&Cu(r)?t[c]=Xm(t[c],r):Cu(r)?t[c]=Xm({},r):Ii(r)?t[c]=r.slice():t[c]=r};for(let r=0,l=arguments.length;r<l;r++)arguments[r]&&Ul(arguments[r],n);return t}const qR=(e,t,n,{allOwnKeys:r}={})=>(Ul(t,(l,c)=>{n&&Fs(l)?e[c]=nj(l,n):e[c]=l},{allOwnKeys:r}),e),UR=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),VR=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},$R=(e,t,n,r)=>{let l,c,d;const f={};if(t=t||{},e==null)return t;do{for(l=Object.getOwnPropertyNames(e),c=l.length;c-- >0;)d=l[c],(!r||r(d,e,t))&&!f[d]&&(t[d]=e[d],f[d]=!0);e=n!==!1&&ag(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},GR=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},HR=e=>{if(!e)return null;if(Ii(e))return e;let t=e.length;if(!ij(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},KR=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ag(Uint8Array)),FR=(e,t)=>{const r=(e&&e[ad]).call(e);let l;for(;(l=r.next())&&!l.done;){const c=l.value;t.call(e,c[0],c[1])}},IR=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},QR=Pn("HTMLFormElement"),YR=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,l){return r.toUpperCase()+l}),Kb=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),XR=Pn("RegExp"),cj=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ul(n,(l,c)=>{let d;(d=t(l,c,e))!==!1&&(r[c]=d||l)}),Object.defineProperties(e,r)},WR=e=>{cj(e,(t,n)=>{if(Fs(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Fs(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},ZR=(e,t)=>{const n={},r=l=>{l.forEach(c=>{n[c]=!0})};return Ii(e)?r(e):r(String(e).split(t)),n},JR=()=>{},eP=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function tP(e){return!!(e&&Fs(e.append)&&e[aj]==="FormData"&&e[ad])}const sP=e=>{const t=new Array(10),n=(r,l)=>{if(ql(r)){if(t.indexOf(r)>=0)return;if(Bl(r))return r;if(!("toJSON"in r)){t[l]=r;const c=Ii(r)?[]:{};return Ul(r,(d,f)=>{const m=n(d,l+1);!kl(m)&&(c[f]=m)}),t[l]=void 0,c}}return r};return n(e,0)},nP=Pn("AsyncFunction"),aP=e=>e&&(ql(e)||Fs(e))&&Fs(e.then)&&Fs(e.catch),uj=((e,t)=>e?setImmediate:t?((n,r)=>(Rr.addEventListener("message",({source:l,data:c})=>{l===Rr&&c===n&&r.length&&r.shift()()},!1),l=>{r.push(l),Rr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Fs(Rr.postMessage)),rP=typeof queueMicrotask<"u"?queueMicrotask.bind(Rr):typeof process<"u"&&process.nextTick||uj,iP=e=>e!=null&&Fs(e[ad]),ee={isArray:Ii,isArrayBuffer:rj,isBuffer:Bl,isFormData:PR,isArrayBufferView:SR,isString:NR,isNumber:ij,isBoolean:kR,isObject:ql,isPlainObject:Cu,isEmptyObject:CR,isReadableStream:_R,isRequest:DR,isResponse:OR,isHeaders:zR,isUndefined:kl,isDate:TR,isFile:AR,isBlob:ER,isRegExp:XR,isFunction:Fs,isStream:RR,isURLSearchParams:LR,isTypedArray:KR,isFileList:MR,forEach:Ul,merge:Xm,extend:qR,trim:BR,stripBOM:UR,inherits:VR,toFlatObject:$R,kindOf:rd,kindOfTest:Pn,endsWith:GR,toArray:HR,forEachEntry:FR,matchAll:IR,isHTMLForm:QR,hasOwnProperty:Kb,hasOwnProp:Kb,reduceDescriptors:cj,freezeMethods:WR,toObjectSet:ZR,toCamelCase:YR,noop:JR,toFiniteNumber:eP,findKey:oj,global:Rr,isContextDefined:lj,isSpecCompliantForm:tP,toJSONObject:sP,isAsyncFn:nP,isThenable:aP,setImmediate:uj,asap:rP,isIterable:iP};function Ve(e,t,n,r,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),l&&(this.response=l,this.status=l.status?l.status:null)}ee.inherits(Ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ee.toJSONObject(this.config),code:this.code,status:this.status}}});const dj=Ve.prototype,fj={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{fj[e]={value:e}});Object.defineProperties(Ve,fj);Object.defineProperty(dj,"isAxiosError",{value:!0});Ve.from=(e,t,n,r,l,c)=>{const d=Object.create(dj);return ee.toFlatObject(e,d,function(m){return m!==Error.prototype},f=>f!=="isAxiosError"),Ve.call(d,e.message,t,n,r,l),d.cause=e,d.name=e.name,c&&Object.assign(d,c),d};const oP=null;function Wm(e){return ee.isPlainObject(e)||ee.isArray(e)}function hj(e){return ee.endsWith(e,"[]")?e.slice(0,-2):e}function Fb(e,t,n){return e?e.concat(t).map(function(l,c){return l=hj(l),!n&&c?"["+l+"]":l}).join(n?".":""):t}function lP(e){return ee.isArray(e)&&!e.some(Wm)}const cP=ee.toFlatObject(ee,{},null,function(t){return/^is[A-Z]/.test(t)});function od(e,t,n){if(!ee.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=ee.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,T){return!ee.isUndefined(T[N])});const r=n.metaTokens,l=n.visitor||g,c=n.dots,d=n.indexes,m=(n.Blob||typeof Blob<"u"&&Blob)&&ee.isSpecCompliantForm(t);if(!ee.isFunction(l))throw new TypeError("visitor must be a function");function p(S){if(S===null)return"";if(ee.isDate(S))return S.toISOString();if(ee.isBoolean(S))return S.toString();if(!m&&ee.isBlob(S))throw new Ve("Blob is not supported. Use a Buffer instead.");return ee.isArrayBuffer(S)||ee.isTypedArray(S)?m&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function g(S,N,T){let A=S;if(S&&!T&&typeof S=="object"){if(ee.endsWith(N,"{}"))N=r?N:N.slice(0,-2),S=JSON.stringify(S);else if(ee.isArray(S)&&lP(S)||(ee.isFileList(S)||ee.endsWith(N,"[]"))&&(A=ee.toArray(S)))return N=hj(N),A.forEach(function(E,_){!(ee.isUndefined(E)||E===null)&&t.append(d===!0?Fb([N],_,c):d===null?N:N+"[]",p(E))}),!1}return Wm(S)?!0:(t.append(Fb(T,N,c),p(S)),!1)}const v=[],b=Object.assign(cP,{defaultVisitor:g,convertValue:p,isVisitable:Wm});function w(S,N){if(!ee.isUndefined(S)){if(v.indexOf(S)!==-1)throw Error("Circular reference detected in "+N.join("."));v.push(S),ee.forEach(S,function(A,C){(!(ee.isUndefined(A)||A===null)&&l.call(t,A,ee.isString(C)?C.trim():C,N,b))===!0&&w(A,N?N.concat(C):[C])}),v.pop()}}if(!ee.isObject(e))throw new TypeError("data must be an object");return w(e),t}function Ib(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function rg(e,t){this._pairs=[],e&&od(e,this,t)}const mj=rg.prototype;mj.append=function(t,n){this._pairs.push([t,n])};mj.toString=function(t){const n=t?function(r){return t.call(this,r,Ib)}:Ib;return this._pairs.map(function(l){return n(l[0])+"="+n(l[1])},"").join("&")};function uP(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function pj(e,t,n){if(!t)return e;const r=n&&n.encode||uP;ee.isFunction(n)&&(n={serialize:n});const l=n&&n.serialize;let c;if(l?c=l(t,n):c=ee.isURLSearchParams(t)?t.toString():new rg(t,n).toString(r),c){const d=e.indexOf("#");d!==-1&&(e=e.slice(0,d)),e+=(e.indexOf("?")===-1?"?":"&")+c}return e}class Qb{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ee.forEach(this.handlers,function(r){r!==null&&t(r)})}}const gj={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},dP=typeof URLSearchParams<"u"?URLSearchParams:rg,fP=typeof FormData<"u"?FormData:null,hP=typeof Blob<"u"?Blob:null,mP={isBrowser:!0,classes:{URLSearchParams:dP,FormData:fP,Blob:hP},protocols:["http","https","file","blob","url","data"]},ig=typeof window<"u"&&typeof document<"u",Zm=typeof navigator=="object"&&navigator||void 0,pP=ig&&(!Zm||["ReactNative","NativeScript","NS"].indexOf(Zm.product)<0),gP=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",yP=ig&&window.location.href||"http://localhost",vP=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ig,hasStandardBrowserEnv:pP,hasStandardBrowserWebWorkerEnv:gP,navigator:Zm,origin:yP},Symbol.toStringTag,{value:"Module"})),As={...vP,...mP};function xP(e,t){return od(e,new As.classes.URLSearchParams,{visitor:function(n,r,l,c){return As.isNode&&ee.isBuffer(n)?(this.append(r,n.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)},...t})}function bP(e){return ee.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function wP(e){const t={},n=Object.keys(e);let r;const l=n.length;let c;for(r=0;r<l;r++)c=n[r],t[c]=e[c];return t}function yj(e){function t(n,r,l,c){let d=n[c++];if(d==="__proto__")return!0;const f=Number.isFinite(+d),m=c>=n.length;return d=!d&&ee.isArray(l)?l.length:d,m?(ee.hasOwnProp(l,d)?l[d]=[l[d],r]:l[d]=r,!f):((!l[d]||!ee.isObject(l[d]))&&(l[d]=[]),t(n,r,l[d],c)&&ee.isArray(l[d])&&(l[d]=wP(l[d])),!f)}if(ee.isFormData(e)&&ee.isFunction(e.entries)){const n={};return ee.forEachEntry(e,(r,l)=>{t(bP(r),l,n,0)}),n}return null}function jP(e,t,n){if(ee.isString(e))try{return(t||JSON.parse)(e),ee.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Vl={transitional:gj,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",l=r.indexOf("application/json")>-1,c=ee.isObject(t);if(c&&ee.isHTMLForm(t)&&(t=new FormData(t)),ee.isFormData(t))return l?JSON.stringify(yj(t)):t;if(ee.isArrayBuffer(t)||ee.isBuffer(t)||ee.isStream(t)||ee.isFile(t)||ee.isBlob(t)||ee.isReadableStream(t))return t;if(ee.isArrayBufferView(t))return t.buffer;if(ee.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let f;if(c){if(r.indexOf("application/x-www-form-urlencoded")>-1)return xP(t,this.formSerializer).toString();if((f=ee.isFileList(t))||r.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return od(f?{"files[]":t}:t,m&&new m,this.formSerializer)}}return c||l?(n.setContentType("application/json",!1),jP(t)):t}],transformResponse:[function(t){const n=this.transitional||Vl.transitional,r=n&&n.forcedJSONParsing,l=this.responseType==="json";if(ee.isResponse(t)||ee.isReadableStream(t))return t;if(t&&ee.isString(t)&&(r&&!this.responseType||l)){const d=!(n&&n.silentJSONParsing)&&l;try{return JSON.parse(t)}catch(f){if(d)throw f.name==="SyntaxError"?Ve.from(f,Ve.ERR_BAD_RESPONSE,this,null,this.response):f}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:As.classes.FormData,Blob:As.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ee.forEach(["delete","get","head","post","put","patch"],e=>{Vl.headers[e]={}});const SP=ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),NP=e=>{const t={};let n,r,l;return e&&e.split(`
`).forEach(function(d){l=d.indexOf(":"),n=d.substring(0,l).trim().toLowerCase(),r=d.substring(l+1).trim(),!(!n||t[n]&&SP[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Yb=Symbol("internals");function el(e){return e&&String(e).trim().toLowerCase()}function Tu(e){return e===!1||e==null?e:ee.isArray(e)?e.map(Tu):String(e)}function kP(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const CP=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Qh(e,t,n,r,l){if(ee.isFunction(r))return r.call(this,t,n);if(l&&(t=n),!!ee.isString(t)){if(ee.isString(r))return t.indexOf(r)!==-1;if(ee.isRegExp(r))return r.test(t)}}function TP(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function AP(e,t){const n=ee.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(l,c,d){return this[r].call(this,t,l,c,d)},configurable:!0})})}let Is=class{constructor(t){t&&this.set(t)}set(t,n,r){const l=this;function c(f,m,p){const g=el(m);if(!g)throw new Error("header name must be a non-empty string");const v=ee.findKey(l,g);(!v||l[v]===void 0||p===!0||p===void 0&&l[v]!==!1)&&(l[v||m]=Tu(f))}const d=(f,m)=>ee.forEach(f,(p,g)=>c(p,g,m));if(ee.isPlainObject(t)||t instanceof this.constructor)d(t,n);else if(ee.isString(t)&&(t=t.trim())&&!CP(t))d(NP(t),n);else if(ee.isObject(t)&&ee.isIterable(t)){let f={},m,p;for(const g of t){if(!ee.isArray(g))throw TypeError("Object iterator must return a key-value pair");f[p=g[0]]=(m=f[p])?ee.isArray(m)?[...m,g[1]]:[m,g[1]]:g[1]}d(f,n)}else t!=null&&c(n,t,r);return this}get(t,n){if(t=el(t),t){const r=ee.findKey(this,t);if(r){const l=this[r];if(!n)return l;if(n===!0)return kP(l);if(ee.isFunction(n))return n.call(this,l,r);if(ee.isRegExp(n))return n.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=el(t),t){const r=ee.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Qh(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let l=!1;function c(d){if(d=el(d),d){const f=ee.findKey(r,d);f&&(!n||Qh(r,r[f],f,n))&&(delete r[f],l=!0)}}return ee.isArray(t)?t.forEach(c):c(t),l}clear(t){const n=Object.keys(this);let r=n.length,l=!1;for(;r--;){const c=n[r];(!t||Qh(this,this[c],c,t,!0))&&(delete this[c],l=!0)}return l}normalize(t){const n=this,r={};return ee.forEach(this,(l,c)=>{const d=ee.findKey(r,c);if(d){n[d]=Tu(l),delete n[c];return}const f=t?TP(c):String(c).trim();f!==c&&delete n[c],n[f]=Tu(l),r[f]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return ee.forEach(this,(r,l)=>{r!=null&&r!==!1&&(n[l]=t&&ee.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(l=>r.set(l)),r}static accessor(t){const r=(this[Yb]=this[Yb]={accessors:{}}).accessors,l=this.prototype;function c(d){const f=el(d);r[f]||(AP(l,d),r[f]=!0)}return ee.isArray(t)?t.forEach(c):c(t),this}};Is.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ee.reduceDescriptors(Is.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});ee.freezeMethods(Is);function Yh(e,t){const n=this||Vl,r=t||n,l=Is.from(r.headers);let c=r.data;return ee.forEach(e,function(f){c=f.call(n,c,l.normalize(),t?t.status:void 0)}),l.normalize(),c}function vj(e){return!!(e&&e.__CANCEL__)}function Qi(e,t,n){Ve.call(this,e??"canceled",Ve.ERR_CANCELED,t,n),this.name="CanceledError"}ee.inherits(Qi,Ve,{__CANCEL__:!0});function xj(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Ve("Request failed with status code "+n.status,[Ve.ERR_BAD_REQUEST,Ve.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function EP(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function MP(e,t){e=e||10;const n=new Array(e),r=new Array(e);let l=0,c=0,d;return t=t!==void 0?t:1e3,function(m){const p=Date.now(),g=r[c];d||(d=p),n[l]=m,r[l]=p;let v=c,b=0;for(;v!==l;)b+=n[v++],v=v%e;if(l=(l+1)%e,l===c&&(c=(c+1)%e),p-d<t)return;const w=g&&p-g;return w?Math.round(b*1e3/w):void 0}}function RP(e,t){let n=0,r=1e3/t,l,c;const d=(p,g=Date.now())=>{n=g,l=null,c&&(clearTimeout(c),c=null),e(...p)};return[(...p)=>{const g=Date.now(),v=g-n;v>=r?d(p,g):(l=p,c||(c=setTimeout(()=>{c=null,d(l)},r-v)))},()=>l&&d(l)]}const Vu=(e,t,n=3)=>{let r=0;const l=MP(50,250);return RP(c=>{const d=c.loaded,f=c.lengthComputable?c.total:void 0,m=d-r,p=l(m),g=d<=f;r=d;const v={loaded:d,total:f,progress:f?d/f:void 0,bytes:m,rate:p||void 0,estimated:p&&f&&g?(f-d)/p:void 0,event:c,lengthComputable:f!=null,[t?"download":"upload"]:!0};e(v)},n)},Xb=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Wb=e=>(...t)=>ee.asap(()=>e(...t)),PP=As.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,As.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(As.origin),As.navigator&&/(msie|trident)/i.test(As.navigator.userAgent)):()=>!0,LP=As.hasStandardBrowserEnv?{write(e,t,n,r,l,c){const d=[e+"="+encodeURIComponent(t)];ee.isNumber(n)&&d.push("expires="+new Date(n).toGMTString()),ee.isString(r)&&d.push("path="+r),ee.isString(l)&&d.push("domain="+l),c===!0&&d.push("secure"),document.cookie=d.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function _P(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function DP(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function bj(e,t,n){let r=!_P(t);return e&&(r||n==!1)?DP(e,t):t}const Zb=e=>e instanceof Is?{...e}:e;function zr(e,t){t=t||{};const n={};function r(p,g,v,b){return ee.isPlainObject(p)&&ee.isPlainObject(g)?ee.merge.call({caseless:b},p,g):ee.isPlainObject(g)?ee.merge({},g):ee.isArray(g)?g.slice():g}function l(p,g,v,b){if(ee.isUndefined(g)){if(!ee.isUndefined(p))return r(void 0,p,v,b)}else return r(p,g,v,b)}function c(p,g){if(!ee.isUndefined(g))return r(void 0,g)}function d(p,g){if(ee.isUndefined(g)){if(!ee.isUndefined(p))return r(void 0,p)}else return r(void 0,g)}function f(p,g,v){if(v in t)return r(p,g);if(v in e)return r(void 0,p)}const m={url:c,method:c,data:c,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:f,headers:(p,g,v)=>l(Zb(p),Zb(g),v,!0)};return ee.forEach(Object.keys({...e,...t}),function(g){const v=m[g]||l,b=v(e[g],t[g],g);ee.isUndefined(b)&&v!==f||(n[g]=b)}),n}const wj=e=>{const t=zr({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:l,xsrfCookieName:c,headers:d,auth:f}=t;t.headers=d=Is.from(d),t.url=pj(bj(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),f&&d.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let m;if(ee.isFormData(n)){if(As.hasStandardBrowserEnv||As.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((m=d.getContentType())!==!1){const[p,...g]=m?m.split(";").map(v=>v.trim()).filter(Boolean):[];d.setContentType([p||"multipart/form-data",...g].join("; "))}}if(As.hasStandardBrowserEnv&&(r&&ee.isFunction(r)&&(r=r(t)),r||r!==!1&&PP(t.url))){const p=l&&c&&LP.read(c);p&&d.set(l,p)}return t},OP=typeof XMLHttpRequest<"u",zP=OP&&function(e){return new Promise(function(n,r){const l=wj(e);let c=l.data;const d=Is.from(l.headers).normalize();let{responseType:f,onUploadProgress:m,onDownloadProgress:p}=l,g,v,b,w,S;function N(){w&&w(),S&&S(),l.cancelToken&&l.cancelToken.unsubscribe(g),l.signal&&l.signal.removeEventListener("abort",g)}let T=new XMLHttpRequest;T.open(l.method.toUpperCase(),l.url,!0),T.timeout=l.timeout;function A(){if(!T)return;const E=Is.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),R={data:!f||f==="text"||f==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:E,config:e,request:T};xj(function(z){n(z),N()},function(z){r(z),N()},R),T=null}"onloadend"in T?T.onloadend=A:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(A)},T.onabort=function(){T&&(r(new Ve("Request aborted",Ve.ECONNABORTED,e,T)),T=null)},T.onerror=function(){r(new Ve("Network Error",Ve.ERR_NETWORK,e,T)),T=null},T.ontimeout=function(){let _=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const R=l.transitional||gj;l.timeoutErrorMessage&&(_=l.timeoutErrorMessage),r(new Ve(_,R.clarifyTimeoutError?Ve.ETIMEDOUT:Ve.ECONNABORTED,e,T)),T=null},c===void 0&&d.setContentType(null),"setRequestHeader"in T&&ee.forEach(d.toJSON(),function(_,R){T.setRequestHeader(R,_)}),ee.isUndefined(l.withCredentials)||(T.withCredentials=!!l.withCredentials),f&&f!=="json"&&(T.responseType=l.responseType),p&&([b,S]=Vu(p,!0),T.addEventListener("progress",b)),m&&T.upload&&([v,w]=Vu(m),T.upload.addEventListener("progress",v),T.upload.addEventListener("loadend",w)),(l.cancelToken||l.signal)&&(g=E=>{T&&(r(!E||E.type?new Qi(null,e,T):E),T.abort(),T=null)},l.cancelToken&&l.cancelToken.subscribe(g),l.signal&&(l.signal.aborted?g():l.signal.addEventListener("abort",g)));const C=EP(l.url);if(C&&As.protocols.indexOf(C)===-1){r(new Ve("Unsupported protocol "+C+":",Ve.ERR_BAD_REQUEST,e));return}T.send(c||null)})},BP=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,l;const c=function(p){if(!l){l=!0,f();const g=p instanceof Error?p:this.reason;r.abort(g instanceof Ve?g:new Qi(g instanceof Error?g.message:g))}};let d=t&&setTimeout(()=>{d=null,c(new Ve(`timeout ${t} of ms exceeded`,Ve.ETIMEDOUT))},t);const f=()=>{e&&(d&&clearTimeout(d),d=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(c):p.removeEventListener("abort",c)}),e=null)};e.forEach(p=>p.addEventListener("abort",c));const{signal:m}=r;return m.unsubscribe=()=>ee.asap(f),m}},qP=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,l;for(;r<n;)l=r+t,yield e.slice(r,l),r=l},UP=async function*(e,t){for await(const n of VP(e))yield*qP(n,t)},VP=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Jb=(e,t,n,r)=>{const l=UP(e,t);let c=0,d,f=m=>{d||(d=!0,r&&r(m))};return new ReadableStream({async pull(m){try{const{done:p,value:g}=await l.next();if(p){f(),m.close();return}let v=g.byteLength;if(n){let b=c+=v;n(b)}m.enqueue(new Uint8Array(g))}catch(p){throw f(p),p}},cancel(m){return f(m),l.return()}},{highWaterMark:2})},ld=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",jj=ld&&typeof ReadableStream=="function",$P=ld&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Sj=(e,...t)=>{try{return!!e(...t)}catch{return!1}},GP=jj&&Sj(()=>{let e=!1;const t=new Request(As.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),e1=64*1024,Jm=jj&&Sj(()=>ee.isReadableStream(new Response("").body)),$u={stream:Jm&&(e=>e.body)};ld&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!$u[t]&&($u[t]=ee.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Ve(`Response type '${t}' is not supported`,Ve.ERR_NOT_SUPPORT,r)})})})(new Response);const HP=async e=>{if(e==null)return 0;if(ee.isBlob(e))return e.size;if(ee.isSpecCompliantForm(e))return(await new Request(As.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ee.isArrayBufferView(e)||ee.isArrayBuffer(e))return e.byteLength;if(ee.isURLSearchParams(e)&&(e=e+""),ee.isString(e))return(await $P(e)).byteLength},KP=async(e,t)=>{const n=ee.toFiniteNumber(e.getContentLength());return n??HP(t)},FP=ld&&(async e=>{let{url:t,method:n,data:r,signal:l,cancelToken:c,timeout:d,onDownloadProgress:f,onUploadProgress:m,responseType:p,headers:g,withCredentials:v="same-origin",fetchOptions:b}=wj(e);p=p?(p+"").toLowerCase():"text";let w=BP([l,c&&c.toAbortSignal()],d),S;const N=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let T;try{if(m&&GP&&n!=="get"&&n!=="head"&&(T=await KP(g,r))!==0){let R=new Request(t,{method:"POST",body:r,duplex:"half"}),O;if(ee.isFormData(r)&&(O=R.headers.get("content-type"))&&g.setContentType(O),R.body){const[z,P]=Xb(T,Vu(Wb(m)));r=Jb(R.body,e1,z,P)}}ee.isString(v)||(v=v?"include":"omit");const A="credentials"in Request.prototype;S=new Request(t,{...b,signal:w,method:n.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:A?v:void 0});let C=await fetch(S,b);const E=Jm&&(p==="stream"||p==="response");if(Jm&&(f||E&&N)){const R={};["status","statusText","headers"].forEach(q=>{R[q]=C[q]});const O=ee.toFiniteNumber(C.headers.get("content-length")),[z,P]=f&&Xb(O,Vu(Wb(f),!0))||[];C=new Response(Jb(C.body,e1,z,()=>{P&&P(),N&&N()}),R)}p=p||"text";let _=await $u[ee.findKey($u,p)||"text"](C,e);return!E&&N&&N(),await new Promise((R,O)=>{xj(R,O,{data:_,headers:Is.from(C.headers),status:C.status,statusText:C.statusText,config:e,request:S})})}catch(A){throw N&&N(),A&&A.name==="TypeError"&&/Load failed|fetch/i.test(A.message)?Object.assign(new Ve("Network Error",Ve.ERR_NETWORK,e,S),{cause:A.cause||A}):Ve.from(A,A&&A.code,e,S)}}),ep={http:oP,xhr:zP,fetch:FP};ee.forEach(ep,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const t1=e=>`- ${e}`,IP=e=>ee.isFunction(e)||e===null||e===!1,Nj={getAdapter:e=>{e=ee.isArray(e)?e:[e];const{length:t}=e;let n,r;const l={};for(let c=0;c<t;c++){n=e[c];let d;if(r=n,!IP(n)&&(r=ep[(d=String(n)).toLowerCase()],r===void 0))throw new Ve(`Unknown adapter '${d}'`);if(r)break;l[d||"#"+c]=r}if(!r){const c=Object.entries(l).map(([f,m])=>`adapter ${f} `+(m===!1?"is not supported by the environment":"is not available in the build"));let d=t?c.length>1?`since :
`+c.map(t1).join(`
`):" "+t1(c[0]):"as no adapter specified";throw new Ve("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return r},adapters:ep};function Xh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Qi(null,e)}function s1(e){return Xh(e),e.headers=Is.from(e.headers),e.data=Yh.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Nj.getAdapter(e.adapter||Vl.adapter)(e).then(function(r){return Xh(e),r.data=Yh.call(e,e.transformResponse,r),r.headers=Is.from(r.headers),r},function(r){return vj(r)||(Xh(e),r&&r.response&&(r.response.data=Yh.call(e,e.transformResponse,r.response),r.response.headers=Is.from(r.response.headers))),Promise.reject(r)})}const kj="1.11.0",cd={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{cd[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const n1={};cd.transitional=function(t,n,r){function l(c,d){return"[Axios v"+kj+"] Transitional option '"+c+"'"+d+(r?". "+r:"")}return(c,d,f)=>{if(t===!1)throw new Ve(l(d," has been removed"+(n?" in "+n:"")),Ve.ERR_DEPRECATED);return n&&!n1[d]&&(n1[d]=!0,console.warn(l(d," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(c,d,f):!0}};cd.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function QP(e,t,n){if(typeof e!="object")throw new Ve("options must be an object",Ve.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let l=r.length;for(;l-- >0;){const c=r[l],d=t[c];if(d){const f=e[c],m=f===void 0||d(f,c,e);if(m!==!0)throw new Ve("option "+c+" must be "+m,Ve.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ve("Unknown option "+c,Ve.ERR_BAD_OPTION)}}const Au={assertOptions:QP,validators:cd},$n=Au.validators;let _r=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Qb,response:new Qb}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const c=l.stack?l.stack.replace(/^.+\n/,""):"";try{r.stack?c&&!String(r.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+c):r.stack=c}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=zr(this.defaults,n);const{transitional:r,paramsSerializer:l,headers:c}=n;r!==void 0&&Au.assertOptions(r,{silentJSONParsing:$n.transitional($n.boolean),forcedJSONParsing:$n.transitional($n.boolean),clarifyTimeoutError:$n.transitional($n.boolean)},!1),l!=null&&(ee.isFunction(l)?n.paramsSerializer={serialize:l}:Au.assertOptions(l,{encode:$n.function,serialize:$n.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Au.assertOptions(n,{baseUrl:$n.spelling("baseURL"),withXsrfToken:$n.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let d=c&&ee.merge(c.common,c[n.method]);c&&ee.forEach(["delete","get","head","post","put","patch","common"],S=>{delete c[S]}),n.headers=Is.concat(d,c);const f=[];let m=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(n)===!1||(m=m&&N.synchronous,f.unshift(N.fulfilled,N.rejected))});const p=[];this.interceptors.response.forEach(function(N){p.push(N.fulfilled,N.rejected)});let g,v=0,b;if(!m){const S=[s1.bind(this),void 0];for(S.unshift(...f),S.push(...p),b=S.length,g=Promise.resolve(n);v<b;)g=g.then(S[v++],S[v++]);return g}b=f.length;let w=n;for(v=0;v<b;){const S=f[v++],N=f[v++];try{w=S(w)}catch(T){N.call(this,T);break}}try{g=s1.call(this,w)}catch(S){return Promise.reject(S)}for(v=0,b=p.length;v<b;)g=g.then(p[v++],p[v++]);return g}getUri(t){t=zr(this.defaults,t);const n=bj(t.baseURL,t.url,t.allowAbsoluteUrls);return pj(n,t.params,t.paramsSerializer)}};ee.forEach(["delete","get","head","options"],function(t){_r.prototype[t]=function(n,r){return this.request(zr(r||{},{method:t,url:n,data:(r||{}).data}))}});ee.forEach(["post","put","patch"],function(t){function n(r){return function(c,d,f){return this.request(zr(f||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:c,data:d}))}}_r.prototype[t]=n(),_r.prototype[t+"Form"]=n(!0)});let YP=class Cj{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(c){n=c});const r=this;this.promise.then(l=>{if(!r._listeners)return;let c=r._listeners.length;for(;c-- >0;)r._listeners[c](l);r._listeners=null}),this.promise.then=l=>{let c;const d=new Promise(f=>{r.subscribe(f),c=f}).then(l);return d.cancel=function(){r.unsubscribe(c)},d},t(function(c,d,f){r.reason||(r.reason=new Qi(c,d,f),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Cj(function(l){t=l}),cancel:t}}};function XP(e){return function(n){return e.apply(null,n)}}function WP(e){return ee.isObject(e)&&e.isAxiosError===!0}const tp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(tp).forEach(([e,t])=>{tp[t]=e});function Tj(e){const t=new _r(e),n=nj(_r.prototype.request,t);return ee.extend(n,_r.prototype,t,{allOwnKeys:!0}),ee.extend(n,t,null,{allOwnKeys:!0}),n.create=function(l){return Tj(zr(e,l))},n}const Ft=Tj(Vl);Ft.Axios=_r;Ft.CanceledError=Qi;Ft.CancelToken=YP;Ft.isCancel=vj;Ft.VERSION=kj;Ft.toFormData=od;Ft.AxiosError=Ve;Ft.Cancel=Ft.CanceledError;Ft.all=function(t){return Promise.all(t)};Ft.spread=XP;Ft.isAxiosError=WP;Ft.mergeConfig=zr;Ft.AxiosHeaders=Is;Ft.formToJSON=e=>yj(ee.isHTMLForm(e)?new FormData(e):e);Ft.getAdapter=Nj.getAdapter;Ft.HttpStatusCode=tp;Ft.default=Ft;const{Axios:G_,AxiosError:H_,CanceledError:K_,isCancel:F_,CancelToken:I_,VERSION:Q_,all:Y_,Cancel:X_,isAxiosError:W_,spread:Z_,toFormData:J_,AxiosHeaders:eD,HttpStatusCode:tD,formToJSON:sD,getAdapter:nD,mergeConfig:aD}=Ft,ZP="https://www.studyify.in/api";class JP{client;isRefreshing=!1;failedQueue=[];constructor(t){this.client=Ft.create({baseURL:t,timeout:1e4,withCredentials:!0,headers:{"Content-Type":"application/json"}}),this.setupInterceptors()}setupInterceptors(){this.client.interceptors.request.use(t=>{if(!t.skipAuth){const r=this.getAuthToken();r&&(t.headers.Authorization=`Bearer ${r}`)}return t},t=>Promise.reject(t)),this.client.interceptors.response.use(t=>t,async t=>{const n=t.config;if(t.response?.status===401&&!n._retry){if(this.isRefreshing)return new Promise((r,l)=>{this.failedQueue.push({resolve:r,reject:l})}).then(r=>(n.headers.Authorization=`Bearer ${r}`,this.client(n))).catch(r=>Promise.reject(r));n._retry=!0,this.isRefreshing=!0;try{const r=await this.refreshAuthToken();return this.processQueue(null,r),n.headers.Authorization=`Bearer ${r}`,this.client(n)}catch(r){return this.processQueue(r,null),this.clearAuthData(),window.dispatchEvent(new CustomEvent("auth:logout")),Promise.reject(r)}finally{this.isRefreshing=!1}}return Promise.reject(t)})}processQueue(t,n){this.failedQueue.forEach(({resolve:r,reject:l})=>{t?l(t):r(n)}),this.failedQueue=[]}getAuthToken(){try{const t=localStorage.getItem("chess-academy-auth");return t&&JSON.parse(t).state?.token||null}catch{return null}}async refreshAuthToken(){if(!Mr.get("refreshToken"))throw new Error("No refresh token available");const n=await this.client.post("/api/auth/refresh",{},{skipAuth:!0}),{accessToken:r,refreshToken:l}=n.data.data;l&&Mr.set("refreshToken",l,{secure:window.location.protocol==="https:",sameSite:"lax",expires:7});const c=JSON.parse(localStorage.getItem("chess-academy-auth")||"{}");return c.state&&(c.state.token=r,l&&(c.state.refreshToken=l),c.state.lastAuthCheck=Date.now(),localStorage.setItem("chess-academy-auth",JSON.stringify(c))),r}clearAuthData(){localStorage.removeItem("chess-academy-auth"),Mr.remove("refreshToken"),sessionStorage.removeItem("oauth_state")}async request(t,n={}){const{retries:r=3,retryDelay:l=1e3,...c}=n;let d;for(let m=0;m<=r;m++)try{return(await this.client({url:t,...c})).data}catch(p){d=p;const g=p.response?.status,v=[401,408,429,500,502,503,504];if(m===r||g&&g<500&&!v.includes(g))break;const b=l*Math.pow(2,m)+Math.random()*1e3;await new Promise(w=>setTimeout(w,b))}const f=this.formatError(d);throw new Error(f)}formatError(t){if(t.response){const n=t.response.status,r=t.response.data;return r?.message?r.message:{400:"Bad request. Please check your input.",401:"Authentication required. Please log in.",403:"Access denied. You do not have permission.",404:"Resource not found.",409:"Conflict. Resource already exists.",422:"Invalid data provided.",429:"Too many requests. Please try again later.",500:"Server error. Please try again later.",502:"Service unavailable. Please try again later.",503:"Service temporarily unavailable.",504:"Request timeout. Please try again."}[n]||`Server error (${n})`}else return t.request?"Network error. Please check your connection.":t.message||"An unexpected error occurred."}async register(t){return this.request("/api/auth/register",{method:"POST",data:t,skipAuth:!0})}async login(t){return this.request("/api/auth/login",{method:"POST",data:t,skipAuth:!0})}async logout(){return this.request("/api/auth/logout",{method:"POST"})}async refreshToken(){return this.request("/api/auth/refresh",{method:"POST",skipAuth:!0})}async getProfile(){return this.request("/api/auth/profile")}async handleGoogleCallback(t){return this.request("/api/auth/google/callback",{method:"POST",data:{code:t},skipAuth:!0})}async deleteAccount(){return this.request("/api/auth/delete-account",{method:"DELETE"})}async getUserProfile(){return this.request("/api/users/profile")}async updateUserProfile(t){return this.request("/api/users/profile",{method:"PUT",data:t})}async getUserStats(){return this.request("/api/users/stats")}async getUserProgress(){return this.request("/api/users/progress")}async healthCheck(){return this.request("/api/health",{method:"GET",skipAuth:!0,retries:1,timeout:5e3})}}const ga=new JP(ZP),e6="G-TG7J1D38B6",t6=!1,$l=!0,s6=(e,t)=>{!window.gtag||!$l||window.gtag("event","page_view",{page_path:e,page_title:t})},Wh=e=>{!window.gtag||!$l||window.gtag("set",{user_properties:e})},a1=e=>{!window.gtag||!$l||window.gtag("config",e6,{user_id:e})},Ls=(e,t={})=>{if(!(!window.gtag||!$l))try{const n=Object.entries(t).reduce((r,[l,c])=>{const d=l.replace(/[^a-zA-Z0-9_]/g,"_").substring(0,40);let f=c;return typeof c=="object"&&c!==null?f=JSON.stringify(c):typeof c=="boolean"?f=c.toString():typeof c=="number"?isFinite(c)||(f="0"):typeof c=="string"&&(f=c.substring(0,100)),r[d]=f,r},{});window.gtag("event",e,n)}catch(n){console.error("Error tracking GA4 event:",n)}},n6=()=>!!(window.gtag&&window.dataLayer&&$l);class a6{userId=null;sessionStartTime=Date.now();currentPage="";initialize(t,n){if(!n6()){console.warn("Analytics not ready - skipping initialization");return}t&&(this.userId=t,a1(t)),n&&Wh(n);const r=this.getDeviceType();Wh({device_type:r,session_start_time:new Date().toISOString()})}trackPageView(t,n){this.currentPage=t,s6(t,n)}trackSignUp(t){Ls("sign_up",{method:t.method,chess_experience:t.chess_experience,device_type:t.device_type,referrer:t.referrer})}trackLogin(t){Ls("login",{method:t.method,device_type:t.device_type,session_count:t.session_count,time_since_last_login:t.time_since_last_login})}trackLogout(t){Ls("logout",{session_duration_seconds:t||this.getSessionDuration(),device_type:this.getDeviceType()})}trackChessGameStart(t){Ls("chess_game_start",{game_mode:t.game_mode,difficulty_level:t.difficulty_level,computer_level:t.computer_level,time_control:t.time_control,device_type:t.device_type,user_rating:t.user_rating})}trackChessGameEnd(t){Ls("chess_game_end",{game_mode:t.game_mode,result:t.result,duration_seconds:t.duration_seconds,moves_count:t.moves_count,difficulty_level:t.difficulty_level,computer_level:t.computer_level,hints_used:t.hints_used,mistakes_count:t.mistakes_count,accuracy_percentage:t.accuracy_percentage,user_rating_before:t.user_rating_before,user_rating_after:t.user_rating_after,rating_change:t.rating_change,value:t.duration_seconds})}trackChessMove(t){Ls("chess_move",{game_mode:t.game_mode,move_number:t.move_number,piece_type:t.piece_type,from_square:t.from_square,to_square:t.to_square,is_capture:t.is_capture,is_check:t.is_check,is_checkmate:t.is_checkmate,move_time_seconds:t.move_time_seconds,is_hint_used:t.is_hint_used})}trackFeatureUse(t){Ls("feature_use",{feature_name:t.feature_name,action:t.action,device_type:t.device_type,session_duration:t.session_duration||this.getSessionDuration()})}trackPuzzleComplete(t){Ls("puzzle_complete",{puzzle_id:t.puzzle_id,difficulty_level:t.difficulty_level,attempts_count:t.attempts_count,time_taken_seconds:t.time_taken_seconds,was_successful:t.was_successful,hints_used:t.hints_used,value:t.was_successful?1:0})}trackLessonProgress(t){Ls("lesson_progress",{lesson_id:t.lesson_id,lesson_category:t.lesson_category,progress_percentage:t.progress_percentage,time_spent_seconds:t.time_spent_seconds,completed:t.completed,value:t.progress_percentage})}trackTutorialComplete(t,n){Ls("tutorial_complete",{tutorial_name:t,time_spent_seconds:n,device_type:this.getDeviceType(),value:1})}trackLevelUp(t,n){Ls("level_up",{level:t,xp_earned:n,character:"chess_player",device_type:this.getDeviceType()})}trackAchievementUnlock(t,n){Ls("unlock_achievement",{achievement_id:t,achievement_name:n,device_type:this.getDeviceType()})}trackError(t,n,r){Ls("exception",{description:t,fatal:!1,error_details:n,page:r||this.currentPage})}trackCriticalError(t,n){Ls("exception",{description:t,fatal:!0,error_details:n,page:this.currentPage})}trackPerformance(t,n,r){Ls("performance_metric",{metric_name:t,metric_value:n,unit:r||"ms",page:this.currentPage})}getDeviceType(){const t=window.innerWidth;return t<768?"mobile":t<1024?"tablet":"desktop"}getSessionDuration(){return Math.floor((Date.now()-this.sessionStartTime)/1e3)}updateUserProperties(t){Wh(t)}setUserId(t){this.userId=t,a1(t)}getUserId(){return this.userId}}const Gs=new a6,r1=()=>{const e="ontouchstart"in window||navigator.maxTouchPoints>0;navigator.userAgent.toLowerCase();const t=window.innerWidth;return{isMobile:t<768,isTablet:t>=768&&t<1024,isDesktop:t>=1024,isTouchDevice:e}},Br=vp()(xp((e,t)=>({user:null,token:null,refreshToken:null,isAuthenticated:!1,isLoading:!1,isInitialized:!1,error:null,lastAuthCheck:null,deviceInfo:{isMobile:!1,isTablet:!1,isDesktop:!0,isTouchDevice:!1},register:async n=>{e({isLoading:!0,error:null});try{const r=await ga.register(n);if(r.success&&r.data){const{user:l,accessToken:c,refreshToken:d}=r.data;t().setUser(l,c,d);const f=t().getDeviceType();Gs.trackSignUp({method:"email",device_type:f,chess_experience:"beginner",referrer:document.referrer||void 0})}}catch(r){throw Gs.trackError("registration_failed",r instanceof Error?r.message:"Registration failed"),e({isLoading:!1,error:r instanceof Error?r.message:"Registration failed"}),r}},login:async n=>{e({isLoading:!0,error:null});try{const r=await ga.login(n);if(r.success&&r.data){const{user:l,accessToken:c,refreshToken:d}=r.data;t().setUser(l,c,d);const f=t().getDeviceType(),m=t().lastAuthCheck,p=m?Math.floor((Date.now()-m)/(1e3*60*60*24)):void 0;Gs.trackLogin({method:"email",device_type:f,time_since_last_login:p})}}catch(r){throw Gs.trackError("login_failed",r instanceof Error?r.message:"Login failed"),e({isLoading:!1,error:r instanceof Error?r.message:"Login failed"}),r}},loginWithGoogle:async()=>{e({isLoading:!0,error:null});try{sessionStorage.setItem("auth_return_to",window.location.pathname);const n=crypto.randomUUID();sessionStorage.setItem("oauth_state",n);const r=new URLSearchParams({state:n});window.location.href=`/api/auth/google?${r.toString()}`}catch(n){throw e({isLoading:!1,error:n instanceof Error?n.message:"Google login failed"}),n}},handleGoogleCallback:async(n,r)=>{e({isLoading:!0,error:null});try{const l=sessionStorage.getItem("oauth_state");if(r&&l&&r!==l)throw new Error("Invalid state parameter");const c=await ga.handleGoogleCallback(n);if(c.success&&c.data){const{user:d,accessToken:f,refreshToken:m}=c.data;t().setUser(d,f,m),sessionStorage.removeItem("oauth_state");const p=t().getDeviceType();c.data.isNewUser?Gs.trackSignUp({method:"google",device_type:p,chess_experience:"beginner",referrer:document.referrer||void 0}):Gs.trackLogin({method:"google",device_type:p})}}catch(l){throw Gs.trackError("google_auth_failed",l instanceof Error?l.message:"Google authentication failed"),e({isLoading:!1,error:l instanceof Error?l.message:"Google authentication failed"}),sessionStorage.removeItem("oauth_state"),l}},loginDemo:()=>{const n={id:"demo-user-123",email:"demo@chesslacademy.com",username:"demo_player",displayName:"Demo Player",createdAt:new Date().toISOString()};e({user:n,token:"demo-token-123",isAuthenticated:!0,isLoading:!1,error:null});const r=t().getDeviceType();Gs.trackLogin({method:"demo",device_type:r})},logout:async()=>{try{Gs.trackLogout(),Mr.remove("refreshToken"),sessionStorage.removeItem("oauth_state"),e({user:null,token:null,refreshToken:null,isAuthenticated:!1,isLoading:!1,error:null,lastAuthCheck:null}),ga.logout().catch(n=>{console.error("Background logout error:",n)})}catch(n){console.error("Logout error:",n),Mr.remove("refreshToken"),sessionStorage.removeItem("oauth_state"),e({user:null,token:null,refreshToken:null,isAuthenticated:!1,isLoading:!1,error:null,lastAuthCheck:null})}},refreshTokenAction:async()=>{const{refreshToken:n}=t();if(!n)return!1;const r=()=>Promise.race([ga.refreshToken(),new Promise((l,c)=>{setTimeout(()=>{c(new Error("Token refresh timeout - API unavailable"))},5e3)})]);try{const l=await r();if(l.success&&l.data){const{accessToken:c,refreshToken:d}=l.data;return t().setTokens(c,d),!0}}catch(l){console.warn("Token refresh failed (API unavailable):",l)}return!1},checkAuth:async()=>{const{token:n,lastAuthCheck:r,isAuthenticated:l}=t(),c=Date.now();if(r&&c-r<300*1e3&&l){e({isInitialized:!0});return}if(!n){e({isInitialized:!0,isLoading:!1});return}e({isLoading:!0});const d=()=>Promise.race([ga.getProfile(),new Promise((f,m)=>{setTimeout(()=>{m(new Error("Auth check timeout - API unavailable"))},5e3)})]);try{const f=await d();if(f.success&&f.data){e({user:f.data.user,isAuthenticated:!0,isLoading:!1,isInitialized:!0,error:null,lastAuthCheck:c});return}}catch(f){if(console.warn("Auth check failed (API unavailable):",f),n)try{await Promise.race([t().refreshTokenAction(),new Promise(g=>{setTimeout(()=>g(!1),3e3)})])||e({user:null,token:null,refreshToken:null,isAuthenticated:!1,isLoading:!1,isInitialized:!0,error:null,lastAuthCheck:null})}catch(m){console.warn("Token refresh also failed:",m),e({user:null,token:null,refreshToken:null,isAuthenticated:!1,isLoading:!1,isInitialized:!0,error:null,lastAuthCheck:null})}else e({isLoading:!1,isInitialized:!0,error:null})}},initialize:async()=>{t().updateDeviceInfo();const n=new Promise(r=>{setTimeout(()=>{console.warn("Authentication initialization timeout - forcing app start"),t().isInitialized||e({isInitialized:!0,isLoading:!1,error:null}),r()},1e4)});try{await Promise.race([t().checkAuth(),n])}catch(r){console.error("Initialization error:",r),e({isInitialized:!0,isLoading:!1,error:null})}t().isInitialized||(console.warn("Force completing initialization"),e({isInitialized:!0,isLoading:!1,error:null}))},setUser:(n,r,l)=>{l&&Mr.set("refreshToken",l,{httpOnly:!1,secure:window.location.protocol==="https:",sameSite:"lax",expires:7}),e({user:n,token:r,refreshToken:l,isAuthenticated:!0,isLoading:!1,error:null,lastAuthCheck:Date.now()})},setTokens:(n,r)=>{r&&Mr.set("refreshToken",r,{httpOnly:!1,secure:window.location.protocol==="https:",sameSite:"lax",expires:7}),e({token:n,refreshToken:r,lastAuthCheck:Date.now()})},setLoading:n=>e({isLoading:n}),setError:n=>e({error:n}),clearError:()=>e({error:null}),updateUserProfile:async n=>{const{user:r}=t();if(!r)throw new Error("No user logged in");e({isLoading:!0,error:null});try{const l=await ga.updateUserProfile(n);l.success&&l.data&&e({user:l.data.user,isLoading:!1,error:null})}catch(l){throw e({isLoading:!1,error:l instanceof Error?l.message:"Profile update failed"}),l}},deleteAccount:async()=>{e({isLoading:!0,error:null});try{await ga.deleteAccount(),t().logout()}catch(n){throw e({isLoading:!1,error:n instanceof Error?n.message:"Account deletion failed"}),n}},updateDeviceInfo:()=>{const n=r1();e({deviceInfo:n})},getDeviceType:()=>{const{deviceInfo:n}=t();return n.isMobile?"mobile":n.isTablet?"tablet":"desktop"}}),{name:"chess-academy-auth",version:2,partialize:e=>({user:e.user,token:e.token,refreshToken:e.refreshToken,isAuthenticated:e.isAuthenticated,lastAuthCheck:e.lastAuthCheck,deviceInfo:e.deviceInfo}),migrate:(e,t)=>t<2?{...e,refreshToken:null,isInitialized:!1,lastAuthCheck:null,deviceInfo:r1()}:e})),r6=[{name:"Play",href:"/play",icon:uw,description:"Play against AI"},{name:"Learn / Lessons",href:"/lessons",icon:bp,description:"Learn chess fundamentals"},{name:"Puzzles",href:"/puzzles",icon:Or,description:"Practice tactics"},{name:"Dashboard",href:"/dashboard",icon:W3,description:"Your progress overview"},{name:"Rate My Strength",href:"/strength-assessment",icon:er,description:"Assess your skill level",divider:!0},{name:"Leaderboard",href:"/leaderboard",icon:Hs,description:"See top players"}],i6=[{name:"Profile",href:"/profile",icon:Ju},{name:"Settings",href:"/settings",icon:V5}],i1=({isOpen:e,onClose:t,isCollapsed:n=!1,onToggleCollapse:r})=>{const l=Rn(),{user:c,deviceInfo:d,isAuthenticated:f,loginDemo:m}=Br();x.useEffect(()=>{d.isMobile&&e&&t?.()},[l.pathname,d.isMobile,e,t]);const p=i.jsxs(xe.div,{className:"flex flex-col h-full",initial:!1,animate:{opacity:e?1:0},transition:{duration:.2},children:[i.jsxs("div",{className:st("p-4 border-b mobile:p-6 flex items-center justify-between","safe-left safe-right"),children:[i.jsxs(Gn,{to:"/dashboard",className:st("flex items-center",n?"justify-center w-full":"space-x-2"),onClick:t,children:[i.jsx(js,{className:"h-6 w-6 text-primary mobile:h-8 mobile:w-8"}),!n&&i.jsx("span",{className:"font-bold text-lg mobile:text-xl text-foreground",children:"Chess Academy"})]}),!d.isMobile&&r&&i.jsx(fe,{variant:"ghost",size:"icon-sm",onClick:r,className:"hidden md:flex",style:{color:"var(--color-text-secondary)"},title:n?"Expand sidebar":"Collapse sidebar",children:n?i.jsx(wm,{className:"h-4 w-4"}):i.jsx(nl,{className:"h-4 w-4"})})]}),d.isMobile&&i.jsx("div",{className:"p-4 border-b bg-muted/20",children:f&&c?i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:i.jsx(Ju,{className:"w-5 h-5 text-primary"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:c.displayName}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Nt,{variant:"outline",className:"text-xs",children:"Rating: 1200"}),i.jsxs(Nt,{variant:"secondary",className:"text-xs",children:[i.jsx(Ri,{className:"w-3 h-3 mr-1"}),"+50"]})]})]})]}):i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Welcome to Chess Academy!"}),i.jsx(fe,{onClick:m,variant:"outline",size:"sm",className:"w-full",children:"Try Demo Mode"})]})}),i.jsxs("nav",{className:st("flex-1 p-4 space-y-1 mobile:p-6","safe-left safe-right"),children:[i.jsx("div",{className:"space-y-1",children:r6.map((g,v)=>{const b=g.icon,w=l.pathname===g.href;return i.jsxs("div",{children:[g.divider&&i.jsx("div",{className:"my-3 border-t",style:{borderColor:"var(--color-border-default)"}}),i.jsx(fe,{variant:w?"secondary":"ghost",className:st("w-full",n?"justify-center p-2 h-10":"justify-start space-x-3 h-10 mobile:h-12 text-sm mobile:text-base","touch:h-12",w&&"bg-accent text-accent-foreground shadow-sm"),asChild:!0,title:n?g.name:void 0,children:i.jsxs(Gn,{to:g.href,onClick:t,className:"flex items-center",children:[i.jsx(b,{className:"h-4 w-4 mobile:h-5 mobile:w-5 shrink-0"}),!n&&i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium",children:g.name}),d.isMobile&&i.jsx("div",{className:"text-xs text-muted-foreground",children:g.description})]})]})})]},g.name)})}),d.isMobile&&i.jsxs("div",{className:"pt-4 mt-4 border-t space-y-1",children:[i.jsx("div",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2",children:"Account"}),i6.map(g=>{const v=g.icon,b=l.pathname===g.href;return i.jsx(fe,{variant:b?"secondary":"ghost",className:st("w-full justify-start space-x-3","h-10 mobile:h-12 text-sm mobile:text-base",b&&"bg-accent text-accent-foreground"),asChild:!0,children:i.jsxs(Gn,{to:g.href,onClick:t,children:[i.jsx(v,{className:"h-4 w-4 mobile:h-5 mobile:w-5"}),i.jsx("span",{children:g.name})]})},g.name)})]})]}),i.jsx("div",{className:st("p-4 border-t bg-muted/20 mobile:p-6","safe-left safe-right safe-bottom"),children:f?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs mobile:text-sm",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"font-semibold text-foreground",children:"1200"}),i.jsx("div",{className:"text-muted-foreground",children:"Rating"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"font-semibold text-green-600",children:"+50"}),i.jsx("div",{className:"text-muted-foreground",children:"This Week"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs mobile:text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Level Progress"}),i.jsx("span",{className:"font-medium text-foreground",children:"75%"})]}),i.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:i.jsx("div",{className:"bg-primary rounded-full h-2 transition-all duration-300",style:{width:"75%"}})})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-xs mobile:text-sm text-muted-foreground",children:[i.jsx(ow,{className:"w-4 h-4 text-yellow-500"}),i.jsx("span",{children:"3 achievements unlocked"})]})]}):i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Sign up to track your progress!"}),i.jsx(fe,{onClick:m,variant:"primary",size:"sm",className:"w-full",children:"Get Started"})]})})]});return i.jsxs(i.Fragment,{children:[e&&i.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-mobile-overlay lg:hidden",onClick:t}),i.jsx(xe.aside,{className:st("fixed left-0 z-mobile-nav w-72 mobile:w-80 transform border-r bg-background","top-14 mobile:top-16 h-[calc(100vh-3.5rem)] mobile:h-[calc(100vh-4rem)]","transition-transform duration-300 ease-out","lg:relative lg:top-0 lg:h-full lg:translate-x-0 lg:w-64","shadow-mobile-bottom lg:shadow-none"),initial:!1,animate:{x:e?0:"-100%"},transition:{type:"spring",stiffness:300,damping:30,duration:.3},children:p})]})},Aj=({isOpen:e,onClose:t,initialMode:n="login",className:r})=>{const[l,c]=x.useState(n),[d,f]=x.useState({email:"",password:"",username:"",displayName:""}),[m,p]=x.useState({}),[g,v]=x.useState(!1),[b,w]=x.useState(!1),{login:S,register:N,loginWithGoogle:T,loginDemo:A,isLoading:C,error:E,clearError:_}=Br();x.useEffect(()=>{e&&(c(n),f({email:"",password:"",username:"",displayName:""}),p({}),v(!1),_())},[e,n,_]),x.useEffect(()=>{const Q=re=>{re.key==="Escape"&&e&&t()};return e&&(document.addEventListener("keydown",Q),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",Q),document.body.style.overflow="unset"}},[e,t]);const R=()=>{const Q={};return d.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)||(Q.email="Please enter a valid email"):Q.email="Email is required",d.password?d.password.length<8&&(Q.password="Password must be at least 8 characters"):Q.password="Password is required",l==="register"&&(d.username?d.username.length<3&&(Q.username="Username must be at least 3 characters"):Q.username="Username is required",d.displayName?d.displayName.length<2&&(Q.displayName="Display name must be at least 2 characters"):Q.displayName="Display name is required"),p(Q),Object.keys(Q).length===0},O=Q=>re=>{f(ce=>({...ce,[Q]:re.target.value})),m[Q]&&p(ce=>({...ce,[Q]:void 0})),E&&_()},z=async Q=>{if(Q.preventDefault(),!!R()){w(!0);try{l==="login"?await S({email:d.email,password:d.password}):await N({email:d.email,password:d.password,username:d.username,displayName:d.displayName}),t()}catch(re){console.error("Auth error:",re)}finally{w(!1)}}},P=async()=>{try{await T()}catch{p({general:"Google authentication failed. Please try again."})}},q=async()=>{try{A(),t()}catch{p({general:"Demo login failed. Please try again."})}};if(!e)return null;const U=C||b;return i.jsx(Sa,{children:i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2 sm:p-4 bg-black/60 backdrop-blur-sm overflow-y-auto",children:[i.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0",onClick:t}),i.jsxs(xe.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",damping:25,stiffness:300},className:st("relative w-full max-w-md sm:max-w-lg mx-auto my-2 sm:my-8","bg-white rounded-2xl sm:rounded-3xl shadow-2xl overflow-hidden","border border-gray-200 max-h-[95vh] overflow-y-auto",r),onClick:Q=>Q.stopPropagation(),children:[i.jsx("button",{onClick:t,className:"absolute top-6 right-6 z-10 p-2 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-600 hover:text-gray-800 transition-all duration-200",children:i.jsx(Du,{className:"w-5 h-5"})}),i.jsxs("div",{className:"relative bg-gradient-to-br from-blue-600 via-purple-600 to-blue-800 px-8 py-12 text-white",children:[i.jsx("div",{className:"absolute inset-0 bg-black/10"}),i.jsxs("div",{className:"relative text-center",children:[i.jsx(xe.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1},className:"w-20 h-20 mx-auto mb-4 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:i.jsx(js,{className:"w-10 h-10 text-white"})}),i.jsx(xe.h1,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"text-3xl font-bold mb-2",children:l==="login"?"Welcome Back!":"Join Chess Academy"}),i.jsx(xe.p,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-white/80 text-lg",children:l==="login"?"Continue your chess mastery journey":"Start your path to chess excellence"})]})]}),i.jsxs(xe.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"px-8 py-8",children:[(m.general||E)&&i.jsxs(xe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-center space-x-3",children:[i.jsx(_u,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),i.jsx("p",{className:"text-red-700 text-sm",children:m.general||E})]}),i.jsxs("form",{onSubmit:z,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),i.jsxs("div",{className:"relative",children:[i.jsx(C5,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"email",value:d.email,onChange:O("email"),placeholder:"Enter your email",className:st("w-full pl-12 pr-4 py-4 border-2 rounded-xl bg-gray-50 focus:bg-white transition-all duration-200","text-gray-900 placeholder-gray-400",m.email?"border-red-300 focus:border-red-500 focus:ring-red-500/20":"border-gray-200 focus:border-blue-500 focus:ring-blue-500/20","focus:outline-none focus:ring-4"),disabled:U})]}),m.email&&i.jsx("p",{className:"mt-2 text-sm text-red-600",children:m.email})]}),l==="register"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Username"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ju,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",value:d.username,onChange:O("username"),placeholder:"Choose a username",className:st("w-full pl-12 pr-4 py-4 border-2 rounded-xl bg-gray-50 focus:bg-white transition-all duration-200","text-gray-900 placeholder-gray-400",m.username?"border-red-300 focus:border-red-500 focus:ring-red-500/20":"border-gray-200 focus:border-blue-500 focus:ring-blue-500/20","focus:outline-none focus:ring-4"),disabled:U})]}),m.username&&i.jsx("p",{className:"mt-2 text-sm text-red-600",children:m.username})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Display Name"}),i.jsxs("div",{className:"relative",children:[i.jsx(Sm,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",value:d.displayName,onChange:O("displayName"),placeholder:"Your display name",className:st("w-full pl-12 pr-4 py-4 border-2 rounded-xl bg-gray-50 focus:bg-white transition-all duration-200","text-gray-900 placeholder-gray-400",m.displayName?"border-red-300 focus:border-red-500 focus:ring-red-500/20":"border-gray-200 focus:border-blue-500 focus:ring-blue-500/20","focus:outline-none focus:ring-4"),disabled:U})]}),m.displayName&&i.jsx("p",{className:"mt-2 text-sm text-red-600",children:m.displayName})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(cw,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),i.jsx("input",{type:g?"text":"password",value:d.password,onChange:O("password"),placeholder:l==="register"?"Create a strong password":"Enter your password",className:st("w-full pl-12 pr-12 py-4 border-2 rounded-xl bg-gray-50 focus:bg-white transition-all duration-200","text-gray-900 placeholder-gray-400",m.password?"border-red-300 focus:border-red-500 focus:ring-red-500/20":"border-gray-200 focus:border-blue-500 focus:ring-blue-500/20","focus:outline-none focus:ring-4"),disabled:U}),i.jsx("button",{type:"button",onClick:()=>v(!g),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:g?i.jsx(f5,{className:"w-5 h-5"}):i.jsx(m5,{className:"w-5 h-5"})})]}),m.password&&i.jsx("p",{className:"mt-2 text-sm text-red-600",children:m.password})]}),i.jsx(fe,{type:"submit",className:"w-full py-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold text-lg rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl",disabled:U,children:U?i.jsx(xe.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1},className:"w-6 h-6 border-2 border-white/30 border-t-white rounded-full"}):l==="login"?"Sign In":"Create Account"})]}),i.jsxs("div",{className:"flex items-center my-8",children:[i.jsx("div",{className:"flex-1 border-t border-gray-200"}),i.jsx("span",{className:"px-4 text-sm text-gray-500 bg-white",children:"Or continue with"}),i.jsx("div",{className:"flex-1 border-t border-gray-200"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs(fe,{type:"button",variant:"outline",onClick:P,disabled:U,className:"py-3 border-2 border-gray-200 hover:border-gray-300 rounded-xl font-medium transition-all duration-200 hover:bg-gray-50",children:[i.jsx(n5,{className:"w-5 h-5 mr-2"}),"Google"]}),i.jsxs(fe,{type:"button",variant:"outline",onClick:q,disabled:U,className:"py-3 border-2 border-gray-200 hover:border-gray-300 rounded-xl font-medium transition-all duration-200 hover:bg-gray-50",children:[i.jsx(Sm,{className:"w-5 h-5 mr-2"}),"Try Demo"]})]}),i.jsxs("div",{className:"text-center mt-8 pt-6 border-t border-gray-100",children:[i.jsx("span",{className:"text-gray-600",children:l==="login"?"Don't have an account?":"Already have an account? "}),i.jsx("button",{type:"button",onClick:()=>c(l==="login"?"register":"login"),className:"text-blue-600 hover:text-blue-700 font-semibold transition-colors duration-200",disabled:U,children:l==="login"?"Sign up":"Sign in"})]})]})]})]})})},ma=({children:e})=>{const[t,n]=x.useState(!1),[r,l]=x.useState(!1),[c,d]=x.useState(!1),{user:f,isAuthenticated:m,logout:p}=Br(),{theme:g,toggleTheme:v}=rw(),b=()=>{n(!t)},w=()=>{n(!1)},S=()=>{l(!0)},N=async()=>{await p()},T=()=>{d(!c)};return x.useEffect(()=>{const A=()=>{window.innerWidth>=768&&n(!1)};return window.addEventListener("resize",A),A(),()=>window.removeEventListener("resize",A)},[]),i.jsxs("div",{className:"flex h-screen",style:{backgroundColor:"var(--color-bg-base)"},children:[i.jsx("div",{className:`hidden md:flex md:flex-col transition-all duration-300 ${c?"md:w-16":"md:w-64"}`,style:{backgroundColor:"var(--color-surface-elevated)",borderRight:"1px solid var(--color-border-default)"},children:i.jsx(i1,{isOpen:!0,isCollapsed:c,onToggleCollapse:T})}),t&&i.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 md:hidden",onClick:w}),i.jsx("div",{className:"relative flex w-64 h-full",style:{backgroundColor:"var(--color-surface-elevated)",borderRight:"1px solid var(--color-border-default)"},children:i.jsx(i1,{isOpen:!0,onClose:w})})]}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 border-b",style:{backgroundColor:"var(--color-surface-elevated)",borderColor:"var(--color-border-default)"},children:[i.jsx(fe,{variant:"ghost",size:"sm",onClick:b,style:{color:"var(--color-text-secondary)"},children:t?i.jsx(Du,{className:"h-5 w-5"}):i.jsx(E5,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold",style:{color:"var(--color-text-primary)"},children:"Chess Academy"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(fe,{variant:"ghost",size:"sm",onClick:v,style:{color:"var(--color-text-secondary)"},title:`Switch to ${g==="dark"?"light":"dark"} mode`,children:g==="dark"?i.jsx(kx,{className:"h-4 w-4"}):i.jsx(Nx,{className:"h-4 w-4"})}),m?i.jsx(fe,{variant:"ghost",size:"sm",onClick:N,style:{color:"var(--color-text-secondary)"},children:i.jsx(Ju,{className:"h-4 w-4"})}):i.jsx(fe,{variant:"ghost",size:"sm",onClick:S,style:{color:"var(--color-text-secondary)"},children:i.jsx(jx,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"hidden md:flex items-center justify-between p-4 border-b",style:{backgroundColor:"var(--color-surface-elevated)",borderColor:"var(--color-border-default)"},children:[i.jsx("div",{})," ",i.jsx("h1",{className:"text-xl font-bold",style:{color:"var(--color-text-primary)"},children:"Chess Academy"}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(fe,{variant:"ghost",size:"sm",onClick:v,className:"p-2",style:{color:"var(--color-text-secondary)"},title:`Switch to ${g==="dark"?"light":"dark"} mode`,children:g==="dark"?i.jsx(kx,{className:"h-4 w-4"}):i.jsx(Nx,{className:"h-4 w-4"})}),m&&f?i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("span",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:["Welcome, ",f.displayName]}),i.jsx(fe,{variant:"outline",size:"sm",onClick:N,style:{color:"var(--color-text-secondary)"},children:"Logout"})]}):i.jsxs(fe,{variant:"primary",size:"sm",onClick:S,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[i.jsx(jx,{className:"h-4 w-4 mr-2"}),"Login / Sign Up"]})]})]}),i.jsx("main",{className:"flex-1 overflow-y-auto",style:{backgroundColor:"var(--color-bg-base)"},children:e})]}),i.jsx(Aj,{isOpen:r,onClose:()=>l(!1)})]})},Re=x.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:st("rounded-lg border border-border-subtle bg-dark-elevated text-light-text shadow-card transition-all duration-200 hover:shadow-dropdown hover:border-border-default",e),...t}));Re.displayName="Card";const Ht=x.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:st("flex flex-col space-y-1.5 p-6",e),...t}));Ht.displayName="CardHeader";const Kt=x.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:st("text-xl font-semibold leading-tight tracking-tighter text-light-text font-primary",e),...t}));Kt.displayName="CardTitle";const In=x.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:st("text-sm text-muted-text font-secondary leading-normal",e),...t}));In.displayName="CardDescription";const Et=x.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:st("p-6 pt-0",e),...t}));Et.displayName="CardContent";const Ej=x.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:st("flex items-center p-6 pt-0",e),...t}));Ej.displayName="CardFooter";function o6(e,t=[]){let n=[];function r(c,d){const f=x.createContext(d),m=n.length;n=[...n,d];const p=v=>{const{scope:b,children:w,...S}=v,N=b?.[e]?.[m]||f,T=x.useMemo(()=>S,Object.values(S));return i.jsx(N.Provider,{value:T,children:w})};p.displayName=c+"Provider";function g(v,b){const w=b?.[e]?.[m]||f,S=x.useContext(w);if(S)return S;if(d!==void 0)return d;throw new Error(`\`${v}\` must be used within \`${c}\``)}return[p,g]}const l=()=>{const c=n.map(d=>x.createContext(d));return function(f){const m=f?.[e]||c;return x.useMemo(()=>({[`__scope${e}`]:{...f,[e]:m}}),[f,m])}};return l.scopeName=e,[r,l6(l,...t)]}function l6(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(l=>({useScope:l(),scopeName:l.scopeName}));return function(c){const d=r.reduce((f,{useScope:m,scopeName:p})=>{const v=m(c)[`__scope${p}`];return{...f,...v}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return n.scopeName=t.scopeName,n}var c6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],og=c6.reduce((e,t)=>{const n=G2(`Primitive.${t}`),r=x.forwardRef((l,c)=>{const{asChild:d,...f}=l,m=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(m,{...f,ref:c})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),lg="Progress",cg=100,[u6,rD]=o6(lg),[d6,f6]=u6(lg),Mj=x.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:l,getValueLabel:c=h6,...d}=e;(l||l===0)&&!o1(l)&&console.error(m6(`${l}`,"Progress"));const f=o1(l)?l:cg;r!==null&&!l1(r,f)&&console.error(p6(`${r}`,"Progress"));const m=l1(r,f)?r:null,p=Gu(m)?c(m,f):void 0;return i.jsx(d6,{scope:n,value:m,max:f,children:i.jsx(og.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":Gu(m)?m:void 0,"aria-valuetext":p,role:"progressbar","data-state":Lj(m,f),"data-value":m??void 0,"data-max":f,...d,ref:t})})});Mj.displayName=lg;var Rj="ProgressIndicator",Pj=x.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,l=f6(Rj,n);return i.jsx(og.div,{"data-state":Lj(l.value,l.max),"data-value":l.value??void 0,"data-max":l.max,...r,ref:t})});Pj.displayName=Rj;function h6(e,t){return`${Math.round(e/t*100)}%`}function Lj(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Gu(e){return typeof e=="number"}function o1(e){return Gu(e)&&!isNaN(e)&&e>0}function l1(e,t){return Gu(e)&&!isNaN(e)&&e<=t&&e>=0}function m6(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${cg}\`.`}function p6(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${cg} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var _j=Mj,g6=Pj;const bn=x.forwardRef(({className:e,value:t,...n},r)=>i.jsx(_j,{ref:r,className:st("relative h-2 w-full overflow-hidden rounded-full bg-surface shadow-inner",e),...n,children:i.jsx(g6,{className:"h-full w-full flex-1 bg-gradient-to-r from-accent to-accent-600 transition-all duration-500 ease-out shadow-subtle",style:{transform:`translateX(-${100-(t||0)}%)`}})}));bn.displayName=_j.displayName;const y6=()=>{const[e,t]=x.useState(null),[n,r]=x.useState(!0),[l,c]=x.useState(null),[d,f]=x.useState("puzzles"),m=ja();x.useEffect(()=>{p()},[]);const p=async()=>{try{r(!0);const b={id:"daily-plan-1",date:new Date().toISOString().split("T")[0],tasks:{puzzles:{target:3,completed:1,remaining:2},lessons:{target:1,completed:0,remaining:1},games:{target:1,completed:0,remaining:1}},progress:{completionPercentage:20,xpEarned:15,estimatedRatingGain:5,isCompleted:!1},streak:{current:3,longest:7,isActive:!0},heroMessage:"Great start! You've solved 1 puzzle today. Keep the momentum going! 🚀"};await new Promise(w=>setTimeout(w,800)),t(b),c(null)}catch(b){console.error("Error fetching daily plan:",b),c(b instanceof Error?b.message:"Failed to load daily plan")}finally{r(!1)}};if(n)return i.jsxs("div",{className:"flex items-center justify-center p-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent"}),i.jsx("span",{className:"ml-3",style:{color:"var(--color-text-secondary)"},children:"Loading your daily plan..."})]});if(l)return i.jsxs("div",{className:"border rounded-lg p-6 text-center",style:{backgroundColor:"var(--color-danger-subtle)",borderColor:"var(--color-danger)",color:"var(--color-danger)"},children:[i.jsx("h3",{className:"font-semibold mb-2",style:{color:"var(--color-danger)"},children:"Unable to load daily plan"}),i.jsx("p",{className:"text-sm mb-4",style:{color:"var(--color-text-secondary)"},children:l}),i.jsx("button",{onClick:p,className:"px-4 py-2 rounded-md transition-colors",style:{backgroundColor:"var(--color-danger)",color:"white"},children:"Try Again"})]});if(!e)return i.jsx("div",{className:"text-center p-8",children:i.jsx("p",{style:{color:"var(--color-text-secondary)"},children:"No daily plan data available"})});const g=[{id:"puzzles",label:"Puzzles",icon:Or,data:e.tasks.puzzles,color:"var(--color-success)",action:()=>m("/puzzles")},{id:"lessons",label:"Lessons",icon:bp,data:e.tasks.lessons,color:"var(--color-accent-primary)",action:()=>m("/lessons")},{id:"games",label:"Games",icon:jp,data:e.tasks.games,color:"var(--color-warning)",action:()=>m("/play")}],v=g.find(b=>b.id===d);return i.jsxs("div",{className:"rounded-xl shadow-lg overflow-hidden max-w-2xl mx-auto",style:{backgroundColor:"var(--color-surface-elevated)"},children:[i.jsx("div",{className:"p-6 text-white relative overflow-hidden",style:{background:"linear-gradient(135deg, var(--color-accent-primary) 0%, var(--color-accent-primary-hover) 100%)"},children:i.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[i.jsx(er,{className:"h-5 w-5"}),"Daily Chess Plan"]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(bu,{className:"h-4 w-4"}),i.jsxs("span",{className:"text-sm font-medium",children:[e.streak.current," day streak"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Hs,{className:"h-4 w-4"}),i.jsxs("span",{className:"text-sm font-medium",children:[e.progress.xpEarned," XP"]})]})]})]}),i.jsx("p",{className:"text-blue-100 text-sm leading-relaxed mb-4",children:e.heroMessage}),i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[i.jsx("span",{children:"Overall Progress"}),i.jsxs("span",{className:"font-bold",children:[e.progress.completionPercentage,"%"]})]}),i.jsx("div",{className:"w-full bg-white/20 rounded-full h-2",children:i.jsx(xe.div,{className:"bg-white h-2 rounded-full",initial:{width:0},animate:{width:`${e.progress.completionPercentage}%`},transition:{duration:.8,ease:"easeOut"}})})]})]})}),i.jsx("div",{className:"flex border-b",style:{borderColor:"var(--color-border-default)"},children:g.map((b,w)=>{const S=b.icon,N=b.id===d,T=b.data.completed>=b.data.target;return i.jsx("button",{onClick:()=>f(b.id),className:"flex-1 p-4 text-center transition-all duration-200 relative",style:{backgroundColor:N?"var(--color-surface)":"transparent",borderBottom:N?`3px solid ${b.color}`:"3px solid transparent"},children:i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(S,{className:"h-4 w-4",style:{color:N?b.color:"var(--color-text-secondary)"}}),i.jsx("span",{className:"text-sm font-medium",style:{color:N?"var(--color-text-primary)":"var(--color-text-secondary)"},children:b.label})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsxs("span",{className:"text-xs font-bold",style:{color:T?"var(--color-success)":b.color},children:[b.data.completed,"/",b.data.target]}),T&&i.jsx("span",{className:"text-xs",style:{color:"var(--color-success)"},children:"✓"})]})]})},b.id)})}),i.jsx("div",{className:"p-6",children:i.jsxs(xe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[i.jsx("div",{className:"p-4 rounded-full",style:{backgroundColor:"var(--color-surface)"},children:i.jsx(v.icon,{className:"h-8 w-8",style:{color:v.color}})}),i.jsxs("div",{className:"text-left",children:[i.jsx("h3",{className:"text-lg font-bold",style:{color:"var(--color-text-primary)"},children:v.label}),i.jsx("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:v.data.completed>=v.data.target?"Complete! Great job!":`${v.data.remaining} remaining`})]})]}),i.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-4",children:[i.jsxs("svg",{className:"w-24 h-24 transform -rotate-90",viewBox:"0 0 100 100",children:[i.jsx("circle",{cx:"50",cy:"50",r:"40",strokeWidth:"8",fill:"none",style:{stroke:"var(--color-border-default)"}}),i.jsx(xe.circle,{cx:"50",cy:"50",r:"40",stroke:v.color,strokeWidth:"8",fill:"none",strokeLinecap:"round",strokeDasharray:`${v.data.completed/v.data.target*251.2} 251.2`,initial:{strokeDasharray:"0 251.2"},animate:{strokeDasharray:`${v.data.completed/v.data.target*251.2} 251.2`},transition:{duration:.5,ease:"easeInOut"}})]}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsxs("span",{className:"text-lg font-bold",style:{color:"var(--color-text-primary)"},children:[v.data.completed,"/",v.data.target]})})]})]}),v.data.completed<v.data.target?i.jsxs("button",{onClick:v.action,className:"w-full py-3 px-4 rounded-lg font-medium transition-all duration-200 transform hover:scale-105",style:{backgroundColor:v.color,color:"white"},children:["Start ",v.label.slice(0,-1)," (",v.data.remaining," left)"]}):i.jsxs("div",{className:"w-full py-3 px-4 rounded-lg text-center font-medium",style:{backgroundColor:"var(--color-success-subtle)",color:"var(--color-success)"},children:["✅ ",v.label," Complete!"]})]},d)}),e.progress.isCompleted&&i.jsxs(xe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:"mx-6 mb-6 p-4 rounded-lg text-center",style:{backgroundColor:"var(--color-success-subtle)",color:"var(--color-success)"},children:[i.jsx("div",{className:"text-2xl mb-2",children:"🎉"}),i.jsx("div",{className:"font-semibold",children:"Daily Plan Complete!"}),i.jsxs("div",{className:"text-sm mt-1",style:{color:"var(--color-text-secondary)"},children:["You've earned ",e.progress.xpEarned," XP and improved your rating!"]})]})]})},v6=({title:e,description:t,icon:n,to:r,cta:l,iconColor:c,bgGradient:d})=>i.jsxs(Re,{className:"group h-full cursor-pointer transform hover:scale-[1.03] transition-all duration-300 hover:shadow-modal overflow-hidden relative",style:{borderColor:"var(--color-border-subtle)",backgroundColor:"var(--color-surface-elevated)"},children:[i.jsx("div",{className:`absolute inset-0 opacity-0 group-hover:opacity-10 transition-opacity duration-300 ${d}`}),i.jsx(Ht,{className:"relative z-10 pb-4",children:i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:`p-3 rounded-lg ${c} shadow-card group-hover:shadow-dropdown transition-all duration-300 group-hover:scale-110`,children:n}),i.jsxs("div",{className:"flex-1",children:[i.jsx(Kt,{className:"text-lg font-semibold transition-colors duration-300",style:{color:"var(--color-text-primary)"},onMouseEnter:f=>f.currentTarget.style.color="var(--color-accent-primary)",onMouseLeave:f=>f.currentTarget.style.color="var(--color-text-primary)",children:e}),i.jsx(In,{className:"text-sm leading-relaxed",children:t})]})]})}),i.jsx(Ej,{className:"relative z-10 pt-0",children:i.jsx(fe,{asChild:!0,className:"w-full min-h-[44px] px-4 py-3 font-semibold transition-all duration-300",style:{backgroundColor:l.includes("Try Free")||l.includes("Play Now")?"var(--color-cta-primary)":"transparent",color:l.includes("Try Free")||l.includes("Play Now")?"#ffffff":"var(--color-text-secondary)",border:l.includes("Try Free")||l.includes("Play Now")?"none":"1.5px solid var(--color-border-default)",borderRadius:"12px"},children:i.jsx(Gn,{to:r,className:"font-medium tracking-wide",children:l})})})]}),Zh=({title:e,value:t,subtitle:n,progress:r,color:l,icon:c})=>i.jsx(Re,{className:"group hover:shadow-dropdown transition-all duration-300",style:{backgroundColor:"var(--color-surface-elevated)",borderColor:"var(--color-border-default)"},children:i.jsxs(Et,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[c&&i.jsx("div",{className:"p-2 rounded-md transition-colors duration-300",style:{backgroundColor:"var(--color-accent-primary-subtle)",color:"var(--color-accent-primary)"},children:c}),i.jsx("h3",{className:"font-semibold font-primary text-base",style:{color:"var(--color-text-primary)"},children:e})]}),r!==void 0&&i.jsxs(Nt,{variant:"subtle",size:"sm",children:[r,"%"]})]}),i.jsx("div",{className:"text-3xl font-bold mb-2 font-primary tracking-tight",style:{color:l==="accent-primary"?"var(--color-accent-primary)":l==="success"?"var(--color-success)":"var(--color-accent-primary)"},children:t}),i.jsx("p",{className:"text-sm leading-relaxed mb-4",style:{color:"var(--color-text-secondary)"},children:n}),r!==void 0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(bn,{value:r,className:"h-2"}),i.jsxs("div",{className:"flex justify-between text-xs",style:{color:"var(--color-text-muted)"},children:[i.jsx("span",{children:"Progress"}),i.jsxs("span",{className:"font-medium",style:{color:"var(--color-accent-primary)"},children:[r,"%"]})]})]})]})}),x6=()=>{const e=[{title:"Learn",description:"Master chess fundamentals with guided lessons. Free trial - no signup required!",icon:i.jsx(Ja,{className:"h-6 w-6 text-white"}),to:"/lessons",cta:"Try Free Lessons",iconColor:"bg-gradient-to-br from-blue-500 to-blue-600",bgGradient:"bg-gradient-to-br from-blue-500/20 to-blue-600/20"},{title:"Puzzles",description:"Sharpen your tactical skills with puzzles. Instant access - start solving now!",icon:i.jsx(Or,{className:"h-6 w-6 text-white"}),to:"/puzzles",cta:"Try Free Puzzles",iconColor:"bg-gradient-to-br from-success to-green-600",bgGradient:"bg-gradient-to-br from-success/20 to-green-600/20"},{title:"vs Computer",description:"Practice against AI opponents. Play instantly - no account needed!",icon:i.jsx(uw,{className:"h-6 w-6 text-white"}),to:"/play",cta:"Play Now",iconColor:"bg-gradient-to-br from-accent to-accent-600",bgGradient:"bg-gradient-to-br from-accent/20 to-accent-600/20"},{title:"Rate My Strength",description:"Discover your chess rating level. Free assessment available!",icon:i.jsx(er,{className:"h-6 w-6 text-white"}),to:"/strength-assessment",cta:"Test Skills Free",iconColor:"bg-gradient-to-br from-danger to-red-600",bgGradient:"bg-gradient-to-br from-danger/20 to-red-600/20"},{title:"Leaderboard",description:"Compare with top players worldwide. View rankings and stats!",icon:i.jsx(Hs,{className:"h-6 w-6 text-white"}),to:"/leaderboard",cta:"View Rankings",iconColor:"bg-gradient-to-br from-warning to-orange-500",bgGradient:"bg-gradient-to-br from-warning/20 to-orange-500/20"}];return i.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--color-bg-base)"},children:[i.jsxs("div",{className:"relative overflow-hidden border-b",style:{backgroundColor:"var(--color-surface-elevated)",borderColor:"var(--color-border-subtle)"},children:[i.jsxs("div",{className:"absolute inset-0 opacity-5",children:[i.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(135deg, var(--color-accent-primary-subtle) 0%, transparent 100%)"}}),i.jsx("div",{className:"absolute top-0 right-0 w-1/3 h-full",style:{background:"linear-gradient(270deg, var(--color-accent-primary-subtle) 0%, transparent 100%)"}})]}),i.jsxs("div",{className:"relative container mx-auto px-6 py-6 md:py-7 text-center max-w-4xl",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 mb-6 group hover:scale-110 transition-transform duration-300",style:{background:"linear-gradient(135deg, var(--color-accent-primary) 0%, var(--color-accent-primary-hover) 100%)",boxShadow:"var(--elevation-card)",borderRadius:"12px"},children:i.jsx(js,{className:"w-10 h-10 text-white","aria-label":"Chess Academy"})}),i.jsxs("h1",{className:"text-5xl md:text-6xl font-bold font-primary mb-6 tracking-tighter leading-tight",style:{color:"var(--color-text-primary)"},children:["Master Chess with",i.jsx("span",{className:"block bg-clip-text text-transparent",style:{background:"linear-gradient(90deg, var(--color-accent-primary) 0%, var(--color-accent-primary-hover) 100%)",WebkitBackgroundClip:"text"},children:"Premium Training"})]}),i.jsx("p",{className:"text-xl mb-8 leading-relaxed font-secondary max-w-2xl mx-auto",style:{color:"var(--color-text-secondary)"},children:"Join thousands of players improving their chess skills with our AI-powered lessons, tactical puzzles, and personalized learning paths."}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12",children:[i.jsx(fe,{size:"xl",asChild:!0,className:"min-w-[200px] min-h-[44px] px-5 py-3 font-semibold transition-all duration-200",style:{backgroundColor:"var(--color-cta-primary)",color:"#ffffff",border:"none",borderRadius:"12px"},children:i.jsx(Gn,{to:"/lessons",children:"Start Learning"})}),i.jsx(fe,{size:"xl",variant:"outline",asChild:!0,className:"min-w-[200px] min-h-[44px] px-5 py-3 font-semibold transition-all duration-200 border-2",style:{borderColor:"var(--color-border-default)",color:"var(--color-text-secondary)",borderRadius:"12px"},children:i.jsx(Gn,{to:"/play",children:"Play vs Computer"})})]}),i.jsx("div",{className:"text-center mb-8 p-6",style:{background:"linear-gradient(90deg, var(--color-accent-primary-subtle) 0%, var(--color-accent-primary-subtle) 100%)",border:"1px solid var(--color-accent-primary)",opacity:.7,borderRadius:"12px"},children:i.jsxs("div",{className:"max-w-2xl mx-auto",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-2 flex items-center justify-center gap-2",style:{color:"var(--color-text-primary)"},children:[i.jsx(jp,{className:"w-5 h-5",style:{color:"var(--color-accent-primary)"},"aria-label":"Gaming"}),i.jsx("strong",{children:"Full Access - No Signup Required!"})]}),i.jsx("p",{className:"mb-4",style:{color:"var(--color-text-secondary)"},children:"Try everything for free: lessons, puzzles, play vs computer, strength assessment, and leaderboards. No barriers, no payments - just pure chess learning."}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center items-center",children:[i.jsxs("div",{className:"text-sm font-medium flex items-center gap-2",style:{color:"var(--color-text-secondary)"},children:[i.jsx(q5,{className:"w-4 h-4",style:{color:"var(--color-accent-primary)"},"aria-label":"Save progress"}),"Want to save progress?"]}),i.jsx("button",{onClick:()=>{document.querySelector("[data-auth-modal]")?.click()},className:"font-medium underline decoration-2 underline-offset-2",style:{color:"var(--color-accent-primary)"},children:"Create free account after trying →"})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 max-w-3xl mx-auto",children:[i.jsxs("div",{className:"text-center p-4 backdrop-blur-sm",style:{backgroundColor:"var(--color-surface-elevated)",borderColor:"var(--color-border-subtle)",border:"1px solid",borderRadius:"12px"},children:[i.jsx("div",{className:"flex justify-center mb-2",children:i.jsx(er,{className:"w-8 h-8",style:{color:"var(--color-accent-primary)"},"aria-label":"Personalized learning"})}),i.jsx("h3",{className:"font-semibold mb-1",style:{color:"var(--color-text-primary)"},children:"Personalized"}),i.jsx("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"AI adapts to your skill level"})]}),i.jsxs("div",{className:"text-center p-4 backdrop-blur-sm",style:{backgroundColor:"var(--color-surface-elevated)",borderColor:"var(--color-border-subtle)",border:"1px solid",borderRadius:"12px"},children:[i.jsx("div",{className:"flex justify-center mb-2",children:i.jsx(Pi,{className:"w-8 h-8",style:{color:"var(--color-accent-primary)"},"aria-label":"Interactive practice"})}),i.jsx("h3",{className:"font-semibold mb-1",style:{color:"var(--color-text-primary)"},children:"Interactive"}),i.jsx("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Practice with real-time feedback"})]}),i.jsxs("div",{className:"text-center p-4 backdrop-blur-sm",style:{backgroundColor:"var(--color-surface-elevated)",borderColor:"var(--color-border-subtle)",border:"1px solid",borderRadius:"12px"},children:[i.jsx("div",{className:"flex justify-center mb-2",children:i.jsx(Ri,{className:"w-8 h-8",style:{color:"var(--color-accent-primary)"},"aria-label":"Progressive improvement"})}),i.jsx("h3",{className:"font-semibold mb-1",style:{color:"var(--color-text-primary)"},children:"Progressive"}),i.jsx("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Track your improvement"})]})]})]})]}),i.jsx("div",{className:"sticky top-0 z-40 bg-opacity-95 backdrop-blur-sm border-b",style:{backgroundColor:"var(--color-surface-elevated)",borderColor:"var(--color-border-subtle)"},children:i.jsx("div",{className:"container mx-auto px-6 py-3",children:i.jsxs("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(js,{className:"w-5 h-5",style:{color:"var(--color-accent-primary)"}}),i.jsx("span",{className:"text-sm font-medium",style:{color:"var(--color-text-primary)"},children:"Ready to start learning?"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(fe,{size:"sm",asChild:!0,className:"min-h-[36px]",style:{backgroundColor:"var(--color-cta-primary)",color:"#ffffff",borderRadius:"8px"},children:i.jsx(Gn,{to:"/lessons",children:"Start Now"})}),i.jsx(fe,{size:"sm",variant:"outline",asChild:!0,className:"min-h-[36px]",style:{borderColor:"var(--color-border-default)",color:"var(--color-text-secondary)",borderRadius:"8px"},children:i.jsx(Gn,{to:"/play",children:"Play"})})]})]})})}),i.jsxs("div",{className:"container mx-auto px-6 py-16 max-w-7xl",children:[i.jsx("div",{className:"mb-12 flex justify-center",children:i.jsx("div",{className:"w-full max-w-lg",children:i.jsxs("div",{className:"p-6",style:{background:"linear-gradient(135deg, var(--color-surface-elevated) 0%, var(--color-surface) 100%)",border:"1px solid var(--color-border-subtle)",boxShadow:"var(--elevation-card)",borderRadius:"12px"},children:[i.jsx("h2",{className:"text-xl font-semibold font-primary mb-4 text-center",style:{color:"var(--color-text-primary)"},children:"Today's Plan"}),i.jsx(y6,{})]})})}),i.jsxs("div",{className:"mb-16",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h2",{className:"text-3xl font-bold font-primary mb-3 tracking-tight",style:{color:"var(--color-text-primary)"},children:"Choose Your Path"}),i.jsx("p",{className:"text-lg font-secondary",style:{color:"var(--color-text-secondary)"},children:"Select an area to focus on and start your chess improvement journey"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6",children:e.map(t=>i.jsx(v6,{title:t.title,description:t.description,icon:t.icon,to:t.to,cta:t.cta,iconColor:t.iconColor,bgGradient:t.bgGradient},t.title))})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h2",{className:"text-3xl font-bold font-primary mb-3 tracking-tight",style:{color:"var(--color-text-primary)"},children:"Your Progress"}),i.jsx("p",{className:"text-lg font-secondary",style:{color:"var(--color-text-secondary)"},children:"Track your chess development across different areas"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx(Zh,{title:"Lessons Completed",value:0,subtitle:"Begin your learning journey",progress:0,color:"accent-primary",icon:i.jsx(Ja,{className:"h-4 w-4"})}),i.jsx(Zh,{title:"Puzzles Solved",value:0,subtitle:"Sharpen your tactics",progress:0,color:"success",icon:i.jsx(Or,{className:"h-4 w-4"})}),i.jsx(Zh,{title:"Current Rating",value:1200,subtitle:"Your estimated skill level",color:"accent-primary",icon:i.jsx(er,{className:"h-4 w-4"})})]})]})]})]})},b6=()=>i.jsx(x6,{}),ud=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Yi(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function ug(e){return"nodeType"in e}function Os(e){var t,n;return e?Yi(e)?e:ug(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function dg(e){const{Document:t}=Os(e);return e instanceof t}function Gl(e){return Yi(e)?!1:e instanceof Os(e).HTMLElement}function Dj(e){return e instanceof Os(e).SVGElement}function Xi(e){return e?Yi(e)?e.document:ug(e)?dg(e)?e:Gl(e)||Dj(e)?e.ownerDocument:document:document:document}const wa=ud?x.useLayoutEffect:x.useEffect;function dd(e){const t=x.useRef(e);return wa(()=>{t.current=e}),x.useCallback(function(){for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t.current==null?void 0:t.current(...r)},[])}function w6(){const e=x.useRef(null),t=x.useCallback((r,l)=>{e.current=setInterval(r,l)},[]),n=x.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Cl(e,t){t===void 0&&(t=[e]);const n=x.useRef(e);return wa(()=>{n.current!==e&&(n.current=e)},t),n}function Hl(e,t){const n=x.useRef();return x.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Hu(e){const t=dd(e),n=x.useRef(null),r=x.useCallback(l=>{l!==n.current&&t?.(l,n.current),n.current=l},[]);return[n,r]}function Ku(e){const t=x.useRef();return x.useEffect(()=>{t.current=e},[e]),t.current}let Jh={};function fd(e,t){return x.useMemo(()=>{if(t)return t;const n=Jh[e]==null?0:Jh[e]+1;return Jh[e]=n,e+"-"+n},[e,t])}function Oj(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),l=1;l<n;l++)r[l-1]=arguments[l];return r.reduce((c,d)=>{const f=Object.entries(d);for(const[m,p]of f){const g=c[m];g!=null&&(c[m]=g+e*p)}return c},{...t})}}const _i=Oj(1),Fu=Oj(-1);function j6(e){return"clientX"in e&&"clientY"in e}function fg(e){if(!e)return!1;const{KeyboardEvent:t}=Os(e.target);return t&&e instanceof t}function S6(e){if(!e)return!1;const{TouchEvent:t}=Os(e.target);return t&&e instanceof t}function Tl(e){if(S6(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return j6(e)?{x:e.clientX,y:e.clientY}:null}const Al=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Al.Translate.toString(e),Al.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),c1="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function N6(e){return e.matches(c1)?e:e.querySelector(c1)}const k6={display:"none"};function C6(e){let{id:t,value:n}=e;return jt.createElement("div",{id:t,style:k6},n)}function T6(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const l={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return jt.createElement("div",{id:t,style:l,role:"status","aria-live":r,"aria-atomic":!0},n)}function A6(){const[e,t]=x.useState("");return{announce:x.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const zj=x.createContext(null);function E6(e){const t=x.useContext(zj);x.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function M6(){const[e]=x.useState(()=>new Set),t=x.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[x.useCallback(r=>{let{type:l,event:c}=r;e.forEach(d=>{var f;return(f=d[l])==null?void 0:f.call(d,c)})},[e]),t]}const R6={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},P6={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function L6(e){let{announcements:t=P6,container:n,hiddenTextDescribedById:r,screenReaderInstructions:l=R6}=e;const{announce:c,announcement:d}=A6(),f=fd("DndLiveRegion"),[m,p]=x.useState(!1);if(x.useEffect(()=>{p(!0)},[]),E6(x.useMemo(()=>({onDragStart(v){let{active:b}=v;c(t.onDragStart({active:b}))},onDragMove(v){let{active:b,over:w}=v;t.onDragMove&&c(t.onDragMove({active:b,over:w}))},onDragOver(v){let{active:b,over:w}=v;c(t.onDragOver({active:b,over:w}))},onDragEnd(v){let{active:b,over:w}=v;c(t.onDragEnd({active:b,over:w}))},onDragCancel(v){let{active:b,over:w}=v;c(t.onDragCancel({active:b,over:w}))}}),[c,t])),!m)return null;const g=jt.createElement(jt.Fragment,null,jt.createElement(C6,{id:r,value:l.draggable}),jt.createElement(T6,{id:f,announcement:d}));return n?sl.createPortal(g,n):g}var rs;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(rs||(rs={}));function Iu(){}function fu(e,t){return x.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function _6(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return x.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const An=Object.freeze({x:0,y:0});function D6(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function O6(e,t){const n=Tl(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function z6(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function B6(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function q6(e){let{left:t,top:n,height:r,width:l}=e;return[{x:t,y:n},{x:t+l,y:n},{x:t,y:n+r},{x:t+l,y:n+r}]}function U6(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function V6(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),l=Math.min(t.left+t.width,e.left+e.width),c=Math.min(t.top+t.height,e.top+e.height),d=l-r,f=c-n;if(r<l&&n<c){const m=t.width*t.height,p=e.width*e.height,g=d*f,v=g/(m+p-g);return Number(v.toFixed(4))}return 0}const Bj=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const l=[];for(const c of r){const{id:d}=c,f=n.get(d);if(f){const m=V6(f,t);m>0&&l.push({id:d,data:{droppableContainer:c,value:m}})}}return l.sort(B6)};function $6(e,t){const{top:n,left:r,bottom:l,right:c}=t;return n<=e.y&&e.y<=l&&r<=e.x&&e.x<=c}const G6=e=>{let{droppableContainers:t,droppableRects:n,pointerCoordinates:r}=e;if(!r)return[];const l=[];for(const c of t){const{id:d}=c,f=n.get(d);if(f&&$6(r,f)){const p=q6(f).reduce((v,b)=>v+D6(r,b),0),g=Number((p/4).toFixed(4));l.push({id:d,data:{droppableContainer:c,value:g}})}}return l.sort(z6)};function H6(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function qj(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:An}function K6(e){return function(n){for(var r=arguments.length,l=new Array(r>1?r-1:0),c=1;c<r;c++)l[c-1]=arguments[c];return l.reduce((d,f)=>({...d,top:d.top+e*f.y,bottom:d.bottom+e*f.y,left:d.left+e*f.x,right:d.right+e*f.x}),{...n})}}const F6=K6(1);function Uj(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function I6(e,t,n){const r=Uj(t);if(!r)return e;const{scaleX:l,scaleY:c,x:d,y:f}=r,m=e.left-d-(1-l)*parseFloat(n),p=e.top-f-(1-c)*parseFloat(n.slice(n.indexOf(" ")+1)),g=l?e.width/l:e.width,v=c?e.height/c:e.height;return{width:g,height:v,top:p,right:m+g,bottom:p+v,left:m}}const Q6={ignoreTransform:!1};function Kl(e,t){t===void 0&&(t=Q6);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:p,transformOrigin:g}=Os(e).getComputedStyle(e);p&&(n=I6(n,p,g))}const{top:r,left:l,width:c,height:d,bottom:f,right:m}=n;return{top:r,left:l,width:c,height:d,bottom:f,right:m}}function u1(e){return Kl(e,{ignoreTransform:!0})}function Y6(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function X6(e,t){return t===void 0&&(t=Os(e).getComputedStyle(e)),t.position==="fixed"}function W6(e,t){t===void 0&&(t=Os(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(l=>{const c=t[l];return typeof c=="string"?n.test(c):!1})}function hg(e,t){const n=[];function r(l){if(t!=null&&n.length>=t||!l)return n;if(dg(l)&&l.scrollingElement!=null&&!n.includes(l.scrollingElement))return n.push(l.scrollingElement),n;if(!Gl(l)||Dj(l)||n.includes(l))return n;const c=Os(e).getComputedStyle(l);return l!==e&&W6(l,c)&&n.push(l),X6(l,c)?n:r(l.parentNode)}return e?r(e):n}function Vj(e){const[t]=hg(e,1);return t??null}function em(e){return!ud||!e?null:Yi(e)?e:ug(e)?dg(e)||e===Xi(e).scrollingElement?window:Gl(e)?e:null:null}function $j(e){return Yi(e)?e.scrollX:e.scrollLeft}function Gj(e){return Yi(e)?e.scrollY:e.scrollTop}function sp(e){return{x:$j(e),y:Gj(e)}}var fs;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(fs||(fs={}));function Hj(e){return!ud||!e?!1:e===document.scrollingElement}function Kj(e){const t={x:0,y:0},n=Hj(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},l=e.scrollTop<=t.y,c=e.scrollLeft<=t.x,d=e.scrollTop>=r.y,f=e.scrollLeft>=r.x;return{isTop:l,isLeft:c,isBottom:d,isRight:f,maxScroll:r,minScroll:t}}const Z6={x:.2,y:.2};function J6(e,t,n,r,l){let{top:c,left:d,right:f,bottom:m}=n;r===void 0&&(r=10),l===void 0&&(l=Z6);const{isTop:p,isBottom:g,isLeft:v,isRight:b}=Kj(e),w={x:0,y:0},S={x:0,y:0},N={height:t.height*l.y,width:t.width*l.x};return!p&&c<=t.top+N.height?(w.y=fs.Backward,S.y=r*Math.abs((t.top+N.height-c)/N.height)):!g&&m>=t.bottom-N.height&&(w.y=fs.Forward,S.y=r*Math.abs((t.bottom-N.height-m)/N.height)),!b&&f>=t.right-N.width?(w.x=fs.Forward,S.x=r*Math.abs((t.right-N.width-f)/N.width)):!v&&d<=t.left+N.width&&(w.x=fs.Backward,S.x=r*Math.abs((t.left+N.width-d)/N.width)),{direction:w,speed:S}}function e8(e){if(e===document.scrollingElement){const{innerWidth:c,innerHeight:d}=window;return{top:0,left:0,right:c,bottom:d,width:c,height:d}}const{top:t,left:n,right:r,bottom:l}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:l,width:e.clientWidth,height:e.clientHeight}}function Fj(e){return e.reduce((t,n)=>_i(t,sp(n)),An)}function t8(e){return e.reduce((t,n)=>t+$j(n),0)}function s8(e){return e.reduce((t,n)=>t+Gj(n),0)}function Ij(e,t){if(t===void 0&&(t=Kl),!e)return;const{top:n,left:r,bottom:l,right:c}=t(e);Vj(e)&&(l<=0||c<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const n8=[["x",["left","right"],t8],["y",["top","bottom"],s8]];class mg{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=hg(n),l=Fj(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[c,d,f]of n8)for(const m of d)Object.defineProperty(this,m,{get:()=>{const p=f(r),g=l[c]-p;return this.rect[m]+g},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class hl{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var l;(l=this.target)==null||l.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function a8(e){const{EventTarget:t}=Os(e);return e instanceof t?e:Xi(e)}function tm(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var vn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(vn||(vn={}));function d1(e){e.preventDefault()}function r8(e){e.stopPropagation()}var vt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(vt||(vt={}));const Qj={start:[vt.Space,vt.Enter],cancel:[vt.Esc],end:[vt.Space,vt.Enter,vt.Tab]},i8=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case vt.Right:return{...n,x:n.x+25};case vt.Left:return{...n,x:n.x-25};case vt.Down:return{...n,y:n.y+25};case vt.Up:return{...n,y:n.y-25}}};class pg{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new hl(Xi(n)),this.windowListeners=new hl(Os(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(vn.Resize,this.handleCancel),this.windowListeners.add(vn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(vn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&Ij(r),n(An)}handleKeyDown(t){if(fg(t)){const{active:n,context:r,options:l}=this.props,{keyboardCodes:c=Qj,coordinateGetter:d=i8,scrollBehavior:f="smooth"}=l,{code:m}=t;if(c.end.includes(m)){this.handleEnd(t);return}if(c.cancel.includes(m)){this.handleCancel(t);return}const{collisionRect:p}=r.current,g=p?{x:p.left,y:p.top}:An;this.referenceCoordinates||(this.referenceCoordinates=g);const v=d(t,{active:n,context:r.current,currentCoordinates:g});if(v){const b=Fu(v,g),w={x:0,y:0},{scrollableAncestors:S}=r.current;for(const N of S){const T=t.code,{isTop:A,isRight:C,isLeft:E,isBottom:_,maxScroll:R,minScroll:O}=Kj(N),z=e8(N),P={x:Math.min(T===vt.Right?z.right-z.width/2:z.right,Math.max(T===vt.Right?z.left:z.left+z.width/2,v.x)),y:Math.min(T===vt.Down?z.bottom-z.height/2:z.bottom,Math.max(T===vt.Down?z.top:z.top+z.height/2,v.y))},q=T===vt.Right&&!C||T===vt.Left&&!E,U=T===vt.Down&&!_||T===vt.Up&&!A;if(q&&P.x!==v.x){const Q=N.scrollLeft+b.x,re=T===vt.Right&&Q<=R.x||T===vt.Left&&Q>=O.x;if(re&&!b.y){N.scrollTo({left:Q,behavior:f});return}re?w.x=N.scrollLeft-Q:w.x=T===vt.Right?N.scrollLeft-R.x:N.scrollLeft-O.x,w.x&&N.scrollBy({left:-w.x,behavior:f});break}else if(U&&P.y!==v.y){const Q=N.scrollTop+b.y,re=T===vt.Down&&Q<=R.y||T===vt.Up&&Q>=O.y;if(re&&!b.x){N.scrollTo({top:Q,behavior:f});return}re?w.y=N.scrollTop-Q:w.y=T===vt.Down?N.scrollTop-R.y:N.scrollTop-O.y,w.y&&N.scrollBy({top:-w.y,behavior:f});break}}this.handleMove(t,_i(Fu(v,this.referenceCoordinates),w))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}pg.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Qj,onActivation:l}=t,{active:c}=n;const{code:d}=e.nativeEvent;if(r.start.includes(d)){const f=c.activatorNode.current;return f&&e.target!==f?!1:(e.preventDefault(),l?.({event:e.nativeEvent}),!0)}return!1}}];function f1(e){return!!(e&&"distance"in e)}function h1(e){return!!(e&&"delay"in e)}class gg{constructor(t,n,r){var l;r===void 0&&(r=a8(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:c}=t,{target:d}=c;this.props=t,this.events=n,this.document=Xi(d),this.documentListeners=new hl(this.document),this.listeners=new hl(r),this.windowListeners=new hl(Os(d)),this.initialCoordinates=(l=Tl(c))!=null?l:An,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(vn.Resize,this.handleCancel),this.windowListeners.add(vn.DragStart,d1),this.windowListeners.add(vn.VisibilityChange,this.handleCancel),this.windowListeners.add(vn.ContextMenu,d1),this.documentListeners.add(vn.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(h1(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(f1(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:l}=this.props;l(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(vn.Click,r8,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(vn.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:l,props:c}=this,{onMove:d,options:{activationConstraint:f}}=c;if(!l)return;const m=(n=Tl(t))!=null?n:An,p=Fu(l,m);if(!r&&f){if(f1(f)){if(f.tolerance!=null&&tm(p,f.tolerance))return this.handleCancel();if(tm(p,f.distance))return this.handleStart()}if(h1(f)&&tm(p,f.tolerance))return this.handleCancel();this.handlePending(f,p);return}t.cancelable&&t.preventDefault(),d(m)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===vt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const o8={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class yg extends gg{constructor(t){const{event:n}=t,r=Xi(n.target);super(t,o8,r)}}yg.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const l8={move:{name:"mousemove"},end:{name:"mouseup"}};var np;(function(e){e[e.RightClick=2]="RightClick"})(np||(np={}));class Yj extends gg{constructor(t){super(t,l8,Xi(t.event.target))}}Yj.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===np.RightClick?!1:(r?.({event:n}),!0)}}];const sm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Xj extends gg{constructor(t){super(t,sm)}static setup(){return window.addEventListener(sm.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(sm.move.name,t)};function t(){}}}Xj.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:l}=n;return l.length>1?!1:(r?.({event:n}),!0)}}];var ml;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(ml||(ml={}));var Qu;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Qu||(Qu={}));function c8(e){let{acceleration:t,activator:n=ml.Pointer,canScroll:r,draggingRect:l,enabled:c,interval:d=5,order:f=Qu.TreeOrder,pointerCoordinates:m,scrollableAncestors:p,scrollableAncestorRects:g,delta:v,threshold:b}=e;const w=d8({delta:v,disabled:!c}),[S,N]=w6(),T=x.useRef({x:0,y:0}),A=x.useRef({x:0,y:0}),C=x.useMemo(()=>{switch(n){case ml.Pointer:return m?{top:m.y,bottom:m.y,left:m.x,right:m.x}:null;case ml.DraggableRect:return l}},[n,l,m]),E=x.useRef(null),_=x.useCallback(()=>{const O=E.current;if(!O)return;const z=T.current.x*A.current.x,P=T.current.y*A.current.y;O.scrollBy(z,P)},[]),R=x.useMemo(()=>f===Qu.TreeOrder?[...p].reverse():p,[f,p]);x.useEffect(()=>{if(!c||!p.length||!C){N();return}for(const O of R){if(r?.(O)===!1)continue;const z=p.indexOf(O),P=g[z];if(!P)continue;const{direction:q,speed:U}=J6(O,P,C,t,b);for(const Q of["x","y"])w[Q][q[Q]]||(U[Q]=0,q[Q]=0);if(U.x>0||U.y>0){N(),E.current=O,S(_,d),T.current=U,A.current=q;return}}T.current={x:0,y:0},A.current={x:0,y:0},N()},[t,_,r,N,c,d,JSON.stringify(C),JSON.stringify(w),S,p,R,g,JSON.stringify(b)])}const u8={x:{[fs.Backward]:!1,[fs.Forward]:!1},y:{[fs.Backward]:!1,[fs.Forward]:!1}};function d8(e){let{delta:t,disabled:n}=e;const r=Ku(t);return Hl(l=>{if(n||!r||!l)return u8;const c={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[fs.Backward]:l.x[fs.Backward]||c.x===-1,[fs.Forward]:l.x[fs.Forward]||c.x===1},y:{[fs.Backward]:l.y[fs.Backward]||c.y===-1,[fs.Forward]:l.y[fs.Forward]||c.y===1}}},[n,t,r])}function f8(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Hl(l=>{var c;return t==null?null:(c=r??l)!=null?c:null},[r,t])}function h8(e,t){return x.useMemo(()=>e.reduce((n,r)=>{const{sensor:l}=r,c=l.activators.map(d=>({eventName:d.eventName,handler:t(d.handler,r)}));return[...n,...c]},[]),[e,t])}var El;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(El||(El={}));var ap;(function(e){e.Optimized="optimized"})(ap||(ap={}));const m1=new Map;function m8(e,t){let{dragging:n,dependencies:r,config:l}=t;const[c,d]=x.useState(null),{frequency:f,measure:m,strategy:p}=l,g=x.useRef(e),v=T(),b=Cl(v),w=x.useCallback(function(A){A===void 0&&(A=[]),!b.current&&d(C=>C===null?A:C.concat(A.filter(E=>!C.includes(E))))},[b]),S=x.useRef(null),N=Hl(A=>{if(v&&!n)return m1;if(!A||A===m1||g.current!==e||c!=null){const C=new Map;for(let E of e){if(!E)continue;if(c&&c.length>0&&!c.includes(E.id)&&E.rect.current){C.set(E.id,E.rect.current);continue}const _=E.node.current,R=_?new mg(m(_),_):null;E.rect.current=R,R&&C.set(E.id,R)}return C}return A},[e,c,n,v,m]);return x.useEffect(()=>{g.current=e},[e]),x.useEffect(()=>{v||w()},[n,v]),x.useEffect(()=>{c&&c.length>0&&d(null)},[JSON.stringify(c)]),x.useEffect(()=>{v||typeof f!="number"||S.current!==null||(S.current=setTimeout(()=>{w(),S.current=null},f))},[f,v,w,...r]),{droppableRects:N,measureDroppableContainers:w,measuringScheduled:c!=null};function T(){switch(p){case El.Always:return!1;case El.BeforeDragging:return n;default:return!n}}}function vg(e,t){return Hl(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function p8(e,t){return vg(e,t)}function g8(e){let{callback:t,disabled:n}=e;const r=dd(t),l=x.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:c}=window;return new c(r)},[r,n]);return x.useEffect(()=>()=>l?.disconnect(),[l]),l}function hd(e){let{callback:t,disabled:n}=e;const r=dd(t),l=x.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:c}=window;return new c(r)},[n]);return x.useEffect(()=>()=>l?.disconnect(),[l]),l}function y8(e){return new mg(Kl(e),e)}function p1(e,t,n){t===void 0&&(t=y8);const[r,l]=x.useState(null);function c(){l(m=>{if(!e)return null;if(e.isConnected===!1){var p;return(p=m??n)!=null?p:null}const g=t(e);return JSON.stringify(m)===JSON.stringify(g)?m:g})}const d=g8({callback(m){if(e)for(const p of m){const{type:g,target:v}=p;if(g==="childList"&&v instanceof HTMLElement&&v.contains(e)){c();break}}}}),f=hd({callback:c});return wa(()=>{c(),e?(f?.observe(e),d?.observe(document.body,{childList:!0,subtree:!0})):(f?.disconnect(),d?.disconnect())},[e]),r}function v8(e){const t=vg(e);return qj(e,t)}const g1=[];function x8(e){const t=x.useRef(e),n=Hl(r=>e?r&&r!==g1&&e&&t.current&&e.parentNode===t.current.parentNode?r:hg(e):g1,[e]);return x.useEffect(()=>{t.current=e},[e]),n}function b8(e){const[t,n]=x.useState(null),r=x.useRef(e),l=x.useCallback(c=>{const d=em(c.target);d&&n(f=>f?(f.set(d,sp(d)),new Map(f)):null)},[]);return x.useEffect(()=>{const c=r.current;if(e!==c){d(c);const f=e.map(m=>{const p=em(m);return p?(p.addEventListener("scroll",l,{passive:!0}),[p,sp(p)]):null}).filter(m=>m!=null);n(f.length?new Map(f):null),r.current=e}return()=>{d(e),d(c)};function d(f){f.forEach(m=>{const p=em(m);p?.removeEventListener("scroll",l)})}},[l,e]),x.useMemo(()=>e.length?t?Array.from(t.values()).reduce((c,d)=>_i(c,d),An):Fj(e):An,[e,t])}function y1(e,t){t===void 0&&(t=[]);const n=x.useRef(null);return x.useEffect(()=>{n.current=null},t),x.useEffect(()=>{const r=e!==An;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Fu(e,n.current):An}function w8(e){x.useEffect(()=>{if(!ud)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function j8(e,t){return x.useMemo(()=>e.reduce((n,r)=>{let{eventName:l,handler:c}=r;return n[l]=d=>{c(d,t)},n},{}),[e,t])}function Wj(e){return x.useMemo(()=>e?Y6(e):null,[e])}const v1=[];function S8(e,t){t===void 0&&(t=Kl);const[n]=e,r=Wj(n?Os(n):null),[l,c]=x.useState(v1);function d(){c(()=>e.length?e.map(m=>Hj(m)?r:new mg(t(m),m)):v1)}const f=hd({callback:d});return wa(()=>{f?.disconnect(),d(),e.forEach(m=>f?.observe(m))},[e]),l}function Zj(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Gl(t)?t:e}function N8(e){let{measure:t}=e;const[n,r]=x.useState(null),l=x.useCallback(p=>{for(const{target:g}of p)if(Gl(g)){r(v=>{const b=t(g);return v?{...v,width:b.width,height:b.height}:b});break}},[t]),c=hd({callback:l}),d=x.useCallback(p=>{const g=Zj(p);c?.disconnect(),g&&c?.observe(g),r(g?t(g):null)},[t,c]),[f,m]=Hu(d);return x.useMemo(()=>({nodeRef:f,rect:n,setRef:m}),[n,f,m])}const k8=[{sensor:yg,options:{}},{sensor:pg,options:{}}],C8={current:{}},Eu={draggable:{measure:u1},droppable:{measure:u1,strategy:El.WhileDragging,frequency:ap.Optimized},dragOverlay:{measure:Kl}};class pl extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const T8={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new pl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Iu},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Eu,measureDroppableContainers:Iu,windowRect:null,measuringScheduled:!1},Jj={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Iu,draggableNodes:new Map,over:null,measureDroppableContainers:Iu},Fl=x.createContext(Jj),eS=x.createContext(T8);function A8(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new pl}}}function E8(e,t){switch(t.type){case rs.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case rs.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case rs.DragEnd:case rs.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case rs.RegisterDroppable:{const{element:n}=t,{id:r}=n,l=new pl(e.droppable.containers);return l.set(r,n),{...e,droppable:{...e.droppable,containers:l}}}case rs.SetDroppableDisabled:{const{id:n,key:r,disabled:l}=t,c=e.droppable.containers.get(n);if(!c||r!==c.key)return e;const d=new pl(e.droppable.containers);return d.set(n,{...c,disabled:l}),{...e,droppable:{...e.droppable,containers:d}}}case rs.UnregisterDroppable:{const{id:n,key:r}=t,l=e.droppable.containers.get(n);if(!l||r!==l.key)return e;const c=new pl(e.droppable.containers);return c.delete(n),{...e,droppable:{...e.droppable,containers:c}}}default:return e}}function M8(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:l}=x.useContext(Fl),c=Ku(r),d=Ku(n?.id);return x.useEffect(()=>{if(!t&&!r&&c&&d!=null){if(!fg(c)||document.activeElement===c.target)return;const f=l.get(d);if(!f)return;const{activatorNode:m,node:p}=f;if(!m.current&&!p.current)return;requestAnimationFrame(()=>{for(const g of[m.current,p.current]){if(!g)continue;const v=N6(g);if(v){v.focus();break}}})}},[r,t,l,d,c]),null}function tS(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((l,c)=>c({transform:l,...r}),n):n}function R8(e){return x.useMemo(()=>({draggable:{...Eu.draggable,...e?.draggable},droppable:{...Eu.droppable,...e?.droppable},dragOverlay:{...Eu.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function P8(e){let{activeNode:t,measure:n,initialRect:r,config:l=!0}=e;const c=x.useRef(!1),{x:d,y:f}=typeof l=="boolean"?{x:l,y:l}:l;wa(()=>{if(!d&&!f||!t){c.current=!1;return}if(c.current||!r)return;const p=t?.node.current;if(!p||p.isConnected===!1)return;const g=n(p),v=qj(g,r);if(d||(v.x=0),f||(v.y=0),c.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const b=Vj(p);b&&b.scrollBy({top:v.y,left:v.x})}},[t,d,f,r,n])}const md=x.createContext({...An,scaleX:1,scaleY:1});var Wa;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Wa||(Wa={}));const L8=x.memo(function(t){var n,r,l,c;let{id:d,accessibility:f,autoScroll:m=!0,children:p,sensors:g=k8,collisionDetection:v=Bj,measuring:b,modifiers:w,...S}=t;const N=x.useReducer(E8,void 0,A8),[T,A]=N,[C,E]=M6(),[_,R]=x.useState(Wa.Uninitialized),O=_===Wa.Initialized,{draggable:{active:z,nodes:P,translate:q},droppable:{containers:U}}=T,Q=z!=null?P.get(z):null,re=x.useRef({initial:null,translated:null}),ce=x.useMemo(()=>{var Tt;return z!=null?{id:z,data:(Tt=Q?.data)!=null?Tt:C8,rect:re}:null},[z,Q]),he=x.useRef(null),[ye,G]=x.useState(null),[I,B]=x.useState(null),ne=Cl(S,Object.values(S)),M=fd("DndDescribedBy",d),D=x.useMemo(()=>U.getEnabled(),[U]),te=R8(b),{droppableRects:J,measureDroppableContainers:de,measuringScheduled:ge}=m8(D,{dragging:O,dependencies:[q.x,q.y],config:te.droppable}),ve=f8(P,z),Ce=x.useMemo(()=>I?Tl(I):null,[I]),qe=ar(),St=p8(ve,te.draggable.measure);P8({activeNode:z!=null?P.get(z):null,config:qe.layoutShiftCompensation,initialRect:St,measure:te.draggable.measure});const nt=p1(ve,te.draggable.measure,St),Ct=p1(ve?ve.parentElement:null),ut=x.useRef({activatorEvent:null,active:null,activeNode:ve,collisionRect:null,collisions:null,droppableRects:J,draggableNodes:P,draggingNode:null,draggingNodeRect:null,droppableContainers:U,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),et=U.getNodeFor((n=ut.current.over)==null?void 0:n.id),Pt=N8({measure:te.dragOverlay.measure}),ms=(r=Pt.nodeRef.current)!=null?r:ve,Zt=O?(l=Pt.rect)!=null?l:nt:null,dt=!!(Pt.nodeRef.current&&Pt.rect),ps=v8(dt?null:nt),me=Wj(ms?Os(ms):null),ie=x8(O?et??ve:null),pe=S8(ie),Ae=tS(w,{transform:{x:q.x-ps.x,y:q.y-ps.y,scaleX:1,scaleY:1},activatorEvent:I,active:ce,activeNodeRect:nt,containerNodeRect:Ct,draggingNodeRect:Zt,over:ut.current.over,overlayNodeRect:Pt.rect,scrollableAncestors:ie,scrollableAncestorRects:pe,windowRect:me}),Ee=Ce?_i(Ce,q):null,ot=b8(ie),Be=y1(ot),Ue=y1(ot,[nt]),Ge=_i(Ae,Be),xt=Zt?F6(Zt,Ae):null,pt=ce&&xt?v({active:ce,collisionRect:xt,droppableRects:J,droppableContainers:D,pointerCoordinates:Ee}):null,Ln=U6(pt,"id"),[Xe,rt]=x.useState(null),gt=dt?Ae:_i(Ae,Ue),on=H6(gt,(c=Xe?.rect)!=null?c:null,nt),Lt=x.useRef(null),Ss=x.useCallback((Tt,gs)=>{let{sensor:is,options:Qs}=gs;if(he.current==null)return;const os=P.get(he.current);if(!os)return;const Jt=Tt.nativeEvent,Ms=new is({active:he.current,activeNode:os,event:Jt,options:Qs,context:ut,onAbort(Je){if(!P.get(Je))return;const{onDragAbort:it}=ne.current,ue={id:Je};it?.(ue),C({type:"onDragAbort",event:ue})},onPending(Je,Ie,it,ue){if(!P.get(Je))return;const{onDragPending:bt}=ne.current,Ut={id:Je,constraint:Ie,initialCoordinates:it,offset:ue};bt?.(Ut),C({type:"onDragPending",event:Ut})},onStart(Je){const Ie=he.current;if(Ie==null)return;const it=P.get(Ie);if(!it)return;const{onDragStart:ue}=ne.current,Rs={activatorEvent:Jt,active:{id:Ie,data:it.data,rect:re}};sl.unstable_batchedUpdates(()=>{ue?.(Rs),R(Wa.Initializing),A({type:rs.DragStart,initialCoordinates:Je,active:Ie}),C({type:"onDragStart",event:Rs}),G(Lt.current),B(Jt)})},onMove(Je){A({type:rs.DragMove,coordinates:Je})},onEnd:W(rs.DragEnd),onCancel:W(rs.DragCancel)});Lt.current=Ms;function W(Je){return async function(){const{active:it,collisions:ue,over:Rs,scrollAdjustedTranslate:bt}=ut.current;let Ut=null;if(it&&bt){const{cancelDrop:Dn}=ne.current;Ut={activatorEvent:Jt,active:it,collisions:ue,delta:bt,over:Rs},Je===rs.DragEnd&&typeof Dn=="function"&&await Promise.resolve(Dn(Ut))&&(Je=rs.DragCancel)}he.current=null,sl.unstable_batchedUpdates(()=>{A({type:Je}),R(Wa.Uninitialized),rt(null),G(null),B(null),Lt.current=null;const Dn=Je===rs.DragEnd?"onDragEnd":"onDragCancel";if(Ut){const Ot=ne.current[Dn];Ot?.(Ut),C({type:Dn,event:Ut})}})}}},[P]),zs=x.useCallback((Tt,gs)=>(is,Qs)=>{const os=is.nativeEvent,Jt=P.get(Qs);if(he.current!==null||!Jt||os.dndKit||os.defaultPrevented)return;const Ms={active:Jt};Tt(is,gs.options,Ms)===!0&&(os.dndKit={capturedBy:gs.sensor},he.current=Qs,Ss(is,gs))},[P,Ss]),_n=h8(g,zs);w8(g),wa(()=>{nt&&_===Wa.Initializing&&R(Wa.Initialized)},[nt,_]),x.useEffect(()=>{const{onDragMove:Tt}=ne.current,{active:gs,activatorEvent:is,collisions:Qs,over:os}=ut.current;if(!gs||!is)return;const Jt={active:gs,activatorEvent:is,collisions:Qs,delta:{x:Ge.x,y:Ge.y},over:os};sl.unstable_batchedUpdates(()=>{Tt?.(Jt),C({type:"onDragMove",event:Jt})})},[Ge.x,Ge.y]),x.useEffect(()=>{const{active:Tt,activatorEvent:gs,collisions:is,droppableContainers:Qs,scrollAdjustedTranslate:os}=ut.current;if(!Tt||he.current==null||!gs||!os)return;const{onDragOver:Jt}=ne.current,Ms=Qs.get(Ln),W=Ms&&Ms.rect.current?{id:Ms.id,rect:Ms.rect.current,data:Ms.data,disabled:Ms.disabled}:null,Je={active:Tt,activatorEvent:gs,collisions:is,delta:{x:os.x,y:os.y},over:W};sl.unstable_batchedUpdates(()=>{rt(W),Jt?.(Je),C({type:"onDragOver",event:Je})})},[Ln]),wa(()=>{ut.current={activatorEvent:I,active:ce,activeNode:ve,collisionRect:xt,collisions:pt,droppableRects:J,draggableNodes:P,draggingNode:ms,draggingNodeRect:Zt,droppableContainers:U,over:Xe,scrollableAncestors:ie,scrollAdjustedTranslate:Ge},re.current={initial:Zt,translated:xt}},[ce,ve,pt,xt,P,ms,Zt,J,U,Xe,ie,Ge]),c8({...qe,delta:q,draggingRect:xt,pointerCoordinates:Ee,scrollableAncestors:ie,scrollableAncestorRects:pe});const qr=x.useMemo(()=>({active:ce,activeNode:ve,activeNodeRect:nt,activatorEvent:I,collisions:pt,containerNodeRect:Ct,dragOverlay:Pt,draggableNodes:P,droppableContainers:U,droppableRects:J,over:Xe,measureDroppableContainers:de,scrollableAncestors:ie,scrollableAncestorRects:pe,measuringConfiguration:te,measuringScheduled:ge,windowRect:me}),[ce,ve,nt,I,pt,Ct,Pt,P,U,J,Xe,de,ie,pe,te,ge,me]),Ur=x.useMemo(()=>({activatorEvent:I,activators:_n,active:ce,activeNodeRect:nt,ariaDescribedById:{draggable:M},dispatch:A,draggableNodes:P,over:Xe,measureDroppableContainers:de}),[I,_n,ce,nt,A,M,P,Xe,de]);return jt.createElement(zj.Provider,{value:E},jt.createElement(Fl.Provider,{value:Ur},jt.createElement(eS.Provider,{value:qr},jt.createElement(md.Provider,{value:on},p)),jt.createElement(M8,{disabled:f?.restoreFocus===!1})),jt.createElement(L6,{...f,hiddenTextDescribedById:M}));function ar(){const Tt=ye?.autoScrollEnabled===!1,gs=typeof m=="object"?m.enabled===!1:m===!1,is=O&&!Tt&&!gs;return typeof m=="object"?{...m,enabled:is}:{enabled:is}}}),_8=x.createContext(null),x1="button",D8="Draggable";function O8(e){let{id:t,data:n,disabled:r=!1,attributes:l}=e;const c=fd(D8),{activators:d,activatorEvent:f,active:m,activeNodeRect:p,ariaDescribedById:g,draggableNodes:v,over:b}=x.useContext(Fl),{role:w=x1,roleDescription:S="draggable",tabIndex:N=0}=l??{},T=m?.id===t,A=x.useContext(T?md:_8),[C,E]=Hu(),[_,R]=Hu(),O=j8(d,t),z=Cl(n);wa(()=>(v.set(t,{id:t,key:c,node:C,activatorNode:_,data:z}),()=>{const q=v.get(t);q&&q.key===c&&v.delete(t)}),[v,t]);const P=x.useMemo(()=>({role:w,tabIndex:N,"aria-disabled":r,"aria-pressed":T&&w===x1?!0:void 0,"aria-roledescription":S,"aria-describedby":g.draggable}),[r,w,N,T,S,g.draggable]);return{active:m,activatorEvent:f,activeNodeRect:p,attributes:P,isDragging:T,listeners:r?void 0:O,node:C,over:b,setNodeRef:E,setActivatorNodeRef:R,transform:A}}function z8(){return x.useContext(eS)}const B8="Droppable",q8={timeout:25};function U8(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:l}=e;const c=fd(B8),{active:d,dispatch:f,over:m,measureDroppableContainers:p}=x.useContext(Fl),g=x.useRef({disabled:n}),v=x.useRef(!1),b=x.useRef(null),w=x.useRef(null),{disabled:S,updateMeasurementsFor:N,timeout:T}={...q8,...l},A=Cl(N??r),C=x.useCallback(()=>{if(!v.current){v.current=!0;return}w.current!=null&&clearTimeout(w.current),w.current=setTimeout(()=>{p(Array.isArray(A.current)?A.current:[A.current]),w.current=null},T)},[T]),E=hd({callback:C,disabled:S||!d}),_=x.useCallback((P,q)=>{E&&(q&&(E.unobserve(q),v.current=!1),P&&E.observe(P))},[E]),[R,O]=Hu(_),z=Cl(t);return x.useEffect(()=>{!E||!R.current||(E.disconnect(),v.current=!1,E.observe(R.current))},[R,E]),x.useEffect(()=>(f({type:rs.RegisterDroppable,element:{id:r,key:c,disabled:n,node:R,rect:b,data:z}}),()=>f({type:rs.UnregisterDroppable,key:c,id:r})),[r]),x.useEffect(()=>{n!==g.current.disabled&&(f({type:rs.SetDroppableDisabled,id:r,key:c,disabled:n}),g.current.disabled=n)},[r,c,n,f]),{active:d,rect:b,isOver:m?.id===r,node:R,over:m,setNodeRef:O}}function V8(e){let{animation:t,children:n}=e;const[r,l]=x.useState(null),[c,d]=x.useState(null),f=Ku(n);return!n&&!r&&f&&l(f),wa(()=>{if(!c)return;const m=r?.key,p=r?.props.id;if(m==null||p==null){l(null);return}Promise.resolve(t(p,c)).then(()=>{l(null)})},[t,r,c]),jt.createElement(jt.Fragment,null,n,r?x.cloneElement(r,{ref:d}):null)}const $8={x:0,y:0,scaleX:1,scaleY:1};function G8(e){let{children:t}=e;return jt.createElement(Fl.Provider,{value:Jj},jt.createElement(md.Provider,{value:$8},t))}const H8={position:"fixed",touchAction:"none"},K8=e=>fg(e)?"transform 250ms ease":void 0,F8=x.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:l,children:c,className:d,rect:f,style:m,transform:p,transition:g=K8}=e;if(!f)return null;const v=l?p:{...p,scaleX:1,scaleY:1},b={...H8,width:f.width,height:f.height,top:f.top,left:f.left,transform:Al.Transform.toString(v),transformOrigin:l&&r?O6(r,f):void 0,transition:typeof g=="function"?g(r):g,...m};return jt.createElement(n,{className:d,style:b,ref:t},c)}),I8=e=>t=>{let{active:n,dragOverlay:r}=t;const l={},{styles:c,className:d}=e;if(c!=null&&c.active)for(const[f,m]of Object.entries(c.active))m!==void 0&&(l[f]=n.node.style.getPropertyValue(f),n.node.style.setProperty(f,m));if(c!=null&&c.dragOverlay)for(const[f,m]of Object.entries(c.dragOverlay))m!==void 0&&r.node.style.setProperty(f,m);return d!=null&&d.active&&n.node.classList.add(d.active),d!=null&&d.dragOverlay&&r.node.classList.add(d.dragOverlay),function(){for(const[m,p]of Object.entries(l))n.node.style.setProperty(m,p);d!=null&&d.active&&n.node.classList.remove(d.active)}},Q8=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Al.Transform.toString(t)},{transform:Al.Transform.toString(n)}]},Y8={duration:250,easing:"ease",keyframes:Q8,sideEffects:I8({styles:{active:{opacity:"0"}}})};function X8(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:l}=e;return dd((c,d)=>{if(t===null)return;const f=n.get(c);if(!f)return;const m=f.node.current;if(!m)return;const p=Zj(d);if(!p)return;const{transform:g}=Os(d).getComputedStyle(d),v=Uj(g);if(!v)return;const b=typeof t=="function"?t:W8(t);return Ij(m,l.draggable.measure),b({active:{id:c,data:f.data,node:m,rect:l.draggable.measure(m)},draggableNodes:n,dragOverlay:{node:d,rect:l.dragOverlay.measure(p)},droppableContainers:r,measuringConfiguration:l,transform:v})})}function W8(e){const{duration:t,easing:n,sideEffects:r,keyframes:l}={...Y8,...e};return c=>{let{active:d,dragOverlay:f,transform:m,...p}=c;if(!t)return;const g={x:f.rect.left-d.rect.left,y:f.rect.top-d.rect.top},v={scaleX:m.scaleX!==1?d.rect.width*m.scaleX/f.rect.width:1,scaleY:m.scaleY!==1?d.rect.height*m.scaleY/f.rect.height:1},b={x:m.x-g.x,y:m.y-g.y,...v},w=l({...p,active:d,dragOverlay:f,transform:{initial:m,final:b}}),[S]=w,N=w[w.length-1];if(JSON.stringify(S)===JSON.stringify(N))return;const T=r?.({active:d,dragOverlay:f,...p}),A=f.node.animate(w,{duration:t,easing:n,fill:"forwards"});return new Promise(C=>{A.onfinish=()=>{T?.(),C()}})}}let b1=0;function Z8(e){return x.useMemo(()=>{if(e!=null)return b1++,b1},[e])}const J8=jt.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:l,transition:c,modifiers:d,wrapperElement:f="div",className:m,zIndex:p=999}=e;const{activatorEvent:g,active:v,activeNodeRect:b,containerNodeRect:w,draggableNodes:S,droppableContainers:N,dragOverlay:T,over:A,measuringConfiguration:C,scrollableAncestors:E,scrollableAncestorRects:_,windowRect:R}=z8(),O=x.useContext(md),z=Z8(v?.id),P=tS(d,{activatorEvent:g,active:v,activeNodeRect:b,containerNodeRect:w,draggingNodeRect:T.rect,over:A,overlayNodeRect:T.rect,scrollableAncestors:E,scrollableAncestorRects:_,transform:O,windowRect:R}),q=vg(b),U=X8({config:r,draggableNodes:S,droppableContainers:N,measuringConfiguration:C}),Q=q?T.setRef:void 0;return jt.createElement(G8,null,jt.createElement(V8,{animation:U},v&&z?jt.createElement(F8,{key:z,id:v.id,ref:Q,as:f,activatorEvent:g,adjustScale:t,className:m,transition:c,rect:q,style:{zIndex:p,...l},transform:P},n):null))}),eL=e=>{let{activatorEvent:t,draggingNodeRect:n,transform:r}=e;if(n&&t){const l=Tl(t);if(!l)return r;const c=l.x-n.left,d=l.y-n.top;return{...r,x:r.x+c-n.width/2,y:r.y+d-n.height/2}}return r};function tL(e,t,n){const r=Array.from(Array(e),()=>new Array(t));for(let l=0;l<e;l++)for(let c=0;c<t;c++)r[l][c]={squareId:`${xg(c,t,n)}${sS(l,e,n)}`,isLightSquare:(l+c)%2===0};return r}function sS(e,t,n){return n==="white"?(t-e).toString():(e+1).toString()}function xg(e,t,n){return n==="white"?String.fromCharCode(97+e):String.fromCharCode(97+t-e-1)}function rl(e,t,n){return n==="white"?e.charCodeAt(0)-97:t-(e.charCodeAt(0)-97)-1}function sL(e,t,n){return n==="white"?t-Number(e):Number(e)-1}function nm(e,t,n){const r={},l=e.split(" ")[0].split("/");for(let c=0;c<l.length;c++){let d=0;for(const f of l[c])if(isNaN(Number(f))){const m=`${xg(d,n,"white")}${sS(c,t,"white")}`;r[m]={pieceType:nL(f)},d++}else d+=Number(f)}return r}function nL(e){return e.toLowerCase()===e?"b"+e.toUpperCase():"w"+e.toUpperCase()}function aL(e,t,n,r){const l={};for(const c in t){const d=[];if(e[c]?.pieceType!==t[c].pieceType){for(const f in e)e[f].pieceType===t[c].pieceType&&f!==c&&e[f].pieceType!==t[f]?.pieceType&&d.push(f);if(d.length===1)l[d[0]]=c;else{for(const f of d){const m=e[f].pieceType[1],p=Math.abs(rl(f.match(/^[a-z]+/)?.[0]??"",n,r)-rl(c.match(/^[a-z]+/)?.[0]??"",n,r)),g=Math.abs(Number(f.match(/\d+$/)?.[0]??"")-Number(c.match(/\d+$/)?.[0]??"")),v=(rl(f.match(/^[a-z]+/)?.[0]??"",n,r)+Number(f.match(/\d+$/)?.[0]??""))%2===0,b=(rl(c.match(/^[a-z]+/)?.[0]??"",n,r)+Number(c.match(/\d+$/)?.[0]??""))%2===0;if(m==="P"&&f.match(/^[a-z]+/)?.[0]===c.match(/^[a-z]+/)?.[0]){l[f]=c;break}if(m==="N"&&(p===2&&g===1||p===1&&g===2)){l[f]=c;break}if(m==="B"&&p===g&&v===b){l[f]=c;break}if(m==="R"&&(p===0||g===0)){l[f]=c;break}if(m==="Q"&&(p===0||g===0||p===g)){l[f]=c;break}if(m==="K"&&p<=1&&g<=1){l[f]=c;break}}if(!Object.values(l).includes(c)&&d.length>0){for(const f of d)if(!Object.keys(l).includes(f)){l[f]=c;break}}}}}return l}function w1(e,t,n,r,l){const c=t/n,d=rl(l.match(/^[a-z]+/)?.[0]??"",n,e)*c+c/2,f=sL(l.match(/\d+$/)?.[0]??"",r,e)*c+c/2;return{x:d,y:f}}const rL={wP:e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:i.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:e?.fill??"#ffffff",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})}),wR:e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:i.jsxs("g",{style:{opacity:"1",fill:e?.fill??"#ffffff",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[i.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),i.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),i.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14",style:{strokeLinecap:"butt"}}),i.jsx("path",{d:"M 34,14 L 31,17 L 14,17 L 11,14"}),i.jsx("path",{d:"M 31,17 L 31,29.5 L 14,29.5 L 14,17",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),i.jsx("path",{d:"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5"}),i.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]})}),wN:e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:i.jsxs("g",{style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[i.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:e?.fill??"#ffffff",stroke:"#000000"}}),i.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:e?.fill??"#ffffff",stroke:"#000000"}}),i.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#000000",stroke:"#000000"}}),i.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#000000",stroke:"#000000"}})]})}),wB:e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:i.jsxs("g",{style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[i.jsxs("g",{style:{fill:e?.fill??"#ffffff",stroke:"#000000",strokeLinecap:"butt"},children:[i.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),i.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),i.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]}),i.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]})}),wQ:e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:i.jsxs("g",{style:{fill:e?.fill??"#ffffff",stroke:"#000000",strokeWidth:"1.5",strokeLinejoin:"round"},children:[i.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"}),i.jsx("path",{d:"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"}),i.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30",style:{fill:"none"}}),i.jsx("path",{d:"M 12,33.5 C 18,32.5 27,32.5 33,33.5",style:{fill:"none"}}),i.jsx("circle",{cx:"6",cy:"12",r:"2"}),i.jsx("circle",{cx:"14",cy:"9",r:"2"}),i.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),i.jsx("circle",{cx:"31",cy:"9",r:"2"}),i.jsx("circle",{cx:"39",cy:"12",r:"2"})]})}),wK:e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:i.jsxs("g",{style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[i.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),i.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),i.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:e?.fill??"#ffffff",stroke:"#000000",strokeLinecap:"butt",strokeLinejoin:"miter"}}),i.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:e?.fill??"#ffffff",stroke:"#000000"}}),i.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30",style:{fill:"none",stroke:"#000000"}}),i.jsx("path",{d:"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5",style:{fill:"none",stroke:"#000000"}}),i.jsx("path",{d:"M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#000000"}})]})}),bP:e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:i.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:e?.fill??"#000000",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})}),bR:e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:i.jsxs("g",{style:{opacity:"1",fill:e?.fill??"#000000",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[i.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),i.jsx("path",{d:"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z ",style:{strokeLinecap:"butt"}}),i.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),i.jsx("path",{d:"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z ",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),i.jsx("path",{d:"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z ",style:{strokeLinecap:"butt"}}),i.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z ",style:{strokeLinecap:"butt"}}),i.jsx("path",{d:"M 12,35.5 L 33,35.5 L 33,35.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),i.jsx("path",{d:"M 13,31.5 L 32,31.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),i.jsx("path",{d:"M 14,29.5 L 31,29.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),i.jsx("path",{d:"M 14,16.5 L 31,16.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),i.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}})]})}),bN:e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:i.jsxs("g",{style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[i.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:e?.fill??"#000000",stroke:"#000000"}}),i.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:e?.fill??"#000000",stroke:"#000000"}}),i.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#ffffff",stroke:"#ffffff"}}),i.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#ffffff",stroke:"#ffffff"}}),i.jsx("path",{d:"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z ",style:{fill:"#ffffff",stroke:"none"}})]})}),bB:e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:i.jsxs("g",{style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[i.jsxs("g",{style:{fill:e?.fill??"#000000",stroke:"#000000",strokeLinecap:"butt"},children:[i.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),i.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),i.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]}),i.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#ffffff",strokeLinejoin:"miter"}})]})}),bQ:e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:i.jsxs("g",{style:{fill:e?.fill??"#000000",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},children:[i.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z",style:{strokeLinecap:"butt",fill:e?.fill??"#000000"}}),i.jsx("path",{d:"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z"}),i.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30"}),i.jsx("path",{d:"m 12,33.5 c 6,-1 15,-1 21,0"}),i.jsx("circle",{cx:"6",cy:"12",r:"2"}),i.jsx("circle",{cx:"14",cy:"9",r:"2"}),i.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),i.jsx("circle",{cx:"31",cy:"9",r:"2"}),i.jsx("circle",{cx:"39",cy:"12",r:"2"}),i.jsx("path",{d:"M 11,38.5 A 35,35 1 0 0 34,38.5",style:{fill:"none",stroke:"#000000",strokeLinecap:"butt"}}),i.jsxs("g",{style:{fill:"none",stroke:"#ffffff"},children:[i.jsx("path",{d:"M 11,29 A 35,35 1 0 1 34,29"}),i.jsx("path",{d:"M 12.5,31.5 L 32.5,31.5"}),i.jsx("path",{d:"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"}),i.jsx("path",{d:"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"})]})]})}),bK:e=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:i.jsxs("g",{style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[i.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"},id:"path6570"}),i.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:e?.fill??"#000000",fillOpacity:"1",strokeLinecap:"butt",strokeLinejoin:"miter"}}),i.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:e?.fill??"#000000",stroke:"#000000"}}),i.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),i.jsx("path",{d:"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5",style:{fill:"none",stroke:"#ffffff"}}),i.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#ffffff"}})]})})};function nS(e){return{display:"grid",gridTemplateColumns:`repeat(${e}, 1fr)`,overflow:"hidden",width:"100%",height:"100%",position:"relative"}}const aS={aspectRatio:"1/1",display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},rS={backgroundColor:"#B58863"},iS={backgroundColor:"#F0D9B5"},oS={boxShadow:"inset 0px 0px 0px 1px black"},lS={color:"#F0D9B5"},cS={color:"#B58863"},uS={fontSize:"13px",position:"absolute",bottom:1,right:4,userSelect:"none"},dS={fontSize:"13px",position:"absolute",top:2,left:2,userSelect:"none"},fS={transform:"scale(1.2)"},hS={opacity:.5},iL={color:"#ffaa00",secondaryColor:"#4caf50",tertiaryColor:"#f44336",arrowLengthReducerDenominator:8,sameTargetArrowLengthReducerDenominator:4,arrowWidthDenominator:5,activeArrowWidthMultiplier:.9,opacity:.65,activeOpacity:.5},mS=x.createContext(null),Wi=()=>x.use(mS);function oL({children:e,options:t}){const{id:n="chessboard",pieces:r=rL,position:l="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR",boardOrientation:c="white",chessboardRows:d=8,chessboardColumns:f=8,boardStyle:m=nS(f),squareStyle:p=aS,squareStyles:g={},darkSquareStyle:v=rS,lightSquareStyle:b=iS,dropSquareStyle:w=oS,draggingPieceStyle:S=fS,draggingPieceGhostStyle:N=hS,darkSquareNotationStyle:T=lS,lightSquareNotationStyle:A=cS,alphaNotationStyle:C=uS,numericNotationStyle:E=dS,showNotation:_=!0,animationDurationInMs:R=300,showAnimations:O=!0,allowDragging:z=!0,allowDragOffBoard:P=!0,allowAutoScroll:q=!1,dragActivationDistance:U=1,allowDrawingArrows:Q=!0,arrows:re=[],arrowOptions:ce=iL,clearArrowsOnClick:he=!0,canDragPiece:ye,onArrowsChange:G,onMouseOutSquare:I,onMouseOverSquare:B,onPieceClick:ne,onPieceDrag:M,onPieceDrop:D,onSquareClick:te,onSquareRightClick:J,squareRenderer:de}=t||{},[ge,ve]=x.useState(null),[Ce,qe]=x.useState(typeof l=="string"?nm(l,d,f):l),[St,nt]=x.useState({}),[Ct,ut]=x.useState(null),[et,Pt]=x.useState(null),[ms,Zt]=x.useState(null),[dt,ps]=x.useState([]),[me,ie]=x.useState(null),pe=x.useRef(null);x.useEffect(()=>{const Xe=typeof l=="string"?nm(l,d,f):l;if(!O){qe(Xe);return}const rt=me;rt&&(qe(rt),ie(null));const gt=aL(rt??Ce,Xe,f,c),on=Object.keys(gt).length>1;if(Ct&&on){const Ss={...Ce};delete Ss[Ct.sourceSquare],Ss[Ct.targetSquare]={pieceType:Ct.piece},qe(Ss);const zs={...gt};delete zs[Ct.sourceSquare],nt(zs);const _n=setTimeout(()=>{qe(Xe),nt({}),ut(null)},R);pe.current=_n;return}if(Ct){qe(Xe),ut(null);return}nt(gt),ie(Xe);const Lt=setTimeout(()=>{qe(Xe),nt({}),ie(null)},R);return pe.current=Lt,()=>{pe.current&&clearTimeout(pe.current)}},[l]),x.useEffect(()=>{qe(typeof l=="string"?nm(l,d,f):l)},[d,f,c]),x.useEffect(()=>{G?.({arrows:dt})},[dt]);const Ae=x.useMemo(()=>tL(d,f,c),[d,f,c]),Ee=x.useCallback((Xe,rt)=>{if(!Q)return;const gt=dt.findIndex(Lt=>Lt.startSquare===et&&Lt.endSquare===Xe);if(re.some(Lt=>Lt.startSquare===et&&Lt.endSquare===Xe)){Pt(null),Zt(null);return}if(et&&et!==Xe){const Lt=rt?.shiftKey?ce.secondaryColor:rt?.ctrlKey?ce.tertiaryColor:ce.color;ps(Ss=>gt===-1?[...Ss,{startSquare:et,endSquare:Xe,color:Lt}]:Ss.filter((zs,_n)=>_n!==gt)),Pt(null),Zt(null)}},[Q,re,ce.color,ce.secondaryColor,ce.tertiaryColor,dt,et,ms]),ot=x.useCallback(()=>{he&&(ps([]),Pt(null),Zt(null))},[he]),Be=x.useCallback((Xe,rt)=>{const gt=rt?.shiftKey?ce.secondaryColor:rt?.ctrlKey?ce.tertiaryColor:ce.color;Zt({square:Xe,color:gt})},[ce]),Ue=x.useCallback(()=>{ve(null)},[]),Ge=x.useCallback(function(rt){if(!ge)return;const gt=rt.over?.id.toString();if(!gt){D?.({piece:ge,sourceSquare:ge.position,targetSquare:null}),ut({piece:ge.pieceType,sourceSquare:ge.position,targetSquare:""}),ve(null);return}rt.over&&(D?.({piece:ge,sourceSquare:ge.position,targetSquare:gt})&&ut({piece:ge.pieceType,sourceSquare:ge.position,targetSquare:gt}),ve(null))},[ge]),xt=x.useCallback(function({active:rt}){const gt=rt.data.current?.isSparePiece;M?.({isSparePiece:gt,piece:gt?{pieceType:rt.id}:Ce[rt.id],square:gt?null:rt.id}),ve({isSparePiece:gt,position:rt.id,pieceType:gt?rt.id:Ce[rt.id].pieceType})},[Ce]),pt=_6(fu(yg,{activationConstraint:U>0?{distance:U}:void 0}),fu(pg),fu(Xj),fu(Yj));function Ln(Xe){const rt=G6(Xe);return rt.length>0?rt:Bj(Xe)}return i.jsx(mS.Provider,{value:{id:n,pieces:r,boardOrientation:c,chessboardRows:d,chessboardColumns:f,boardStyle:m,squareStyle:p,squareStyles:g,darkSquareStyle:v,lightSquareStyle:b,dropSquareStyle:w,draggingPieceStyle:S,draggingPieceGhostStyle:N,darkSquareNotationStyle:T,lightSquareNotationStyle:A,alphaNotationStyle:C,numericNotationStyle:E,showNotation:_,animationDurationInMs:R,showAnimations:O,allowDragging:z,allowDragOffBoard:P,allowDrawingArrows:Q,arrows:re,arrowOptions:ce,canDragPiece:ye,onMouseOutSquare:I,onMouseOverSquare:B,onPieceClick:ne,onSquareClick:te,onSquareRightClick:J,squareRenderer:de,board:Ae,isWrapped:!0,draggingPiece:ge,currentPosition:Ce,positionDifferences:St,newArrowStartSquare:et,newArrowOverSquare:ms,setNewArrowStartSquare:Pt,setNewArrowOverSquare:Be,internalArrows:dt,drawArrow:Ee,clearArrows:ot},children:i.jsx(L8,{autoScroll:q,collisionDetection:Ln,onDragStart:xt,onDragEnd:Ge,onDragCancel:Ue,sensors:pt,children:e})})}function lL(){const{id:e,arrows:t,arrowOptions:n,boardOrientation:r,chessboardColumns:l,chessboardRows:c,internalArrows:d,newArrowStartSquare:f,newArrowOverSquare:m}=Wi(),p=2048,g=p*(c/l),v=f&&m&&f!==m.square?{startSquare:f,endSquare:m.square,color:m.color}:null,b=v?[...t,...d,v]:[...t,...d];return i.jsx("svg",{viewBox:`0 0 ${p} ${g}`,style:{position:"absolute",top:"0",right:"0",bottom:"0",left:"0",pointerEvents:"none",zIndex:"20"},children:b.map((w,S)=>{const N=w1(r,p,l,c,w.startSquare),T=w1(r,p,l,c,w.endSquare),A=p/l;let C=A/n.arrowLengthReducerDenominator;const E=v&&S===b.length-1;b.some(P=>P.startSquare!==w.startSquare&&P.endSquare===w.endSquare)&&!E&&(C=A/n.sameTargetArrowLengthReducerDenominator);const _=T.x-N.x,R=T.y-N.y,O=Math.hypot(R,_);let z;if(O===Math.hypot(1,2)*A){const P=Math.abs(_)<Math.abs(R)?{x:N.x,y:T.y}:{x:T.x,y:N.y},q=T.x-P.x,U=T.y-P.y,Q=A,re={x:P.x+q*(Q-C)/Q,y:P.y+U*(Q-C)/Q};z=`M${N.x},${N.y} L${P.x},${P.y} L${re.x},${re.y}`}else{const P={x:N.x+_*(O-C)/O,y:N.y+R*(O-C)/O};z=`M${N.x},${N.y} L${P.x},${P.y}`}return i.jsxs(x.Fragment,{children:[i.jsx("marker",{id:`${e}-arrowhead-${S}-${w.startSquare}-${w.endSquare}`,markerWidth:"2",markerHeight:"2.5",refX:"1.25",refY:"1.25",orient:"auto",children:i.jsx("polygon",{points:"0.3 0, 2 1.25, 0.3 2.5",fill:w.color})}),i.jsx("path",{d:z,fill:"none",opacity:E?n.activeOpacity:n.opacity,stroke:w.color,strokeWidth:E?n.activeArrowWidthMultiplier*(A/n.arrowWidthDenominator):A/n.arrowWidthDenominator,markerEnd:`url(#${e}-arrowhead-${S}-${w.startSquare}-${w.endSquare})`})]},`${e}-arrow-${w.startSquare}-${w.endSquare}${E?"-active":""}`)})})}function cL({children:e,isSparePiece:t=!1,pieceType:n,position:r}){const{allowDragging:l,canDragPiece:c}=Wi(),{setNodeRef:d,attributes:f,listeners:m}=O8({id:r,data:{isSparePiece:t,pieceType:n},disabled:!l||c&&!c({piece:{pieceType:n},isSparePiece:t,square:r})});return i.jsx("div",{ref:d,...f,...m,children:e})}function uL({children:e,squareId:t}){const{isOver:n,setNodeRef:r}=U8({id:t});return i.jsx("div",{ref:r,children:e({isOver:n})})}const j1=x.memo(function({clone:t,isSparePiece:n=!1,position:r,pieceType:l}){const{id:c,allowDragging:d,animationDurationInMs:f,boardOrientation:m,canDragPiece:p,draggingPiece:g,draggingPieceStyle:v,draggingPieceGhostStyle:b,pieces:w,positionDifferences:S,onPieceClick:N}=Wi(),[T,A]=x.useState({});let C=t?"grabbing":"grab";(!d||p&&!p({piece:{pieceType:l},isSparePiece:n,square:r}))&&(C="pointer"),x.useEffect(()=>{if(S[r]){const _=r,R=S[r],O=document.querySelector(`#${c}-square-${_}`)?.getBoundingClientRect().width;if(!O)throw new Error("Square width not found");A({transform:`translate(${(m==="black"?-1:1)*(R.charCodeAt(0)-_.charCodeAt(0))*O}px, ${(m==="black"?-1:1)*(Number(_[1])-Number(R[1]))*O}px)`,transition:`transform ${f}ms`,position:"relative",zIndex:10})}else A({})},[S]);const E=w[l];return i.jsx("div",{id:`${c}-piece-${l}-${r}`,"data-piece":l,style:{...T,...t?{...fS,...v}:{},...!t&&g?.position===r?{...hS,...b}:{},width:"100%",height:"100%",cursor:C,touchAction:"none"},onClick:()=>N?.({isSparePiece:n,piece:{pieceType:l},square:r}),children:i.jsx(E,{})})}),dL=x.memo(function({children:t,squareId:n,isLightSquare:r,isOver:l}){const{id:c,allowDrawingArrows:d,boardOrientation:f,chessboardColumns:m,chessboardRows:p,currentPosition:g,squareStyle:v,squareStyles:b,darkSquareStyle:w,lightSquareStyle:S,dropSquareStyle:N,darkSquareNotationStyle:T,lightSquareNotationStyle:A,alphaNotationStyle:C,numericNotationStyle:E,showNotation:_,onMouseOutSquare:R,onMouseOverSquare:O,onSquareClick:z,onSquareRightClick:P,squareRenderer:q,newArrowStartSquare:U,setNewArrowStartSquare:Q,setNewArrowOverSquare:re,drawArrow:ce,clearArrows:he}=Wi(),ye=n.match(/^[a-z]+/)?.[0],G=n.match(/\d+$/)?.[0];return i.jsxs("div",{id:`${c}-square-${n}`,style:{...aS,...v,...r?{...iS,...S}:{...rS,...w},...l?{...oS,...N}:{}},"data-column":ye,"data-row":G,"data-square":n,onClick:I=>{I.button===0&&z?.({piece:g[n]??null,square:n})},onTouchEnd:I=>{I.preventDefault(),z?.({piece:g[n]??null,square:n})},onContextMenu:I=>{I.preventDefault(),P?.({piece:g[n]??null,square:n})},onMouseDown:I=>{I.button===0&&he(),I.button===2&&d&&Q(n)},onMouseUp:I=>{I.button===2&&U&&ce(n,{shiftKey:I.shiftKey,ctrlKey:I.ctrlKey})},onMouseOver:I=>{I.buttons===2&&U&&re(n,{shiftKey:I.shiftKey,ctrlKey:I.ctrlKey}),O?.({piece:g[n]??null,square:n})},onMouseLeave:()=>R?.({piece:g[n]??null,square:n}),children:[_?i.jsxs("span",{style:r?{...cS,...A}:{...lS,...T},children:[G===(f==="white"?"1":p.toString())&&i.jsx("span",{style:{...uS,...C},children:ye}),ye===(f==="white"?"a":xg(0,m,f))&&i.jsx("span",{style:{...dS,...E},children:G})]}):null,q?.({piece:g[n]??null,square:n,children:t})||i.jsx("div",{style:{width:"100%",height:"100%",...b[n]},children:t})]})}),fL=(e,t)=>({transform:n})=>{const r=typeof document<"u"?document.getElementById(`${e}-board`):null;if(!r)return n;const l=r.getBoundingClientRect(),c=r.querySelector('[data-column="a"][data-row="1"]');if(!c)return n;const f=c.getBoundingClientRect().width/2,m=t.match(/^([a-zA-Z]+)(\d+)$/);if(!m)return n;const[,p,g]=m,v=r.querySelector(`[data-column="${p}"][data-row="${g}"]`);if(!v)return n;const b=v.getBoundingClientRect(),w=b.left+f-l.left,S=b.top+f-l.top,N=-w,T=l.width-w,A=-S,C=l.height-S,E=Math.min(Math.max(n.x,N),T),_=Math.min(Math.max(n.y,A),C);return{...n,x:E,y:_}};function S1(){const{allowDragOffBoard:e,board:t,boardStyle:n,chessboardColumns:r,currentPosition:l,draggingPiece:c,id:d}=Wi();return i.jsxs(i.Fragment,{children:[i.jsxs("div",{id:`${d}-board`,style:{...nS(r),...n},children:[t.map(f=>f.map(m=>{const p=l[m.squareId];return i.jsx(uL,{squareId:m.squareId,children:({isOver:g})=>i.jsx(dL,{isOver:g,...m,children:p?i.jsx(cL,{isSparePiece:!1,position:m.squareId,pieceType:p.pieceType,children:i.jsx(j1,{...p,position:m.squareId})}):null})},m.squareId)})),i.jsx(lL,{})]}),i.jsx(J8,{dropAnimation:null,modifiers:[eL,...e?[]:[fL(d,c?.position||"")]],children:c?i.jsx(j1,{clone:!0,position:c.position,pieceType:c.pieceType}):null})]})}function pd({options:e}){const{isWrapped:t}=Wi()??{isWrapped:!1};return t?i.jsx(S1,{}):i.jsx(oL,{options:e,children:i.jsx(S1,{})})}function hL(e){return e!==null?{comment:e,variations:[]}:{variations:[]}}function mL(e,t,n,r,l){const c={move:e,variations:l};return t&&(c.suffix=t),n&&(c.nag=n),r!==null&&(c.comment=r),c}function pL(...e){const[t,...n]=e;let r=t;for(const l of n)l!==null&&(r.variations=[l,...l.variations],l.variations=[],r=l);return t}function gL(e,t){if(t.marker&&t.marker.comment){let n=t.root;for(;;){const r=n.variations[0];if(!r){n.comment=t.marker.comment;break}n=r}}return{headers:e,root:t.root,result:(t.marker&&t.marker.result)??void 0}}function yL(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function zi(e,t,n,r){var l=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(l,zi.prototype),l.expected=t,l.found=n,l.location=r,l.name="SyntaxError",l}yL(zi,Error);function am(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,n+=n.repeat(t),e+n.slice(0,t))}zi.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var n=null,r;for(r=0;r<e.length;r++)if(e[r].source===this.location.source){n=e[r].text.split(/\r\n|\n|\r/g);break}var l=this.location.start,c=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(l):l,d=this.location.source+":"+c.line+":"+c.column;if(n){var f=this.location.end,m=am("",c.line.toString().length," "),p=n[l.line-1],g=l.line===f.line?f.column:p.length+1,v=g-l.column||1;t+=`
 --> `+d+`
`+m+` |
`+c.line+" | "+p+`
`+m+" | "+am("",l.column-1," ")+am("",v,"^")}else t+=`
 at `+d}return t};zi.buildMessage=function(e,t){var n={literal:function(p){return'"'+l(p.text)+'"'},class:function(p){var g=p.parts.map(function(v){return Array.isArray(v)?c(v[0])+"-"+c(v[1]):c(v)});return"["+(p.inverted?"^":"")+g.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(p){return p.description}};function r(p){return p.charCodeAt(0).toString(16).toUpperCase()}function l(p){return p.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+r(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+r(g)})}function c(p){return p.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+r(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+r(g)})}function d(p){return n[p.type](p)}function f(p){var g=p.map(d),v,b;if(g.sort(),g.length>0){for(v=1,b=1;v<g.length;v++)g[v-1]!==g[v]&&(g[b]=g[v],b++);g.length=b}switch(g.length){case 1:return g[0];case 2:return g[0]+" or "+g[1];default:return g.slice(0,-1).join(", ")+", or "+g[g.length-1]}}function m(p){return p?'"'+l(p)+'"':"end of input"}return"Expected "+f(e)+" but "+m(t)+" found."};function vL(e,t){t=t!==void 0?t:{};var n={},r=t.grammarSource,l={pgn:Yn},c=Yn,d="[",f='"',m="]",p=".",g="O-O-O",v="O-O",b="0-0-0",w="0-0",S="$",N="{",T="}",A=";",C="(",E=")",_="1-0",R="0-1",O="1/2-1/2",z="*",P=/^[a-zA-Z]/,q=/^[^"]/,U=/^[0-9]/,Q=/^[.]/,re=/^[a-zA-Z1-8\-=]/,ce=/^[+#]/,he=/^[!?]/,ye=/^[^}]/,G=/^[^\r\n]/,I=/^[ \t\r\n]/,B=Ot("tag pair"),ne=bt("[",!1),M=bt('"',!1),D=bt("]",!1),te=Ot("tag name"),J=Ut([["a","z"],["A","Z"]],!1,!1),de=Ot("tag value"),ge=Ut(['"'],!0,!1),ve=Ot("move number"),Ce=Ut([["0","9"]],!1,!1),qe=bt(".",!1),St=Ut(["."],!1,!1),nt=Ot("standard algebraic notation"),Ct=bt("O-O-O",!1),ut=bt("O-O",!1),et=bt("0-0-0",!1),Pt=bt("0-0",!1),ms=Ut([["a","z"],["A","Z"],["1","8"],"-","="],!1,!1),Zt=Ut(["+","#"],!1,!1),dt=Ot("suffix annotation"),ps=Ut(["!","?"],!1,!1),me=Ot("NAG"),ie=bt("$",!1),pe=Ot("brace comment"),Ae=bt("{",!1),Ee=Ut(["}"],!0,!1),ot=bt("}",!1),Be=Ot("rest of line comment"),Ue=bt(";",!1),Ge=Ut(["\r",`
`],!0,!1),xt=Ot("variation"),pt=bt("(",!1),Ln=bt(")",!1),Xe=Ot("game termination marker"),rt=bt("1-0",!1),gt=bt("0-1",!1),on=bt("1/2-1/2",!1),Lt=bt("*",!1),Ss=Ot("whitespace"),zs=Ut([" ","	","\r",`
`],!1,!1),_n=function(H,se){return gL(H,se)},qr=function(H){return Object.fromEntries(H)},Ur=function(H,se){return[H,se]},ar=function(H,se){return{root:H,marker:se}},Tt=function(H,se){return pL(hL(H),...se.flat())},gs=function(H,se,Z,ke,Te){return mL(H,se,Z,ke,Te)},is=function(H){return H},Qs=function(H){return H.replace(/[\r\n]+/g," ")},os=function(H){return H.trim()},Jt=function(H){return H},Ms=function(H,se){return{result:H,comment:se}},W=t.peg$currPos|0,Je=[{line:1,column:1}],Ie=W,it=t.peg$maxFailExpected||[],ue=t.peg$silentFails|0,Rs;if(t.startRule){if(!(t.startRule in l))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');c=l[t.startRule]}function bt(H,se){return{type:"literal",text:H,ignoreCase:se}}function Ut(H,se,Z){return{type:"class",parts:H,inverted:se,ignoreCase:Z}}function Dn(){return{type:"end"}}function Ot(H){return{type:"other",description:H}}function Vr(H){var se=Je[H],Z;if(se)return se;if(H>=Je.length)Z=Je.length-1;else for(Z=H;!Je[--Z];);for(se=Je[Z],se={line:se.line,column:se.column};Z<H;)e.charCodeAt(Z)===10?(se.line++,se.column=1):se.column++,Z++;return Je[H]=se,se}function Qn(H,se,Z){var ke=Vr(H),Te=Vr(se),We={source:r,start:{offset:H,line:ke.line,column:ke.column},end:{offset:se,line:Te.line,column:Te.column}};return We}function Se(H){W<Ie||(W>Ie&&(Ie=W,it=[]),it.push(H))}function rr(H,se,Z){return new zi(zi.buildMessage(H,se),H,se,Z)}function Yn(){var H,se,Z;return H=W,se=It(),Z=Na(),H=_n(se,Z),H}function It(){var H,se,Z;for(H=W,se=[],Z=Zi();Z!==n;)se.push(Z),Z=Zi();return Z=es(),H=qr(se),H}function Zi(){var H,se,Z,ke,Te,We,On;return ue++,H=W,es(),e.charCodeAt(W)===91?(se=d,W++):(se=n,ue===0&&Se(ne)),se!==n?(es(),Z=Il(),Z!==n?(es(),e.charCodeAt(W)===34?(ke=f,W++):(ke=n,ue===0&&Se(M)),ke!==n?(Te=Xn(),e.charCodeAt(W)===34?(We=f,W++):(We=n,ue===0&&Se(M)),We!==n?(es(),e.charCodeAt(W)===93?(On=m,W++):(On=n,ue===0&&Se(D)),On!==n?H=Ur(Z,Te):(W=H,H=n)):(W=H,H=n)):(W=H,H=n)):(W=H,H=n)):(W=H,H=n),ue--,H===n&&ue===0&&Se(B),H}function Il(){var H,se,Z;if(ue++,H=W,se=[],Z=e.charAt(W),P.test(Z)?W++:(Z=n,ue===0&&Se(J)),Z!==n)for(;Z!==n;)se.push(Z),Z=e.charAt(W),P.test(Z)?W++:(Z=n,ue===0&&Se(J));else se=n;return se!==n?H=e.substring(H,W):H=se,ue--,H===n&&(se=n,ue===0&&Se(te)),H}function Xn(){var H,se,Z;for(ue++,H=W,se=[],Z=e.charAt(W),q.test(Z)?W++:(Z=n,ue===0&&Se(ge));Z!==n;)se.push(Z),Z=e.charAt(W),q.test(Z)?W++:(Z=n,ue===0&&Se(ge));return H=e.substring(H,W),ue--,se=n,ue===0&&Se(de),H}function Na(){var H,se,Z;return H=W,se=Ql(),es(),Z=to(),Z===n&&(Z=null),es(),H=ar(se,Z),H}function Ql(){var H,se,Z,ke;for(H=W,se=Ys(),se===n&&(se=null),Z=[],ke=Ji();ke!==n;)Z.push(ke),ke=Ji();return H=Tt(se,Z),H}function Ji(){var H,se,Z,ke,Te,We,On,Zn;if(H=W,es(),Yl(),es(),se=yd(),se!==n){for(Z=$r(),Z===n&&(Z=null),ke=[],Te=ir();Te!==n;)ke.push(Te),Te=ir();for(Te=es(),We=Ys(),We===n&&(We=null),On=[],Zn=Wn();Zn!==n;)On.push(Zn),Zn=Wn();H=gs(se,Z,ke,We,On)}else W=H,H=n;return H}function Yl(){var H,se,Z,ke,Te,We;for(ue++,H=W,se=[],Z=e.charAt(W),U.test(Z)?W++:(Z=n,ue===0&&Se(Ce));Z!==n;)se.push(Z),Z=e.charAt(W),U.test(Z)?W++:(Z=n,ue===0&&Se(Ce));if(e.charCodeAt(W)===46?(Z=p,W++):(Z=n,ue===0&&Se(qe)),Z!==n){for(ke=es(),Te=[],We=e.charAt(W),Q.test(We)?W++:(We=n,ue===0&&Se(St));We!==n;)Te.push(We),We=e.charAt(W),Q.test(We)?W++:(We=n,ue===0&&Se(St));se=[se,Z,ke,Te],H=se}else W=H,H=n;return ue--,H===n&&(se=n,ue===0&&Se(ve)),H}function yd(){var H,se,Z,ke,Te,We;if(ue++,H=W,se=W,e.substr(W,5)===g?(Z=g,W+=5):(Z=n,ue===0&&Se(Ct)),Z===n&&(e.substr(W,3)===v?(Z=v,W+=3):(Z=n,ue===0&&Se(ut)),Z===n&&(e.substr(W,5)===b?(Z=b,W+=5):(Z=n,ue===0&&Se(et)),Z===n&&(e.substr(W,3)===w?(Z=w,W+=3):(Z=n,ue===0&&Se(Pt)),Z===n))))if(Z=W,ke=e.charAt(W),P.test(ke)?W++:(ke=n,ue===0&&Se(J)),ke!==n){if(Te=[],We=e.charAt(W),re.test(We)?W++:(We=n,ue===0&&Se(ms)),We!==n)for(;We!==n;)Te.push(We),We=e.charAt(W),re.test(We)?W++:(We=n,ue===0&&Se(ms));else Te=n;Te!==n?(ke=[ke,Te],Z=ke):(W=Z,Z=n)}else W=Z,Z=n;return Z!==n?(ke=e.charAt(W),ce.test(ke)?W++:(ke=n,ue===0&&Se(Zt)),ke===n&&(ke=null),Z=[Z,ke],se=Z):(W=se,se=n),se!==n?H=e.substring(H,W):H=se,ue--,H===n&&(se=n,ue===0&&Se(nt)),H}function $r(){var H,se,Z;for(ue++,H=W,se=[],Z=e.charAt(W),he.test(Z)?W++:(Z=n,ue===0&&Se(ps));Z!==n;)se.push(Z),se.length>=2?Z=n:(Z=e.charAt(W),he.test(Z)?W++:(Z=n,ue===0&&Se(ps)));return se.length<1?(W=H,H=n):H=se,ue--,H===n&&(se=n,ue===0&&Se(dt)),H}function ir(){var H,se,Z,ke,Te;if(ue++,H=W,es(),e.charCodeAt(W)===36?(se=S,W++):(se=n,ue===0&&Se(ie)),se!==n){if(Z=W,ke=[],Te=e.charAt(W),U.test(Te)?W++:(Te=n,ue===0&&Se(Ce)),Te!==n)for(;Te!==n;)ke.push(Te),Te=e.charAt(W),U.test(Te)?W++:(Te=n,ue===0&&Se(Ce));else ke=n;ke!==n?Z=e.substring(Z,W):Z=ke,Z!==n?H=is(Z):(W=H,H=n)}else W=H,H=n;return ue--,H===n&&ue===0&&Se(me),H}function Ys(){var H;return H=eo(),H===n&&(H=Xl()),H}function eo(){var H,se,Z,ke,Te;if(ue++,H=W,e.charCodeAt(W)===123?(se=N,W++):(se=n,ue===0&&Se(Ae)),se!==n){for(Z=W,ke=[],Te=e.charAt(W),ye.test(Te)?W++:(Te=n,ue===0&&Se(Ee));Te!==n;)ke.push(Te),Te=e.charAt(W),ye.test(Te)?W++:(Te=n,ue===0&&Se(Ee));Z=e.substring(Z,W),e.charCodeAt(W)===125?(ke=T,W++):(ke=n,ue===0&&Se(ot)),ke!==n?H=Qs(Z):(W=H,H=n)}else W=H,H=n;return ue--,H===n&&(se=n,ue===0&&Se(pe)),H}function Xl(){var H,se,Z,ke,Te;if(ue++,H=W,e.charCodeAt(W)===59?(se=A,W++):(se=n,ue===0&&Se(Ue)),se!==n){for(Z=W,ke=[],Te=e.charAt(W),G.test(Te)?W++:(Te=n,ue===0&&Se(Ge));Te!==n;)ke.push(Te),Te=e.charAt(W),G.test(Te)?W++:(Te=n,ue===0&&Se(Ge));Z=e.substring(Z,W),H=os(Z)}else W=H,H=n;return ue--,H===n&&(se=n,ue===0&&Se(Be)),H}function Wn(){var H,se,Z,ke;return ue++,H=W,es(),e.charCodeAt(W)===40?(se=C,W++):(se=n,ue===0&&Se(pt)),se!==n?(Z=Ql(),Z!==n?(es(),e.charCodeAt(W)===41?(ke=E,W++):(ke=n,ue===0&&Se(Ln)),ke!==n?H=Jt(Z):(W=H,H=n)):(W=H,H=n)):(W=H,H=n),ue--,H===n&&ue===0&&Se(xt),H}function to(){var H,se,Z;return ue++,H=W,e.substr(W,3)===_?(se=_,W+=3):(se=n,ue===0&&Se(rt)),se===n&&(e.substr(W,3)===R?(se=R,W+=3):(se=n,ue===0&&Se(gt)),se===n&&(e.substr(W,7)===O?(se=O,W+=7):(se=n,ue===0&&Se(on)),se===n&&(e.charCodeAt(W)===42?(se=z,W++):(se=n,ue===0&&Se(Lt))))),se!==n?(es(),Z=Ys(),Z===n&&(Z=null),H=Ms(se,Z)):(W=H,H=n),ue--,H===n&&(se=n,ue===0&&Se(Xe)),H}function es(){var H,se;for(ue++,H=[],se=e.charAt(W),I.test(se)?W++:(se=n,ue===0&&Se(zs));se!==n;)H.push(se),se=e.charAt(W),I.test(se)?W++:(se=n,ue===0&&Se(zs));return ue--,se=n,ue===0&&Se(Ss),H}if(Rs=c(),t.peg$library)return{peg$result:Rs,peg$currPos:W,peg$FAILED:n,peg$maxFailExpected:it,peg$maxFailPos:Ie};if(Rs!==n&&W===e.length)return Rs;throw Rs!==n&&W<e.length&&Se(Dn()),rr(it,Ie<e.length?e.charAt(Ie):null,Ie<e.length?Qn(Ie,Ie+1):Qn(Ie,Ie))}/**
 * @license
 * Copyright (c) 2025, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const Mu=0xffffffffffffffffn;function rm(e,t){return(e<<t|e>>64n-t)&0xffffffffffffffffn}function N1(e,t){return e*t&Mu}function xL(e){return function(){let t=BigInt(e&Mu),n=BigInt(e>>64n&Mu);const r=N1(rm(N1(t,5n),7n),9n);return n^=t,t=(rm(t,24n)^n^n<<16n)&Mu,n=rm(n,37n),e=n<<64n|t,r}}const gd=xL(0xa187eb39cdcaed8f31c4b365b102e01en),bL=Array.from({length:2},()=>Array.from({length:6},()=>Array.from({length:128},()=>gd()))),wL=Array.from({length:8},()=>gd()),jL=Array.from({length:16},()=>gd()),im=gd(),Ts="w",nn="b",Xt="p",rp="n",Ru="b",il="r",Za="q",as="k",om="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class hu{color;from;to;piece;captured;promotion;flags;san;lan;before;after;constructor(t,n){const{color:r,piece:l,from:c,to:d,flags:f,captured:m,promotion:p}=n,g=ds(c),v=ds(d);this.color=r,this.piece=l,this.from=g,this.to=v,this.san=t._moveToSan(n,t._moves({legal:!0})),this.lan=g+v,this.before=t.fen(),t._makeMove(n),this.after=t.fen(),t._undoMove(),this.flags="";for(const b in ze)ze[b]&f&&(this.flags+=kr[b]);m&&(this.captured=m),p&&(this.promotion=p,this.lan+=p)}isCapture(){return this.flags.indexOf(kr.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(kr.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(kr.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(kr.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(kr.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(kr.BIG_PAWN)>-1}}const bs=-1,kr={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q",NULL_MOVE:"-"},ze={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64,NULL_MOVE:128},ip={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},SL={WhiteTitle:null,BlackTitle:null,WhiteElo:null,BlackElo:null,WhiteUSCF:null,BlackUSCF:null,WhiteNA:null,BlackNA:null,WhiteType:null,BlackType:null,EventDate:null,EventSponsor:null,Section:null,Stage:null,Board:null,Opening:null,Variation:null,SubVariation:null,ECO:null,NIC:null,Time:null,UTCTime:null,UTCDate:null,TimeControl:null,SetUp:null,FEN:null,Termination:null,Annotator:null,Mode:null,PlyCount:null},NL={...ip,...SL},_e={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},lm={b:[16,32,17,15],w:[-16,-32,-17,-15]},k1={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},kL=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],CL=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],TL={p:1,n:2,b:4,r:8,q:16,k:32},AL="pnbrqkPNBRQK",C1=[rp,Ru,il,Za],EL=7,ML=6,RL=1,PL=0,mu={[as]:ze.KSIDE_CASTLE,[Za]:ze.QSIDE_CASTLE},Qa={w:[{square:_e.a1,flag:ze.QSIDE_CASTLE},{square:_e.h1,flag:ze.KSIDE_CASTLE}],b:[{square:_e.a8,flag:ze.QSIDE_CASTLE},{square:_e.h8,flag:ze.KSIDE_CASTLE}]},LL={b:RL,w:ML},cm="--";function Dr(e){return e>>4}function Ml(e){return e&15}function pS(e){return"0123456789".indexOf(e)!==-1}function ds(e){const t=Ml(e),n=Dr(e);return"abcdefgh".substring(t,t+1)+"87654321".substring(n,n+1)}function tl(e){return e===Ts?nn:Ts}function _L(e){const t=e.split(/\s+/);if(t.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const n=parseInt(t[5],10);if(isNaN(n)||n<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const r=parseInt(t[4],10);if(isNaN(r)||r<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(t[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(t[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(t[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const l=t[0].split("/");if(l.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let d=0;d<l.length;d++){let f=0,m=!1;for(let p=0;p<l[d].length;p++)if(pS(l[d][p])){if(m)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};f+=parseInt(l[d][p],10),m=!0}else{if(!/^[prnbqkPRNBQK]$/.test(l[d][p]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};f+=1,m=!1}if(f!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(t[3][1]=="3"&&t[1]=="w"||t[3][1]=="6"&&t[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const c=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:d,regex:f}of c){if(!f.test(t[0]))return{ok:!1,error:`Invalid FEN: missing ${d} king`};if((t[0].match(f)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${d} kings`}}return Array.from(l[0]+l[7]).some(d=>d.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function DL(e,t){const n=e.from,r=e.to,l=e.piece;let c=0,d=0,f=0;for(let m=0,p=t.length;m<p;m++){const g=t[m].from,v=t[m].to,b=t[m].piece;l===b&&n!==g&&r===v&&(c++,Dr(n)===Dr(g)&&d++,Ml(n)===Ml(g)&&f++)}return c>0?d>0&&f>0?ds(n):f>0?ds(n).charAt(1):ds(n).charAt(0):""}function Ya(e,t,n,r,l,c=void 0,d=ze.NORMAL){const f=Dr(r);if(l===Xt&&(f===EL||f===PL))for(let m=0;m<C1.length;m++){const p=C1[m];e.push({color:t,from:n,to:r,piece:l,captured:c,promotion:p,flags:d|ze.PROMOTION})}else e.push({color:t,from:n,to:r,piece:l,captured:c,flags:d})}function T1(e){let t=e.charAt(0);return t>="a"&&t<="h"?e.match(/[a-h]\d.*[a-h]\d/)?void 0:Xt:(t=t.toLowerCase(),t==="o"?as:t)}function um(e){return e.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class kt{_board=new Array(128);_turn=Ts;_header={};_kings={w:bs,b:bs};_epSquare=-1;_halfMoves=0;_moveNumber=0;_history=[];_comments={};_castling={w:0,b:0};_hash=0n;_positionCount=new Map;constructor(t=om,{skipValidation:n=!1}={}){this.load(t,{skipValidation:n})}clear({preserveHeaders:t=!1}={}){this._board=new Array(128),this._kings={w:bs,b:bs},this._turn=Ts,this._castling={w:0,b:0},this._epSquare=bs,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=t?this._header:{...NL},this._hash=this._computeHash(),this._positionCount=new Map,this._header.SetUp=null,this._header.FEN=null}load(t,{skipValidation:n=!1,preserveHeaders:r=!1}={}){let l=t.split(/\s+/);if(l.length>=2&&l.length<6){const f=["-","-","0","1"];t=l.concat(f.slice(-(6-l.length))).join(" ")}if(l=t.split(/\s+/),!n){const{ok:f,error:m}=_L(t);if(!f)throw new Error(m)}const c=l[0];let d=0;this.clear({preserveHeaders:r});for(let f=0;f<c.length;f++){const m=c.charAt(f);if(m==="/")d+=8;else if(pS(m))d+=parseInt(m,10);else{const p=m<"a"?Ts:nn;this._put({type:m.toLowerCase(),color:p},ds(d)),d++}}this._turn=l[1],l[2].indexOf("K")>-1&&(this._castling.w|=ze.KSIDE_CASTLE),l[2].indexOf("Q")>-1&&(this._castling.w|=ze.QSIDE_CASTLE),l[2].indexOf("k")>-1&&(this._castling.b|=ze.KSIDE_CASTLE),l[2].indexOf("q")>-1&&(this._castling.b|=ze.QSIDE_CASTLE),this._epSquare=l[3]==="-"?bs:_e[l[3]],this._halfMoves=parseInt(l[4],10),this._moveNumber=parseInt(l[5],10),this._hash=this._computeHash(),this._updateSetup(t),this._incPositionCount()}fen({forceEnpassantSquare:t=!1}={}){let n=0,r="";for(let d=_e.a8;d<=_e.h1;d++){if(this._board[d]){n>0&&(r+=n,n=0);const{color:f,type:m}=this._board[d];r+=f===Ts?m.toUpperCase():m.toLowerCase()}else n++;d+1&136&&(n>0&&(r+=n),d!==_e.h1&&(r+="/"),n=0,d+=8)}let l="";this._castling[Ts]&ze.KSIDE_CASTLE&&(l+="K"),this._castling[Ts]&ze.QSIDE_CASTLE&&(l+="Q"),this._castling[nn]&ze.KSIDE_CASTLE&&(l+="k"),this._castling[nn]&ze.QSIDE_CASTLE&&(l+="q"),l=l||"-";let c="-";if(this._epSquare!==bs)if(t)c=ds(this._epSquare);else{const d=this._epSquare+(this._turn===Ts?16:-16),f=[d+1,d-1];for(const m of f){if(m&136)continue;const p=this._turn;if(this._board[m]?.color===p&&this._board[m]?.type===Xt){this._makeMove({color:p,from:m,to:this._epSquare,piece:Xt,captured:Xt,flags:ze.EP_CAPTURE});const g=!this._isKingAttacked(p);if(this._undoMove(),g){c=ds(this._epSquare);break}}}}return[r,this._turn,l,c,this._halfMoves,this._moveNumber].join(" ")}_pieceKey(t){if(!this._board[t])return 0n;const{color:n,type:r}=this._board[t],l={w:0,b:1}[n],c={p:0,n:1,b:2,r:3,q:4,k:5}[r];return bL[l][c][t]}_epKey(){return this._epSquare===bs?0n:wL[this._epSquare&7]}_castlingKey(){const t=this._castling.w>>5|this._castling.b>>3;return jL[t]}_computeHash(){let t=0n;for(let n=_e.a8;n<=_e.h1;n++){if(n&136){n+=7;continue}this._board[n]&&(t^=this._pieceKey(n))}return t^=this._epKey(),t^=this._castlingKey(),this._turn==="b"&&(t^=im),t}_updateSetup(t){this._history.length>0||(t!==om?(this._header.SetUp="1",this._header.FEN=t):(this._header.SetUp=null,this._header.FEN=null))}reset(){this.load(om)}get(t){return this._board[_e[t]]}findPiece(t){const n=[];for(let r=_e.a8;r<=_e.h1;r++){if(r&136){r+=7;continue}!this._board[r]||this._board[r]?.color!==t.color||this._board[r].color===t.color&&this._board[r].type===t.type&&n.push(ds(r))}return n}put({type:t,color:n},r){return this._put({type:t,color:n},r)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_set(t,n){this._hash^=this._pieceKey(t),this._board[t]=n,this._hash^=this._pieceKey(t)}_put({type:t,color:n},r){if(AL.indexOf(t.toLowerCase())===-1||!(r in _e))return!1;const l=_e[r];if(t==as&&!(this._kings[n]==bs||this._kings[n]==l))return!1;const c=this._board[l];return c&&c.type===as&&(this._kings[c.color]=bs),this._set(l,{type:t,color:n}),t===as&&(this._kings[n]=l),!0}_clear(t){this._hash^=this._pieceKey(t),delete this._board[t]}remove(t){const n=this.get(t);return this._clear(_e[t]),n&&n.type===as&&(this._kings[n.color]=bs),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),n}_updateCastlingRights(){this._hash^=this._castlingKey();const t=this._board[_e.e1]?.type===as&&this._board[_e.e1]?.color===Ts,n=this._board[_e.e8]?.type===as&&this._board[_e.e8]?.color===nn;(!t||this._board[_e.a1]?.type!==il||this._board[_e.a1]?.color!==Ts)&&(this._castling.w&=-65),(!t||this._board[_e.h1]?.type!==il||this._board[_e.h1]?.color!==Ts)&&(this._castling.w&=-33),(!n||this._board[_e.a8]?.type!==il||this._board[_e.a8]?.color!==nn)&&(this._castling.b&=-65),(!n||this._board[_e.h8]?.type!==il||this._board[_e.h8]?.color!==nn)&&(this._castling.b&=-33),this._hash^=this._castlingKey()}_updateEnPassantSquare(){if(this._epSquare===bs)return;const t=this._epSquare+(this._turn===Ts?-16:16),n=this._epSquare+(this._turn===Ts?16:-16),r=[n+1,n-1];if(this._board[t]!==null||this._board[this._epSquare]!==null||this._board[n]?.color!==tl(this._turn)||this._board[n]?.type!==Xt){this._hash^=this._epKey(),this._epSquare=bs;return}const l=c=>!(c&136)&&this._board[c]?.color===this._turn&&this._board[c]?.type===Xt;r.some(l)||(this._hash^=this._epKey(),this._epSquare=bs)}_attacked(t,n,r){const l=[];for(let c=_e.a8;c<=_e.h1;c++){if(c&136){c+=7;continue}if(this._board[c]===void 0||this._board[c].color!==t)continue;const d=this._board[c],f=c-n;if(f===0)continue;const m=f+119;if(kL[m]&TL[d.type]){if(d.type===Xt){if(f>0&&d.color===Ts||f<=0&&d.color===nn)if(r)l.push(ds(c));else return!0;continue}if(d.type==="n"||d.type==="k")if(r){l.push(ds(c));continue}else return!0;const p=CL[m];let g=c+p,v=!1;for(;g!==n;){if(this._board[g]!=null){v=!0;break}g+=p}if(!v)if(r){l.push(ds(c));continue}else return!0}}return r?l:!1}attackers(t,n){return n?this._attacked(n,_e[t],!0):this._attacked(this._turn,_e[t],!0)}_isKingAttacked(t){const n=this._kings[t];return n===-1?!1:this._attacked(tl(t),n)}hash(){return this._hash.toString(16)}isAttacked(t,n){return this._attacked(n,_e[t])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const t={b:0,n:0,r:0,q:0,k:0,p:0},n=[];let r=0,l=0;for(let c=_e.a8;c<=_e.h1;c++){if(l=(l+1)%2,c&136){c+=7;continue}const d=this._board[c];d&&(t[d.type]=d.type in t?t[d.type]+1:1,d.type===Ru&&n.push(l),r++)}if(r===2)return!0;if(r===3&&(t[Ru]===1||t[rp]===1))return!0;if(r===t[Ru]+2){let c=0;const d=n.length;for(let f=0;f<d;f++)c+=n[f];if(c===0||c===d)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this._hash)>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isDraw()}moves({verbose:t=!1,square:n=void 0,piece:r=void 0}={}){const l=this._moves({square:n,piece:r});return t?l.map(c=>new hu(this,c)):l.map(c=>this._moveToSan(c,l))}_moves({legal:t=!0,piece:n=void 0,square:r=void 0}={}){const l=r?r.toLowerCase():void 0,c=n?.toLowerCase(),d=[],f=this._turn,m=tl(f);let p=_e.a8,g=_e.h1,v=!1;if(l)if(l in _e)p=g=_e[l],v=!0;else return[];for(let w=p;w<=g;w++){if(w&136){w+=7;continue}if(!this._board[w]||this._board[w].color===m)continue;const{type:S}=this._board[w];let N;if(S===Xt){if(c&&c!==S)continue;N=w+lm[f][0],this._board[N]||(Ya(d,f,w,N,Xt),N=w+lm[f][1],LL[f]===Dr(w)&&!this._board[N]&&Ya(d,f,w,N,Xt,void 0,ze.BIG_PAWN));for(let T=2;T<4;T++)N=w+lm[f][T],!(N&136)&&(this._board[N]?.color===m?Ya(d,f,w,N,Xt,this._board[N].type,ze.CAPTURE):N===this._epSquare&&Ya(d,f,w,N,Xt,Xt,ze.EP_CAPTURE))}else{if(c&&c!==S)continue;for(let T=0,A=k1[S].length;T<A;T++){const C=k1[S][T];for(N=w;N+=C,!(N&136);){if(!this._board[N])Ya(d,f,w,N,S);else{if(this._board[N].color===f)break;Ya(d,f,w,N,S,this._board[N].type,ze.CAPTURE);break}if(S===rp||S===as)break}}}}if((c===void 0||c===as)&&(!v||g===this._kings[f])){if(this._castling[f]&ze.KSIDE_CASTLE){const w=this._kings[f],S=w+2;!this._board[w+1]&&!this._board[S]&&!this._attacked(m,this._kings[f])&&!this._attacked(m,w+1)&&!this._attacked(m,S)&&Ya(d,f,this._kings[f],S,as,void 0,ze.KSIDE_CASTLE)}if(this._castling[f]&ze.QSIDE_CASTLE){const w=this._kings[f],S=w-2;!this._board[w-1]&&!this._board[w-2]&&!this._board[w-3]&&!this._attacked(m,this._kings[f])&&!this._attacked(m,w-1)&&!this._attacked(m,S)&&Ya(d,f,this._kings[f],S,as,void 0,ze.QSIDE_CASTLE)}}if(!t||this._kings[f]===-1)return d;const b=[];for(let w=0,S=d.length;w<S;w++)this._makeMove(d[w]),this._isKingAttacked(f)||b.push(d[w]),this._undoMove();return b}move(t,{strict:n=!1}={}){let r=null;if(typeof t=="string")r=this._moveFromSan(t,n);else if(t===null)r=this._moveFromSan(cm,n);else if(typeof t=="object"){const c=this._moves();for(let d=0,f=c.length;d<f;d++)if(t.from===ds(c[d].from)&&t.to===ds(c[d].to)&&(!("promotion"in c[d])||t.promotion===c[d].promotion)){r=c[d];break}}if(!r)throw typeof t=="string"?new Error(`Invalid move: ${t}`):new Error(`Invalid move: ${JSON.stringify(t)}`);if(this.isCheck()&&r.flags&ze.NULL_MOVE)throw new Error("Null move not allowed when in check");const l=new hu(this,r);return this._makeMove(r),this._incPositionCount(),l}_push(t){this._history.push({move:t,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_movePiece(t,n){this._hash^=this._pieceKey(t),this._board[n]=this._board[t],delete this._board[t],this._hash^=this._pieceKey(n)}_makeMove(t){const n=this._turn,r=tl(n);if(this._push(t),t.flags&ze.NULL_MOVE){n===nn&&this._moveNumber++,this._halfMoves++,this._turn=r,this._epSquare=bs;return}if(this._hash^=this._epKey(),this._hash^=this._castlingKey(),t.captured&&(this._hash^=this._pieceKey(t.to)),this._movePiece(t.from,t.to),t.flags&ze.EP_CAPTURE&&(this._turn===nn?this._clear(t.to-16):this._clear(t.to+16)),t.promotion&&(this._clear(t.to),this._set(t.to,{type:t.promotion,color:n})),this._board[t.to].type===as){if(this._kings[n]=t.to,t.flags&ze.KSIDE_CASTLE){const l=t.to-1,c=t.to+1;this._movePiece(c,l)}else if(t.flags&ze.QSIDE_CASTLE){const l=t.to+1,c=t.to-2;this._movePiece(c,l)}this._castling[n]=0}if(this._castling[n]){for(let l=0,c=Qa[n].length;l<c;l++)if(t.from===Qa[n][l].square&&this._castling[n]&Qa[n][l].flag){this._castling[n]^=Qa[n][l].flag;break}}if(this._castling[r]){for(let l=0,c=Qa[r].length;l<c;l++)if(t.to===Qa[r][l].square&&this._castling[r]&Qa[r][l].flag){this._castling[r]^=Qa[r][l].flag;break}}if(this._hash^=this._castlingKey(),t.flags&ze.BIG_PAWN){let l;n===nn?l=t.to-16:l=t.to+16,!(t.to-1&136)&&this._board[t.to-1]?.type===Xt&&this._board[t.to-1]?.color===r||!(t.to+1&136)&&this._board[t.to+1]?.type===Xt&&this._board[t.to+1]?.color===r?(this._epSquare=l,this._hash^=this._epKey()):this._epSquare=bs}else this._epSquare=bs;t.piece===Xt?this._halfMoves=0:t.flags&(ze.CAPTURE|ze.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,n===nn&&this._moveNumber++,this._turn=r,this._hash^=im}undo(){const t=this._hash,n=this._undoMove();if(n){const r=new hu(this,n);return this._decPositionCount(t),r}return null}_undoMove(){const t=this._history.pop();if(t===void 0)return null;this._hash^=this._epKey(),this._hash^=this._castlingKey();const n=t.move;this._kings=t.kings,this._turn=t.turn,this._castling=t.castling,this._epSquare=t.epSquare,this._halfMoves=t.halfMoves,this._moveNumber=t.moveNumber,this._hash^=this._epKey(),this._hash^=this._castlingKey(),this._hash^=im;const r=this._turn,l=tl(r);if(n.flags&ze.NULL_MOVE)return n;if(this._movePiece(n.to,n.from),n.piece&&(this._clear(n.from),this._set(n.from,{type:n.piece,color:r})),n.captured)if(n.flags&ze.EP_CAPTURE){let c;r===nn?c=n.to-16:c=n.to+16,this._set(c,{type:Xt,color:l})}else this._set(n.to,{type:n.captured,color:l});if(n.flags&(ze.KSIDE_CASTLE|ze.QSIDE_CASTLE)){let c,d;n.flags&ze.KSIDE_CASTLE?(c=n.to+1,d=n.to-1):(c=n.to-2,d=n.to+1),this._movePiece(d,c)}return n}pgn({newline:t=`
`,maxWidth:n=0}={}){const r=[];let l=!1;for(const b in this._header)this._header[b]&&r.push(`[${b} "${this._header[b]}"]`+t),l=!0;l&&this._history.length&&r.push(t);const c=b=>{const w=this._comments[this.fen()];if(typeof w<"u"){const S=b.length>0?" ":"";b=`${b}${S}{${w}}`}return b},d=[];for(;this._history.length>0;)d.push(this._undoMove());const f=[];let m="";for(d.length===0&&f.push(c(""));d.length>0;){m=c(m);const b=d.pop();if(!b)break;if(!this._history.length&&b.color==="b"){const w=`${this._moveNumber}. ...`;m=m?`${m} ${w}`:w}else b.color==="w"&&(m.length&&f.push(m),m=this._moveNumber+".");m=m+" "+this._moveToSan(b,this._moves({legal:!0})),this._makeMove(b)}if(m.length&&f.push(c(m)),f.push(this._header.Result||"*"),n===0)return r.join("")+f.join(" ");const p=function(){return r.length>0&&r[r.length-1]===" "?(r.pop(),!0):!1},g=function(b,w){for(const S of w.split(" "))if(S){if(b+S.length>n){for(;p();)b--;r.push(t),b=0}r.push(S),b+=S.length,r.push(" "),b++}return p()&&b--,b};let v=0;for(let b=0;b<f.length;b++){if(v+f[b].length>n&&f[b].includes("{")){v=g(v,f[b]);continue}v+f[b].length>n&&b!==0?(r[r.length-1]===" "&&r.pop(),r.push(t),v=0):b!==0&&(r.push(" "),v++),r.push(f[b]),v+=f[b].length}return r.join("")}header(...t){for(let n=0;n<t.length;n+=2)typeof t[n]=="string"&&typeof t[n+1]=="string"&&(this._header[t[n]]=t[n+1]);return this._header}setHeader(t,n){return this._header[t]=n??ip[t]??null,this.getHeaders()}removeHeader(t){return t in this._header?(this._header[t]=ip[t]||null,!0):!1}getHeaders(){const t={};for(const[n,r]of Object.entries(this._header))r!==null&&(t[n]=r);return t}loadPgn(t,{strict:n=!1,newlineChar:r=`\r?
`}={}){r!==`\r?
`&&(t=t.replace(new RegExp(r,"g"),`
`));const l=vL(t);this.reset();const c=l.headers;let d="";for(const p in c)p.toLowerCase()==="fen"&&(d=c[p]),this.header(p,c[p]);if(!n)d&&this.load(d,{preserveHeaders:!0});else if(c.SetUp==="1"){if(!("FEN"in c))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(c.FEN,{preserveHeaders:!0})}let f=l.root;for(;f;){if(f.move){const p=this._moveFromSan(f.move,n);if(p==null)throw new Error(`Invalid move in PGN: ${f.move}`);this._makeMove(p),this._incPositionCount()}f.comment!==void 0&&(this._comments[this.fen()]=f.comment),f=f.variations[0]}const m=l.result;m&&Object.keys(this._header).length&&this._header.Result!==m&&this.setHeader("Result",m)}_moveToSan(t,n){let r="";if(t.flags&ze.KSIDE_CASTLE)r="O-O";else if(t.flags&ze.QSIDE_CASTLE)r="O-O-O";else{if(t.flags&ze.NULL_MOVE)return cm;if(t.piece!==Xt){const l=DL(t,n);r+=t.piece.toUpperCase()+l}t.flags&(ze.CAPTURE|ze.EP_CAPTURE)&&(t.piece===Xt&&(r+=ds(t.from)[0]),r+="x"),r+=ds(t.to),t.promotion&&(r+="="+t.promotion.toUpperCase())}return this._makeMove(t),this.isCheck()&&(this.isCheckmate()?r+="#":r+="+"),this._undoMove(),r}_moveFromSan(t,n=!1){let r=um(t);if(n||(r==="0-0"?r="O-O":r==="0-0-0"&&(r="O-O-O")),r==cm)return{color:this._turn,from:0,to:0,piece:"k",flags:ze.NULL_MOVE};let l=T1(r),c=this._moves({legal:!0,piece:l});for(let b=0,w=c.length;b<w;b++)if(r===um(this._moveToSan(c[b],c)))return c[b];if(n)return null;let d,f,m,p,g,v=!1;if(f=r.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),f?(d=f[1],m=f[2],p=f[3],g=f[4],m.length==1&&(v=!0)):(f=r.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),f&&(d=f[1],m=f[2],p=f[3],g=f[4],m.length==1&&(v=!0))),l=T1(r),c=this._moves({legal:!0,piece:d||l}),!p)return null;for(let b=0,w=c.length;b<w;b++)if(m){if((!d||d.toLowerCase()==c[b].piece)&&_e[m]==c[b].from&&_e[p]==c[b].to&&(!g||g.toLowerCase()==c[b].promotion))return c[b];if(v){const S=ds(c[b].from);if((!d||d.toLowerCase()==c[b].piece)&&_e[p]==c[b].to&&(m==S[0]||m==S[1])&&(!g||g.toLowerCase()==c[b].promotion))return c[b]}}else if(r===um(this._moveToSan(c[b],c)).replace("x",""))return c[b];return null}ascii(){let t=`   +------------------------+
`;for(let n=_e.a8;n<=_e.h1;n++){if(Ml(n)===0&&(t+=" "+"87654321"[Dr(n)]+" |"),this._board[n]){const r=this._board[n].type,c=this._board[n].color===Ts?r.toUpperCase():r.toLowerCase();t+=" "+c+" "}else t+=" . ";n+1&136&&(t+=`|
`,n+=8)}return t+=`   +------------------------+
`,t+="     a  b  c  d  e  f  g  h",t}perft(t){const n=this._moves({legal:!1});let r=0;const l=this._turn;for(let c=0,d=n.length;c<d;c++)this._makeMove(n[c]),this._isKingAttacked(l)||(t-1>0?r+=this.perft(t-1):r++),this._undoMove();return r}setTurn(t){return this._turn==t?!1:(this.move("--"),!0)}turn(){return this._turn}board(){const t=[];let n=[];for(let r=_e.a8;r<=_e.h1;r++)this._board[r]==null?n.push(null):n.push({square:ds(r),type:this._board[r].type,color:this._board[r].color}),r+1&136&&(t.push(n),n=[],r+=8);return t}squareColor(t){if(t in _e){const n=_e[t];return(Dr(n)+Ml(n))%2===0?"light":"dark"}return null}history({verbose:t=!1}={}){const n=[],r=[];for(;this._history.length>0;)n.push(this._undoMove());for(;;){const l=n.pop();if(!l)break;t?r.push(new hu(this,l)):r.push(this._moveToSan(l,this._moves())),this._makeMove(l)}return r}_getPositionCount(t){return this._positionCount.get(t)??0}_incPositionCount(){this._positionCount.set(this._hash,(this._positionCount.get(this._hash)??0)+1)}_decPositionCount(t){const n=this._positionCount.get(t)??0;n===1?this._positionCount.delete(t):this._positionCount.set(t,n-1)}_pruneComments(){const t=[],n={},r=l=>{l in this._comments&&(n[l]=this._comments[l])};for(;this._history.length>0;)t.push(this._undoMove());for(r(this.fen());;){const l=t.pop();if(!l)break;this._makeMove(l),r(this.fen())}this._comments=n}getComment(){return this._comments[this.fen()]}setComment(t){this._comments[this.fen()]=t.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const t=this._comments[this.fen()];return delete this._comments[this.fen()],t}getComments(){return this._pruneComments(),Object.keys(this._comments).map(t=>({fen:t,comment:this._comments[t]}))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map(t=>{const n=this._comments[t];return delete this._comments[t],{fen:t,comment:n}})}setCastlingRights(t,n){for(const l of[as,Za])n[l]!==void 0&&(n[l]?this._castling[t]|=mu[l]:this._castling[t]&=~mu[l]);this._updateCastlingRights();const r=this.getCastlingRights(t);return(n[as]===void 0||n[as]===r[as])&&(n[Za]===void 0||n[Za]===r[Za])}getCastlingRights(t){return{[as]:(this._castling[t]&mu[as])!==0,[Za]:(this._castling[t]&mu[Za])!==0}}moveNumber(){return this._moveNumber}}class OL{sounds=new Map;enabled=!0;masterVolume=.7;soundConfig={};constructor(){this.initializeSounds(),this.loadUserPreferences()}initializeSounds(){const t={move:this.createTone(200,.1,"sine"),capture:this.createTone(150,.15,"square"),check:this.createTone(400,.2,"triangle"),checkmate:this.createTone(100,.5,"sawtooth"),gameStart:this.createChord([262,330,392],.3),gameWin:this.createChord([523,659,784],.4),gameLose:this.createTone(100,.4,"sawtooth"),buttonClick:this.createTone(800,.05,"square"),buttonHover:this.createTone(1e3,.03,"sine"),levelUp:this.createChord([523,659,784,1047],.6),achievement:this.createChord([392,494,587,698],.5),puzzleSolved:this.createChord([523,659,784],.3),puzzleError:this.createTone(150,.2,"square"),lessonComplete:this.createChord([440,554,659],.4),xpGain:this.createTone(600,.1,"sine"),streakBonus:this.createChord([659,784,988],.3),notification:this.createTone(800,.1,"triangle"),success:this.createChord([523,659],.2),error:this.createTone(200,.3,"square"),whoosh:this.createNoise(.1),pop:this.createTone(400,.05,"sine"),ding:this.createTone(1200,.1,"triangle")};Object.entries(t).forEach(([n,r])=>{this.soundConfig[n]=r})}createTone(t,n,r="sine"){return`data:audio/wav;base64,${this.generateToneDataURL(t,n,r)}`}createChord(t,n){return`data:audio/wav;base64,${this.generateChordDataURL(t,n)}`}createNoise(t){return`data:audio/wav;base64,${this.generateNoiseDataURL(t)}`}generateToneDataURL(t,n,r){return"UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA="}generateChordDataURL(t,n){return"UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA="}generateNoiseDataURL(t){return"UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA="}loadUserPreferences(){const t=localStorage.getItem("chess-audio-enabled"),n=localStorage.getItem("chess-audio-volume");t!==null&&(this.enabled=JSON.parse(t)),n!==null&&(this.masterVolume=parseFloat(n))}saveUserPreferences(){localStorage.setItem("chess-audio-enabled",JSON.stringify(this.enabled)),localStorage.setItem("chess-audio-volume",this.masterVolume.toString())}async playSound(t,n=1){if(!this.enabled){console.log("AudioService: Audio disabled, skipping sound:",t);return}try{console.log("AudioService: Playing sound:",t);const r=new(window.AudioContext||window.webkitAudioContext);r.state==="suspended"&&await r.resume();const l=r.createOscillator(),c=r.createGain();l.connect(c),c.connect(r.destination);const d=this.getSoundConfig(t);l.frequency.setValueAtTime(d.frequency,r.currentTime),l.type=d.type,c.gain.setValueAtTime(0,r.currentTime),c.gain.linearRampToValueAtTime(this.masterVolume*n*d.volume,r.currentTime+.01),c.gain.exponentialRampToValueAtTime(.01,r.currentTime+d.duration),l.start(r.currentTime),l.stop(r.currentTime+d.duration)}catch(r){console.warn("Audio playback failed:",r)}}getSoundConfig(t){const n={move:{frequency:200,type:"sine",duration:.1,volume:.3},capture:{frequency:150,type:"square",duration:.15,volume:.4},check:{frequency:400,type:"triangle",duration:.2,volume:.5},checkmate:{frequency:100,type:"sawtooth",duration:.5,volume:.6},gameStart:{frequency:330,type:"sine",duration:.3,volume:.4},gameWin:{frequency:523,type:"sine",duration:.4,volume:.5},gameLose:{frequency:100,type:"sawtooth",duration:.4,volume:.4},buttonClick:{frequency:800,type:"square",duration:.05,volume:.2},buttonHover:{frequency:1e3,type:"sine",duration:.03,volume:.1},levelUp:{frequency:523,type:"sine",duration:.6,volume:.6},achievement:{frequency:392,type:"triangle",duration:.5,volume:.5},puzzleSolved:{frequency:523,type:"sine",duration:.3,volume:.4},puzzleError:{frequency:150,type:"square",duration:.2,volume:.3},lessonComplete:{frequency:440,type:"sine",duration:.4,volume:.4},xpGain:{frequency:600,type:"sine",duration:.1,volume:.3},streakBonus:{frequency:659,type:"triangle",duration:.3,volume:.4},notification:{frequency:800,type:"triangle",duration:.1,volume:.3},success:{frequency:523,type:"sine",duration:.2,volume:.3},error:{frequency:200,type:"square",duration:.3,volume:.4},whoosh:{frequency:300,type:"sawtooth",duration:.1,volume:.2},pop:{frequency:400,type:"sine",duration:.05,volume:.2},ding:{frequency:1200,type:"triangle",duration:.1,volume:.3}};return n[t]||n.buttonClick}playMoveSound(t=!1){this.playSound(t?"capture":"move")}playGameStateSound(t){this.playSound(t==="start"?"gameStart":t==="win"?"gameWin":t==="lose"?"gameLose":t==="checkmate"?"checkmate":"check")}playUISound(t){const n={click:"buttonClick",hover:"buttonHover",success:"success",error:"error",notification:"notification"};this.playSound(n[t])}playGamificationSound(t){const n={xp:"xpGain",levelUp:"levelUp",achievement:"achievement",puzzleSolved:"puzzleSolved",lessonComplete:"lessonComplete",streak:"streakBonus"};this.playSound(n[t])}setEnabled(t){this.enabled=t,this.saveUserPreferences()}setMasterVolume(t){this.masterVolume=Math.max(0,Math.min(1,t)),this.saveUserPreferences()}isEnabled(){return this.enabled}getMasterVolume(){return this.masterVolume}async playSequence(t){for(const{sound:n,delay:r,volume:l}of t)setTimeout(()=>this.playSound(n,l),r)}playCelebration(){this.playSequence([{sound:"success",delay:0},{sound:"ding",delay:200},{sound:"achievement",delay:400}])}}const hs=new OL,zL={p:"Pawn",r:"Rook",n:"Knight",b:"Bishop",q:"Queen",k:"King"},BL={p:["The only piece that captures differently than it moves!","Can promote to any piece except King when reaching the end","En passant is a special pawn capture rule","Pawns are the soul of chess - Philidor"],r:["Worth about 5 points in material value","Most powerful on open files and ranks","Can castle with the King for safety","Rook and King vs King is a basic checkmate"],n:["The only piece that can jump over others","Always lands on opposite colored squares","Worth about 3 points in material value","Knights on the rim are dim!"],b:["Each player starts with one light and one dark-squared bishop","Worth about 3 points in material value","Long diagonal bishops can be very powerful","Bishop pair advantage in open positions"],q:["The most powerful piece, worth about 9 points","Combines the power of Rook and Bishop","Don't bring your Queen out too early!","Queen sacrifices can lead to brilliant combinations"],k:["The most important piece - must be protected","Can move one square in any direction","Castling helps keep the King safe","In endgames, the King becomes an active piece"]},qL={f7:"This is the weakest square in Black's position!",h7:"A common target for mating attacks",g7:"The fianchetto square for Black's bishop",b7:"The fianchetto square for Black's bishop",f2:"This is the weakest square in White's position!",h2:"A common target for mating attacks",g2:"The fianchetto square for White's bishop",b2:"The fianchetto square for White's bishop",e4:"Best by test - Bobby Fischer's favorite!",d4:"The Queen's Gambit starts here",e5:"The most popular response to 1.e4",d5:"Challenging the center immediately",c4:"The English Opening - flexible and strategic",f4:"The King's Gambit - aggressive and romantic",c5:"The Sicilian Defense - Black's most ambitious reply"},UL=({piece:e,color:t,square:n,show:r,position:l,classicFact:c})=>{if(!r)return null;const d=zL[e],f=t==="w"?"White":"Black",m=BL[e],p=m[Math.floor(Math.random()*m.length)],g=qL[n];return i.jsxs("div",{className:"absolute z-50 bg-gray-900 text-white text-xs rounded-lg p-3 shadow-xl border border-gray-700 max-w-xs pointer-events-none",style:{left:l.x+10,top:l.y-10,transform:"translateY(-100%)"},children:[i.jsxs("div",{className:"font-bold text-yellow-300 mb-1",children:[f," ",d]}),i.jsxs("div",{className:"text-gray-300 mb-2",children:["Square: ",i.jsx("span",{className:"font-mono font-bold",children:n.toUpperCase()})]}),i.jsxs("div",{className:"text-blue-200 text-xs mb-1",children:["💡 ",p]}),g&&i.jsxs("div",{className:"text-green-200 text-xs border-t border-gray-600 pt-1",children:["🏰 ",g]}),c&&i.jsxs("div",{className:"text-purple-200 text-xs border-t border-gray-600 pt-1",children:["⭐ ",c]}),i.jsx("div",{className:"absolute top-full left-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-900"})]})},VL=({game:e,onHighlightSquare:t,onShowHint:n,disabled:r=!1,maxAttempts:l=5})=>{const[c,d]=x.useState(0),[f,m]=x.useState(!1),[p,g]=x.useState(0),[v,b]=x.useState(!1);x.useEffect(()=>{if(r)return;let A;return(()=>{m(!0),g(10),A=window.setInterval(()=>{g(E=>E<=1?(m(!1),b(!0),0):E-1)},1e3)})(),()=>{A&&clearInterval(A),m(!1)}},[e.fen(),r]),x.useEffect(()=>{d(0),b(!1)},[e.fen()]);const w=()=>{const A=e.moves({verbose:!0});return A.length===0?null:A.sort((E,_)=>{let R=0,O=0;E.captured&&(R+=10),_.captured&&(O+=10),E.san.includes("+")&&(R+=8),_.san.includes("+")&&(O+=8);const z=["e4","e5","d4","d5","f4","f5","c4","c5"];return z.includes(E.to)&&(R+=5),z.includes(_.to)&&(O+=5),(E.piece==="n"||E.piece==="b")&&(R+=3),(_.piece==="n"||_.piece==="b")&&(O+=3),O-R})[0]},S=A=>{const C=w();if(!C)return"No moves available!";const E=[`Look for moves with your ${C.piece==="p"?"pawn":C.piece==="n"?"knight":C.piece==="b"?"bishop":C.piece==="r"?"rook":C.piece==="q"?"queen":"king"}`,`Consider the ${C.from} square`,`Try moving from ${C.from}`,`Move your piece to ${C.to}`,`The best move is ${C.san}!`];return E[Math.min(A,E.length-1)]},N=()=>{if(c>=l||r)return;const A=c+1;d(A);const C=w();C&&(A<=2?(t(C.from),n(S(A-1))):A<=4?(t(C.from),setTimeout(()=>t(C.to),500),n(S(A-1))):(t(C.from),setTimeout(()=>t(C.to),500),n(S(4))))},T=c<l&&!r;return i.jsxs("div",{className:"relative",children:[f&&!v&&i.jsx("div",{className:"fixed top-4 right-4 z-50 bg-yellow-100 border border-yellow-400 rounded-lg p-3 shadow-lg",children:i.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[i.jsx(j5,{className:"h-4 w-4"}),i.jsxs("span",{className:"text-sm",children:["Need help? Auto-hint in ",i.jsxs("span",{className:"font-bold",children:[p,"s"]})]})]})}),v&&T&&i.jsx("div",{className:"fixed top-4 right-4 z-50 bg-blue-100 border border-blue-400 rounded-lg p-3 shadow-lg animate-pulse",children:i.jsxs("div",{className:"flex items-center gap-2 text-blue-800",children:[i.jsx(l5,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm font-medium",children:"Help is available!"})]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(fe,{onClick:N,disabled:!T,variant:v?"primary":"outline",size:"sm",className:`${v?"animate-bounce":""} ${T?"":"opacity-50 cursor-not-allowed"}`,children:[i.jsx(er,{className:"h-4 w-4 mr-1"}),"Help (",l-c," left)"]}),c>0&&i.jsxs("div",{className:"text-xs text-gray-600",children:["Hints used: ",c,"/",l]})]})]})},gS=({show:e,onComplete:t})=>{const[n]=x.useState(()=>Array.from({length:50},(r,l)=>({id:l,x:Math.random()*100,y:Math.random()*100,rotation:Math.random()*360,scale:.5+Math.random()*.5,color:["#FFD700","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7"][Math.floor(Math.random()*6)]})));return x.useEffect(()=>{if(e){const r=setTimeout(()=>{t?.()},3e3);return()=>clearTimeout(r)}},[e,t]),i.jsx(Sa,{children:e&&i.jsx("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",children:n.map(r=>i.jsx(xe.div,{className:"absolute w-2 h-2 rounded",style:{left:`${r.x}%`,backgroundColor:r.color},initial:{y:-20,rotate:0,scale:0},animate:{y:window.innerHeight+20,rotate:r.rotation*4,scale:r.scale},transition:{duration:2+Math.random()*2,ease:"easeOut"}},r.id))})})},yS=({show:e,message:t,type:n,onComplete:r})=>{const l=()=>{switch(n){case"brilliant":return{bg:"bg-gradient-to-r from-purple-500 to-pink-500",text:"text-white",emoji:"🎯",animation:"animate-bounce"};case"excellent":return{bg:"bg-gradient-to-r from-green-500 to-emerald-500",text:"text-white",emoji:"⭐",animation:"animate-pulse"};case"great":return{bg:"bg-gradient-to-r from-blue-500 to-cyan-500",text:"text-white",emoji:"🎉",animation:"animate-bounce"};case"good":return{bg:"bg-gradient-to-r from-yellow-500 to-orange-500",text:"text-white",emoji:"👏",animation:"animate-pulse"};case"win":return{bg:"bg-gradient-to-r from-yellow-400 via-yellow-500 to-yellow-600",text:"text-black",emoji:"🏆",animation:"animate-bounce"};default:return{bg:"bg-blue-500",text:"text-white",emoji:"🎯",animation:"animate-pulse"}}};x.useEffect(()=>{if(e){const d=setTimeout(()=>{r?.()},2e3);return()=>clearTimeout(d)}},[e,r]);const c=l();return i.jsx(Sa,{children:e&&i.jsx(xe.div,{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:300,damping:25},children:i.jsx("div",{className:`${c.bg} ${c.text} px-6 py-4 rounded-xl shadow-2xl ${c.animation}`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-2xl",children:c.emoji}),i.jsx("span",{className:"font-bold text-lg",children:t})]})})})})},$L=({show:e,children:t})=>(x.useEffect(()=>{e&&"vibrate"in navigator&&navigator.vibrate([100,50,100])},[e]),i.jsx(xe.div,{animate:e?{x:[-5,5,-5,5,0]}:{},transition:{duration:.4},children:t})),GL=({show:e,message:t})=>i.jsx(Sa,{children:e&&i.jsx(xe.div,{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-40",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:i.jsxs("div",{className:"bg-gray-800 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2",children:[i.jsxs("div",{className:"flex gap-1",children:[i.jsx(xe.div,{className:"w-2 h-2 bg-blue-400 rounded-full",animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0,delay:0}}),i.jsx(xe.div,{className:"w-2 h-2 bg-blue-400 rounded-full",animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0,delay:.3}}),i.jsx(xe.div,{className:"w-2 h-2 bg-blue-400 rounded-full",animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0,delay:.6}})]}),i.jsx("span",{className:"text-sm",children:t})]})})}),HL=({show:e,message:t="Move not allowed!"})=>i.jsx(Sa,{children:e&&i.jsx(xe.div,{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:500,damping:30},children:i.jsxs("div",{className:"bg-red-500 text-white px-6 py-3 rounded-lg shadow-xl flex items-center gap-2",children:[i.jsx("span",{className:"text-xl",children:"⚠️"}),i.jsx("span",{className:"font-medium",children:t})]})})}),Bi=({fen:e,orientation:t="white",allowAllMoves:n=!0,onMove:r,onGameOver:l,highlightMoves:c=!0,showCoordinates:d=!0,disabled:f=!1,puzzleMode:m=!1,correctMoves:p=[],onCorrectMove:g,onIncorrectMove:v,showHelp:b=!1,highlightSquare:w,showPieceTooltips:S=!0,enableGamification:N=!0,lessonMode:T=!1,moveArrows:A=[],guidanceHighlights:C=[],restrictedMoves:E,onMoveAttempt:_,guidanceTooltip:R,stepExplanation:O})=>{const z=x.useMemo(()=>new kt(e||void 0),[e]),[P,q]=x.useState(null),[U,Q]=x.useState(null),[re,ce]=x.useState(!1),[he,ye]=x.useState({}),[G,I]=x.useState({show:!1,position:{x:0,y:0}}),[B,ne]=x.useState(""),[M,D]=x.useState(!1),[te,J]=x.useState(""),[de,ge]=x.useState("good"),[ve,Ce]=x.useState(!1),[qe,St]=x.useState(!1),[nt,Ct]=x.useState({show:!1,quality:"good"}),ut=x.useCallback(()=>{const me={...he};return C.forEach(ie=>{const pe=me[ie.square]||{},Ae={suggest:{background:"var(--color-board-legal-move)",border:"3px solid var(--color-accent-primary)"},require:{background:"var(--color-success-subtle)",border:"3px solid var(--color-success)",boxShadow:"0 0 15px var(--color-success-subtle)"},avoid:{background:"var(--color-danger-subtle)",border:"3px solid var(--color-danger)"},good:{background:"var(--color-success-subtle)",border:"3px solid var(--color-success)"},bad:{background:"var(--color-warning-subtle)",border:"3px solid var(--color-warning)"}};me[ie.square]={...pe,...Ae[ie.color]}}),me},[he,C]),et=x.useCallback(()=>{q(null),Q(null),ce(!1),ye({})},[]);x.useEffect(()=>{console.log("ChessBoard: Parent FEN changed to:",e),et()},[e,et]),x.useCallback((me,ie)=>{if(!S)return;const pe=z.get(ie);pe&&I({show:!0,piece:pe.type,color:pe.color,square:ie,position:{x:me.clientX,y:me.clientY}})},[z,S]),x.useCallback(()=>{I(me=>({...me,show:!1}))},[]),x.useCallback((me,ie)=>{const Ae=z.moves({verbose:!0}).find(Ee=>Ee.from===me&&Ee.to===ie);return Ae?Ae.captured&&Ae.piece!=="p"?"excellent":Ae.san.includes("+")?"good":Ae.san.includes("#")?"brilliant":(Ae.captured||["e4","e5","d4","d5"].includes(ie),"good"):"illegal"},[z]),x.useCallback(me=>{if(N)switch(me){case"brilliant":J("Brilliant move!"),ge("brilliant"),D(!0),St(!0);break;case"excellent":J("Excellent move!"),ge("excellent"),D(!0);break;case"good":J("Good move!"),ge("good"),D(!0);break}},[N]);const Pt=x.useCallback(me=>{ye(ie=>({...ie,[me]:{background:"rgba(255, 255, 0, 0.6)",border:"3px solid #FFD700"}})),setTimeout(()=>{ye(ie=>{const pe={...ie};return delete pe[me],pe})},2e3)},[]),ms=x.useCallback(me=>{ne(me),setTimeout(()=>ne(""),3e3)},[]),Zt=x.useCallback(({square:me})=>{if(console.log("ChessBoard: Square clicked:",me),f){console.log("ChessBoard: Board disabled, ignoring click");return}if(!P){const ie=z.moves({square:me,verbose:!0});if(ie.length>0){if(console.log("ChessBoard: Selected piece at",me,"with",ie.length,"moves"),q(me),c){const pe={};ie.forEach(Ae=>{pe[Ae.to]={background:`
                radial-gradient(circle, var(--color-success) 25%, transparent 25%),
                radial-gradient(circle, var(--color-surface-overlay) 85%, transparent 85%)
              `,borderRadius:"50%"}}),pe[me]={background:"var(--color-board-highlight)",border:"2px solid var(--color-accent-primary)",boxShadow:"0 0 10px var(--color-accent-subtle)"},ye(pe)}}else console.log("ChessBoard: No moves available from",me);return}if(P===me){console.log("ChessBoard: Deselecting piece"),et();return}console.log("ChessBoard: Attempting move:",P,"→",me),ps(P,me)},[z,P,f,c,et]),dt=x.useCallback(({sourceSquare:me,targetSquare:ie})=>{if(console.log("ChessBoard: Piece dropped:",me,"→",ie),f)return console.log("ChessBoard: Board disabled, move rejected"),!1;const pe=ps(me,ie);return console.log("ChessBoard: Drag move",pe?"successful":"failed"),pe},[f]),ps=x.useCallback((me,ie,pe="q")=>{try{if(console.log("ChessBoard: Validating move",me,ie,pe),E&&E.length>0){const Be=`${me}${ie}`;if(!E.includes(Be)){const Ue=_?.({from:me,to:ie});if(Ue==="blocked")return N&&(Ce(!0),setTimeout(()=>Ce(!1),1500)),et(),!1;if(Ue==="hint")return ne("Try a different move - look for the highlighted squares!"),setTimeout(()=>ne(""),3e3),et(),!1;if(Ue==="wrong-piece")return ne("Try moving the highlighted piece instead!"),setTimeout(()=>ne(""),3e3),et(),!1}}const Ae=z.moves({square:me,verbose:!0}),Ee=Ae.find(Be=>Be.from===me&&Be.to===ie);if(Ee&&Ee.flags.includes("p"))return console.log("ChessBoard: Promotion move detected"),q(me),Q(ie),ce(!0),!0;if(!Ae.find(Be=>Be.from===me&&Be.to===ie))return console.log("ChessBoard: Invalid move"),N&&(Ce(!0),setTimeout(()=>Ce(!1),1500)),et(),!1;if(console.log("ChessBoard: Valid move, notifying parent"),et(),m&&p.length>0){const Be=`${me}${ie}${pe}`,Ue=`${me}${ie}`;p.includes(Be)||p.includes(Ue)?(console.log("ChessBoard: Correct puzzle move!"),hs.playGamificationSound("puzzleSolved"),g?.()):(console.log("ChessBoard: Incorrect puzzle move"),hs.playUISound("error"),v?.())}return _?.({from:me,to:ie}),r?.({from:me,to:ie,promotion:pe}),!0}catch(Ae){return console.error("ChessBoard: Move validation error:",Ae),et(),!1}},[z,et,m,p,g,v,r,E,_]);return x.useCallback(me=>{if(console.log("ChessBoard: Promotion piece selected:",me),me&&P&&U){const ie=me[1]?.toLowerCase()||"q";ps(P,U,ie)}else console.log("ChessBoard: Promotion cancelled"),et();return!0},[P,U,ps,et]),console.log("ChessBoard render:",{position:z.fen(),disabled:f,orientation:t,allowDragging:!f,hasOnMove:!!r}),i.jsx($L,{show:ve,children:i.jsxs("div",{className:"chess-board-container relative w-full",children:[i.jsxs("div",{className:"relative w-full max-w-full rounded-lg p-2",style:{aspectRatio:"1",backgroundColor:"var(--color-surface-elevated)",border:"1px solid var(--color-border-default)",boxShadow:"var(--elevation-card)"},children:[i.jsx("div",{className:"w-full",onMouseMove:me=>{if(!S)return;const ie=me.currentTarget.getBoundingClientRect(),pe=me.clientX-ie.left,Ae=me.clientY-ie.top,Ee=ie.width/8,ot=ie.height/8,Be=Math.floor(pe/Ee),Ue=t==="white"?7-Math.floor(Ae/ot):Math.floor(Ae/ot);if(Be>=0&&Be<8&&Ue>=0&&Ue<8){const Ge=`${String.fromCharCode(97+Be)}${Ue+1}`,xt=z.get(Ge);I(xt?{show:!0,piece:xt.type,color:xt.color,square:Ge,position:{x:me.clientX,y:me.clientY-50}}:pt=>({...pt,show:!1}))}},onMouseLeave:()=>I(me=>({...me,show:!1})),children:i.jsx(pd,{options:{position:z.fen(),onSquareClick:Zt,onPieceDrop:dt,boardOrientation:t,squareStyles:ut(),allowDragging:!f,animationDurationInMs:300,boardStyle:{borderRadius:"14px",boxShadow:"var(--elevation-card)",border:"1px solid var(--color-border-default)"},lightSquareStyle:{backgroundColor:"var(--color-board-light)"},darkSquareStyle:{backgroundColor:"var(--color-board-dark)"}}})}),d&&i.jsx("div",{className:"absolute -bottom-8 left-0 right-0 text-center",children:i.jsxs("div",{className:"text-sm font-secondary",style:{color:"var(--color-text-secondary)"},children:["Turn: ",z.turn()==="w"?"White":"Black",z.isCheck()&&i.jsx("span",{className:"text-warning font-medium",children:" | Check!"}),z.isGameOver()&&i.jsx("span",{className:"text-danger font-medium",children:" | Game Over!"})]})}),B&&i.jsx("div",{className:"absolute -top-12 left-0 right-0 text-center",children:i.jsxs("div",{className:"bg-accent text-white px-4 py-2 rounded-lg text-sm font-medium shadow-card font-secondary",children:["💡 ",B]})}),T&&w&&i.jsx("div",{className:"absolute inset-0 pointer-events-none",children:i.jsx("div",{className:"absolute w-12 h-12 border-4 border-yellow-400 bg-yellow-200 bg-opacity-30 rounded animate-pulse",style:{transform:`translate(${(w.charCodeAt(0)-97)*50}px, ${(8-parseInt(w[1]))*50}px)`}})}),C.length>0&&i.jsx("div",{className:"absolute inset-0 pointer-events-none",children:C.map((me,ie)=>{const pe=me.square.charCodeAt(0)-97,Ae=parseInt(me.square[1])-1,Ee=100/8,ot={suggest:"border-blue-400 bg-blue-200 bg-opacity-40",require:"border-green-500 bg-green-300 bg-opacity-60",avoid:"border-red-500 bg-red-200 bg-opacity-40",good:"border-emerald-400 bg-emerald-200 bg-opacity-50",bad:"border-orange-500 bg-orange-200 bg-opacity-40"},Be={pulse:"animate-pulse",glow:"shadow-lg shadow-current",bounce:"animate-bounce",none:""};return i.jsx("div",{className:`absolute border-4 rounded ${ot[me.color]} ${Be[me.animation||"none"]}`,style:{left:`${pe*Ee}%`,top:`${(7-Ae)*Ee}%`,width:`${Ee}%`,height:`${Ee}%`}},`guidance-${ie}`)})}),A.length>0&&i.jsx("div",{className:"absolute inset-0 pointer-events-none",children:i.jsx("svg",{className:"w-full h-full",children:A.map((me,ie)=>{const pe=me.from.charCodeAt(0)-97,Ae=parseInt(me.from[1])-1,Ee=me.to.charCodeAt(0)-97,ot=parseInt(me.to[1])-1,Be=100/8,Ue=Be/2,Ge=pe*Be+Ue,xt=(7-Ae)*Be+Ue,pt=Ee*Be+Ue,Ln=(7-ot)*Be+Ue,Xe={green:"var(--color-success)",blue:"var(--color-accent-primary)",red:"var(--color-danger)",yellow:"var(--color-warning)",orange:"#F97316"};return i.jsxs("g",{children:[i.jsx("line",{x1:`${Ge}%`,y1:`${xt}%`,x2:`${pt}%`,y2:`${Ln}%`,stroke:Xe[me.color],strokeWidth:"3",strokeDasharray:me.style==="dashed"?"10 5":me.style==="dotted"?"3 3":"none",markerEnd:"url(#arrowhead)"}),i.jsx("defs",{children:i.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:i.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:Xe[me.color]})})})]},`arrow-${ie}`)})})}),R&&i.jsx("div",{className:"absolute inset-0 pointer-events-none",children:(()=>{const me=R.square.charCodeAt(0)-97,ie=parseInt(R.square[1])-1,pe=100/8,Ae={hint:"bg-accent text-white",instruction:"bg-success text-white",warning:"bg-danger text-white",success:"bg-success text-white"};return i.jsxs("div",{className:`absolute z-20 px-3 py-2 rounded-lg shadow-lg text-sm font-medium ${Ae[R.type]} pointer-events-none`,style:{left:`${me*pe+pe/2}%`,top:`${(7-ie)*pe-10}%`,transform:"translateX(-50%) translateY(-100%)"},children:[R.message,i.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent",style:{borderTopColor:R.type==="hint"?"#3B82F6":R.type==="instruction"?"#10B981":R.type==="warning"?"#EF4444":"#059669"}})]})})()})]}),b&&i.jsx("div",{className:"mt-4",children:i.jsx(VL,{game:z,onHighlightSquare:Pt,onShowHint:ms,disabled:f})}),O&&i.jsx("div",{className:`mt-4 ${O.position==="top"?"-mt-8 mb-4":O.position==="bottom"?"mt-4":O.position==="left"?"absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-full mr-4 w-64":"absolute right-0 top-1/2 transform -translate-y-1/2 translate-x-full ml-4 w-64"}`,children:i.jsxs("div",{className:"text-white rounded-lg p-4",style:{backgroundColor:"var(--color-accent-primary)",boxShadow:"var(--elevation-card)"},children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("span",{className:"text-xl",children:"🎯"}),i.jsx("h3",{className:"font-bold text-lg font-primary",children:O.title})]}),i.jsx("p",{className:"text-white/90 leading-relaxed font-secondary",children:O.description}),(O.position==="left"||O.position==="right")&&i.jsx("div",{className:`absolute top-1/2 transform -translate-y-1/2 w-0 h-0 border-t-8 border-b-8 border-transparent ${O.position==="left"?"right-0 translate-x-full border-l-8 border-accent":"left-0 -translate-x-full border-r-8 border-accent"}`})]})}),i.jsx(UL,{piece:G.piece,color:G.color,square:G.square,show:G.show,position:G.position}),i.jsx(gS,{show:qe,onComplete:()=>St(!1)}),i.jsx(yS,{show:M,message:te,type:de,onComplete:()=>D(!1)}),i.jsx(HL,{show:ve,message:"That move is not allowed!"})]})})},KL="modulepreload",FL=function(e){return"/"+e},A1={},IL=function(t,n,r){let l=Promise.resolve();if(n&&n.length>0){let m=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=d?.nonce||d?.getAttribute("nonce");l=m(n.map(p=>{if(p=FL(p),p in A1)return;A1[p]=!0;const g=p.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const b=document.createElement("link");if(b.rel=g?"stylesheet":KL,g||(b.as="script"),b.crossOrigin="",b.href=p,f&&b.setAttribute("nonce",f),document.head.appendChild(b),g)return new Promise((w,S)=>{b.addEventListener("load",w),b.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${p}`)))})}))}function c(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return l.then(d=>{for(const f of d||[])f.status==="rejected"&&c(f.reason);return t().catch(c)})};class QL{engine;isReady=!1;enginePromise;BOT_LEVELS=[{level:1,name:"Pawn",depth:1,timeLimit:100,elo:400,personality:"Makes random moves, very beginner-friendly"},{level:2,name:"Knight",depth:2,timeLimit:200,elo:600,personality:"Occasionally makes good moves but inconsistent"},{level:3,name:"Bishop",depth:3,timeLimit:300,elo:800,personality:"Understands basic tactics but makes mistakes"},{level:4,name:"Rook",depth:4,timeLimit:500,elo:1e3,personality:"Solid player with good tactical awareness"},{level:5,name:"Queen",depth:5,timeLimit:750,elo:1200,personality:"Strong tactical player, rarely blunders"},{level:6,name:"King",depth:6,timeLimit:1e3,elo:1400,personality:"Excellent tactical and positional understanding"},{level:7,name:"Grandmaster",depth:8,timeLimit:1500,elo:1600,personality:"Near-perfect play with deep calculation"},{level:8,name:"World Champion",depth:10,timeLimit:2e3,elo:1800,personality:"Exceptional in all phases of the game"},{level:9,name:"Stockfish Junior",depth:12,timeLimit:3e3,elo:2e3,personality:"Computer-level precision"},{level:10,name:"Stockfish Master",depth:14,timeLimit:5e3,elo:2200,personality:"Maximum strength for ultimate challenge"}];constructor(){this.enginePromise=this.initializeEngine()}async initializeEngine(){try{console.log("🎯 Initializing Stockfish engine...");let t;try{const n=await IL(()=>import("./stockfish.wasm-CQjW0j4F.js").then(r=>r.s),[]);t=n.default||n}catch(n){if(console.warn("ES module import failed, trying alternative:",n),t=window.Stockfish||null,!t)throw new Error("Stockfish not available through any method")}if(console.log("🎯 Stockfish module loaded, creating instance..."),this.engine=t(),!this.engine)throw new Error("Failed to create Stockfish instance");return new Promise((n,r)=>{let l;this.engine.onmessage=c=>{console.log("🎯 Stockfish message:",c),c.includes("uciok")?this.engine.postMessage("isready"):c.includes("readyok")&&(this.isReady=!0,clearTimeout(l),console.log("✅ Stockfish engine ready!"),n(this.engine))},this.engine.onerror=c=>{console.error("❌ Stockfish error:",c),clearTimeout(l),r(c)},console.log("🎯 Sending UCI init command..."),this.engine.postMessage("uci"),l=setTimeout(()=>{console.error("❌ Stockfish initialization timeout"),r(new Error("Stockfish initialization timeout"))},5e3)})}catch(t){throw console.error("❌ Failed to initialize Stockfish:",t),t}}async waitForReady(){this.isReady||await this.enginePromise}async getBotMove(t,n=5){if(await this.waitForReady(),n<1||n>10)throw new Error("Bot level must be between 1 and 10");const r=this.BOT_LEVELS[n-1],l=Date.now();return new Promise((c,d)=>{let f="",m=0;const p=g=>{if(g.includes("bestmove")){const v=g.match(/bestmove (\w+)/);if(v){f=v[1];const b=Date.now();this.engine.onmessage=null,c({move:f,evaluation:m,depth:r.depth,time:b-l})}}else if(g.includes("cp")){const v=g.match(/cp (-?\d+)/);v&&(m=parseInt(v[1])/100)}else if(g.includes("mate")){const v=g.match(/mate (-?\d+)/);v&&(m=parseInt(v[1])>0?10:-10)}};this.engine.onmessage=p,this.engine.postMessage(`position fen ${t}`),this.engine.postMessage(`go depth ${r.depth} movetime ${r.timeLimit}`),setTimeout(()=>{f||(this.engine.onmessage=null,d(new Error(`Bot move timeout after ${r.timeLimit}ms`)))},r.timeLimit+1e3)})}async analyzePosition(t,n=12){return await this.waitForReady(),new Promise((r,l)=>{let c="",d=0,f=[];const m=p=>{if(p.includes("bestmove")){const g=p.match(/bestmove (\w+)/);g&&(c=g[1],this.engine.onmessage=null,r({bestMove:c,evaluation:d,principalVariation:f,depth:n}))}else if(p.includes("pv")){const g=p.match(/pv (.+)/);g&&(f=g[1].split(" "))}else if(p.includes("cp")){const g=p.match(/cp (-?\d+)/);g&&(d=parseInt(g[1])/100)}else if(p.includes("mate")){const g=p.match(/mate (-?\d+)/);g&&(d=parseInt(g[1])>0?10:-10)}};this.engine.onmessage=m,this.engine.postMessage(`position fen ${t}`),this.engine.postMessage(`go depth ${n} movetime 3000`),setTimeout(()=>{c||(this.engine.onmessage=null,l(new Error("Position analysis timeout")))},5e3)})}async generateGameAnalysis(t){await this.waitForReady();try{return[{bestMove:"e4",evaluation:.3,principalVariation:["e4","e5","Nf3"],depth:12,keyMoments:[{move:"e4",evaluation:.3,comment:"Good opening move, controls center"},{move:"d4",evaluation:-.5,comment:"Inaccuracy - allows counterplay"},{move:"Nf3",evaluation:.8,comment:"Excellent! Develops with tempo"}]}]}catch(n){return console.error("Game analysis error:",n),[]}}getBotLevels(){return[...this.BOT_LEVELS]}getBotConfig(t){return t<1||t>10?null:this.BOT_LEVELS[t-1]}dispose(){if(this.engine)try{this.engine.postMessage("quit"),this.engine=null}catch(t){console.error("Error disposing engine:",t)}this.isReady=!1}}let dm=null;const bg=()=>(dm||(dm=new QL),dm);class YL{engine=bg();session={correctMoves:0,mistakes:0,averageThinkTime:0,strongAreas:[],improvementAreas:[]};async getEducationalMove(t,n=3,r="general"){try{const l=await this.engine.getBotMove(t,n),c=new kt(t),d=this.determineGamePhase(c),f=this.generateMoveExplanation(c,l.move,r,d);return{move:l.move,explanation:f.text,evaluation:l.evaluation,difficulty:n,alternatives:this.getAlternativeMoves(c,l.move),teachingPoint:f.teachingPoint,category:d}}catch(l){console.error("Educational move generation failed:",l);const c=new kt(t),d=c.moves({verbose:!0});if(d.length===0)throw new Error("No legal moves available");const f=d[Math.floor(Math.random()*d.length)];return{move:`${f.from}${f.to}${f.promotion||""}`,explanation:`I played ${f.san}. This is a legal move in the current position.`,evaluation:0,difficulty:n,category:this.determineGamePhase(c)}}}getAdaptiveBotLevel(t,n){const{correctMoves:r,mistakes:l}=n,c=r/(r+l);let d=t;return c>.85&&r>=5?d=Math.min(10,t+1):c<.5&&l>=3&&(d=Math.max(1,t-1)),d}determineGamePhase(t){const n=t.history().length,l=t.board().flat().filter(m=>m!==null).length;if(n<20)return"opening";if(l<=12)return"endgame";const c=t.moves({verbose:!0}),d=c.filter(m=>m.captured),f=c.filter(m=>m.san.includes("+"));return d.length>2||f.length>0?"tactical":"middlegame"}generateMoveExplanation(t,n,r,l){const[c,d]=[n.slice(0,2),n.slice(2,4)],f=new kt(t.fen());try{const m=f.move({from:c,to:d,promotion:n.slice(4,5)||"q"});if(!m)return{text:"I made a move to continue the game."};let p=`I played ${m.san}. `,g="";switch(m.captured&&(p+=`This captures your ${this.getPieceName(m.captured)}, gaining material advantage. `,g="Material advantage is crucial - try to win pieces when possible!"),m.san.includes("+")&&(p+="This puts your king in check, forcing you to respond. ",g="Checks are powerful forcing moves that limit opponent options."),l){case"opening":p+=this.getOpeningExplanation(m,r),g="Opening principles: Control center, develop pieces, castle early!";break;case"middlegame":p+=this.getMiddlegameExplanation(m,t),g="Look for tactics, improve piece positions, and create threats.";break;case"endgame":p+=this.getEndgameExplanation(m,t),g="In endgames, activate your king and push for promotion!";break;case"tactical":p+="This creates tactical threats and complications. ",g="Look for forks, pins, skewers, and discovered attacks!";break}return{text:p.trim(),teachingPoint:g}}catch{return{text:"I made a strategic move to improve my position."}}}getPieceName(t){return{p:"pawn",n:"knight",b:"bishop",r:"rook",q:"queen",k:"king"}[t.toLowerCase()]||"piece"}getOpeningExplanation(t,n){return t.piece==="p"&&["e4","e5","d4","d5"].includes(t.san)?"This controls the center, following key opening principles. ":["Nf3","Nc3","Nf6","Nc6"].includes(t.san)?"This develops a knight toward the center, improving piece activity. ":t.san.includes("O-O")?"Castling keeps the king safe while connecting the rooks. ":"This follows sound opening principles. "}getMiddlegameExplanation(t,n){const l=n.board().flat().filter(c=>c!==null).filter(c=>c?.color===n.turn()).length;return t.captured?"This wins material, which is often decisive in the middlegame. ":l<10?"This improves piece coordination for the coming endgame. ":"This creates strategic pressure and improves my position. "}getEndgameExplanation(t,n){return t.piece==="k"?"In endgames, the king becomes an active piece. ":t.piece==="p"?"Advancing pawns toward promotion is key in endgames. ":"This follows endgame principles for optimal play. "}getAlternativeMoves(t,n){return t.moves().filter(l=>l!==n).slice(0,3)}updateSession(t,n){t?this.session.correctMoves++:this.session.mistakes++;const r=this.session.correctMoves+this.session.mistakes;this.session.averageThinkTime=(this.session.averageThinkTime*(r-1)+n)/r}getSessionSummary(){const t=this.session.correctMoves+this.session.mistakes,n=t>0?this.session.correctMoves/t:0;let r="";return n>.8?r="Excellent work! You're ready for more challenging lessons.":n>.6?r="Good progress! Keep practicing these patterns.":r="Take your time to think through each move. Practice makes perfect!",{...this.session,successRate:n,recommendedLevel:this.getAdaptiveBotLevel(5,this.session),feedback:r}}resetSession(){this.session={correctMoves:0,mistakes:0,averageThinkTime:0,strongAreas:[],improvementAreas:[]}}getEducationalBotLevels(){return this.engine.getBotLevels().map(t=>({...t,educationalFocus:this.getEducationalFocus(t.level)}))}getEducationalFocus(t){return{1:"Basic piece movement and simple tactics",2:"Fundamental opening principles",3:"Basic tactical patterns (forks, pins)",4:"Opening development and center control",5:"Intermediate tactics and positional play",6:"Advanced tactics and strategic thinking",7:"Complex positions and planning",8:"Master-level tactical combinations",9:"Deep strategic understanding",10:"Computer-level precision and calculation"}[t]||"General chess improvement"}}let fm=null;const XL=()=>(fm||(fm=new YL),fm);class Mi{static instance;MOVE_ANIMATION_DURATION=200;CAPTURE_ANIMATION_DURATION=250;HIGHLIGHT_ANIMATION_DURATION=300;EXPLANATION_ANIMATION_DURATION=500;static getInstance(){return Mi.instance||(Mi.instance=new Mi),Mi.instance}squareToCoordinates(t,n=512){const r=t.charCodeAt(0)-97,l=parseInt(t[1])-1,c=n/8;return{x:r*c,y:(7-l)*c}}createMoveAnimation(t,n,r){const l=n.querySelector(`[data-square="${t.from}"] .chess-piece`);if(!l)return console.warn(`Piece not found on square ${t.from}`),null;const c=this.squareToCoordinates(t.from),d=this.squareToCoordinates(t.to),f=d.x-c.x,m=d.y-c.y,p={duration:r?.duration||this.MOVE_ANIMATION_DURATION,easing:r?.easing||"cubic-bezier(0.25, 0.46, 0.45, 0.94)",delay:r?.delay||0};return l.animate([{transform:"translate(0, 0)",zIndex:"10"},{transform:`translate(${f}px, ${m}px)`,zIndex:"10"}],{duration:p.duration,easing:p.easing,delay:p.delay,fill:"forwards"})}createCaptureAnimation(t,n){return new Promise(r=>{const l=n.querySelector(`[data-square="${t.to}"] .chess-piece`);if(l){const c=l.animate([{transform:"scale(1) rotate(0deg)",opacity:1},{transform:"scale(0.3) rotate(180deg)",opacity:0}],{duration:this.CAPTURE_ANIMATION_DURATION/2,easing:"ease-in",fill:"forwards"});c.onfinish=()=>{const d=this.createMoveAnimation(t,n,{duration:this.CAPTURE_ANIMATION_DURATION/2,delay:100});d?d.onfinish=()=>r():r()}}else{const c=this.createMoveAnimation(t,n);c?c.onfinish=()=>r():r()}})}createExplanationAnimation(t,n){return new Promise(r=>{const l=[];t.highlights.forEach(({square:c,color:d,animation:f},m)=>{const p=n.querySelector(`[data-square="${c}"]`);if(!p){console.warn(`Square element not found: ${c}`);return}try{let g=[];switch(f){case"pulse":g=[{transform:"scale(1)",filter:"brightness(1)"},{transform:"scale(1.1)",filter:"brightness(1.3)"},{transform:"scale(1)",filter:"brightness(1)"}];break;case"glow":g=[{boxShadow:"inset 0 0 0 2px transparent"},{boxShadow:`inset 0 0 0 2px ${d}, 0 0 8px ${d}`},{boxShadow:"inset 0 0 0 2px transparent"}];break;case"bounce":g=[{transform:"translateY(0)"},{transform:"translateY(-4px)"},{transform:"translateY(0)"},{transform:"translateY(-2px)"},{transform:"translateY(0)"}];break}const v=p.animate(g,{duration:this.HIGHLIGHT_ANIMATION_DURATION,delay:m*20,iterations:1,easing:"ease-in-out"});l.push(v)}catch(g){console.error(`Animation error for square ${c}:`,g)}}),this.createArrowAnimations(t.arrows,n,l,t.duration),Promise.all(l.map(c=>c.finished)).then(()=>{r()})})}createArrowAnimations(t,n,r,l=1e3){t.forEach((c,d)=>{let f=n.querySelector(".chess-arrows");f||(f=document.createElement("div"),f.className="chess-arrows absolute inset-0 pointer-events-none",f.innerHTML='<svg width="100%" height="100%" class="absolute inset-0"></svg>',n.appendChild(f));const m=f.querySelector("svg");if(m){const p=this.squareToCoordinates(c.from),g=this.squareToCoordinates(c.to),v=document.createElementNS("http://www.w3.org/2000/svg","path"),b=`M ${p.x+32} ${p.y+32} L ${g.x+32} ${g.y+32}`;v.setAttribute("d",b),v.setAttribute("stroke",c.color),v.setAttribute("stroke-width","3"),v.setAttribute("stroke-linecap","round"),v.setAttribute("marker-end","url(#arrowhead)"),v.setAttribute("opacity","0"),c.style==="dashed"&&v.setAttribute("stroke-dasharray","5,5"),m.appendChild(v);const w=v.animate([{opacity:0,strokeDashoffset:"100%"},{opacity:.8,strokeDashoffset:"0%"}],{duration:400,delay:d*100,fill:"forwards",easing:"ease-out"});r.push(w),setTimeout(()=>{v.parentNode&&v.remove()},l+d*100)}})}createFeedbackAnimation(t,n,r){return new Promise(l=>{const c=r.querySelector(`[data-square="${n}"]`);if(!c){l();return}const d=t?"#22c55e":"#ef4444",f=t?"✓":"✗",m=document.createElement("div");m.className="absolute inset-0 flex items-center justify-center pointer-events-none z-20",m.innerHTML=`
        <div class="feedback-symbol text-white text-4xl font-bold bg-black bg-opacity-50 rounded-full w-12 h-12 flex items-center justify-center">
          ${f}
        </div>
      `,m.style.color=d,c.appendChild(m);const p=m.animate([{transform:"scale(0.5)",opacity:0},{transform:"scale(1.2)",opacity:1},{transform:"scale(1)",opacity:1},{transform:"scale(0.8)",opacity:0}],{duration:1200,easing:"ease-out"});p.onfinish=()=>{m.remove(),l()}})}createLessonTransition(t,n,r="next"){return new Promise(l=>{const c=r==="next"?"-100%":"100%",d=t.animate([{transform:"translateX(0)",opacity:1},{transform:`translateX(${c})`,opacity:0}],{duration:300,easing:"ease-in",fill:"forwards"});n.style.transform=`translateX(${r==="next"?"100%":"-100%"})`,n.style.opacity="0",d.onfinish=()=>{const f=n.animate([{transform:`translateX(${r==="next"?"100%":"-100%"})`,opacity:0},{transform:"translateX(0)",opacity:1}],{duration:300,easing:"ease-out",fill:"forwards"});f.onfinish=()=>l()}})}cleanup(t){const n=t.querySelector(".chess-arrows");n&&n.remove(),t.querySelectorAll(".feedback-symbol").forEach(c=>c.parentElement?.remove()),t.querySelectorAll(".chess-piece").forEach(c=>{c.style.transform="",c.style.zIndex=""})}initializeAnimations(t){const n=document.createElementNS("http://www.w3.org/2000/svg","defs"),r=document.createElementNS("http://www.w3.org/2000/svg","marker"),l=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("id","arrowhead"),r.setAttribute("markerWidth","10"),r.setAttribute("markerHeight","7"),r.setAttribute("refX","10"),r.setAttribute("refY","3.5"),r.setAttribute("orient","auto"),l.setAttribute("d","M 0 0 L 10 3.5 L 0 7 z"),l.setAttribute("fill","currentColor"),r.appendChild(l),n.appendChild(r);let c=t.querySelector("svg");c||(c=document.createElementNS("http://www.w3.org/2000/svg","svg"),c.setAttribute("width","0"),c.setAttribute("height","0"),c.style.position="absolute",t.appendChild(c)),c.appendChild(n)}}const E1=Mi.getInstance(),an=({children:e,delay:t=0,duration:n=600,direction:r="up",className:l=""})=>{const[c,d]=x.useState(!1),f=x.useRef(null);x.useEffect(()=>{const p=setTimeout(()=>d(!0),t);return()=>clearTimeout(p)},[t]);const m=()=>`transition-all ease-out ${{up:c?"translate-y-0 opacity-100":"translate-y-8 opacity-0",down:c?"translate-y-0 opacity-100":"-translate-y-8 opacity-0",left:c?"translate-x-0 opacity-100":"translate-x-8 opacity-0",right:c?"translate-x-0 opacity-100":"-translate-x-8 opacity-0",scale:c?"scale-100 opacity-100":"scale-95 opacity-0"}[r]}`;return i.jsx("div",{ref:f,className:`${m()} ${l}`,style:{transitionDuration:`${n}ms`},children:e})},M1=({children:e,trigger:t,className:n=""})=>i.jsx("div",{className:`${t?"animate-bounce":""} ${n}`,children:e}),vS=({children:e,active:t,className:n=""})=>i.jsx("div",{className:`${t?"animate-pulse":""} ${n}`,children:e}),WL=({moveContext:e,position:t,isVisible:n,onAnimationComplete:r,interactive:l=!0,lesson:c})=>{const[d,f]=x.useState(null),[m,p]=x.useState(-1),[g,v]=x.useState(!1),b=x.useRef(null),w=x.useRef(null);x.useEffect(()=>{if(e&&t){const U=S(e,t,c);f(U),p(-1)}},[e,t,c]),x.useEffect(()=>{if(n&&d&&l){v(!0);const U=Q=>{p(Q),Q<d.visualHighlights.length-1?w.current=setTimeout(()=>{U(Q+1)},2500):w.current=setTimeout(()=>{v(!1),r?.()},2e3)};return w.current=setTimeout(()=>{U(0)},500),()=>{w.current&&clearTimeout(w.current)}}},[n,d,l,r]);const S=(U,Q,re)=>{const ce=new kt(Q);ce.board();let he=`${U.san} `;return U.captured&&(he+=`captures the ${N(U.captured)}, `),U.isCheckmate?he+="delivering checkmate!":U.isCheck?he+="putting the king in check.":he+=T(U,ce),{primary:he,secondary:C(U,ce),tacticalThemes:E(U,ce),strategicConcepts:_(U),teachingPoints:R(U,ce,re),difficulty:O(U,ce),visualHighlights:z(U,ce),arrows:P(U)}},N=U=>({p:"pawn",n:"knight",b:"bishop",r:"rook",q:"queen",k:"king"})[U.toLowerCase()]||"piece",T=(U,Q,re)=>{const{piece:ce,from:he,to:ye,gamePhase:G}=U;if(G==="opening"){if(ce==="p"&&(ye.includes("4")||ye.includes("5")))return"This controls the center, following key opening principles.";if(ce==="n"&&Q.history().length<6)return"This develops a knight toward the center, improving piece activity.";if(U.san.includes("O-O"))return"Castling keeps the king safe while connecting the rooks."}if(G==="middlegame"){if(U.captured)return"This wins material, which is often decisive.";const I=A(he);if(A(ye)>I)return"This improves the piece's position and activity."}if(G==="endgame"){if(ce==="k")return"In endgames, the king becomes an active piece.";if(ce==="p")return"Advancing pawns toward promotion is key in endgames."}return"This move improves the position."},A=U=>{const Q=U.charCodeAt(0)-97,re=parseInt(U[1])-1;return 7-(Math.abs(3.5-Q)+Math.abs(3.5-re))},C=(U,Q)=>{const ce=Q.moves({verbose:!0}).filter(he=>he.from===U.from&&he.to!==U.to);return ce.length>0?`Alternative moves from ${U.from} included ${ce.slice(0,2).map(he=>he.san).join(", ")}.`:""},E=(U,Q)=>{const re=[];U.captured&&re.push("Material Gain"),U.isCheck&&re.push("Check"),U.isCheckmate&&re.push("Checkmate");const ce=new kt(Q.fen());return ce.move(U.move),q(ce,U.to).length>=2&&re.push("Fork"),re},_=(U,Q)=>{const re=[];return U.gamePhase==="opening"&&(U.piece==="p"&&(U.to.includes("4")||U.to.includes("5"))&&re.push("Center Control"),["n","b"].includes(U.piece)&&re.push("Piece Development")),U.san.includes("O-O")&&re.push("King Safety"),re},R=(U,Q,re)=>{const ce=[];return U.gamePhase==="opening"&&ce.push("Opening principles: Control center, develop pieces, castle early!"),U.captured&&ce.push("Always look for material-winning opportunities."),U.isCheck&&ce.push("Checks are forcing moves that limit opponent options."),re?.objectives&&ce.push(...re.objectives.slice(0,2)),ce},O=(U,Q)=>{let re=1;return U.captured&&(re+=1),U.isCheck&&(re+=1),U.isCheckmate&&(re+=2),Q.history().length>20&&(re+=1),Math.min(5,re)},z=(U,Q)=>{const re=[{squares:[U.from],color:"blue",label:"Starting square"},{squares:[U.to],color:U.captured?"red":"green",label:U.captured?"Capture square":"Destination square"}],ce=new kt(Q.fen());ce.move(U.move);const he=q(ce,U.to);return he.length>0&&re.push({squares:he,color:"blue",label:"Squares now under attack"}),re},P=(U,Q)=>[{from:U.from,to:U.to,color:"#22c55e",label:"Move direction"}],q=(U,Q)=>{const re=[];try{return U.get(Q)?U.moves({verbose:!0,square:Q}).filter(ye=>ye.captured).map(ye=>ye.to):re}catch(ce){return console.warn("Error getting square attacks:",ce),re}};return!d||!n?null:i.jsx(Sa,{children:i.jsxs(xe.div,{ref:b,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"move-explanation-system bg-white rounded-lg shadow-lg border border-gray-200 p-6",children:[i.jsx("div",{className:"mb-4",children:i.jsxs(an,{direction:"up",children:[i.jsxs("h3",{className:"font-bold text-lg text-gray-900 mb-2 flex items-center gap-2",children:[i.jsx("span",{className:"text-2xl",children:"🧠"}),"Move Analysis: ",e.san]}),i.jsx("p",{className:"text-gray-700 text-base leading-relaxed",children:d.primary}),d.secondary&&i.jsx("p",{className:"text-gray-600 text-sm mt-2",children:d.secondary})]})}),i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Difficulty:"}),i.jsx("div",{className:"flex gap-1",children:[...Array(5)].map((U,Q)=>i.jsx("div",{className:`w-2 h-2 rounded-full ${Q<d.difficulty?"bg-yellow-400":"bg-gray-200"}`},Q))})]})}),d.visualHighlights.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[i.jsx("span",{children:"👁️"})," Visual Analysis"]}),i.jsx("div",{className:"space-y-2",children:d.visualHighlights.map((U,Q)=>i.jsx(xe.div,{initial:{opacity:0,x:-10},animate:{opacity:m===Q?1:.6,x:0,scale:m===Q?1.02:1},className:`p-3 rounded-lg border-l-4 ${m===Q?"bg-blue-50 border-blue-400":"bg-gray-50 border-gray-300"}`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-3 h-3 rounded-full bg-${U.color}-400`}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-sm text-gray-800",children:U.label}),i.jsxs("div",{className:"text-xs text-gray-600",children:["Squares: ",U.squares.join(", ")]})]})]})},Q))})]}),d.tacticalThemes.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("h4",{className:"font-semibold text-gray-800 mb-2 flex items-center gap-2",children:[i.jsx("span",{children:"⚡"})," Tactical Themes"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:d.tacticalThemes.map((U,Q)=>i.jsx(an,{delay:Q*100,direction:"scale",children:i.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:U})},U))})]}),d.strategicConcepts.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("h4",{className:"font-semibold text-gray-800 mb-2 flex items-center gap-2",children:[i.jsx("span",{children:"🎯"})," Strategic Concepts"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:d.strategicConcepts.map((U,Q)=>i.jsx(an,{delay:Q*100,direction:"scale",children:i.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:U})},U))})]}),d.teachingPoints.length>0&&i.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-4 border border-green-200",children:[i.jsxs("h4",{className:"font-semibold text-green-800 mb-3 flex items-center gap-2",children:[i.jsx("span",{children:"💡"})," Key Learning Points"]}),i.jsx("ul",{className:"space-y-2",children:d.teachingPoints.map((U,Q)=>i.jsx(an,{delay:Q*200,direction:"left",children:i.jsxs("li",{className:"flex items-start gap-2 text-sm text-green-700",children:[i.jsx("span",{className:"text-green-500 mt-0.5",children:"•"}),i.jsx("span",{children:U})]})},Q))})]}),g&&i.jsx("div",{className:"mt-4 flex items-center justify-center",children:i.jsx(vS,{active:!0,children:i.jsxs("div",{className:"flex items-center gap-2 text-blue-600 text-sm",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse"}),"Analyzing position..."]})})})]})})};class ZL extends jt.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return console.error("🚨 GuidedPractice Error Boundary caught:",t),{hasError:!0,error:t}}componentDidCatch(t,n){console.error("🚨 GuidedPractice componentDidCatch:",t,n),console.error("🚨 Error stack:",t.stack),console.error("🚨 Component stack:",n.componentStack),console.error("🚨 Error details:",{name:t.name,message:t.message,cause:t.cause}),this.props.onError?.(t)}render(){return this.state.hasError?i.jsxs("div",{className:"p-8 text-center bg-red-50 border border-red-200 rounded-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-4",children:"🚨 Guided Practice Error"}),i.jsx("p",{className:"text-red-700 mb-4",children:"Something went wrong in the guided practice lesson."}),i.jsxs("details",{className:"text-left text-sm text-red-600 mb-4",children:[i.jsx("summary",{className:"cursor-pointer font-medium",children:"Error Details:"}),i.jsx("pre",{className:"mt-2 p-2 bg-red-100 rounded overflow-auto",children:this.state.error?.toString()})]}),i.jsx(fe,{onClick:()=>this.setState({hasError:!1,error:null}),className:"mr-2",children:"Try Again"}),i.jsx(fe,{variant:"outline",onClick:()=>window.location.reload(),children:"Reload Page"})]}):this.props.children}}const JL=({guidedPractice:e,onComplete:t})=>{if(console.log("🎯 GuidedPracticePlayer rendered with:",{guidedPractice:e,onComplete:t}),!e)return console.error("❌ GuidedPractice data is null/undefined"),i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("p",{className:"text-red-600",children:"Error: Guided practice data is missing."}),i.jsx(fe,{onClick:()=>t?.(),className:"mt-4",children:"Return to Lessons"})]});if(!e.steps)return console.error("❌ GuidedPractice steps are missing:",e),i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("p",{className:"text-red-600",children:"Error: Guided practice steps are missing."}),i.jsx(fe,{onClick:()=>t?.(),className:"mt-4",children:"Return to Lessons"})]});if(e.steps.length===0)return console.error("❌ GuidedPractice steps array is empty:",e),i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("p",{className:"text-red-600",children:"Error: No guided practice steps found."}),i.jsx(fe,{onClick:()=>t?.(),className:"mt-4",children:"Return to Lessons"})]});console.log("✅ GuidedPractice validation passed, steps:",e.steps.length);const[n,r]=x.useState(0),[l,c]=x.useState(null),[d,f]=x.useState(0),[m,p]=x.useState(0),[g,v]=x.useState(null),[b,w]=x.useState(!1),[S]=x.useState(()=>{try{return bg()}catch(B){return console.error("Failed to initialize chess engine:",B),null}}),[N]=x.useState(()=>{try{return XL()}catch(B){return console.error("Failed to initialize practice bot:",B),null}}),[T,A]=x.useState(!1),[C,E]=x.useState(null),[_,R]=x.useState(!1),[O,z]=x.useState(null),P=x.useRef(null),q=e.steps[n],U=(n+1)/e.steps.length*100;console.log("🎯 Current step:",{currentStepIndex:n,currentStep:q?.id,stepType:q?.stepType,totalSteps:e.steps.length}),x.useEffect(()=>{console.log("🎯 Initializing game state with FEN:",e.initialFen);try{const B=new kt;console.log("✅ Chess game created with starting position"),console.log("✅ Initial FEN:",B.fen()),console.log("✅ Initial legal moves:",B.moves()),c(B),A(!1),console.log("✅ Game state initialized successfully")}catch(B){throw console.error("❌ Failed to create Chess game:",B),B}},[]),x.useEffect(()=>{if(q?.timeLimit&&q.stepType!=="user-move"){v(q.timeLimit);const B=setInterval(()=>{v(ne=>ne&&ne>1?ne-1:(Q(),null))},1e3);return()=>clearInterval(B)}},[n]);const Q=()=>{n<e.steps.length-1?(r(n+1),v(null)):t?.()},re=B=>{console.log("🎯 handleUserMove called with:",{move:B,currentStep:q?.stepType,gameExists:!!l});try{if(!l||!B||!B.from||!B.to||!q||q.stepType!=="user-move"){console.warn("❌ Invalid move attempt:",{gameExists:!!l,move:B,currentStepType:q?.stepType,currentStepId:q?.id});return}const ne=`${B.from}${B.to}`;if(q.allowedMoves&&!q.allowedMoves.includes(ne)){p(J=>J+1);return}console.log(`🎯 User attempting move: ${ne} from position: ${l.fen()}`);const M=l.fen();if(!M){console.error("Invalid game state - no FEN available");return}const D=new kt(M);console.log("🎯 Legal moves for user:",D.moves());const te=D.move({from:B.from,to:B.to,promotion:B.promotion||"q"});te?(console.log(`✅ User move executed successfully: ${te.san}`),console.log(`✅ New position after user move: ${D.fen()}`),c(D),f(J=>J+1),setTimeout(()=>{try{Q()}catch(J){console.error("Error completing step:",J)}},200)):(console.error("❌ Invalid user move attempted:",ne),console.error("❌ Available moves:",D.moves()),p(J=>J+1))}catch(ne){console.error("Error in handleUserMove:",ne),p(M=>M+1)}},ce=B=>{console.log("🎯 handleMoveAttempt called with:",{move:B,currentStepType:q?.stepType,allowedMoves:q?.allowedMoves,currentStepId:q?.id});try{if(!q||!q.allowedMoves||!B?.from||!B?.to)return console.log("🎯 Move attempt: allowing (no restrictions or missing data)"),"allowed";const ne=`${B.from}${B.to}`;return q.allowedMoves.includes(ne)?(console.log("🎯 Move attempt: allowed -",ne),"allowed"):(console.log("🎯 Move attempt: showing hint for -",ne),"hint")}catch(ne){return console.error("❌ Error in handleMoveAttempt:",ne),"allowed"}},he=async()=>{if(!l){console.error("❌ No game object available for computer move");return}w(!0);try{console.log("🎯 Making computer move for step:",q?.id),console.log("🎯 Current game state:",l.fen()),console.log("🎯 Current turn:",l.turn()),console.log("🎯 Available legal moves:",l.moves());const B=q?.computerMove;if(!B){console.error("❌ No computer move defined for this step"),w(!1);return}console.log("🎯 Attempting to play pre-defined move:",B);const ne=new kt(l.fen());let M=null;try{console.log("🔧 Trying SAN format:",B),M=ne.move(B),M&&console.log("✅ SAN format worked!")}catch(D){console.log("❌ SAN format failed:",D.message)}if(!M&&B.length>=4)try{const D=B.slice(0,2),te=B.slice(2,4),J=B.length>4?B.slice(4,5):void 0;console.log("🔧 Trying coordinate format:",{from:D,to:te,promotion:J}),M=ne.move({from:D,to:te,promotion:J}),M&&console.log("✅ Coordinate format worked!")}catch(D){console.log("❌ Coordinate format failed:",D.message)}if(!M)try{let D=B;B==="e7e5"?D="e5":B==="b8c6"&&(D="Nc6"),console.log("🔧 Trying converted SAN:",D),M=ne.move(D),M&&console.log("✅ Converted SAN worked!")}catch(D){console.log("❌ Converted SAN failed:",D.message)}if(M){c(ne),console.log("✅ Computer move executed successfully:",M.san),console.log("✅ New position:",ne.fen());try{G(M),I(M,ne)}catch(D){console.warn("Animation error (non-critical):",D)}}else{console.error("❌ All move formats failed for:",B),console.error("❌ Current position:",l.fen()),console.error("❌ Legal moves:",l.moves());const D=l.moves();if(D.length>0){const te=D[0];console.log("🔧 Using fallback legal move:",te);const J=ne.move(te);J&&(c(ne),console.log("✅ Fallback move executed:",J.san))}}}catch(B){console.error("❌ Computer move error:",B)}w(!1),setTimeout(()=>{Q()},300)};x.useEffect(()=>{q?.stepType==="computer-move"&&q.computerMove&&he()},[n]);const ye=B=>{const ne=B.nextStep,M=e.steps.findIndex(D=>D.id===ne);M!==-1&&r(M)},G=B=>{if(!P.current||!B){console.warn("Missing board reference or move result for animation");return}try{if(!B.from||!B.to){console.warn("Invalid move result for animation:",B);return}if(!E1?.createMoveAnimation){console.warn("Animation service not available, skipping animation");return}setTimeout(()=>{E1.createMoveAnimation({from:B.from,to:B.to,piece:B.piece||"p",captured:B.captured,san:B.san||"move"},P.current)},0)}catch(ne){console.warn("Animation error (non-critical):",ne)}},I=(B,ne)=>{if(!P.current||!B||!ne){console.warn("Missing required data for move explanation");return}try{if(!B.from||!B.to){console.warn("Invalid move result for explanation:",B);return}const M={move:`${B.from}${B.to}`,san:B.san||"move",piece:B.piece||"p",from:B.from,to:B.to,captured:B.captured,isCheck:ne.isCheck(),isCheckmate:ne.isCheckmate(),gamePhase:ne.history().length<20?"opening":ne.history().length>40?"endgame":"middlegame"};z(M),R(!0),setTimeout(()=>{R(!1)},1500)}catch(M){console.error("Error creating move explanation:",M)}};return q?l?(console.log("🎯 Current game state:",{fen:l.fen(),turn:l.turn(),moveCount:l.history().length,isGameOver:l.isGameOver()}),i.jsxs("div",{className:"guided-practice-container",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("h3",{className:"text-lg font-semibold",children:e.theme}),i.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[i.jsxs("span",{className:"text-green-600",children:["✅ ",d," correct"]}),i.jsxs("span",{className:"text-red-500",children:["❌ ",m," mistakes"]}),g&&i.jsxs("span",{className:"text-blue-600",children:["⏱️ ",g,"s"]})]})]}),i.jsx(bn,{value:U,className:"h-2"})]}),i.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg p-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsxs("span",{className:"text-2xl",children:[q.stepType==="user-move"&&"🎯",q.stepType==="computer-move"&&"🤖",q.stepType==="explanation"&&"📚",q.stepType==="choice"&&"🤔"]}),i.jsx("h4",{className:"font-bold text-xl",children:q.title})]}),i.jsx("p",{className:"text-blue-100 leading-relaxed",children:q.description})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[i.jsx("h5",{className:"font-semibold text-green-800 mb-2",children:"Learning Objectives:"}),i.jsx("ul",{className:"list-disc list-inside text-green-700 text-sm space-y-1",children:e.objectives.map((B,ne)=>i.jsx("li",{children:B},ne))})]}),i.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[i.jsxs("h5",{className:"font-semibold text-blue-800 mb-2 flex items-center gap-2",children:[i.jsx("span",{children:"🤖"})," Guided Practice Mode"]}),i.jsxs("div",{className:"text-blue-700 text-sm space-y-1",children:[i.jsx("div",{children:i.jsx("strong",{children:"Educational Bot"})}),i.jsx("div",{className:"text-xs",children:"Step-by-step guided learning"}),i.jsx("div",{className:"text-xs",children:"Pre-programmed optimal moves"})]})]})]}),C&&q.stepType!=="user-move"&&i.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:[i.jsxs("h5",{className:"font-semibold text-purple-800 mb-2 flex items-center gap-2",children:[i.jsx("span",{children:"🎓"})," Computer's Move Explanation"]}),i.jsxs("div",{className:"text-purple-700 space-y-2",children:[i.jsx("p",{className:"text-sm",children:C.explanation}),C.teachingPoint&&i.jsx("div",{className:"bg-purple-100 p-3 rounded border border-purple-200",children:i.jsxs("p",{className:"text-xs font-medium text-purple-900",children:["💡 ",i.jsx("strong",{children:"Teaching Point:"})," ",C.teachingPoint]})}),i.jsxs("div",{className:"flex justify-between text-xs text-purple-600",children:[i.jsxs("span",{children:["Category: ",C.category]}),i.jsxs("span",{children:["Evaluation: ",C.evaluation>0?"+":"",C.evaluation.toFixed(1)]})]})]})]}),q.stepType==="choice"&&q.choices&&i.jsx("div",{className:"space-y-3",children:q.choices.map((B,ne)=>i.jsxs("button",{onClick:()=>ye(B),className:"w-full text-left p-4 rounded-lg border-2 border-gray-200 hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[i.jsx("div",{className:"font-medium",children:B.text}),i.jsx("div",{className:"text-sm text-gray-600 mt-1",children:B.explanation})]},ne))}),b&&i.jsx("div",{className:"bg-blue-100 rounded-lg p-4 text-center",children:i.jsxs("div",{className:"animate-pulse flex items-center justify-center gap-2",children:[i.jsx("span",{children:"🤖"}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("div",{children:"Computer is thinking..."}),q.botLevel&&i.jsxs("div",{className:"text-xs text-blue-600",children:["Bot Level: ",S.getBotConfig(q.botLevel)?.name||q.botLevel]})]})]})}),i.jsx("div",{className:"bg-green-50 rounded-lg p-3 text-center border border-green-200",children:i.jsx("div",{className:"text-green-800 text-sm",children:"✅ Guided Practice Mode - Using educational move sequences"})}),d+m>3&&i.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-4 border border-green-200",children:[i.jsxs("h5",{className:"font-semibold text-gray-800 mb-2 flex items-center gap-2",children:[i.jsx("span",{children:"📊"})," Practice Session"]}),(()=>{try{if(!N?.getSessionSummary)return i.jsx("div",{className:"text-sm text-gray-600",children:"Session tracking not available"});const B=N.getSessionSummary();return i.jsxs("div",{className:"text-sm space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Success Rate:"}),i.jsxs("span",{className:`font-bold ${B.successRate>.7?"text-green-600":"text-orange-600"}`,children:[(B.successRate*100).toFixed(0),"%"]})]}),i.jsx("div",{className:"text-xs text-gray-600",children:B.feedback})]})}catch(B){return console.warn("Session summary error:",B),i.jsxs("div",{className:"text-sm text-gray-600",children:[d," correct, ",m," mistakes"]})}})()]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{ref:P,className:"relative",children:i.jsx(Bi,{fen:l?.fen()||e.initialFen,orientation:"white",onMove:re,onMoveAttempt:ce,moveArrows:q?.moveArrows||[],guidanceHighlights:q?.highlightSquares||[],restrictedMoves:q?.allowedMoves,guidanceTooltip:q?.tooltip,stepExplanation:q?{title:q.title,description:q.description,position:"bottom"}:void 0,highlightMoves:!0,showCoordinates:!0,disabled:q?.stepType==="computer-move"||q?.stepType==="explanation"||q?.stepType==="choice",enableGamification:!0})})}),_&&O&&i.jsx("div",{className:"mt-4",children:i.jsx(WL,{moveContext:O,position:l?.fen()||e.initialFen,isVisible:_,onAnimationComplete:()=>R(!1),interactive:!0,lesson:{theme:e.theme,objectives:e.objectives}})})]})]}),i.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[i.jsxs("div",{className:"text-sm text-gray-600",children:["Step ",n+1," of ",e.steps.length]}),(q.stepType==="explanation"||q.stepType==="choice")&&!g&&i.jsx(fe,{onClick:Q,children:n===e.steps.length-1?"Complete Lesson":"Continue"})]})]})):(console.log("🎯 Game not ready, showing loading..."),i.jsx("div",{className:"flex items-center justify-center p-8",children:i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),i.jsx("div",{children:"Loading chess game..."}),i.jsx("div",{className:"text-sm text-gray-600",children:"⚠️ Initializing guided practice..."})]})})):(console.error("❌ No current step available:",{currentStepIndex:n,totalSteps:e.steps.length}),i.jsx("div",{className:"flex items-center justify-center p-8",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsxs("div",{className:"text-red-600",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Step Loading Error"}),i.jsxs("p",{children:["Step ",n+1," of ",e.steps.length," not found."]})]}),i.jsx(fe,{onClick:()=>r(0),children:"Restart Lesson"})]})}))},R1=({lesson:e,onComplete:t,onClose:n,onProgress:r})=>{const[l,c]=x.useState(0),[d,f]=x.useState({}),[m,p]=x.useState(null),[g,v]=x.useState({}),[b,w]=x.useState(!1),S=e.modules[l],N=(l+1)/e.modules.length*100;x.useEffect(()=>{if(S?.fen){const O=new kt(S.fen);p(O)}else p(null)},[S]);const T=O=>{if(!m){console.error("Game state is null in handleMove");return}try{const z=new kt(m.fen());z.move({from:O.from,to:O.to,promotion:O.promotion||"q"})&&p(z)}catch(z){console.error("Invalid move in lesson:",z)}};x.useEffect(()=>{r?.(N)},[N,r]);const A=()=>{l<e.modules.length-1?(c(l+1),w(!1)):t?.()},C=()=>{l>0&&(c(l-1),w(!1))},E=(O,z)=>{v(P=>({...P,[`${S.id}-${O}`]:z}))},_=()=>{w(!0)},R=()=>{if(!S)return null;switch(S.type){case"guided-practice":if(console.log("🎯 Rendering guided-practice module:",S),console.log("🎯 GuidedPractice data:",S.guidedPractice),!S.guidedPractice)return console.error("❌ No guidedPractice data in module:",S),i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("p",{className:"text-red-600",children:"Error: Guided practice configuration missing."}),i.jsx(fe,{onClick:A,children:"Skip to Next Module"})]});try{return console.log("🔧 Attempting to render GuidedPracticePlayer..."),i.jsx(ZL,{onError:O=>{console.error("🚨 GuidedPracticePlayer Error Boundary caught:",O),console.error("🚨 Error name:",O.name),console.error("🚨 Error message:",O.message),console.error("🚨 Error stack:",O.stack)},children:i.jsx(JL,{guidedPractice:S.guidedPractice,onComplete:()=>{console.log("🎯 Guided practice completed"),A()}})})}catch(O){return console.error("🚨 Failed to render GuidedPracticePlayer:",O),console.error("🚨 Render error name:",O.name),console.error("🚨 Render error message:",O.message),console.error("🚨 Render error stack:",O.stack),i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4 text-red-600",children:"🚨 Guided Practice Render Error"}),i.jsxs("div",{className:"text-left bg-red-50 p-4 rounded border border-red-200",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Error:"})," ",O.message]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Type:"})," ",O.name]}),i.jsxs("details",{className:"mt-4",children:[i.jsx("summary",{className:"cursor-pointer font-semibold",children:"Error Stack"}),i.jsx("pre",{className:"text-xs mt-2 overflow-auto bg-white p-2 rounded",children:O.stack})]})]}),i.jsx(fe,{onClick:A,className:"mt-4",children:"Skip to Next Module"})]})}case"theory":return i.jsx("div",{className:"prose prose-lg max-w-none",children:i.jsx("div",{className:"whitespace-pre-line text-gray-700 leading-relaxed",children:S.content})});case"interactive":return i.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"prose",children:i.jsx("div",{className:"whitespace-pre-line text-gray-700",children:S.content})}),S.moves&&i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Key Moves:"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:S.moves.map((O,z)=>i.jsxs(Nt,{variant:"outline",className:"justify-center",children:[z+1,". ",O]},z))})]})]}),m&&i.jsx("div",{className:"flex justify-center",children:i.jsx(Bi,{fen:m.fen(),orientation:"white",onMove:T,highlightMoves:!0,showCoordinates:!0,disabled:!1,enableGamification:!0,allowAllMoves:!0})})]});case"puzzle":return i.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Solve this position:"}),i.jsx("div",{className:"whitespace-pre-line text-gray-700 mb-4",children:S.content}),i.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg",children:i.jsxs("p",{className:"text-sm text-yellow-800",children:["💡 ",i.jsx("strong",{children:"Tip:"})," Look for tactical patterns like forks, pins, or skewers!"]})})]}),m&&i.jsx("div",{className:"flex justify-center",children:i.jsx(Bi,{fen:m.fen(),orientation:"white",onMove:T,highlightMoves:!0,showCoordinates:!0,puzzleMode:!0,correctMoves:S.moves||[],onCorrectMove:()=>{alert("Correct! Well done!")},onIncorrectMove:()=>{alert("Not quite right. Try again!")}})})]});case"quiz":return i.jsxs("div",{className:"max-w-2xl mx-auto",children:[i.jsx("h3",{className:"text-2xl font-semibold mb-6",children:"Knowledge Check"}),i.jsx("div",{className:"space-y-6",children:S.questions?.map((O,z)=>i.jsxs(Re,{className:"p-6",children:[i.jsx("h4",{className:"text-lg font-medium mb-4",children:O.question}),i.jsx("div",{className:"space-y-3",children:O.options.map((P,q)=>{const U=g[`${S.id}-${z}`]===q,Q=q===O.correct,re=b;return i.jsx("button",{onClick:()=>E(z,q),disabled:b,className:`w-full text-left p-4 rounded-lg border-2 transition-all ${re?Q?"border-green-500 bg-green-50":U&&!Q?"border-red-500 bg-red-50":"border-gray-200 bg-gray-50":U?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 bg-white"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{children:P}),re&&Q&&i.jsx("span",{className:"text-green-600",children:"✓"}),re&&U&&!Q&&i.jsx("span",{className:"text-red-600",children:"✗"})]})},q)})}),b&&i.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[i.jsx("p",{className:"text-blue-800 font-medium",children:"Explanation:"}),i.jsx("p",{className:"text-blue-700",children:O.explanation})]})]},z))}),!b&&i.jsx("div",{className:"mt-8 text-center",children:i.jsx(fe,{onClick:_,size:"lg",children:"Submit Quiz"})})]});default:return i.jsx("div",{children:"Unknown module type"})}};return i.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--color-bg-base)"},children:[i.jsx("div",{className:"shadow-sm border-b",style:{backgroundColor:"var(--color-surface-elevated)",borderColor:"var(--color-border-default)"},children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(fe,{variant:"outline",size:"sm",onClick:n,children:"← Back to Lessons"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.title}),i.jsx("p",{className:"text-gray-600",children:e.description})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm text-gray-500",children:["Module ",l+1," of ",e.modules.length]}),i.jsx(Nt,{className:"mt-1",children:e.difficulty})]})]}),i.jsx(bn,{value:N,className:"h-3"})]})}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[i.jsx(Sa,{mode:"wait",children:i.jsx(xe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:i.jsxs(Re,{className:"mb-8",children:[i.jsx(Ht,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(Kt,{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-2xl",children:[S.type==="theory"&&"📚",S.type==="interactive"&&"🎮",S.type==="puzzle"&&"🧩",S.type==="quiz"&&"❓"]}),S.title]}),i.jsxs(In,{children:[S.type==="theory"&&"Learn the concepts",S.type==="interactive"&&"Practice with the board",S.type==="puzzle"&&"Solve the position",S.type==="quiz"&&"Test your knowledge"]})]}),i.jsx(Nt,{variant:"outline",children:S.type})]})}),i.jsx(Et,{children:R()})]})},l)}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(fe,{variant:"outline",onClick:C,disabled:l===0,children:"← Previous Module"}),i.jsx("div",{className:"flex items-center space-x-2",children:e.modules.map((O,z)=>i.jsx("button",{onClick:()=>c(z),className:`w-3 h-3 rounded-full transition-all ${z===l?"bg-blue-600":z<l?"bg-green-500":"bg-gray-300"}`},z))}),i.jsx(fe,{onClick:A,disabled:S.type==="quiz"&&!b,children:l===e.modules.length-1?"Complete Lesson ✓":"Next Module →"})]})]})]})},Si=[{id:"chess-basics",title:"📚 Chess Basics",description:"Complete introduction to chess - from board setup to piece movements",difficulty:"Basics",ratingRange:"0-400",totalLessons:8,estimatedHours:4,lessons:[{id:"chess-101",title:"1. Welcome to Chess",description:"Chess history, board setup, and piece identification",difficulty:"Basics",duration:20,ratingRange:"0-200",modules:["What is Chess?","The Chessboard","Meet the Pieces","Setting Up"],completed:!1,progress:0,objectives:["Identify all chess pieces","Set up the board correctly","Understand chess notation"]},{id:"pawn-moves",title:"2. How Pawns Move",description:"Pawn movement, capture, and special rules (en passant, promotion)",difficulty:"Basics",duration:25,ratingRange:"0-200",modules:["Basic Pawn Movement","Pawn Captures","En Passant","Pawn Promotion"],completed:!1,progress:0,objectives:["Master pawn movement","Understand pawn captures","Learn special pawn rules"]},{id:"rook-moves",title:"3. How Rooks Move",description:"Rook movement patterns and tactical opportunities",difficulty:"Basics",duration:20,ratingRange:"100-300",modules:["Rook Movement","Rook Captures","Rook vs Pawns","Basic Rook Tactics"],completed:!1,progress:0,objectives:["Master rook movement","Recognize rook tactical patterns","Use rooks effectively"]},{id:"bishop-moves",title:"4. How Bishops Move",description:"Bishop movement, good vs bad bishops, and diagonal control",difficulty:"Basics",duration:20,ratingRange:"100-300",modules:["Bishop Movement","Light vs Dark Squares","Good vs Bad Bishops","Bishop Pairs"],completed:!1,progress:0,objectives:["Master bishop movement","Understand diagonal control","Evaluate bishop strength"]},{id:"knight-moves",title:"5. How Knights Move",description:"Knight movement patterns and the unique L-shaped move",difficulty:"Basics",duration:25,ratingRange:"100-300",modules:["Knight Movement","L-shaped Moves","Knight Forks","Knight Outposts"],completed:!1,progress:0,objectives:["Master knight movement","Understand knight tactics","Find knight outposts"]},{id:"queen-moves",title:"6. How the Queen Moves",description:"Queen movement combining rook and bishop powers",difficulty:"Basics",duration:20,ratingRange:"200-400",modules:["Queen Movement","Queen Power","Early Queen Development","Queen Safety"],completed:!1,progress:0,objectives:["Master queen movement","Understand queen power","Keep queen safe"]},{id:"king-moves",title:"7. How the King Moves",description:"King movement, safety, and the special castling move",difficulty:"Basics",duration:25,ratingRange:"200-400",modules:["King Movement","King Safety","Castling Rules","King Activity"],completed:!1,progress:0,objectives:["Master king movement","Learn castling rules","Understand king safety"]},{id:"check-checkmate",title:"8. Check, Checkmate & Stalemate",description:"Understanding check, checkmate, and stalemate conditions",difficulty:"Basics",duration:30,ratingRange:"200-400",modules:["What is Check?","Escaping Check","Checkmate vs Stalemate","Basic Checkmates"],completed:!1,progress:0,objectives:["Recognize check situations","Deliver checkmate","Avoid stalemate"]}]},{id:"beginner-fundamentals",title:"🎯 Beginner Fundamentals",description:"Essential chess knowledge for new players",difficulty:"Beginner",ratingRange:"400-800",totalLessons:10,estimatedHours:8,lessons:[{id:"opening-principles",title:"9. Opening Principles",description:"Control center, develop pieces, and castle early",difficulty:"Beginner",duration:35,ratingRange:"400-600",modules:["Control the Center","Develop Pieces","King Safety","Common Mistakes"],completed:!1,progress:0,objectives:["Apply opening principles","Avoid common traps","Achieve good development"]},{id:"basic-tactics",title:"10. Basic Tactics: Forks",description:"Attack two pieces simultaneously with forks",difficulty:"Beginner",duration:40,ratingRange:"400-600",modules:["What is a Fork?","Knight Forks","Pawn Forks","Queen Forks"],completed:!1,progress:0,objectives:["Recognize fork opportunities","Execute tactical forks","Defend against forks"]},{id:"basic-pins",title:"11. Basic Tactics: Pins",description:"Pin pieces to more valuable targets behind them",difficulty:"Beginner",duration:40,ratingRange:"500-700",modules:["Absolute Pins","Relative Pins","Pin Breaking","Pin Combinations"],completed:!1,progress:0,objectives:["Create tactical pins","Break opponent pins","Use pins in combinations"]},{id:"basic-skewers",title:"12. Basic Tactics: Skewers",description:"Force valuable pieces to move and win material behind",difficulty:"Beginner",duration:35,ratingRange:"500-700",modules:["What is a Skewer?","Rook Skewers","Bishop Skewers","Queen Skewers"],completed:!1,progress:0,objectives:["Execute skewer tactics","Recognize skewer patterns","Combine with other tactics"]},{id:"piece-values",title:"13. Piece Values & Exchanges",description:"Understanding relative piece values and when to trade",difficulty:"Beginner",duration:30,ratingRange:"400-600",modules:["Point Values","Equal Trades","Favorable Exchanges","When NOT to Trade"],completed:!1,progress:0,objectives:["Calculate piece values","Make favorable trades","Avoid bad exchanges"]},{id:"basic-endgame",title:"14. Basic Checkmate Patterns",description:"Essential checkmate techniques with major pieces",difficulty:"Beginner",duration:45,ratingRange:"500-700",modules:["Queen + King vs King","Rook + King vs King","Back Rank Mate","Smothered Mate"],completed:!1,progress:0,objectives:["Deliver basic checkmates","Avoid stalemate tricks","Practice mate patterns"]},{id:"pawn-structure",title:"15. Basic Pawn Structure",description:"Understanding pawn chains, islands, and weaknesses",difficulty:"Beginner",duration:35,ratingRange:"600-800",modules:["Pawn Chains","Isolated Pawns","Doubled Pawns","Passed Pawns"],completed:!1,progress:0,objectives:["Evaluate pawn structure","Create passed pawns","Exploit pawn weaknesses"]},{id:"time-management",title:"16. Time Management",description:"How to manage your clock in chess games",difficulty:"Beginner",duration:25,ratingRange:"400-600",modules:["Chess Clocks","Time Allocation","Time Pressure","Practical Tips"],completed:!1,progress:0,objectives:["Use chess clock effectively","Handle time pressure","Allocate time wisely"]},{id:"common-openings",title:"17. Common Chess Openings",description:"Introduction to popular opening systems",difficulty:"Beginner",duration:50,ratingRange:"600-800",modules:["Italian Game","Spanish Opening","Queen's Gambit","King's Indian Defense"],completed:!1,progress:0,objectives:["Play common openings","Understand opening ideas","Avoid opening traps"]},{id:"game-analysis",title:"18. Analyzing Your Games",description:"How to review and learn from your chess games",difficulty:"Beginner",duration:30,ratingRange:"500-700",modules:["Post-Game Analysis","Finding Mistakes","Learning from Losses","Using Chess Engines"],completed:!1,progress:0,objectives:["Analyze games effectively","Identify mistakes","Learn from analysis"]}]},{id:"intermediate-strategy",title:"🔥 Intermediate Strategy",description:"Deepen your understanding of chess strategy and tactics",difficulty:"Intermediate",ratingRange:"800-1400",totalLessons:12,estimatedHours:15,lessons:[{id:"advanced-tactics",title:"19. Advanced Tactical Patterns",description:"Discovered attacks, deflection, and decoy tactics",difficulty:"Intermediate",duration:50,ratingRange:"800-1200",modules:["Discovered Attacks","Deflection","Decoy","Clearance","Interference"],completed:!1,progress:0,prerequisites:["basic-tactics","basic-pins"],objectives:["Master advanced tactics","Combine multiple themes","Calculate complex sequences"]},{id:"positional-play",title:"20. Introduction to Positional Play",description:"Understanding piece coordination and strategic plans",difficulty:"Intermediate",duration:45,ratingRange:"900-1300",modules:["Piece Coordination","Strategic Planning","Weak Squares","Space Advantage"],completed:!1,progress:0,objectives:["Develop strategic thinking","Create long-term plans","Evaluate positions"]},{id:"middlegame-strategy",title:"21. Middlegame Planning",description:"Strategic concepts for the middlegame phase",difficulty:"Intermediate",duration:55,ratingRange:"1000-1400",modules:["Pawn Breaks","Piece Exchanges","King Safety","Initiative"],completed:!1,progress:0,objectives:["Plan in middlegame","Execute pawn breaks","Maintain initiative"]},{id:"endgame-fundamentals",title:"22. Essential Endgames",description:"Key endgame positions every player must know",difficulty:"Intermediate",duration:60,ratingRange:"800-1200",modules:["Opposition","Key Squares","Rook Endgames","Queen Endgames"],completed:!1,progress:0,objectives:["Master basic endgames","Use opposition correctly","Convert advantages"]},{id:"attack-defense",title:"23. Attack and Defense",description:"Launching attacks while maintaining defensive solidity",difficulty:"Intermediate",duration:50,ratingRange:"1000-1400",modules:["King Attacks","Defensive Resources","Counterplay","Sacrifices"],completed:!1,progress:0,objectives:["Launch effective attacks","Defend accurately","Find counterplay"]},{id:"piece-activity",title:"24. Piece Activity and Coordination",description:"Maximizing the effectiveness of your pieces",difficulty:"Intermediate",duration:40,ratingRange:"900-1300",modules:["Active vs Passive Pieces","Piece Harmony","Outposts","Bad Bishops"],completed:!1,progress:0,objectives:["Activate all pieces","Coordinate piece play","Improve bad pieces"]},{id:"pawn-endgames",title:"25. Advanced Pawn Endgames",description:"Complex pawn endgame techniques and principles",difficulty:"Intermediate",duration:55,ratingRange:"1100-1400",modules:["King and Pawn vs King","Multiple Pawns","Pawn Races","Zugzwang"],completed:!1,progress:0,objectives:["Master pawn endgames","Calculate pawn races","Use zugzwang"]},{id:"opening-strategy",title:"26. Opening Strategy Deep Dive",description:"Strategic understanding of opening principles",difficulty:"Intermediate",duration:45,ratingRange:"900-1300",modules:["Opening Plans","Pawn Structures","Piece Development","Central Control"],completed:!1,progress:0,objectives:["Understand opening plans","Choose right openings","Transition to middlegame"]},{id:"tactical-combinations",title:"27. Complex Tactical Combinations",description:"Multi-move tactical sequences and combinations",difficulty:"Intermediate",duration:60,ratingRange:"1000-1400",modules:["Combination Types","Calculation Techniques","Tactical Vision","Pattern Recognition"],completed:!1,progress:0,objectives:["Calculate deep combinations","Recognize tactical patterns","Improve tactical vision"]},{id:"strategic-exchanges",title:"28. Strategic Piece Exchanges",description:"When and how to exchange pieces for strategic advantage",difficulty:"Intermediate",duration:40,ratingRange:"1100-1400",modules:["Trading Pieces","Simplification","Keeping Tension","Exchange Sacrifices"],completed:!1,progress:0,objectives:["Make strategic exchanges","Simplify positions","Maintain tension"]},{id:"weak-squares",title:"29. Exploiting Weaknesses",description:"Identifying and exploiting positional weaknesses",difficulty:"Intermediate",duration:45,ratingRange:"1000-1400",modules:["Weak Squares","Backward Pawns","Isolated Pawns","Color Weaknesses"],completed:!1,progress:0,objectives:["Identify weaknesses","Exploit weak squares","Create long-term advantages"]},{id:"practical-endgames",title:"30. Practical Endgame Play",description:"Real-world endgame situations and practical tips",difficulty:"Intermediate",duration:50,ratingRange:"1100-1400",modules:["Practical Technique","Time Management","Endgame Psychology","Common Mistakes"],completed:!1,progress:0,objectives:["Play endgames practically","Avoid common errors","Convert winning positions"]}]},{id:"advanced-mastery",title:"🚀 Advanced Mastery",description:"Advanced concepts for ambitious players",difficulty:"Advanced",ratingRange:"1400-1800",totalLessons:10,estimatedHours:20,lessons:[{id:"dynamic-play",title:"31. Dynamic vs Positional Play",description:"Understanding when to play dynamically vs positionally",difficulty:"Advanced",duration:60,ratingRange:"1400-1700",modules:["Dynamic Factors","Initiative","Compensation","Risk Assessment"],completed:!1,progress:0,prerequisites:["positional-play","attack-defense"],objectives:["Balance dynamic/positional play","Assess compensation","Take calculated risks"]},{id:"strategic-planning",title:"32. Advanced Strategic Planning",description:"Long-term planning and strategic thinking",difficulty:"Advanced",duration:70,ratingRange:"1500-1800",modules:["Strategic Assessment","Long-term Plans","Plan Flexibility","Strategic Sacrifices"],completed:!1,progress:0,objectives:["Create strategic plans","Adapt plans flexibly","Make strategic sacrifices"]},{id:"complex-endgames",title:"33. Complex Endgame Studies",description:"Advanced endgame positions and study techniques",difficulty:"Advanced",duration:80,ratingRange:"1400-1800",modules:["Rook vs Minor Piece","Complex Pawn Endings","Queen Endgames","Study Positions"],completed:!1,progress:0,objectives:["Master complex endgames","Study endgame positions","Apply endgame knowledge"]},{id:"opening-mastery",title:"34. Opening Theory and Preparation",description:"Deep opening preparation and theoretical knowledge",difficulty:"Advanced",duration:90,ratingRange:"1500-1800",modules:["Opening Repertoires","Theoretical Lines","Novelties","Opening Databases"],completed:!1,progress:0,objectives:["Build opening repertoire","Study theory deeply","Prepare opening novelties"]},{id:"calculation-mastery",title:"35. Advanced Calculation",description:"Deep calculation techniques and visualization",difficulty:"Advanced",duration:75,ratingRange:"1400-1800",modules:["Calculation Methods","Visualization","Candidate Moves","Calculation Accuracy"],completed:!1,progress:0,objectives:["Calculate deeply and accurately","Improve visualization","Find all candidate moves"]},{id:"positional-sacrifices",title:"36. Positional and Exchange Sacrifices",description:"Strategic sacrifices for long-term compensation",difficulty:"Advanced",duration:65,ratingRange:"1500-1800",modules:["Exchange Sacrifices","Positional Sacrifices","Compensation Assessment","Practical Examples"],completed:!1,progress:0,objectives:["Make strategic sacrifices","Assess compensation","Play for long-term advantage"]},{id:"psychological-chess",title:"37. Chess Psychology and Time Management",description:"Mental aspects of competitive chess",difficulty:"Advanced",duration:50,ratingRange:"1400-1700",modules:["Chess Psychology","Pressure Handling","Opponent Psychology","Mental Preparation"],completed:!1,progress:0,objectives:["Handle psychological pressure","Understand opponent psychology","Prepare mentally"]},{id:"theoretical-endgames",title:"38. Theoretical Endgame Knowledge",description:"Essential theoretical endgame positions",difficulty:"Advanced",duration:85,ratingRange:"1500-1800",modules:["Tablebase Positions","Theoretical Draws","Endgame Theory","Computer Analysis"],completed:!1,progress:0,objectives:["Master theoretical endgames","Use endgame databases","Understand computer analysis"]},{id:"middlegame-mastery",title:"39. Middlegame Mastery",description:"Advanced middlegame concepts and plans",difficulty:"Advanced",duration:70,ratingRange:"1500-1800",modules:["Complex Planning","Piece Maneuvering","Strategic Themes","Game Phases"],completed:!1,progress:0,objectives:["Master middlegame play","Create complex plans","Execute strategic themes"]},{id:"tournament-preparation",title:"40. Tournament Play and Preparation",description:"Preparing for serious competitive chess",difficulty:"Advanced",duration:60,ratingRange:"1400-1800",modules:["Tournament Preparation","Opening Prep","Physical Preparation","Game Analysis"],completed:!1,progress:0,objectives:["Prepare for tournaments","Develop pre-game routines","Analyze opponents"]}]},{id:"expert-mastery",title:"👑 Expert Mastery",description:"Master-level concepts for serious tournament players",difficulty:"Expert",ratingRange:"1800-2200",totalLessons:8,estimatedHours:25,lessons:[{id:"grandmaster-games",title:"41. Studying Grandmaster Games",description:"Learning from the games of world-class players",difficulty:"Expert",duration:90,ratingRange:"1800-2200",modules:["Game Selection","Analysis Methods","Pattern Recognition","Strategic Understanding"],completed:!1,progress:0,prerequisites:["strategic-planning","opening-mastery"],objectives:["Analyze GM games effectively","Extract key insights","Apply GM techniques"]},{id:"opening-innovation",title:"42. Opening Innovation and Preparation",description:"Creating novelties and deep opening preparation",difficulty:"Expert",duration:120,ratingRange:"1900-2200",modules:["Novelty Creation","Deep Preparation","Computer Analysis","Opening Trends"],completed:!1,progress:0,objectives:["Create opening novelties","Prepare deeply with computers","Understand opening trends"]},{id:"endgame-artistry",title:"43. Endgame Artistry and Studies",description:"Beautiful endgame compositions and artistic play",difficulty:"Expert",duration:100,ratingRange:"1800-2200",modules:["Endgame Studies","Artistic Positions","Study Composition","Endgame Beauty"],completed:!1,progress:0,objectives:["Appreciate endgame art","Study compositions","Create beautiful positions"]},{id:"strategic-mastery",title:"44. Strategic Mastery and Evaluation",description:"Deep positional understanding and evaluation skills",difficulty:"Expert",duration:110,ratingRange:"1900-2200",modules:["Position Evaluation","Strategic Elements","Imbalances","Strategic Mastery"],completed:!1,progress:0,objectives:["Evaluate positions accurately","Understand strategic imbalances","Make strategic decisions"]},{id:"tactical-mastery",title:"45. Tactical Vision and Mastery",description:"Extraordinary tactical vision and pattern recognition",difficulty:"Expert",duration:95,ratingRange:"1800-2200",modules:["Pattern Mastery","Tactical Vision","Complex Combinations","Tactical Training"],completed:!1,progress:0,objectives:["Develop tactical mastery","See complex patterns","Calculate accurately"]},{id:"game-preparation",title:"46. Professional Game Preparation",description:"Preparing like a professional chess player",difficulty:"Expert",duration:85,ratingRange:"1900-2200",modules:["Opponent Preparation","Database Analysis","Team Preparation","Professional Methods"],completed:!1,progress:0,objectives:["Prepare professionally","Analyze opponents thoroughly","Use professional methods"]},{id:"chess-understanding",title:"47. Deep Chess Understanding",description:"Profound understanding of chess principles and exceptions",difficulty:"Expert",duration:120,ratingRange:"1800-2200",modules:["Chess Principles","Exceptions","Deep Understanding","Chess Philosophy"],completed:!1,progress:0,objectives:["Understand chess deeply","Know when to break rules","Develop chess intuition"]},{id:"mastery-synthesis",title:"48. Chess Mastery Synthesis",description:"Integrating all aspects of chess knowledge and skill",difficulty:"Expert",duration:100,ratingRange:"2000-2200",modules:["Knowledge Integration","Skill Synthesis","Chess Mastery","Continuous Improvement"],completed:!1,progress:0,objectives:["Integrate all chess knowledge","Achieve mastery synthesis","Continue improving"]}]}],e_=()=>{const[e,t]=x.useState(null),[n,r]=x.useState({}),[l,c]=x.useState(null);x.useEffect(()=>{const C={};Si.forEach(E=>{E.lessons.forEach(_=>{C[_.id]=_.progress})}),r(C)},[]);const d=C=>{switch(C){case"Basics":return{backgroundColor:"var(--color-surface)",color:"var(--color-text-secondary)",borderColor:"var(--color-border-default)"};case"Beginner":return{backgroundColor:"var(--color-success-subtle)",color:"var(--color-success)",borderColor:"var(--color-success)"};case"Intermediate":return{backgroundColor:"var(--color-warning-subtle)",color:"var(--color-warning)",borderColor:"var(--color-warning)"};case"Advanced":return{backgroundColor:"var(--color-danger-subtle)",color:"var(--color-danger)",borderColor:"var(--color-danger)"};case"Expert":return{backgroundColor:"var(--color-accent-primary-subtle)",color:"var(--color-accent-primary)",borderColor:"var(--color-accent-primary)"};default:return{backgroundColor:"var(--color-surface)",color:"var(--color-text-secondary)",borderColor:"var(--color-border-default)"}}},f=(C,E)=>{console.log(`Starting lesson: ${E} (${C})`);const _=Si.flatMap(O=>O.lessons).find(O=>O.id===C);if(!_)return;const R={id:C,title:E,description:_.description,difficulty:_.difficulty,duration:_.duration,objectives:_.objectives,modules:m(C,E)};c(R),r(O=>({...O,[C]:25}))},m=(C,E,_)=>{const R=[];if(R.push({id:`${C}-theory`,title:"Introduction",type:"theory",content:g(C,E)}),["opening-principles","basic-tactics","king-safety","basic-endgames"].includes(C)){const z={"opening-principles":"Guided Opening Practice","basic-tactics":"Guided Tactical Training","king-safety":"Guided King Safety Practice","basic-endgames":"Guided Endgame Training"},P={"opening-principles":"Learn opening principles step-by-step with computer guidance.","basic-tactics":"Master tactical patterns with step-by-step guided practice.","king-safety":"Practice king safety concepts with interactive guidance.","basic-endgames":"Learn fundamental endgames with guided instruction."};R.push({id:`${C}-guided`,title:z[C]||"Guided Practice",type:"guided-practice",content:P[C]||"Interactive guided learning with step-by-step instruction.",guidedPractice:p(C)})}return R.push({id:`${C}-interactive`,title:"Practice on the Board",type:"interactive",content:"Now let's explore this concept on the chessboard. Study the position and key moves.",fen:v(C),moves:b(C)}),R.push({id:`${C}-quiz`,title:"Test Your Knowledge",type:"quiz",content:"",questions:w(C)}),R},p=C=>({"opening-principles":{initialFen:"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",botLevel:3,theme:"Opening Development",objectives:["Control the center with pawns","Develop knights before bishops","Castle early for king safety","Avoid moving the same piece twice"],successCriteria:{minCorrectMoves:4,maxMistakes:2,timeBonus:!1},steps:[{id:"step1",stepType:"explanation",title:"Welcome to Guided Opening",description:"In this lesson, you'll learn the fundamental principles of chess openings. I'll guide you through each move and explain why it's important.",timeLimit:10},{id:"step2",stepType:"user-move",title:"Control the Center",description:"First principle: Control the center! Move your king's pawn two squares forward.",allowedMoves:["e2e4"],moveArrows:[{from:"e2",to:"e4",color:"green",style:"solid"}],highlightSquares:[{square:"e2",color:"require",animation:"pulse"}],tooltip:{square:"e2",message:"Click here to move the pawn!",type:"instruction"},nextStepConditions:{onCorrectMove:"step3"}},{id:"step3",stepType:"computer-move",title:"Computer Response",description:"Excellent! The computer responds with e7-e5, also fighting for central control. This is the most popular response.",computerMove:"e7e5",timeLimit:5},{id:"step4",stepType:"user-move",title:"Develop Your Knight",description:"Now develop a knight toward the center. Knights are most effective when centralized.",allowedMoves:["g1f3","b1c3"],moveArrows:[{from:"g1",to:"f3",color:"blue",style:"solid"},{from:"b1",to:"c3",color:"blue",style:"dashed"}],highlightSquares:[{square:"g1",color:"suggest",animation:"glow"},{square:"b1",color:"suggest",animation:"glow"}],tooltip:{square:"g1",message:"Knights to f3 is most common!",type:"hint"}},{id:"step5",stepType:"computer-move",title:"Computer Develops",description:"The computer develops its knight as well. Notice how both sides prioritize piece development.",computerMove:"b8c6",timeLimit:5},{id:"step6",stepType:"choice",title:"What's Next?",description:"You've learned the basic opening principles. What would you like to focus on next?",choices:[{text:"Learn about castling",nextStep:"step7-castle",explanation:"King safety is crucial in chess"},{text:"Develop more pieces",nextStep:"step7-develop",explanation:"Piece development continues"}]},{id:"step7-castle",stepType:"explanation",title:"Lesson Complete!",description:"🎉 Great job! You've learned the fundamental opening principles: central control and piece development. In future lessons, we'll explore castling and more advanced concepts.",timeLimit:10}]},"basic-tactics":{initialFen:"r1bqk2r/pppp1ppp/2n2n2/2b1p3/2B1P3/3P1N2/PPP2PPP/RNBQK2R w KQkq - 0 6",botLevel:4,theme:"Tactical Awareness",objectives:["Recognize tactical patterns","Execute tactical combinations","Defend against tactics","Calculate tactical sequences"],successCriteria:{minCorrectMoves:3,maxMistakes:1,timeBonus:!0},steps:[{id:"tact1",stepType:"explanation",title:"Tactical Pattern Recognition",description:"In this position, there are several tactical opportunities. Look for patterns like forks, pins, and skewers. The key is to spot the weakness in your opponent's position.",timeLimit:15},{id:"tact2",stepType:"user-move",title:"Find the Fork!",description:"Your knight can create a powerful fork. Find the move that attacks both the king and another piece!",allowedMoves:["f3d4"],suggestedMove:"f3d4",moveArrows:[{from:"f3",to:"d4",color:"green",style:"solid"}],highlightSquares:[{square:"f3",color:"require",animation:"bounce"},{square:"d4",color:"good",animation:"glow"},{square:"e8",color:"avoid",animation:"pulse"}],tooltip:{square:"d4",message:"From here, the knight creates a powerful fork!",type:"hint"}},{id:"tact3",stepType:"computer-move",title:"Computer Response",description:"The computer must respond to your tactical threat.",computerMove:"c5d4",botLevel:4,timeLimit:5},{id:"tact4",stepType:"explanation",title:"Tactical Complete!",description:"Excellent! You've learned to recognize and execute basic tactical patterns. Tactics are the foundation of chess improvement!",timeLimit:8}]},"king-safety":{initialFen:"r3k2r/ppp2ppp/2n1bn2/3p4/3P4/2N2N2/PPP2PPP/R1BQKB1R w KQkq - 0 8",botLevel:3,theme:"King Safety",objectives:["Recognize king safety importance","Execute castling at the right time","Understand when NOT to castle","Create safe king positions"],successCriteria:{minCorrectMoves:2,maxMistakes:1,timeBonus:!1},steps:[{id:"safe1",stepType:"explanation",title:"King Safety Priority",description:"Your king is still in the center while development is nearly complete. This is dangerous! Castling should be a high priority to move your king to safety.",timeLimit:12},{id:"safe2",stepType:"choice",title:"Castle Direction Choice",description:"You can castle on either side. Which side looks safer?",choices:[{text:"Kingside Castle (O-O)",nextStep:"safe3a",explanation:"Short castle - faster and usually safer"},{text:"Queenside Castle (O-O-O)",nextStep:"safe3b",explanation:"Long castle - more space but takes longer"}]},{id:"safe3a",stepType:"user-move",title:"Kingside Castling",description:"Castle kingside to bring your king to safety quickly!",allowedMoves:["e1g1"],moveArrows:[{from:"e1",to:"g1",color:"green",style:"solid"},{from:"h1",to:"f1",color:"green",style:"dashed"}],highlightSquares:[{square:"e1",color:"require",animation:"pulse"},{square:"g1",color:"good",animation:"glow"},{square:"f1",color:"good",animation:"glow"},{square:"h1",color:"suggest",animation:"glow"}],tooltip:{square:"g1",message:"Safe haven for your king!",type:"success"}},{id:"safe4",stepType:"computer-move",title:"Computer Castles Too",description:"The computer also recognizes the importance of king safety and castles kingside.",computerMove:"e8g8",botLevel:3},{id:"safe5",stepType:"explanation",title:"King Safety Complete!",description:"Perfect! Both kings are now safe. Remember: get your king to safety early in the game!",timeLimit:8}]},"basic-endgames":{initialFen:"4k3/8/4K3/8/8/8/8/4R3 w - - 0 1",botLevel:2,theme:"Basic Endgames",objectives:["Learn rook endgame technique","Understand king activity","Master checkmate patterns","Practice endgame principles"],successCriteria:{minCorrectMoves:4,maxMistakes:2,timeBonus:!1},steps:[{id:"end1",stepType:"explanation",title:"Rook Endgame Basics",description:"This is a fundamental rook endgame. Your goal is to checkmate the opponent king using your rook and king together. The key principle: use your king actively!",timeLimit:15},{id:"end2",stepType:"user-move",title:"Cut Off the King",description:"Move your rook to cut off the enemy king. Re1-e8+ gives check and limits the king's escape squares.",allowedMoves:["e1e8"],moveArrows:[{from:"e1",to:"e8",color:"green",style:"solid"}],highlightSquares:[{square:"e1",color:"require",animation:"pulse"},{square:"e8",color:"good",animation:"glow"},{square:"e8",color:"avoid",animation:"bounce"}],tooltip:{square:"e8",message:"Check! And cuts off the 8th rank",type:"instruction"}},{id:"end3",stepType:"computer-move",title:"King Moves",description:"The computer king is forced to move. It goes to d7, trying to stay centralized.",computerMove:"e8d7",botLevel:2},{id:"end4",stepType:"user-move",title:"Activate Your King",description:"Now bring your king closer! King activity is crucial in endgames.",allowedMoves:["e6d6","e6f7","e6d5"],suggestedMove:"e6d6",moveArrows:[{from:"e6",to:"d6",color:"green",style:"solid"}],highlightSquares:[{square:"e6",color:"require",animation:"pulse"},{square:"d6",color:"good",animation:"glow"}],tooltip:{square:"d6",message:"Support your rook with your king!",type:"hint"}},{id:"end5",stepType:"explanation",title:"Endgame Complete!",description:"Excellent! You've learned the basic principles of rook endgames: cut off the king and use your own king actively!",timeLimit:10}]}})[C]||null,g=(C,E)=>({"chess-101":`Welcome to the wonderful world of chess! Chess is one of the world's oldest and most beloved strategy games.

In this lesson, you'll learn:
• The history and origins of chess
• How to set up the chessboard correctly
• The names and basic movements of all chess pieces
• Chess notation and how to record moves

Chess is a game of infinite complexity and beauty. Every game tells a story, and every move matters. Let's begin your journey to chess mastery!

The chessboard consists of 64 squares arranged in an 8x8 grid. The board is positioned so that each player has a light-colored square in the bottom-right corner.

Key Facts:
• Chess originated in India around the 6th century
• The modern rules were established in the 15th century
• There are over 600 million chess players worldwide
• Chess develops critical thinking and pattern recognition skills`,"pawn-movement":`Pawns are the foot soldiers of chess. Though they may seem simple, pawns are crucial to your chess success.

Basic Pawn Rules:
• Pawns move forward one square at a time
• On their first move, pawns can advance two squares
• Pawns capture diagonally forward, not straight ahead
• Pawns cannot move backward

Special Pawn Rules:
• En passant capture (capturing a pawn that just moved two squares)
• Pawn promotion (when a pawn reaches the opposite end)

Strategy Tips:
• Pawn structure forms the skeleton of your position
• Advanced pawns can become powerful
• Doubled pawns are generally weak
• Isolated pawns need protection`,"rook-movement":`The rook is one of the most powerful pieces on the chessboard. Often called a "castle," rooks dominate open files and ranks.

Rook Movement:
• Moves horizontally and vertically any number of squares
• Cannot jump over other pieces
• Excellent for controlling open files and ranks

Rook Strategy:
• Place rooks on open files (files with no pawns)
• Double rooks on the same file for maximum power
• Rooks work well together and support each other
• The 7th rank is often a strong position for rooks

Fun Fact: In the endgame, rooks become increasingly powerful as the board opens up!`})[C]||`Learn about ${E}. This lesson will teach you the fundamental concepts and strategies.`,v=C=>({"chess-101":"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1","pawn-moves":"rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR b KQkq e3 0 1","rook-moves":"r3k2r/pppppppp/8/8/8/8/PPPPPPPP/R3K2R w KQkq - 0 1","bishop-moves":"r1bqk1nr/pppp1ppp/2n5/2b1p3/2B1P3/3P1N2/PPP2PPP/RNBQK2R w KQkq - 0 1","knight-moves":"rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR b KQkq e3 0 1","queen-moves":"r1bqkb1r/pppp1ppp/2n2n2/4p3/2B1P3/3P1N2/PPP2PPP/RNBQK2R w KQkq - 0 1","king-moves":"r1bqkbnr/pppp1ppp/2n5/4p3/4P3/5N2/PPPP1PPP/RNBQKB1R w KQkq - 0 1"})[C]||"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",b=C=>({"chess-101":["e2e4","d2d4","g1f3","b1c3"],"pawn-moves":["e2e4","e4e5","d2d4","f2f4"],"rook-moves":["a1d1","h1f1","a1a8","h1h8"],"bishop-moves":["c4d5","c5d4","c4b5","c5b4"],"knight-moves":["g1f3","b1c3","f3d4","c3d5"],"queen-moves":["d1h5","d1d8","d1a4","d1f3"],"king-moves":["e1f1","e1d1","e1e2","e1f2"]})[C]||[],w=C=>({"chess-101":[{question:"How many squares are on a chessboard?",options:["36 squares","49 squares","64 squares","81 squares"],correct:2,explanation:"A chessboard has 64 squares arranged in an 8×8 grid."},{question:"What color square should be in the bottom-right corner?",options:["Dark square","Light square","Either color","No specific requirement"],correct:1,explanation:"The board should be oriented with a light-colored square in each player's bottom-right corner."}],"pawn-movement":[{question:"How can a pawn move on its first move?",options:["Only one square forward","One or two squares forward","Any direction","Only diagonally"],correct:1,explanation:"Pawns can move either one or two squares forward on their first move."},{question:"How do pawns capture?",options:["Straight forward","Diagonally forward","In any direction","They cannot capture"],correct:1,explanation:"Pawns capture diagonally forward, one square at a time."}]})[C]||[{question:"What did you learn in this lesson?",options:["Important concepts","Basic strategies","Practical techniques","All of the above"],correct:3,explanation:"This lesson covered multiple important aspects of chess."}],S=C=>{console.log(`Starting category: ${C}`),alert(`Starting category: "${C}"

This will begin with the first lesson in this category and track your progress through all lessons.`)},N=()=>Si.reduce((C,E)=>C+E.totalLessons,0),T=()=>Si.reduce((C,E)=>C+E.estimatedHours,0),A=()=>Object.values(n).filter(C=>C===100).length;if(e){const C=e.lessons.map(_=>n[_.id]||0),E=Math.round(C.reduce((_,R)=>_+R,0)/C.length);return i.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--color-bg-base)"},children:[i.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-7xl",children:[i.jsxs("div",{className:"flex items-center mb-8",children:[i.jsx(fe,{variant:"outline",onClick:()=>t(null),className:"mr-4",children:"← Back to Curriculum"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:e.title}),i.jsx("p",{className:"text-muted-foreground",children:e.description})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[i.jsxs(Re,{className:"p-4 text-center",style:{backgroundColor:"var(--color-surface-elevated)",borderColor:"var(--color-border-default)"},children:[i.jsx("div",{className:"text-2xl font-bold mb-1",style:{color:"var(--color-accent-primary)"},children:e.totalLessons}),i.jsx("div",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Total Lessons"})]}),i.jsxs(Re,{className:"p-4 text-center",style:{backgroundColor:"var(--color-surface-elevated)",borderColor:"var(--color-border-default)"},children:[i.jsx("div",{className:"text-2xl font-bold mb-1",style:{color:"var(--color-success)"},children:e.lessons.filter(_=>n[_.id]===100).length}),i.jsx("div",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Completed"})]}),i.jsxs(Re,{className:"p-4 text-center",style:{backgroundColor:"var(--color-surface-elevated)",borderColor:"var(--color-border-default)"},children:[i.jsxs("div",{className:"text-2xl font-bold mb-1",style:{color:"var(--color-warning)"},children:[e.estimatedHours,"h"]}),i.jsx("div",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Est. Duration"})]}),i.jsxs(Re,{className:"p-4 text-center",style:{backgroundColor:"var(--color-surface-elevated)",borderColor:"var(--color-border-default)"},children:[i.jsxs("div",{className:"text-2xl font-bold mb-1",style:{color:"var(--color-accent-primary)"},children:[E,"%"]}),i.jsx("div",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Progress"})]})]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsx("span",{children:"Category Progress"}),i.jsxs("span",{children:[e.lessons.filter(_=>n[_.id]===100).length," / ",e.totalLessons]})]}),i.jsx(bn,{value:E,className:"h-3"})]}),i.jsx("div",{className:"space-y-4",children:e.lessons.map((_,R)=>{const O=n[_.id]||0,z=O===100,P=O>0&&O<100;return i.jsx(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:R*.1},children:i.jsx(Re,{className:"p-6 hover:shadow-lg transition-all duration-300 cursor-pointer",style:{backgroundColor:"var(--color-surface-elevated)",borderColor:z?"var(--color-success)":P?"var(--color-warning)":"var(--color-border-default)",borderWidth:"2px"},children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${z?"bg-green-500 text-white":P?"bg-yellow-500 text-white":"bg-gray-200"}`,style:!z&&!P?{color:"var(--color-text-secondary)"}:{},children:z?"✓":R+1}),i.jsx("h3",{className:"text-xl font-bold",style:{color:"var(--color-text-primary)"},children:_.title}),i.jsx(Nt,{style:d(_.difficulty),children:_.difficulty})]}),i.jsx("p",{className:"mb-3",style:{color:"var(--color-text-secondary)"},children:_.description}),i.jsxs("div",{className:"flex items-center gap-6 text-sm mb-3",style:{color:"var(--color-text-secondary)"},children:[i.jsxs("span",{children:["⏱️ ",_.duration," min"]}),i.jsxs("span",{children:["📊 ",_.ratingRange," ELO"]}),i.jsxs("span",{children:["📚 ",_.modules.length," modules"]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h4",{className:"text-sm font-semibold mb-2",style:{color:"var(--color-text-secondary)"},children:"Learning Objectives:"}),i.jsx("ul",{className:"list-disc list-inside text-sm space-y-1",style:{color:"var(--color-text-secondary)"},children:_.objectives.map((q,U)=>i.jsx("li",{children:q},U))})]}),i.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[_.modules.slice(0,4).map((q,U)=>i.jsx(Nt,{variant:"outline",className:"text-xs",children:q},U)),_.modules.length>4&&i.jsxs(Nt,{variant:"outline",className:"text-xs",children:["+",_.modules.length-4," more"]})]}),_.prerequisites&&_.prerequisites.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsx("h4",{className:"text-sm font-semibold mb-2",style:{color:"var(--color-text-secondary)"},children:"Prerequisites:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:_.prerequisites.map((q,U)=>i.jsx(Nt,{variant:"secondary",className:"text-xs",children:q},U))})]}),O>0&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[i.jsx("span",{children:"Progress"}),i.jsxs("span",{children:[O,"%"]})]}),i.jsx(bn,{value:O,className:"h-2"})]})]}),i.jsx("div",{className:"ml-4 flex flex-col gap-2",children:i.jsx(fe,{size:"lg",onClick:()=>f(_.id,_.title),className:z?"bg-green-600 hover:bg-green-700":P?"bg-yellow-600 hover:bg-yellow-700":"bg-blue-600 hover:bg-blue-700",children:z?"✓ Review":P?"📖 Continue":"🚀 Start"})})]})})},_.id)})})]}),l&&i.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",style:{backgroundColor:"var(--color-bg-base)"},children:i.jsx(R1,{lesson:l,onComplete:()=>{r(_=>({..._,[l.id]:100})),c(null),alert(`🎉 Congratulations! You've completed "${l.title}"!`)},onClose:()=>c(null),onProgress:_=>{r(R=>({...R,[l.id]:_}))}})})]})}return i.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--color-bg-base)"},children:[i.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-7xl",children:[i.jsx("div",{className:"text-center mb-12",children:i.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[i.jsxs("h1",{className:"text-4xl font-bold mb-4 flex items-center justify-center gap-3",style:{color:"var(--color-accent-primary)"},children:[i.jsx(bp,{className:"h-10 w-10","aria-label":"Chess curriculum"}),"Chess Lessons Curriculum"]}),i.jsx("p",{className:"text-lg mb-6",style:{color:"var(--color-text-secondary)"},children:"Master chess systematically with our comprehensive A→Z curriculum from basics to expert level"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 max-w-4xl mx-auto",children:[i.jsxs(Re,{className:"p-6 text-center",style:{backgroundColor:"var(--color-surface-elevated)",borderColor:"var(--color-accent-primary)",borderWidth:"2px"},children:[i.jsx("div",{className:"text-3xl font-bold mb-2",style:{color:"var(--color-accent-primary)"},children:N()}),i.jsx("div",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Total Lessons"})]}),i.jsxs(Re,{className:"p-6 text-center",style:{backgroundColor:"var(--color-surface-elevated)",borderColor:"var(--color-success)",borderWidth:"2px"},children:[i.jsx("div",{className:"text-3xl font-bold mb-2",style:{color:"var(--color-success)"},children:A()}),i.jsx("div",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Completed"})]}),i.jsxs(Re,{className:"p-6 text-center",style:{backgroundColor:"var(--color-surface-elevated)",borderColor:"var(--color-accent-primary)",borderWidth:"2px"},children:[i.jsxs("div",{className:"text-3xl font-bold mb-2",style:{color:"var(--color-accent-primary)"},children:[T(),"h"]}),i.jsx("div",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Total Content"})]}),i.jsxs(Re,{className:"p-6 text-center",style:{backgroundColor:"var(--color-surface-elevated)",borderColor:"var(--color-warning)",borderWidth:"2px"},children:[i.jsx("div",{className:"text-3xl font-bold mb-2",style:{color:"var(--color-warning)"},children:Si.length}),i.jsx("div",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Categories"})]})]})]})}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Si.map((C,E)=>{const _=C.lessons.map(z=>n[z.id]||0),R=Math.round(_.reduce((z,P)=>z+P,0)/_.length),O=_.filter(z=>z===100).length;return i.jsx(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:E*.1,duration:.5},children:i.jsxs(Re,{className:"h-full hover:shadow-xl transition-all duration-300 hover:scale-[1.02] cursor-pointer",style:{backgroundColor:"var(--color-surface-elevated)",borderColor:"var(--color-border-default)",borderWidth:"2px"},onClick:()=>t(C),children:[i.jsxs(Ht,{className:"pb-3",children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsx(Nt,{style:d(C.difficulty),children:C.difficulty}),i.jsxs(Nt,{variant:"outline",className:"text-xs",children:[C.ratingRange," ELO"]})]}),i.jsx(Kt,{className:"text-xl font-bold leading-tight",children:C.title}),i.jsx(In,{className:"text-sm",children:C.description})]}),i.jsx(Et,{className:"pt-0",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsx("span",{className:"font-medium",children:"Progress"}),i.jsxs("span",{style:{color:"var(--color-text-secondary)"},children:[O," / ",C.totalLessons," lessons"]})]}),i.jsx(bn,{value:R,className:"h-2"})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[i.jsxs("div",{className:"rounded-lg p-3",style:{backgroundColor:"var(--color-surface)"},children:[i.jsx("div",{className:"text-lg font-bold",style:{color:"var(--color-accent-primary)"},children:C.totalLessons}),i.jsx("div",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:"Lessons"})]}),i.jsxs("div",{className:"rounded-lg p-3",style:{backgroundColor:"var(--color-surface)"},children:[i.jsxs("div",{className:"text-lg font-bold",style:{color:"var(--color-warning)"},children:[C.estimatedHours,"h"]}),i.jsx("div",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:"Duration"})]}),i.jsxs("div",{className:"rounded-lg p-3",style:{backgroundColor:"var(--color-surface)"},children:[i.jsxs("div",{className:"text-lg font-bold",style:{color:"var(--color-success)"},children:[R,"%"]}),i.jsx("div",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:"Complete"})]})]}),i.jsx(fe,{className:"w-full",variant:O>0?"primary":"outline",onClick:()=>S(C.title),children:O>0?"📚 Continue Learning":"🚀 Start Category"})]})})]})},C.id)})}),i.jsx(xe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"mt-12 text-center",children:i.jsxs(Re,{className:"max-w-6xl mx-auto p-8",style:{backgroundColor:"var(--color-surface-elevated)",borderColor:"var(--color-warning)",borderWidth:"2px"},children:[i.jsx("h3",{className:"text-2xl font-bold mb-6",style:{color:"var(--color-text-primary)"},children:"🎯 Complete A→Z Chess Learning Path"}),i.jsxs("div",{className:"grid md:grid-cols-5 gap-4 text-left",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold mb-2",style:{color:"var(--color-text-secondary)"},children:"📚 Basics (0-400)"}),i.jsxs("ul",{className:"text-sm space-y-1",style:{color:"var(--color-text-secondary)"},children:[i.jsx("li",{children:"• Board setup & piece movements"}),i.jsx("li",{children:"• Check, checkmate, stalemate"}),i.jsx("li",{children:"• Basic chess rules"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-green-700 mb-2",children:"🎯 Beginner (400-800)"}),i.jsxs("ul",{className:"text-sm text-green-600 space-y-1",children:[i.jsx("li",{children:"• Opening principles"}),i.jsx("li",{children:"• Basic tactics (fork, pin, skewer)"}),i.jsx("li",{children:"• Simple endgames"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-yellow-700 mb-2",children:"🔥 Intermediate (800-1400)"}),i.jsxs("ul",{className:"text-sm text-yellow-600 space-y-1",children:[i.jsx("li",{children:"• Advanced tactics & combinations"}),i.jsx("li",{children:"• Strategic planning"}),i.jsx("li",{children:"• Complex endgames"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-orange-700 mb-2",children:"🚀 Advanced (1400-1800)"}),i.jsxs("ul",{className:"text-sm text-orange-600 space-y-1",children:[i.jsx("li",{children:"• Deep strategic concepts"}),i.jsx("li",{children:"• Opening theory"}),i.jsx("li",{children:"• Positional sacrifices"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-red-700 mb-2",children:"👑 Expert (1800-2200)"}),i.jsxs("ul",{className:"text-sm text-red-600 space-y-1",children:[i.jsx("li",{children:"• Grandmaster games"}),i.jsx("li",{children:"• Professional preparation"}),i.jsx("li",{children:"• Chess mastery synthesis"})]})]})]})]})})]}),l&&i.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",style:{backgroundColor:"var(--color-bg-base)"},children:i.jsx(R1,{lesson:l,onComplete:()=>{r(C=>({...C,[l.id]:100})),c(null),alert(`🎉 Congratulations! You've completed "${l.title}"!`)},onClose:()=>c(null),onProgress:C=>{r(E=>({...E,[l.id]:C}))}})})]})},P1={1:{id:"1",title:"Chess Basics: How the Pieces Move",description:"Learn how each chess piece moves and captures. Perfect for beginners!",steps:[{id:"1-1",title:"Welcome to Chess Basics",instruction:"Welcome! In this lesson, you'll learn how each chess piece moves. Let's start with the fundamentals of chess.",type:"instruction"},{id:"1-2",title:"The Pawn",instruction:"Pawns are the foot soldiers of chess. They move forward one square, but capture diagonally. On their first move, they can advance two squares. Let's see a pawn on the board.",fen:"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",type:"instruction"},{id:"1-3",title:"Practice: Move a Pawn",instruction:"Now it's your turn! Try moving the pawn in front of the king (the e2 pawn) forward one or two squares.",fen:"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",correctMoves:["e2e3","e2e4"],explanation:"Excellent! You moved the pawn correctly. Pawns are unique - they can move two squares on their first move, which helps develop your position quickly.",type:"practice"},{id:"1-4",title:"The Rook",instruction:"Rooks are powerful pieces that move horizontally or vertically any number of squares, as long as the path is clear. They're like towers defending your kingdom.",fen:"8/8/8/8/8/8/8/R7 w - - 0 1",type:"instruction"},{id:"1-5",title:"Practice: Move the Rook",instruction:"Move the white rook to any valid square. Remember: rooks move in straight lines along ranks (horizontal) and files (vertical)!",fen:"8/8/8/8/8/8/8/R7 w - - 0 1",correctMoves:["a1a2","a1a3","a1a4","a1a5","a1a6","a1a7","a1a8","a1b1","a1c1","a1d1","a1e1","a1f1","a1g1","a1h1"],explanation:"Perfect! The rook can move to any square in its rank (horizontal row) or file (vertical column). Rooks are most powerful on open files.",type:"practice"},{id:"1-6",title:"The Bishop",instruction:"Bishops move diagonally any number of squares. Each player has two bishops - one that moves on light squares and one on dark squares.",fen:"8/8/8/8/8/8/8/2B5 w - - 0 1",type:"instruction"},{id:"1-7",title:"Practice: Move the Bishop",instruction:"Move the white bishop diagonally. Notice how it can only move to squares of the same color.",fen:"8/8/8/8/8/8/8/2B5 w - - 0 1",correctMoves:["c1d2","c1e3","c1f4","c1g5","c1h6","c1b2","c1a3"],explanation:"Great! Bishops are restricted to squares of one color throughout the entire game. This bishop can only move on dark squares.",type:"practice"},{id:"1-8",title:"The Knight",instruction:"Knights move in an L-shape: two squares in one direction and one square perpendicular. They're the only pieces that can jump over other pieces.",fen:"8/8/8/8/8/8/8/1N6 w - - 0 1",type:"instruction"},{id:"1-9",title:"Practice: Move the Knight",instruction:"Move the white knight to any valid square. Remember the L-shape pattern!",fen:"8/8/8/8/8/8/8/1N6 w - - 0 1",correctMoves:["b1a3","b1c3","b1d2"],explanation:"Excellent! The knight's L-shaped move makes it a tricky piece to master, but very powerful for surprising attacks.",type:"practice"},{id:"1-10",title:"Congratulations!",instruction:"You've learned the basic piece movements! Practice makes perfect. Ready to move on to more advanced lessons?",type:"instruction"}]},2:{id:"2",title:"Checkmate Patterns",description:"Learn essential checkmate patterns. Great for intermediate players.",steps:[{id:"2-1",title:"What is Checkmate?",instruction:"Checkmate is the ultimate goal in chess. It occurs when the king is under attack (in check) and has no legal moves to escape capture.",type:"instruction"},{id:"2-2",title:"Back Rank Mate Setup",instruction:"One of the most common checkmate patterns is the back rank mate. Here, the enemy king is trapped on the back rank by its own pawns.",fen:"6k1/5ppp/8/8/8/8/8/R7 w - - 0 1",type:"instruction"},{id:"2-3",title:"Practice: Deliver Back Rank Mate!",instruction:"Move your white rook to deliver checkmate in one move! Look for the square that attacks the black king with no escape.",fen:"6k1/5ppp/8/8/8/8/8/R7 w - - 0 1",correctMoves:["a1a8"],explanation:"Brilliant! Ra8# is checkmate because the king is attacked and cannot escape - the pawns block its retreat and no piece can block or capture the rook.",type:"practice"},{id:"2-4",title:"Queen and King vs King",instruction:"With a queen and king, you can force checkmate against a lone king. The key is to restrict the enemy king's movement.",fen:"7k/6Q1/6K1/8/8/8/8/8 w - - 0 1",type:"instruction"},{id:"2-5",title:"Practice: Queen Checkmate",instruction:"Deliver checkmate with your queen. The black king has no escape squares.",fen:"7k/6Q1/6K1/8/8/8/8/8 w - - 0 1",correctMoves:["g7g8"],explanation:"Perfect! Qg8# is checkmate. The queen attacks the king, and with your king supporting, the black king has no legal moves.",type:"practice"},{id:"2-6",title:"Smothered Mate",instruction:"A smothered mate occurs when the king is surrounded by its own pieces and gets checkmated by a knight.",fen:"6rk/6pp/8/8/8/8/8/5N2 w - - 0 1",type:"instruction"},{id:"2-7",title:"Practice: Smothered Mate",instruction:"Use the white knight to deliver a smothered mate! The black king is trapped by its own pieces.",fen:"6rk/6pp/8/8/8/8/8/5N2 w - - 0 1",correctMoves:["f1g3","f1e3"],explanation:"Well done! You've learned about smothered mate - one of the most beautiful checkmate patterns in chess.",type:"practice"}]},3:{id:"3",title:"Advanced Tactics",description:"Master advanced tactical patterns including forks, pins, and skewers.",steps:[{id:"3-1",title:"Introduction to Tactics",instruction:"Chess tactics are short-term combinations that win material or deliver checkmate. Mastering tactics is crucial for improvement.",type:"instruction"},{id:"3-2",title:"The Fork",instruction:"A fork is when one piece attacks two or more enemy pieces simultaneously. Knights are especially good at creating forks.",fen:"r1bqkb1r/pppp1ppp/2n2n2/4p3/2B1P3/3P1N2/PPP2PPP/RNBQK2R w KQkq - 0 4",type:"instruction"},{id:"3-3",title:"Practice: Knight Fork",instruction:"Find the knight move that forks the black king and queen! Look for a square where your knight attacks both pieces.",fen:"r1bqkb1r/pppp1ppp/2n2n2/4p3/2B1P3/3P1N2/PPP2PPP/RNBQK2R w KQkq - 0 4",correctMoves:["f3g5"],explanation:"Brilliant! Ng5+ forks the king and queen. Black must move the king, and then you can capture the queen on the next move.",type:"practice"},{id:"3-4",title:"The Pin",instruction:"A pin occurs when a piece cannot move because it would expose a more valuable piece behind it to attack.",fen:"rnbqkbnr/ppp2ppp/8/3pp3/4P3/8/PPPP1PPP/RNBQKBNR w KQkq - 0 3",type:"instruction"},{id:"3-5",title:"Practice: Create a Pin",instruction:"Move your bishop to create a pin on the black knight, preventing it from moving.",fen:"rnbqkbnr/ppp2ppp/8/3pp3/4P3/8/PPPP1PPP/RNBQKBNR w KQkq - 0 3",correctMoves:["f1b5"],explanation:"Excellent! Bb5+ pins the knight to the king. The knight cannot move because it would expose the king to check.",type:"practice"},{id:"3-6",title:"The Skewer",instruction:"A skewer forces a valuable piece to move, exposing a less valuable piece behind it. It's like a reverse pin.",fen:"8/8/8/3k4/8/8/3R4/3K4 w - - 0 1",type:"instruction"},{id:"3-7",title:"Practice: Execute a Skewer",instruction:"Use your rook to skewer the black king, forcing it to move and win material.",fen:"8/8/8/3k4/8/8/3R4/3K4 w - - 0 1",correctMoves:["d2d5"],explanation:"Perfect! Rd5+ skewers the king. The king must move, and you can capture whatever piece was behind it.",type:"practice"},{id:"3-8",title:"Discovery Attack",instruction:"A discovery attack occurs when moving one piece unveils an attack from another piece behind it.",fen:"8/8/8/8/3k4/8/3BP3/3K4 w - - 0 1",type:"instruction"},{id:"3-9",title:"Tactics Mastery Complete!",instruction:"Congratulations! You've mastered the fundamental chess tactics. These patterns will serve you well in your games. Keep practicing!",type:"instruction"}]},4:{id:"4",title:"King and Pawn Endgames",description:"Master the most important endgame: King and Pawn vs King.",steps:[{id:"4-1",title:"Endgame Fundamentals",instruction:"King and pawn endgames are the foundation of all endgame study. Understanding these positions is crucial for chess improvement.",type:"instruction"},{id:"4-2",title:"The Rule of the Square",instruction:"The rule of the square helps you determine if a king can catch a passed pawn. Draw an imaginary square from the pawn to the promotion square.",fen:"8/8/8/8/8/8/4P3/4K1k1 w - - 0 1",type:"instruction"},{id:"4-3",title:"Opposition Concept",instruction:"Opposition is when the two kings face each other with one square between them. The player NOT to move has the opposition.",fen:"8/8/8/3k4/8/3K4/8/8 w - - 0 1",type:"instruction"},{id:"4-4",title:"Practice: Win with Opposition",instruction:"Use the opposition to help your pawn promote. Move your king to gain the opposition.",fen:"8/8/8/3k4/3P4/3K4/8/8 w - - 0 1",correctMoves:["d3e3","d3c3"],explanation:"Good! By gaining the opposition, you can support your pawn's advance to promotion.",type:"practice"}]},5:{id:"5",title:"Opening Principles",description:"Learn the fundamental principles of chess openings for advanced play.",steps:[{id:"5-1",title:"Opening Goals",instruction:"The opening phase has three main goals: develop your pieces, control the center, and ensure king safety.",type:"instruction"},{id:"5-2",title:"Control the Center",instruction:"The center squares (e4, e5, d4, d5) are the most important. Pieces in the center have maximum influence.",fen:"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",type:"instruction"},{id:"5-3",title:"Practice: Open with Center Control",instruction:"Start the game by occupying the center with a pawn move.",fen:"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",correctMoves:["e2e4","d2d4"],explanation:"Excellent! 1.e4 or 1.d4 are the most popular first moves because they immediately stake a claim in the center.",type:"practice"},{id:"5-4",title:"Piece Development",instruction:"Develop your pieces (knights before bishops) toward the center. Don't move the same piece twice in the opening.",fen:"rnbqkbnr/pppp1ppp/8/4p3/4P3/8/PPPP1PPP/RNBQKBNR w KQkq - 0 2",type:"instruction"},{id:"5-5",title:"Practice: Develop Knights First",instruction:"Develop your knight toward the center. Knights should generally be developed before bishops.",fen:"rnbqkbnr/pppp1ppp/8/4p3/4P3/8/PPPP1PPP/RNBQKBNR w KQkq - 0 2",correctMoves:["g1f3","b1c3"],explanation:"Perfect! Developing knights early gives you good central control and prepares for castling.",type:"practice"}]}},t_=()=>{const{lessonId:e}=hC(),t=ja(),[n,r]=x.useState(0),[l,c]=x.useState(new Set),[d,f]=x.useState(!1),[m,p]=x.useState(0),[g,v]=x.useState(!1),b=e?P1[e]:null,w=b?.steps[n];x.useEffect(()=>{if(!b&&e){console.log("Lesson not found for ID:",e),console.log("Available lessons:",Object.keys(P1)),setTimeout(()=>t("/lessons"),100);return}b&&(console.log("Lesson loaded:",b.title),hs.playGamificationSound("lessonComplete"))},[b,t,e]);const S=x.useCallback(()=>{w&&(console.log("InteractiveLesson: Correct move made"),hs.playGamificationSound("puzzleSolved"),c(R=>new Set([...R,w.id])),f(!1),p(0),w.explanation?setTimeout(()=>{T()},3e3):T())},[w]),N=x.useCallback(()=>{console.log("InteractiveLesson: Incorrect move made"),hs.playUISound("error"),p(R=>R+1),m>=1&&f(!0)},[m]),T=x.useCallback(()=>{console.log("handleNextStep called",{lesson:!!b,currentStepIndex:n,totalSteps:b?.steps.length}),b&&(n<b.steps.length-1?(console.log("Moving to next step"),r(R=>R+1),f(!1),p(0)):(console.log("Lesson completed"),v(!0),hs.playGamificationSound("lessonComplete")))},[b,n]),A=x.useCallback(()=>{n>0&&(r(R=>R-1),f(!1),p(0))},[n]),C=x.useCallback(()=>{r(0),c(new Set),f(!1),p(0),v(!1)},[]),E=x.useCallback(()=>{console.log("Navigating back to lessons"),t("/lessons")},[t]);if(!b&&e)return i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Loading lesson..."}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Please wait while we load the lesson."}),i.jsxs(fe,{onClick:E,children:[i.jsx(nl,{className:"h-4 w-4 mr-2"}),"Back to Lessons"]})]})});if(!b)return i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsxs("div",{className:"text-center",children:[i.jsx(r5,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Lesson Not Found"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"The requested lesson could not be loaded."}),i.jsxs(fe,{onClick:E,children:[i.jsx(nl,{className:"h-4 w-4 mr-2"}),"Back to Lessons"]})]})});if(g)return i.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:i.jsx(Re,{className:"text-center",children:i.jsxs(Et,{className:"p-12",children:[i.jsx(wp,{className:"h-16 w-16 text-green-500 mx-auto mb-6"}),i.jsx("h1",{className:"text-3xl font-bold text-green-600 mb-4",children:"Lesson Completed! 🎉"}),i.jsxs("p",{className:"text-lg text-gray-600 mb-6",children:[`Congratulations! You've successfully completed "`,b?.title||"this lesson",'".']}),i.jsxs("div",{className:"flex gap-4 justify-center",children:[i.jsxs(fe,{onClick:C,variant:"outline",children:[i.jsx(jm,{className:"h-4 w-4 mr-2"}),"Restart Lesson"]}),i.jsxs(fe,{onClick:E,children:[i.jsx(wx,{className:"h-4 w-4 mr-2"}),"More Lessons"]})]})]})})});const _=(n+1)/b.steps.length*100;return i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs(fe,{variant:"ghost",onClick:E,className:"text-gray-600 hover:text-gray-900",children:[i.jsx(nl,{className:"h-4 w-4 mr-2"}),"Back to Lessons"]}),i.jsxs(Nt,{variant:"secondary",children:["Step ",n+1," of ",b.steps.length]})]}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:b.title}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[i.jsx("span",{children:"Progress"}),i.jsxs("span",{children:[Math.round(_),"%"]})]}),i.jsx(bn,{value:_,className:"h-2"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Re,{children:[i.jsx(Ht,{children:i.jsxs(Kt,{className:"flex items-center gap-2",children:[i.jsx(wx,{className:"h-5 w-5"}),w?.title]})}),i.jsxs(Et,{children:[i.jsx("p",{className:"text-gray-700 leading-relaxed",children:w?.instruction}),d&&w?.correctMoves&&i.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:i.jsxs("p",{className:"text-yellow-800 text-sm",children:["💡 ",i.jsx("strong",{children:"Hint:"})," Try moving to one of these squares: ",w.correctMoves.join(", ")]})}),l.has(w?.id||"")&&w?.explanation&&i.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:i.jsxs("p",{className:"text-green-800 text-sm",children:["✅ ",i.jsx("strong",{children:"Well done!"})," ",w.explanation]})}),w?.type==="instruction"&&i.jsx("div",{className:"mt-6",children:i.jsxs(fe,{onClick:T,className:"w-full",children:["Continue",i.jsx(wm,{className:"h-4 w-4 ml-2"})]})})]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs(fe,{variant:"outline",onClick:A,disabled:n===0,children:[i.jsx(nl,{className:"h-4 w-4 mr-2"}),"Previous"]}),i.jsxs(fe,{variant:"outline",onClick:T,disabled:w?.type==="practice"&&!l.has(w?.id||""),children:["Next",i.jsx(wm,{className:"h-4 w-4 ml-2"})]})]})]}),i.jsx("div",{className:"flex justify-center",children:w?.fen&&i.jsxs("div",{className:"rounded-lg p-6 shadow-sm border",style:{backgroundColor:"var(--color-surface-elevated)",borderColor:"var(--color-border-default)"},children:[i.jsx(Bi,{fen:w.fen,orientation:"white",puzzleMode:w.type==="practice",correctMoves:w.correctMoves,onCorrectMove:S,onIncorrectMove:N,disabled:l.has(w.id),highlightMoves:!0,showCoordinates:!0,showHelp:w.type==="practice",showPieceTooltips:!0,enableGamification:!0,lessonMode:!0}),w.type==="practice"&&i.jsx("div",{className:"mt-4 text-center",children:i.jsx("p",{className:"text-sm text-gray-600",children:l.has(w.id)?"✅ Step completed!":"Make your move on the board"})})]})})]})]})},s_=()=>i.jsx(t_,{}),Ni=[0,100,250,450,700,1e3,1350,1750,2200,2700,3250,3850,4500,5200,5950,6750,7600,8500,9450,10450],hm=e=>e<Ni.length?Ni[e]:Ni[Ni.length-1]+(e-Ni.length+1)*1e3,n_=e=>{let t=0;for(;t<Ni.length-1&&e>=hm(t+1);)t++;const n=hm(t),r=hm(t+1);return{level:t,xpInLevel:e-n,xpForNext:r-e}},a_=()=>[{id:"first_lesson",title:"First Steps",description:"Complete your first chess lesson",icon:"🎓",requirement:1,currentProgress:0,unlocked:!1,category:"lessons"},{id:"lesson_graduate",title:"Chess Scholar",description:"Complete 10 chess lessons",icon:"📚",requirement:10,currentProgress:0,unlocked:!1,category:"lessons"},{id:"first_puzzle",title:"Puzzle Solver",description:"Solve your first chess puzzle",icon:"🧩",requirement:1,currentProgress:0,unlocked:!1,category:"puzzles"},{id:"puzzle_master",title:"Tactical Genius",description:"Solve 50 chess puzzles",icon:"🎯",requirement:50,currentProgress:0,unlocked:!1,category:"puzzles"},{id:"first_win",title:"Victory!",description:"Win your first game against the computer",icon:"🏆",requirement:1,currentProgress:0,unlocked:!1,category:"games"},{id:"chess_warrior",title:"Chess Warrior",description:"Win 10 games against the computer",icon:"⚔️",requirement:10,currentProgress:0,unlocked:!1,category:"games"},{id:"mobile_first_game",title:"Touch Master",description:"Play your first game on mobile",icon:"📱",requirement:1,currentProgress:0,unlocked:!1,category:"mobile"},{id:"touch_accuracy",title:"Precision Touch",description:"Achieve 95% touch accuracy in 10 games",icon:"🎯",requirement:10,currentProgress:0,unlocked:!1,category:"mobile"},{id:"gesture_speed",title:"Lightning Fingers",description:"Average under 0.5s gesture speed for 20 moves",icon:"⚡",requirement:20,currentProgress:0,unlocked:!1,category:"mobile"},{id:"swipe_master",title:"Swipe Grandmaster",description:"Enable and use swipe-to-move for 50 moves",icon:"👆",requirement:50,currentProgress:0,unlocked:!1,category:"mobile"},{id:"streak_3",title:"Consistency",description:"Maintain a 3-day learning streak",icon:"🔥",requirement:3,currentProgress:0,unlocked:!1,category:"streaks"},{id:"streak_7",title:"Dedication",description:"Maintain a 7-day learning streak",icon:"💪",requirement:7,currentProgress:0,unlocked:!1,category:"streaks"},{id:"speed_demon",title:"Speed Demon",description:"Solve a puzzle in under 30 seconds",icon:"⚡",requirement:1,currentProgress:0,unlocked:!1,category:"special"},{id:"perfectionist",title:"Perfectionist",description:"Complete a lesson with 100% accuracy",icon:"💎",requirement:1,currentProgress:0,unlocked:!1,category:"special"}],wg=vp()(xp((e,t)=>({userId:null,isOnline:navigator.onLine,lastSyncedAt:null,totalXP:0,currentLevel:0,xpForNextLevel:100,xpInCurrentLevel:0,currentStreak:0,longestStreak:0,lastActivityDate:null,streakFreezeUsed:!1,lessonsCompleted:0,puzzlesSolved:0,gamesPlayed:0,gamesWon:0,achievements:a_(),unlockedAchievements:[],totalTimeSpent:0,averageAccuracy:0,userStats:{rating:1200,ratingChange:0,rank:0,totalGames:0,winRate:0,favoriteOpenings:[]},mobileStats:{touchAccuracy:100,gestureSpeed:0,mobileGamesPlayed:0,touchMistakes:0,swipeToMoveEnabled:!1},sessionXP:0,sessionStartTime:null,dailyGoals:{lessonsTarget:3,puzzlesTarget:5,timeTarget:30,lessonsCompleted:0,puzzlesSolved:0,timeSpent:0,completed:!1},setUser:n=>{e({userId:n,sessionStartTime:new Date().toISOString(),sessionXP:0})},clearUser:()=>{e({userId:null,sessionStartTime:null,sessionXP:0,dailyGoals:{lessonsTarget:3,puzzlesTarget:5,timeTarget:30,lessonsCompleted:0,puzzlesSolved:0,timeSpent:0,completed:!1}})},syncWithServer:async()=>{const n=t();if(!(!n.userId||!n.isOnline))try{await ga.updateUserProfile({userStats:n.userStats}),e({lastSyncedAt:new Date().toISOString()})}catch(r){console.error("Failed to sync with server:",r)}},addXP:(n,r)=>{const l=t(),c=l.currentLevel,d=l.totalXP+n,f=n_(d);console.log(`+${n} XP from ${r}! Total: ${d}`),e({totalXP:d,sessionXP:l.sessionXP+n,currentLevel:f.level,xpInCurrentLevel:f.xpInLevel,xpForNextLevel:f.xpForNext}),f.level>c&&(console.log(`🎉 Level Up! Now level ${f.level}`),Gs.trackLevelUp(f.level,n)),t().checkDailyGoals(),t().checkAchievements()},completeLesson:(n,r,l)=>{const c=t(),d=c.lessonsCompleted+1;let f=50;l>=90&&(f+=20),l===100&&(f+=30),e({lessonsCompleted:d,totalTimeSpent:c.totalTimeSpent+r,averageAccuracy:(c.averageAccuracy*(d-1)+l)/d}),Gs.trackLessonProgress({lesson_id:n,lesson_category:"general",progress_percentage:100,time_spent_seconds:Math.floor(r/1e3),completed:!0}),t().addXP(f,"lesson completion"),t().updateStreak(),t().checkAchievements()},solvePuzzle:(n,r,l)=>{const c=t(),d=c.puzzlesSolved+1;let f=30;r===1&&(f+=20),l<30&&(f+=15),e({puzzlesSolved:d,totalTimeSpent:c.totalTimeSpent+Math.floor(l/6e4)}),Gs.trackPuzzleComplete({puzzle_id:n,difficulty_level:"intermediate",attempts_count:r,time_taken_seconds:Math.floor(l/1e3),was_successful:!0,hints_used:0}),t().addXP(f,"puzzle solved"),t().updateStreak(),t().checkAchievements()},completeGame:(n,r,l,c)=>{const d=t(),f={gamesPlayed:d.gamesPlayed+1,gamesWon:n?d.gamesWon+1:d.gamesWon,totalTimeSpent:d.totalTimeSpent+Math.floor(r/6e4)};l==="mobile"&&(f.mobileStats={...d.mobileStats,mobileGamesPlayed:d.mobileStats.mobileGamesPlayed+1}),f.userStats={...d.userStats,totalGames:d.userStats.totalGames+1,winRate:(d.gamesWon+(n?1:0))/(d.gamesPlayed+1)*100},e(f);const m=n?"win":"loss";Gs.trackChessGameEnd({game_mode:c?.gameMode||"vs_computer",result:m,duration_seconds:Math.floor(r/1e3),moves_count:c?.movesCount||0,difficulty_level:c?.difficultyLevel||"intermediate",computer_level:c?.computerLevel,hints_used:c?.hintsUsed||0,mistakes_count:c?.mistakesCount||0,accuracy_percentage:c?.accuracyPercentage||0,user_rating_before:d.userStats.rating,user_rating_after:d.userStats.rating,rating_change:0});const p=n?100:25,g=l==="mobile"?10:0;t().addXP(p+g,n?"game won":"game played"),t().updateStreak(),t().checkAchievements()},recordTouchAccuracy:n=>{const r=t(),c=(r.mobileStats.touchAccuracy+n)/2;e({mobileStats:{...r.mobileStats,touchAccuracy:c}}),t().checkAchievements()},recordGestureSpeed:n=>{const r=t(),l=r.mobileStats.gestureSpeed,c=l===0?n:(l+n)/2;e({mobileStats:{...r.mobileStats,gestureSpeed:c}}),t().checkAchievements()},incrementTouchMistakes:()=>{const n=t();e({mobileStats:{...n.mobileStats,touchMistakes:n.mobileStats.touchMistakes+1}})},toggleSwipeToMove:n=>{const r=t();e({mobileStats:{...r.mobileStats,swipeToMoveEnabled:n}})},useStreakFreeze:()=>{const n=t();return n.streakFreezeUsed||n.currentStreak===0?!1:(e({streakFreezeUsed:!0}),!0)},updateStreak:()=>{const n=t(),r=new Date().toDateString(),l=new Date(Date.now()-864e5).toDateString();if(n.lastActivityDate!==r)if(n.lastActivityDate===l){const c=n.currentStreak+1;e({currentStreak:c,longestStreak:Math.max(n.longestStreak,c),lastActivityDate:r})}else n.lastActivityDate===null?e({currentStreak:1,longestStreak:Math.max(n.longestStreak,1),lastActivityDate:r}):e({currentStreak:1,lastActivityDate:r})},checkAchievements:()=>{const n=t(),r=[...n.achievements];let l=!1;r.forEach(c=>{if(c.unlocked)return;let d=0,f=!1;switch(c.id){case"first_lesson":case"lesson_graduate":d=n.lessonsCompleted;break;case"first_puzzle":case"puzzle_master":d=n.puzzlesSolved;break;case"first_win":case"chess_warrior":d=n.gamesWon;break;case"streak_3":case"streak_7":d=n.longestStreak;break;case"perfectionist":d=n.averageAccuracy===100?1:0;break}d!==c.currentProgress&&(c.currentProgress=d,l=!0),d>=c.requirement&&!c.unlocked&&(c.unlocked=!0,c.unlockedAt=new Date,f=!0,l=!0),f&&(console.log(`🎉 Achievement Unlocked: ${c.title}!`),t().addXP(100,`achievement: ${c.title}`))}),l&&e({achievements:r})},unlockAchievement:n=>{const r=t(),l=r.achievements.find(c=>c.id===n);l&&!l.unlocked&&(l.unlocked=!0,l.unlockedAt=new Date,e({achievements:[...r.achievements]}),Gs.trackAchievementUnlock(n,l.title))},startSession:()=>{e({sessionStartTime:new Date().toISOString(),sessionXP:0})},endSession:()=>{const n=t();if(n.sessionStartTime){const r=Date.now()-new Date(n.sessionStartTime).getTime();console.log(`Session ended. Duration: ${Math.floor(r/1e3)}s, XP earned: ${n.sessionXP}`)}e({sessionStartTime:null})},setDailyGoals:n=>{e({dailyGoals:{lessonsTarget:n.lessons,puzzlesTarget:n.puzzles,timeTarget:n.time,lessonsCompleted:0,puzzlesSolved:0,timeSpent:0,completed:!1}})},checkDailyGoals:()=>{const r=t().dailyGoals;r.lessonsCompleted>=r.lessonsTarget&&r.puzzlesSolved>=r.puzzlesTarget&&r.timeSpent>=r.timeTarget&&!r.completed&&(e({dailyGoals:{...r,completed:!0}}),t().addXP(200,"daily goals completed"))},updateRating:n=>{const r=t(),l=n-r.userStats.rating;e({userStats:{...r.userStats,rating:n,ratingChange:l}})},updateStats:n=>{const r=t();e({userStats:{...r.userStats,...n}})}}),{name:"chess-academy-gamification",partialize:e=>({totalXP:e.totalXP,currentLevel:e.currentLevel,xpForNextLevel:e.xpForNextLevel,xpInCurrentLevel:e.xpInCurrentLevel,currentStreak:e.currentStreak,longestStreak:e.longestStreak,lastActivityDate:e.lastActivityDate,lessonsCompleted:e.lessonsCompleted,puzzlesSolved:e.puzzlesSolved,gamesPlayed:e.gamesPlayed,gamesWon:e.gamesWon,achievements:e.achievements,totalTimeSpent:e.totalTimeSpent,averageAccuracy:e.averageAccuracy})}));class r_{apiKey=null;baseUrl="https://api.anthropic.com/v1";constructor(){this.apiKey=null}setApiKey(t){this.apiKey=t}async getCoaching(t){if(!this.apiKey)return this.getMockCoaching(t);try{const n=this.buildCoachingPrompt(t),r=await fetch(`${this.baseUrl}/messages`,{method:"POST",headers:{"x-api-key":this.apiKey,"Content-Type":"application/json","anthropic-version":"2023-06-01"},body:JSON.stringify({model:"claude-3-sonnet-20240229",max_tokens:200,temperature:.7,system:"You are a friendly and encouraging chess coach. Provide helpful, personalized coaching based on the student's level and situation. Keep responses concise but supportive. Use encouraging emojis and maintain a positive tone.",messages:[{role:"user",content:n}]})});if(!r.ok)throw new Error(`Claude API error: ${r.status}`);return{message:(await r.json()).content[0].text,type:this.determineResponseType(t),confidence:.9}}catch(n){return console.error("AI Coach API error:",n),this.getMockCoaching(t)}}async getPuzzleHint(t,n){if(!this.apiKey)return this.getMockPuzzleHint(t,n);try{const r=`Chess position: ${t.position}
Player level: ${t.playerLevel}
Attempts made: ${n}
Puzzle type: ${t.puzzleType}

The player is struggling with this chess puzzle. Please provide a helpful hint that's appropriate for their skill level and attempt count. For fewer attempts, give gentler hints. For more attempts, be more specific.

Respond with just the hint text, keep it concise and encouraging.`,l=await fetch(`${this.baseUrl}/messages`,{method:"POST",headers:{"x-api-key":this.apiKey,"Content-Type":"application/json","anthropic-version":"2023-06-01"},body:JSON.stringify({model:"claude-3-sonnet-20240229",max_tokens:150,temperature:.7,system:"You are a chess coach providing hints for puzzles. Give helpful, progressive hints that encourage learning.",messages:[{role:"user",content:r}]})});if(!l.ok)throw new Error(`Claude API error: ${l.status}`);const c=await l.json(),d=n<=2?"gentle":n<=4?"specific":"direct";return{hint:c.content[0].text,level:d,suggestedSquares:n>5?["e4","f7","d5"]:void 0}}catch(r){return console.error("AI Coach hint error:",r),this.getMockPuzzleHint(t,n)}}async analyzeGame(t){if(!this.apiKey)return this.getMockGameAnalysis(t);try{const n=`Please analyze this chess game:

Final position: ${t.position}
Player level: ${t.playerLevel}
Move history: ${t.moveHistory.join(" ")}

Provide a brief analysis focusing on:
1. Overall evaluation of the player's performance
2. 2-3 key strengths they showed
3. 1-2 areas for improvement
4. Reasoning for the assessment

Keep it encouraging and educational for a ${t.difficulty} level player.`,r=await fetch(`${this.baseUrl}/messages`,{method:"POST",headers:{"x-api-key":this.apiKey,"Content-Type":"application/json","anthropic-version":"2023-06-01"},body:JSON.stringify({model:"claude-3-sonnet-20240229",max_tokens:300,temperature:.7,system:"You are a chess coach analyzing games. Provide constructive feedback that helps players improve while staying encouraging.",messages:[{role:"user",content:n}]})});if(!r.ok)throw new Error(`Claude API error: ${r.status}`);const c=(await r.json()).content[0].text,d=this.getMockGameAnalysis(t);return{evaluation:c.split(`
`)[0]||d.evaluation,reasoning:"Based on Claude's analysis of your game performance",playerStrengths:d.playerStrengths,areasForImprovement:d.areasForImprovement}}catch(n){return console.error("AI Coach analysis error:",n),this.getMockGameAnalysis(t)}}buildCoachingPrompt(t){let n=`Chess position: ${t.position}
`;return n+=`Player level: ${t.playerLevel}
`,n+=`Difficulty: ${t.difficulty}
`,t.lastMove&&(n+=`Last move: ${t.lastMove}
`),t.isCorrectMove!==void 0&&(n+=`Move was ${t.isCorrectMove?"correct":"incorrect"}
`),t.puzzleType&&(n+=`Puzzle type: ${t.puzzleType}
`),t.lessonTopic&&(n+=`Lesson topic: ${t.lessonTopic}
`),n+="Provide coaching appropriate for this situation.",n}determineResponseType(t){return t.isCorrectMove===!0?"celebration":t.isCorrectMove===!1?"correction":t.puzzleType?"hint":"encouragement"}getMockCoaching(t){const n={celebration:["Excellent move! You're really getting the hang of this! 🎉","Perfect! That was exactly the right idea! ⭐","Brilliant! You spotted that tactic beautifully! 👏","Great job! Your chess vision is improving! 🔥"],correction:["Not quite right, but you're thinking in the right direction! 🤔","That's a reasonable idea, but let's look for something stronger! 💪","Good attempt! Try to look for forcing moves like checks and captures! 🎯","Almost there! Consider what your opponent's threats are first! 🛡️"],hint:["Look for a move that attacks two pieces at once! 👀","Sometimes the best move is the most forcing one! ⚡","What would happen if you moved your most active piece? 🚀","Try to find a move that improves your worst-placed piece! 📈"],encouragement:["Take your time and look for the best move! You've got this! 💫","Remember the basic principles: develop pieces, control the center! 🎯","You're doing great! Each game makes you stronger! 🌟","Think about what your opponent is planning next! 🧠"],analysis:["This position has some interesting tactical possibilities! 🔍","The key here is improving piece coordination! 🤝","Focus on controlling the most important squares! 🎯","This is a great learning position - lots of candidate moves! 📚"]},r=this.determineResponseType(t),l=n[r]||n.encouragement;return{message:l[Math.floor(Math.random()*l.length)],type:r,confidence:.8}}getMockPuzzleHint(t,n){const r={gentle:["Look for moves that create immediate threats!","What pieces can you activate with tempo?","Sometimes the solution involves a sacrifice!","Check if there are any pins or forks available!"],specific:["Focus on the center of the board - there might be a tactic there!","Look at your opponent's king safety - is there a weakness?","Your pieces need to work together - which combination is strongest?","Sometimes retreating a piece can set up a powerful follow-up!"],direct:["Try moving your most active piece to create multiple threats!","Look for a move that attacks the king AND another piece!","The solution probably involves your strongest piece!","Count the attackers and defenders around the key squares!"]},l=n<=2?"gentle":n<=4?"specific":"direct",c=r[l];return{hint:c[Math.floor(Math.random()*c.length)],level:l,suggestedSquares:n>5?["e4","f7","d5"]:void 0}}getMockGameAnalysis(t){const n=["You played a solid opening, focusing on development!","Your tactical awareness was strong in the middlegame!","You handled the endgame with good technique!","Your positional understanding is improving!"],r=["Good piece development","Strong tactical vision","Solid pawn structure","Active piece play","Good time management"],l=["Look for more forcing moves","Improve king safety earlier","Consider pawn structure more","Calculate deeper variations","Work on endgame technique"];return{evaluation:n[Math.floor(Math.random()*n.length)],reasoning:"Based on your recent performance and the moves you made in this game.",playerStrengths:r.slice(0,Math.floor(Math.random()*3)+2),areasForImprovement:l.slice(0,Math.floor(Math.random()*2)+1)}}isApiKeyConfigured(){return this.apiKey!==null}isClaudeApiEnabled(){return this.apiKey!==null}getCoachingForMove(t,n,r,l){return this.getCoaching({position:r,moveHistory:[],playerLevel:l,difficulty:l<5?"beginner":l<15?"intermediate":"advanced",lastMove:t,isCorrectMove:n})}getHintForPuzzle(t,n,r="tactical"){return this.getPuzzleHint({position:t,moveHistory:[],playerLevel:5,difficulty:"intermediate",puzzleType:r},n)}}const rn=new r_,i_=({isOpen:e,onClose:t})=>{const[n,r]=x.useState(""),[l,c]=x.useState(!1),[d,f]=x.useState(""),m=()=>{if(!n.trim()){f("Please enter a Claude API key");return}if(!n.startsWith("sk-ant-")){f('Claude API keys should start with "sk-ant-"');return}rn.setApiKey(n.trim()),c(!0),f(""),setTimeout(()=>{c(!1),t()},2e3)},p=()=>{rn.setApiKey(""),r(""),c(!1),f("")};return e?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold",children:"🤖 Claude Coach Settings"}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Enter your Claude API key to enable real AI coaching. Without an API key, you'll see demo responses."}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-3 mb-4",children:i.jsxs("p",{className:"text-xs text-blue-800",children:[i.jsx("strong",{children:"How to get a Claude API key:"}),i.jsx("br",{}),"1. Visit ",i.jsx("a",{href:"https://console.anthropic.com",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"console.anthropic.com"}),i.jsx("br",{}),"2. Sign up or log in to your account",i.jsx("br",{}),"3. Navigate to API Keys section",i.jsx("br",{}),"4. Create a new API key",i.jsx("br",{}),"5. Copy and paste it here"]})}),i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Claude API Key"}),i.jsx("input",{type:"password",value:n,onChange:g=>{r(g.target.value),f(""),c(!1)},placeholder:"sk-ant-...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),d&&i.jsx("p",{className:"text-red-600 text-xs mt-1",children:d}),l&&i.jsx("p",{className:"text-green-600 text-xs mt-1",children:"✓ API key saved successfully!"})]}),i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-3",children:i.jsxs("p",{className:"text-xs text-yellow-800",children:[i.jsx("strong",{children:"Privacy Note:"})," Your API key is stored locally in your browser and never sent to our servers. It's only used to make direct requests to Claude's API."]})}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:m,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",children:"Save API Key"}),rn.isApiKeyConfigured()&&i.jsx("button",{onClick:p,className:"px-4 py-2 text-red-600 border border-red-200 rounded-md hover:bg-red-50 transition-colors",children:"Remove Key"})]}),i.jsx("div",{className:"text-center",children:i.jsx("button",{onClick:t,className:"text-sm text-gray-500 hover:text-gray-700",children:"Continue with Demo Mode"})})]})]})}):null},o_=({position:e="",playerLevel:t=5,isVisible:n=!0,onClose:r,mode:l="general",context:c={}})=>{const[d,f]=x.useState(null),[m,p]=x.useState(null),[g,v]=x.useState(null),[b,w]=x.useState(!1),[S,N]=x.useState(null),[T,A]=x.useState(!1);x.useEffect(()=>{n&&e&&C()},[n,e,c,l]);const C=async()=>{w(!0),N(null);try{const R=t<5?"beginner":t<15?"intermediate":"advanced",O={position:e,moveHistory:[],playerLevel:t,difficulty:R,...c};switch(l){case"puzzle":if(c.attemptCount!==void 0){const q=await rn.getPuzzleHint(O,c.attemptCount);p(q)}else{const q=await rn.getCoaching(O);f(q)}break;case"game":const z=await rn.analyzeGame(O);v(z);break;default:const P=await rn.getCoaching(O);f(P);break}}catch(R){N("Failed to get coaching advice. Please try again."),console.error("Coaching error:",R)}finally{w(!1)}},E=R=>{switch(R){case"celebration":return"🎉";case"correction":return"🤔";case"hint":return"💡";case"encouragement":return"💪";case"analysis":return"🔍";default:return"🤖"}},_=R=>{switch(R){case"celebration":return"border-green-200 bg-green-50 text-green-800";case"correction":return"border-orange-200 bg-orange-50 text-orange-800";case"hint":return"border-blue-200 bg-blue-50 text-blue-800";case"encouragement":return"border-purple-200 bg-purple-50 text-purple-800";case"analysis":return"border-gray-200 bg-gray-50 text-gray-800";default:return"border-blue-200 bg-blue-50 text-blue-800"}};return n?i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4 mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-2xl",children:"🤖"}),i.jsx("h3",{className:"font-semibold text-gray-900",children:"Claude Chess Coach"}),!rn.isApiKeyConfigured()&&i.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded-full",children:"Demo Mode"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>A(!0),className:"text-gray-400 hover:text-gray-600 transition-colors p-1",title:"Configure Claude API Key",children:i.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),r&&i.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),b&&i.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),i.jsx("span",{className:"text-sm",children:"Analyzing your position..."})]}),S&&i.jsx("div",{className:"text-red-600 text-sm bg-red-50 border border-red-200 rounded p-2 mb-3",children:S}),d&&i.jsx("div",{className:`p-3 rounded-lg border ${_(d.type)} mb-3`,children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-lg",children:E(d.type)}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium mb-1",children:d.message}),d.explanation&&i.jsx("p",{className:"text-xs opacity-90",children:d.explanation}),d.suggestedMove&&i.jsx("div",{className:"mt-2 text-xs",children:i.jsxs("span",{className:"font-mono bg-white bg-opacity-50 px-2 py-1 rounded",children:["Suggested: ",d.suggestedMove]})})]})]})}),m&&i.jsx("div",{className:`p-3 rounded-lg border ${_("hint")} mb-3`,children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-lg",children:"💡"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium mb-1",children:m.hint}),i.jsxs("div",{className:"text-xs opacity-75",children:[i.jsx("span",{className:"capitalize",children:m.level})," hint"]}),m.suggestedSquares&&i.jsxs("div",{className:"mt-2 flex gap-1",children:[i.jsx("span",{className:"text-xs",children:"Focus on squares:"}),m.suggestedSquares.map((R,O)=>i.jsx("span",{className:"text-xs font-mono bg-white bg-opacity-50 px-1 rounded",children:R},O))]})]})]})}),g&&i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:`p-3 rounded-lg border ${_("analysis")}`,children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-lg",children:"🔍"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium mb-1",children:g.evaluation}),i.jsx("p",{className:"text-xs opacity-90",children:g.reasoning})]})]})}),g.playerStrengths.length>0&&i.jsxs("div",{className:"p-3 rounded-lg border border-green-200 bg-green-50",children:[i.jsxs("h4",{className:"text-sm font-medium text-green-800 mb-2 flex items-center gap-1",children:[i.jsx("span",{children:"⭐"})," Your Strengths"]}),i.jsx("ul",{className:"text-xs text-green-700 space-y-1",children:g.playerStrengths.map((R,O)=>i.jsxs("li",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-green-500",children:"•"}),R]},O))})]}),g.areasForImprovement.length>0&&i.jsxs("div",{className:"p-3 rounded-lg border border-orange-200 bg-orange-50",children:[i.jsxs("h4",{className:"text-sm font-medium text-orange-800 mb-2 flex items-center gap-1",children:[i.jsx("span",{children:"📈"})," Areas to Improve"]}),i.jsx("ul",{className:"text-xs text-orange-700 space-y-1",children:g.areasForImprovement.map((R,O)=>i.jsxs("li",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-orange-500",children:"•"}),R]},O))})]})]}),i.jsxs("div",{className:"flex gap-2 mt-3",children:[i.jsx("button",{onClick:C,disabled:b,className:"text-xs bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 disabled:opacity-50 transition-colors",children:b?"Thinking...":"New Advice"}),l==="puzzle"&&i.jsx("button",{onClick:async()=>{if(c.attemptCount!==void 0){w(!0);try{const R=await rn.getHintForPuzzle(e,c.attemptCount+1);p(R)}catch{N("Failed to get hint")}finally{w(!1)}}},disabled:b,className:"text-xs bg-yellow-600 text-white px-3 py-1 rounded hover:bg-yellow-700 disabled:opacity-50 transition-colors",children:"More Specific Hint"})]}),i.jsx(i_,{isOpen:T,onClose:()=>A(!1)})]}):null},l_=(e={})=>{const{autoCoach:t=!0,enableHints:n=!0,playerLevel:r}=e,{currentLevel:l}=wg(),c=r??l,[d,f]=x.useState(null),[m,p]=x.useState(null),[g,v]=x.useState(null),[b,w]=x.useState(!1),[S,N]=x.useState(null),[T,A]=x.useState(!1),[C,E]=x.useState(0),_=()=>N(null),R=x.useCallback(()=>{f(null),p(null),v(null),N(null)},[]),O=x.useCallback(async(he,ye={})=>{w(!0),_();try{const G=c<5?"beginner":c<15?"intermediate":"advanced",I={position:he,moveHistory:[],playerLevel:c,difficulty:G,...ye},B=await rn.getCoaching(I);f(B),A(!0)}catch(G){N("Failed to get coaching advice"),console.error("Coaching error:",G)}finally{w(!1)}},[c]),z=x.useCallback(async(he,ye,G="tactical")=>{if(n){w(!0),_();try{const I=await rn.getHintForPuzzle(he,ye,G);p(I),E(B=>B+1),A(!0)}catch(I){N("Failed to get hint"),console.error("Hint error:",I)}finally{w(!1)}}},[n]),P=x.useCallback(async(he,ye)=>{w(!0),_();try{const G=c<5?"beginner":c<15?"intermediate":"advanced",I={position:he,moveHistory:ye,playerLevel:c,difficulty:G},B=await rn.analyzeGame(I);v(B),A(!0)}catch(G){N("Failed to analyze game"),console.error("Analysis error:",G)}finally{w(!1)}},[c]),q=x.useCallback(async(he,ye,G)=>{if(t&&!(ye&&Math.random()>.3)){w(!0),_();try{const I=await rn.getCoachingForMove(he,ye,G,c);f(I),A(!0)}catch(I){N("Failed to get move analysis"),console.error("Move analysis error:",I)}finally{w(!1)}}},[t,c]),U=x.useCallback(()=>A(!0),[]),Q=x.useCallback(()=>A(!1),[]),re=x.useCallback(()=>A(he=>!he),[]),ce=n&&C<3;return{coaching:d,puzzleHint:m,gameAnalysis:g,isLoading:b,error:S,isVisible:T,getCoaching:O,getHint:z,analyzeGame:P,onMoveAnalysis:q,showCoach:U,hideCoach:Q,toggleCoach:re,clearCoaching:R,canRequestHint:ce,hintCount:C}},c_=e=>l_({autoCoach:!0,enableHints:!0}),u_=({children:e,className:t="",maxWidth:n="lg",padding:r="md",centerContent:l=!1})=>{const c=()=>({sm:"max-w-sm",md:"max-w-md",lg:"max-w-4xl",xl:"max-w-6xl","2xl":"max-w-7xl",full:"max-w-full"})[n],d=()=>({none:"",sm:"px-2 sm:px-4",md:"px-4 sm:px-6 lg:px-8",lg:"px-6 sm:px-8 lg:px-12",xl:"px-8 sm:px-12 lg:px-16"})[r];return i.jsx("div",{className:`
      w-full ${c()} ${d()}
      ${l?"mx-auto":""}
      ${t}
    `,children:e})},pu=({variant:e="primary",size:t="md",loading:n=!1,soundEffect:r=!0,ripple:l=!0,icon:c,iconPosition:d="left",pulse:f=!1,glow:m=!1,children:p,className:g="",onClick:v,onMouseEnter:b,onMouseLeave:w,disabled:S,...N})=>{const[T,A]=x.useState(!1),[C,E]=x.useState([]),_=()=>({primary:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white shadow-lg hover:shadow-xl border-0",secondary:"bg-gradient-to-r from-gray-100 to-gray-200 hover:from-gray-200 hover:to-gray-300 text-gray-800 border border-gray-300 shadow-md hover:shadow-lg",success:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white shadow-lg hover:shadow-xl border-0",warning:"bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700 text-white shadow-lg hover:shadow-xl border-0",danger:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white shadow-lg hover:shadow-xl border-0",ghost:"bg-transparent hover:bg-gray-100 text-gray-700 border border-gray-300 hover:border-gray-400"})[e],R=()=>({sm:"px-3 py-1.5 text-sm font-medium",md:"px-4 py-2 text-sm font-semibold",lg:"px-6 py-3 text-base font-semibold",xl:"px-8 py-4 text-lg font-bold"})[t],O=()=>m?`shadow-2xl ${{primary:"shadow-blue-500/25",secondary:"shadow-gray-500/25",success:"shadow-green-500/25",warning:"shadow-yellow-500/25",danger:"shadow-red-500/25",ghost:"shadow-gray-500/25"}[e]}`:"",z=q=>{if(!(S||n)){if(r&&hs.playUISound("click"),l){const U=q.currentTarget.getBoundingClientRect(),Q=q.clientX-U.left,re=q.clientY-U.top,ce={id:Date.now(),x:Q,y:re};E(he=>[...he,ce]),setTimeout(()=>{E(he=>he.filter(ye=>ye.id!==ce.id))},600)}A(!0),setTimeout(()=>A(!1),150),v?.(q)}},P=q=>{r&&!S&&hs.playUISound("hover"),b?.(q)};return i.jsxs("button",{className:`
        relative overflow-hidden rounded-lg transition-all duration-200 
        transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed
        focus:outline-none focus:ring-4 focus:ring-opacity-50
        ${_()}
        ${R()}
        ${O()}
        ${f?"animate-pulse":""}
        ${T?"scale-95":"hover:scale-105"}
        ${S?"cursor-not-allowed":"cursor-pointer"}
        ${g}
      `,onClick:z,onMouseEnter:P,onMouseLeave:w,disabled:S||n,...N,children:[C.map(q=>i.jsx("span",{className:"absolute animate-ping bg-white bg-opacity-25 rounded-full",style:{left:q.x-10,top:q.y-10,width:20,height:20,animationDuration:"600ms"}},q.id)),n&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"})}),i.jsxs("div",{className:`flex items-center justify-center gap-2 ${n?"opacity-0":"opacity-100"}`,children:[c&&d==="left"&&i.jsx("span",{className:"flex-shrink-0 transition-transform duration-200 group-hover:scale-110",children:c}),i.jsx("span",{className:"flex-1",children:p}),c&&d==="right"&&i.jsx("span",{className:"flex-shrink-0 transition-transform duration-200 group-hover:scale-110",children:c})]}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700 ease-out"})]})},d_=({progress:e,height:t="md",color:n="blue",showLabel:r=!0,label:l,animate:c=!0,className:d=""})=>{const[f,m]=x.useState(0);x.useEffect(()=>{if(c){const v=setTimeout(()=>m(e),100);return()=>clearTimeout(v)}else m(e)},[e,c]);const p=()=>({sm:"h-2",md:"h-3",lg:"h-4"})[t],g=()=>({blue:"bg-blue-600",green:"bg-green-600",yellow:"bg-yellow-600",red:"bg-red-600",purple:"bg-purple-600"})[n];return i.jsxs("div",{className:d,children:[r&&i.jsx("div",{className:"flex justify-between items-center mb-1",children:i.jsx("span",{className:"text-sm font-medium text-gray-700",children:l||`Progress: ${Math.round(e)}%`})}),i.jsx("div",{className:`w-full bg-gray-200 rounded-full ${p()}`,children:i.jsx("div",{className:`${p()} ${g()} rounded-full transition-all duration-1000 ease-out`,style:{width:`${f}%`}})})]})},f_=({message:e,type:t,isVisible:n,onClose:r,autoClose:l=!0,duration:c=4e3})=>{x.useEffect(()=>{if(n&&l){const m=setTimeout(r,c);return()=>clearTimeout(m)}},[n,l,c,r]);const d=()=>({success:{icon:"🎉",bgColor:"bg-green-100 border-green-300",textColor:"text-green-800",iconBg:"bg-green-500"},achievement:{icon:"🏆",bgColor:"bg-yellow-100 border-yellow-300",textColor:"text-yellow-800",iconBg:"bg-yellow-500"},streak:{icon:"🔥",bgColor:"bg-orange-100 border-orange-300",textColor:"text-orange-800",iconBg:"bg-orange-500"},level:{icon:"⚡",bgColor:"bg-blue-100 border-blue-300",textColor:"text-blue-800",iconBg:"bg-blue-500"},encouragement:{icon:"💪",bgColor:"bg-purple-100 border-purple-300",textColor:"text-purple-800",iconBg:"bg-purple-500"}})[t];if(!n)return null;const f=d();return i.jsx("div",{className:"fixed top-4 right-4 z-50",children:i.jsx(an,{direction:"right",children:i.jsxs("div",{className:`
          flex items-start gap-3 p-4 rounded-lg border-2 shadow-lg max-w-sm
          ${f.bgColor}
          animate-slideInFromRight
        `,children:[i.jsx(vS,{active:!0,children:i.jsx("div",{className:`
              w-8 h-8 rounded-full flex items-center justify-center text-white text-lg
              ${f.iconBg}
            `,children:f.icon})}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsx("p",{className:`text-sm font-medium ${f.textColor}`,children:e})}),i.jsx("button",{onClick:r,className:`${f.textColor} hover:opacity-75 transition-opacity`,children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})})},h_=({puzzle:e,onSolved:t,onSkip:n,showHints:r=!0})=>{const[l,c]=x.useState(0),[d,f]=x.useState(0),[m,p]=x.useState(Date.now()),[g,v]=x.useState(!1),[b,w]=x.useState({type:null,message:""}),[S,N]=x.useState(!1),[T,A]=x.useState(0),[C,E]=x.useState(!1),[_,R]=x.useState({message:"",type:"success",isVisible:!1}),{solvePuzzle:O}=wg(),z=c_();x.useEffect(()=>{p(Date.now()),c(0),f(0),v(!1),w({type:null,message:""}),N(!1),A(0)},[e.id]);const P=()=>{const re=l+1;if(c(re),re>=e.solution.length){v(!0);const ce=Date.now()-m;let he=30;const ye=[];d===0&&(he+=20,ye.push("Perfect!")),ce<3e4&&(he+=15,ye.push("Speed Bonus!")),A(he),O(e.id,d+1,ce),hs.playCelebration(),R({message:`Puzzle Solved! +${he} XP${ye.length>0?" ("+ye.join(", ")+")":""}`,type:"achievement",isVisible:!0}),w({type:"success",message:"🎉 Puzzle solved!"}),t?.(e.id,d+1,ce)}else hs.playUISound("success"),w({type:"success",message:"Correct! Keep going..."}),re===1&&R({message:"Great start! You found the right move!",type:"encouragement",isVisible:!0})},q=()=>{const re=d+1;f(re),hs.playUISound("error"),z.onMoveAnalysis("",!1,e.fen);let ce="Not quite right. Try again!";if(re>=3&&r){const he=e.solution[l];if(he){const ye=he.slice(0,2),G=he.slice(2,4);ce=`💡 Hint: Try moving from ${ye} to ${G}`,hs.playUISound("notification")}}else re===2?ce="Don't give up! Think about the position...":re>=5&&(ce="Keep trying! Every attempt makes you stronger 💪");w({type:re>=3?"hint":"error",message:ce}),re===3&&R({message:"Hang in there! Learning takes practice.",type:"encouragement",isVisible:!0})},U=()=>{n?.(e.id),N(!0)},Q=()=>{c(0),f(0),p(Date.now()),v(!1),w({type:null,message:""}),N(!1),A(0)};return i.jsxs(u_,{maxWidth:"xl",className:"chess-puzzle",children:[i.jsx(f_,{message:_.message,type:_.type,isVisible:_.isVisible,onClose:()=>R({..._,isVisible:!1})}),i.jsxs("div",{className:"min-h-screen flex flex-col gap-8 lg:flex-row lg:justify-between",children:[i.jsxs("div",{className:"flex flex-col items-center lg:w-1/2",children:[i.jsx(an,{direction:"up",children:i.jsxs("div",{className:"relative",children:[i.jsx(Bi,{fen:e.fen,puzzleMode:!0,correctMoves:e.solution,onCorrectMove:P,onIncorrectMove:q,disabled:g||S,highlightMoves:!0,showCoordinates:!0}),g&&i.jsx("div",{className:"absolute inset-0 rounded-lg flex items-center justify-center",style:{backgroundColor:"var(--color-success-subtle)",opacity:.9},children:i.jsx(M1,{trigger:!0,children:i.jsx("div",{className:"text-4xl",children:"🎉"})})})]})}),i.jsx(an,{direction:"up",delay:200,children:i.jsxs("div",{className:"flex flex-wrap gap-2 mt-6",children:[i.jsx(pu,{onClick:Q,variant:"secondary",size:"md",icon:i.jsx("span",{children:"🔄"}),children:"Reset"}),i.jsx(pu,{onClick:U,variant:"warning",size:"md",disabled:g,icon:i.jsx("span",{children:"💡"}),children:"Show Solution"}),i.jsx(pu,{onClick:()=>E(!C),variant:"primary",size:"md",icon:i.jsx("span",{children:"🤖"}),pulse:z.isVisible,children:"Coach"}),z.canRequestHint&&!g&&i.jsx(pu,{onClick:()=>z.getHint(e.fen,d,"tactical"),variant:"ghost",size:"md",icon:i.jsx("span",{children:"💭"}),children:"Hint"})]})})]}),i.jsxs("div",{className:"flex flex-col gap-6 lg:w-1/2",children:[(C||z.isVisible)&&i.jsx(an,{direction:"left",children:i.jsx(o_,{position:e.fen,playerLevel:e.rating/100,isVisible:C||z.isVisible,onClose:()=>{E(!1),z.hideCoach()},mode:"puzzle",context:{attemptCount:d,puzzleType:"tactical",isCorrectMove:b.type==="success"}})}),i.jsx(an,{direction:"right",delay:100,children:i.jsxs("div",{className:"p-6 rounded-xl shadow-sm",style:{backgroundColor:"var(--color-surface-elevated)",border:"1px solid var(--color-border-subtle)"},children:[i.jsx("h2",{className:"text-2xl font-bold mb-2",style:{color:"var(--color-text-primary)"},children:e.title}),i.jsx("p",{className:"mb-4",style:{color:"var(--color-text-secondary)"},children:e.description}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:"var(--color-accent-primary-subtle)",color:"var(--color-accent-primary)"},children:["Rating: ",e.rating]}),e.tags.map(re=>i.jsx("span",{className:"px-3 py-1 rounded-full text-sm hover-lift",style:{backgroundColor:"var(--color-surface)",color:"var(--color-text-secondary)"},children:re},re))]})]})}),b.type&&i.jsx(an,{direction:"right",delay:150,children:i.jsx("div",{className:"p-4 rounded-lg border-l-4 shadow-sm",style:{backgroundColor:b.type==="success"?"var(--color-success-subtle)":b.type==="error"?"var(--color-danger-subtle)":"var(--color-warning-subtle)",color:b.type==="success"?"var(--color-success)":b.type==="error"?"var(--color-danger)":"var(--color-warning)",borderLeftColor:b.type==="success"?"var(--color-success)":b.type==="error"?"var(--color-danger)":"var(--color-warning)"},children:i.jsxs("p",{className:"font-medium flex items-center gap-2",children:[b.type==="success"&&i.jsx("span",{children:"✅"}),b.type==="error"&&i.jsx("span",{children:"❌"}),b.type==="hint"&&i.jsx("span",{children:"💡"}),b.message]})})}),i.jsx(an,{direction:"right",delay:200,children:i.jsxs("div",{className:"p-6 rounded-xl",style:{background:"linear-gradient(135deg, var(--color-accent-primary-subtle) 0%, var(--color-surface-elevated) 100%)",border:"1px solid var(--color-border-subtle)"},children:[i.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",style:{color:"var(--color-text-primary)"},children:[i.jsx("span",{children:"📊"})," Progress"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(d_,{progress:l/e.solution.length*100,color:"blue",label:`Moves completed: ${l} / ${e.solution.length}`,animate:!0}),i.jsxs("div",{className:"flex justify-between text-sm",style:{color:"var(--color-text-secondary)"},children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{children:"🎯"}),i.jsxs("span",{children:["Attempts: ",d]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{children:"⏱️"}),i.jsxs("span",{children:["Time: ",Math.floor((Date.now()-m)/1e3),"s"]})]})]})]})]})}),S&&i.jsx(an,{direction:"right",delay:250,children:i.jsxs("div",{className:"p-6 rounded-xl shadow-sm",style:{background:"linear-gradient(135deg, var(--color-accent-primary-subtle) 0%, var(--color-surface-elevated) 100%)",border:"1px solid var(--color-border-subtle)"},children:[i.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",style:{color:"var(--color-accent-primary)"},children:[i.jsx("span",{children:"🔍"})," Solution"]}),i.jsx("div",{className:"space-y-2 text-sm",style:{color:"var(--color-accent-primary)"},children:e.solution.map((re,ce)=>i.jsxs("div",{className:"flex justify-between py-2 px-3 rounded-lg hover-lift",style:{backgroundColor:"var(--color-surface)",opacity:.8},children:[i.jsxs("span",{className:"font-medium",children:["Move ",ce+1,":"]}),i.jsx("span",{className:"font-mono font-bold",style:{color:"var(--color-accent-primary)"},children:re})]},ce))})]})}),g&&i.jsx(an,{direction:"scale",delay:300,children:i.jsxs("div",{className:"p-6 rounded-xl shadow-lg",style:{background:"linear-gradient(135deg, var(--color-success-subtle) 0%, var(--color-surface-elevated) 100%)",border:"1px solid var(--color-success)"},children:[i.jsx(M1,{trigger:!0,children:i.jsxs("h3",{className:"font-bold mb-4 text-xl flex items-center gap-2",style:{color:"var(--color-success)"},children:[i.jsx("span",{children:"🎉"})," Puzzle Solved!"]})}),i.jsxs("div",{className:"flex flex-col gap-2 text-sm",style:{color:"var(--color-success)"},children:[i.jsxs("div",{className:"flex justify-between p-3 rounded-lg",style:{backgroundColor:"var(--color-surface)",opacity:.8},children:[i.jsx("span",{children:"🎯 Attempts:"}),i.jsx("span",{className:"font-bold",children:d+1})]}),i.jsxs("div",{className:"flex justify-between p-3 rounded-lg",style:{backgroundColor:"var(--color-surface)",opacity:.8},children:[i.jsx("span",{children:"⏱️ Time:"}),i.jsxs("span",{className:"font-bold",children:[Math.floor((Date.now()-m)/1e3),"s"]})]}),i.jsxs("div",{className:"p-3 rounded-lg text-center",style:{background:"linear-gradient(90deg, var(--color-warning-subtle) 0%, var(--color-surface-elevated) 100%)"},children:[i.jsxs("div",{className:"text-2xl font-bold mb-2",style:{color:"var(--color-success)"},children:["+",T," XP"]}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[d===0&&i.jsx("span",{className:"text-xs px-3 py-1 rounded-full font-medium",style:{backgroundColor:"var(--color-warning-subtle)",color:"var(--color-warning)"},children:"🌟 Perfect!"}),Date.now()-m<3e4&&i.jsx("span",{className:"text-xs px-3 py-1 rounded-full font-medium",style:{backgroundColor:"var(--color-accent-primary-subtle)",color:"var(--color-accent-primary)"},children:"⚡ Speed Bonus!"})]})]})]})]})})]})]})]})},gu=[{id:"basic-tactics-1",title:"📚 Basic Tactics: Forks",description:"Master the fundamental fork tactic - attacking two pieces simultaneously",difficulty:"Beginner",ratingRange:"400-800",totalPuzzles:25,completed:0,puzzles:[{id:"fork-1",title:"Knight Fork - King and Queen",description:"White to move and fork the black king and queen",fen:"r1bqkb1r/pppp1ppp/2n2n2/4p3/2B1P3/3P1N2/PPP2PPP/RNBQK2R w KQkq - 0 4",solution:["f3d5"],rating:600,tags:["tactics","fork","knight"],theme:"Fork"},{id:"fork-2",title:"Knight Fork - King and Rook",description:"Find the knight fork that wins the rook",fen:"r3k2r/ppp2ppp/2n1pn2/3p4/2B1P3/3P1N2/PPP2PPP/RNBQK2R w KQkq - 0 8",solution:["f3g5"],rating:650,tags:["tactics","fork","knight"],theme:"Fork"}]},{id:"basic-tactics-2",title:"🧷 Basic Tactics: Pins",description:"Learn to pin pieces to more valuable targets behind them",difficulty:"Beginner",ratingRange:"400-800",totalPuzzles:25,completed:0,puzzles:[{id:"pin-1",title:"Pin to the King",description:"Pin the knight to the king and win material",fen:"r1bqkb1r/ppp2ppp/2n2n2/3pp3/2B1P3/3P1N2/PPP2PPP/RNBQ1RK1 w kq - 0 6",solution:["c1g5"],rating:580,tags:["tactics","pin","bishop"],theme:"Pin"},{id:"pin-2",title:"Pin to the Queen",description:"Pin the bishop to the queen and win material",fen:"r1bqk2r/ppp2ppp/2n2n2/3pp1B1/1bB1P3/3P1N2/PPP2PPP/RN1QK2R w KQkq - 0 8",solution:["g5f6"],rating:620,tags:["tactics","pin","bishop"],theme:"Pin"}]},{id:"basic-tactics-3",title:"🏹 Basic Tactics: Skewers",description:"Force the opponent to move a valuable piece, exposing a less valuable one",difficulty:"Beginner",ratingRange:"500-900",totalPuzzles:20,completed:0,puzzles:[{id:"skewer-1",title:"Skewer King and Queen",description:"Force the king to move and win the queen",fen:"r2q1rk1/ppp2ppp/2n1pn2/3p2B1/2B1P3/3P1N2/PPP2PPP/RN1QK2R w KQ - 0 9",solution:["g5h6"],rating:720,tags:["tactics","skewer","bishop"],theme:"Skewer"}]},{id:"intermediate-tactics-1",title:"🔍 Intermediate: Discovered Attacks",description:"Unleash hidden attacks by moving one piece to reveal another",difficulty:"Intermediate",ratingRange:"800-1200",totalPuzzles:30,completed:0,puzzles:[{id:"discovery-1",title:"Discovered Check",description:"Move the knight to reveal a discovered check",fen:"r1bqk1nr/pppp1ppp/2n5/2b1p3/2B1P3/3P1N2/PPP2PPP/RNBQK2R w KQkq - 4 4",solution:["f3g5"],rating:950,tags:["tactics","discovered-attack","knight"],theme:"Discovered Attack"}]},{id:"intermediate-tactics-2",title:"🎭 Intermediate: Deflection & Decoy",description:"Master forcing the opponent's pieces away from important duties",difficulty:"Intermediate",ratingRange:"900-1300",totalPuzzles:25,completed:0,puzzles:[{id:"deflection-1",title:"Deflect the Defender",description:"Force the defending piece away from its post",fen:"r2qk2r/ppp2ppp/2n1pn2/3p1b2/1bB1P3/2NP1N2/PPP2PPP/R1BQK2R w KQkq - 0 9",solution:["c4xf7"],rating:1150,tags:["tactics","deflection","bishop"],theme:"Deflection"}]},{id:"intermediate-tactics-3",title:"✂️ Intermediate: Double Attacks",description:"Attack two targets simultaneously with one piece",difficulty:"Intermediate",ratingRange:"1000-1400",totalPuzzles:30,completed:0,puzzles:[{id:"double-1",title:"Queen Double Attack",description:"Attack both the king and rook with your queen",fen:"r1b1k2r/ppp2ppp/2n1pn2/3q4/2B1P3/3P1N2/PPP2PPP/RNBQK2R w KQkq - 0 8",solution:["d1d8"],rating:1200,tags:["tactics","double-attack","queen"],theme:"Double Attack"}]},{id:"advanced-tactics-1",title:"🎯 Advanced: Combinations",description:"Complex tactical sequences combining multiple themes",difficulty:"Advanced",ratingRange:"1300-1700",totalPuzzles:35,completed:0,puzzles:[{id:"combo-1",title:"Fork + Pin Combination",description:"Use a combination of fork and pin to win material",fen:"r2qk2r/ppp1nppp/3p1n2/4p1B1/1bB1P3/2NP4/PPP2PPP/R2QK1NR w KQkq - 0 9",solution:["g5xf6","c3d5"],rating:1450,tags:["tactics","combination","fork","pin"],theme:"Combination"}]},{id:"advanced-tactics-2",title:"👑 Advanced: Clearance & Interference",description:"Master clearing lines and blocking opponent pieces",difficulty:"Advanced",ratingRange:"1400-1800",totalPuzzles:25,completed:0,puzzles:[{id:"clearance-1",title:"Clear the Diagonal",description:"Clear your own pieces to unleash a powerful attack",fen:"r1bqk1nr/ppp2ppp/2n5/3pp1B1/1bB1P3/3P1N2/PPP2PPP/RN1QK2R w KQkq - 0 8",solution:["c4xf7"],rating:1580,tags:["tactics","clearance","bishop"],theme:"Clearance"}]},{id:"endgame-studies",title:"♔ Endgame Studies: King & Pawn",description:"Essential king and pawn endgame techniques",difficulty:"Intermediate",ratingRange:"1100-1500",totalPuzzles:40,completed:0,puzzles:[{id:"endgame-1",title:"Opposition in King & Pawn",description:"Use opposition to promote your pawn",fen:"8/8/8/3k4/3P4/3K4/8/8 w - - 0 1",solution:["d3e3"],rating:1250,tags:["endgame","king-pawn","opposition"],theme:"King & Pawn"}]},{id:"checkmate-patterns",title:"⚡ Checkmate Patterns",description:"Learn essential mating patterns and sequences",difficulty:"Beginner",ratingRange:"600-1200",totalPuzzles:50,completed:0,puzzles:[{id:"mate-1",title:"Back Rank Mate",description:"Deliver checkmate on the back rank",fen:"6k1/5ppp/8/8/8/8/5PPP/R3R1K1 w - - 0 1",solution:["a1a8"],rating:850,tags:["checkmate","back-rank","rook"],theme:"Back Rank Mate"},{id:"mate-2",title:"Smothered Mate",description:"Classic knight checkmate pattern",fen:"r3k2r/ppp2Npp/1b5n/4p2q/2B1n3/3P4/PPP2PPP/RNBQK2R w KQkq - 0 10",solution:["f7d8","d8f7"],rating:1100,tags:["checkmate","smothered-mate","knight"],theme:"Smothered Mate"}]}],m_=()=>{const[e,t]=x.useState(null),[n,r]=x.useState(0),[l,c]=x.useState(new Set),[d,f]=x.useState({});x.useEffect(()=>{const w={};gu.forEach(S=>{w[S.id]=0}),f(w)},[]);const m=(w,S,N)=>{c(T=>new Set(T).add(w)),e&&f(T=>({...T,[e.id]:T[e.id]+1})),console.log(`Puzzle ${w} solved in ${S} attempts and ${N}ms`),setTimeout(()=>{e&&n<e.puzzles.length-1&&r(n+1)},2e3)},p=w=>{console.log(`Puzzle ${w} skipped`),e&&n<e.puzzles.length-1&&r(n+1)},g=w=>{switch(w){case"Beginner":return{backgroundColor:"var(--color-success-subtle)",color:"var(--color-success)",borderColor:"var(--color-success)"};case"Intermediate":return{backgroundColor:"var(--color-warning-subtle)",color:"var(--color-warning)",borderColor:"var(--color-warning)"};case"Advanced":return{backgroundColor:"var(--color-danger-subtle)",color:"var(--color-danger)",borderColor:"var(--color-danger)"};default:return{backgroundColor:"var(--color-surface)",color:"var(--color-text-secondary)",borderColor:"var(--color-border-default)"}}},v=()=>gu.reduce((w,S)=>w+S.totalPuzzles,0),b=()=>Object.values(d).reduce((w,S)=>w+S,0);if(e){const w=e.puzzles[n],S=Math.round(d[e.id]/e.totalPuzzles*100);return i.jsx("div",{className:"min-h-screen",style:{backgroundColor:"var(--color-bg-base)"},children:i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[i.jsxs("div",{className:"flex items-center mb-8",children:[i.jsx(fe,{variant:"outline",onClick:()=>t(null),className:"mr-4",children:"← Back to Curriculum"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:e.title}),i.jsx("p",{className:"text-muted-foreground",children:e.description})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[i.jsxs(Re,{className:"p-4 text-center",style:{backgroundColor:"var(--color-surface-elevated)",borderColor:"var(--color-border-default)"},children:[i.jsx("div",{className:"text-2xl font-bold mb-1",style:{color:"var(--color-accent-primary)"},children:n+1}),i.jsx("div",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Current Puzzle"})]}),i.jsxs(Re,{className:"p-4 text-center",style:{backgroundColor:"var(--color-surface-elevated)",borderColor:"var(--color-border-default)"},children:[i.jsx("div",{className:"text-2xl font-bold mb-1",style:{color:"var(--color-success)"},children:d[e.id]}),i.jsx("div",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Solved"})]}),i.jsxs(Re,{className:"p-4 text-center",style:{backgroundColor:"var(--color-surface-elevated)",borderColor:"var(--color-border-default)"},children:[i.jsxs("div",{className:"text-2xl font-bold mb-1",style:{color:"var(--color-accent-primary)"},children:[S,"%"]}),i.jsx("div",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Progress"})]}),i.jsxs(Re,{className:"p-4 text-center",style:{backgroundColor:"var(--color-surface-elevated)",borderColor:"var(--color-border-default)"},children:[i.jsx("div",{className:"text-2xl font-bold mb-1",style:{color:"var(--color-warning)"},children:e.ratingRange}),i.jsx("div",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Rating Range"})]})]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsx("span",{children:"Set Progress"}),i.jsxs("span",{children:[d[e.id]," / ",e.totalPuzzles]})]}),i.jsx(bn,{value:S,className:"h-3"})]}),w&&i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsx(h_,{puzzle:w,onSolved:m,onSkip:p,showHints:!0})}),i.jsxs("div",{className:"flex justify-center items-center gap-4 mt-8",children:[i.jsx(fe,{variant:"outline",onClick:()=>r(Math.max(0,n-1)),disabled:n===0,children:"Previous"}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[n+1," of ",e.puzzles.length]}),i.jsx(fe,{variant:"outline",onClick:()=>r(Math.min(e.puzzles.length-1,n+1)),disabled:n===e.puzzles.length-1,children:"Next"})]})]})})}return i.jsx("div",{className:"min-h-screen",style:{backgroundColor:"var(--color-bg-base)"},children:i.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[i.jsx("div",{className:"text-center mb-12",children:i.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[i.jsx("h1",{className:"text-4xl font-bold mb-4",style:{color:"var(--color-accent-primary)"},children:"🧩 Chess Puzzles Curriculum"}),i.jsx("p",{className:"text-lg mb-6",style:{color:"var(--color-text-secondary)"},children:"Complete A→Z structured learning path from basic tactics to advanced combinations"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-2xl mx-auto",children:[i.jsxs(Re,{className:"p-6 text-center",style:{backgroundColor:"var(--color-surface-elevated)",borderColor:"var(--color-accent-primary)",borderWidth:"2px"},children:[i.jsx("div",{className:"text-3xl font-bold mb-2",style:{color:"var(--color-accent-primary)"},children:v()}),i.jsx("div",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Total Puzzles"})]}),i.jsxs(Re,{className:"p-6 text-center",style:{backgroundColor:"var(--color-surface-elevated)",borderColor:"var(--color-success)",borderWidth:"2px"},children:[i.jsx("div",{className:"text-3xl font-bold mb-2",style:{color:"var(--color-success)"},children:b()}),i.jsx("div",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Puzzles Solved"})]}),i.jsxs(Re,{className:"p-6 text-center",style:{backgroundColor:"var(--color-surface-elevated)",borderColor:"var(--color-accent-primary)",borderWidth:"2px"},children:[i.jsx("div",{className:"text-3xl font-bold mb-2",style:{color:"var(--color-accent-primary)"},children:gu.length}),i.jsx("div",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"Learning Modules"})]})]})]})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:gu.map((w,S)=>{const N=d[w.id]||0,T=Math.round(N/w.totalPuzzles*100);return i.jsx(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:S*.1,duration:.5},children:i.jsxs(Re,{className:"h-full hover:shadow-xl transition-all duration-300 hover:scale-[1.02] cursor-pointer",style:{backgroundColor:"var(--color-surface-elevated)",borderColor:"var(--color-border-default)",borderWidth:"2px"},onClick:()=>{t(w),r(0)},children:[i.jsxs(Ht,{className:"pb-3",children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsx(Nt,{style:g(w.difficulty),children:w.difficulty}),i.jsx(Nt,{variant:"outline",className:"text-xs",children:w.ratingRange})]}),i.jsx(Kt,{className:"text-lg font-bold leading-tight",children:w.title}),i.jsx(In,{className:"text-sm",children:w.description})]}),i.jsx(Et,{className:"pt-0",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsx("span",{className:"font-medium",children:"Progress"}),i.jsxs("span",{className:"text-text-secondary",children:[N," / ",w.totalPuzzles]})]}),i.jsx(bn,{value:T,className:"h-2"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 text-center",children:[i.jsxs("div",{className:"rounded-lg p-3",style:{backgroundColor:"var(--color-surface)"},children:[i.jsx("div",{className:"text-lg font-bold",style:{color:"var(--color-accent-primary)"},children:w.totalPuzzles}),i.jsx("div",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:"Puzzles"})]}),i.jsxs("div",{className:"rounded-lg p-3",style:{backgroundColor:"var(--color-surface)"},children:[i.jsxs("div",{className:"text-lg font-bold",style:{color:"var(--color-success)"},children:[T,"%"]}),i.jsx("div",{className:"text-xs",style:{color:"var(--color-text-secondary)"},children:"Complete"})]})]}),i.jsx(fe,{className:"w-full",variant:N>0?"primary":"outline",children:N>0?"📚 Continue":"🚀 Start Learning"})]})})]})},w.id)})}),i.jsx(xe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"mt-12 text-center",children:i.jsxs(Re,{className:"max-w-4xl mx-auto p-8",style:{backgroundColor:"var(--color-surface-elevated)",borderColor:"var(--color-warning)",borderWidth:"2px"},children:[i.jsx("h3",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-text-primary)"},children:"🎯 Structured Learning Path"}),i.jsxs("div",{className:"grid md:grid-cols-3 gap-6 text-left",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-green-700 mb-2",children:"📚 Beginner (400-1000)"}),i.jsxs("ul",{className:"text-sm text-green-600 space-y-1",children:[i.jsx("li",{children:"• Basic Tactics (Forks, Pins, Skewers)"}),i.jsx("li",{children:"• Fundamental Checkmate Patterns"}),i.jsx("li",{children:"• Simple Combinations"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-yellow-700 mb-2",children:"🔍 Intermediate (1000-1500)"}),i.jsxs("ul",{className:"text-sm text-yellow-600 space-y-1",children:[i.jsx("li",{children:"• Advanced Tactics & Combinations"}),i.jsx("li",{children:"• Deflection, Decoy, Discovery"}),i.jsx("li",{children:"• King & Pawn Endgames"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-red-700 mb-2",children:"🎯 Advanced (1500-1800)"}),i.jsxs("ul",{className:"text-sm text-red-600 space-y-1",children:[i.jsx("li",{children:"• Complex Combinations"}),i.jsx("li",{children:"• Clearance & Interference"}),i.jsx("li",{children:"• Master-level Tactics"})]})]})]})]})})]})})};class p_{engine=null;isReady=!1;callbacks={};currentPosition="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";constructor(){this.initEngine()}async initEngine(){console.log("StockfishEngine: Starting initialization..."),this.initMockEngine()}async initRealEngine(){try{const t=`
        // Load Stockfish from CDN
        importScripts('https://cdn.jsdelivr.net/npm/stockfish@17/src/stockfish.js');
        
        let stockfish = null;
        
        self.onmessage = function(e) {
          const command = e.data;
          
          if (command === 'init') {
            if (typeof Stockfish === 'function') {
              stockfish = Stockfish();
              stockfish.onmessage = function(message) {
                self.postMessage(message);
              };
              self.postMessage('stockfish_ready');
            } else {
              self.postMessage('stockfish_error: Stockfish not loaded');
            }
          } else if (stockfish) {
            stockfish.postMessage(command);
          }
        };
      `,n=new Blob([t],{type:"application/javascript"}),r=URL.createObjectURL(n);this.engine=new Worker(r),console.log("Real Stockfish web worker created"),this.engine.onmessage=l=>{const c=l.data;if(console.log("Stockfish:",c),c==="stockfish_ready")this.engine.postMessage("uci");else if(c.includes("uciok"))this.emit("uciok");else if(c.includes("readyok"))this.isReady=!0,this.emit("ready");else if(c.startsWith("bestmove"))this.emit("bestmove",c);else if(c.startsWith("info"))this.emit("info",c);else if(c.startsWith("stockfish_error"))throw console.error("Stockfish error:",c),new Error(c)},this.engine.onerror=l=>{throw console.error("Stockfish worker error:",l),l},this.engine.postMessage("init")}catch(t){throw console.error("Failed to initialize real Stockfish:",t),t}}initMockEngine(){console.log("StockfishEngine: Initializing mock engine..."),this.isReady=!0,setTimeout(()=>{console.log("StockfishEngine: Emitting ready event"),this.emit("ready")},10),setTimeout(()=>{console.log("StockfishEngine: Emitting backup ready event"),this.emit("ready")},100),this.engine={postMessage:t=>{t.includes("position fen")&&(this.currentPosition=t.split("position fen ")[1]),setTimeout(()=>{if(t.includes("go")){const n=this.generateValidMove(this.currentPosition);this.handleEngineMessage(`bestmove ${n}`)}},Math.random()*1500+300)},terminate:()=>{console.log("Mock engine terminated")}}}generateValidMove(t){try{const n=new kt(t||this.currentPosition),r=n.moves({verbose:!0});if(r.length===0)return"a1a1";const l=r.filter(p=>p.captured),c=r.filter(p=>p.flags.includes("c")),d=r.filter(p=>(p.piece==="n"||p.piece==="b")&&(p.from.includes("1")||p.from.includes("8")));let f=r;l.length>0&&Math.random()<.3?f=l:c.length>0&&Math.random()<.2?f=c:d.length>0&&n.history().length<10&&Math.random()<.25&&(f=d);const m=f[Math.floor(Math.random()*f.length)];return`${m.from}${m.to}${m.promotion||""}`}catch(n){console.error("Error generating move:",n);const r=["e2e4","d2d4","g1f3","b1c3","f1c4"];return r[Math.floor(Math.random()*r.length)]}}handleEngineMessage(t){if(console.log("Stockfish:",t),t.includes("uciok"))this.send("isready");else if(t.includes("readyok"))this.isReady=!0,this.emit("ready");else if(t.includes("bestmove")){const n=t.match(/bestmove (\w+)/);n&&this.emit("bestmove",n[1])}else t.includes("info")&&t.includes("score")&&this.emit("evaluation",t)}send(t){this.engine?this.engine.postMessage(t):this.handleMockCommand(t)}handleMockCommand(t){t==="isready"?setTimeout(()=>this.handleEngineMessage("readyok"),100):t.startsWith("position")&&setTimeout(()=>{const n=["e2e4","e7e5","g1f3","b8c6","d2d4","f7f6"],r=n[Math.floor(Math.random()*n.length)];this.handleEngineMessage(`bestmove ${r}`)},1e3)}emit(t,n){(this.callbacks[t]||[]).forEach(l=>l(n||""))}on(t,n){this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n)}off(t,n){this.callbacks[t]&&(this.callbacks[t]=this.callbacks[t].filter(r=>r!==n))}async getBestMove(t,n=10){return new Promise((r,l)=>{if(!this.isReady){l(new Error("Engine not ready"));return}const c=setTimeout(()=>{l(new Error("Engine timeout"))},1e4),d=f=>{clearTimeout(c),this.off("bestmove",d),r(f)};this.on("bestmove",d),this.send(`position fen ${t}`),this.send(`go depth ${n}`)})}async getEvaluation(t,n=15){return new Promise((r,l)=>{if(!this.isReady){l(new Error("Engine not ready"));return}const c=setTimeout(()=>{r({score:0})},5e3);let d={score:0};const f=p=>{const g=p.match(/score cp (-?\d+)/),v=p.match(/score mate (-?\d+)/);v?d={score:0,mate:parseInt(v[1])}:g&&(d={score:parseInt(g[1])})},m=p=>{clearTimeout(c),this.off("evaluation",f),this.off("bestmove",m),r({...d,bestMove:p})};this.on("evaluation",f),this.on("bestmove",m),this.send(`position fen ${t}`),this.send(`go depth ${n}`)})}get ready(){return this.isReady}setDifficulty(t){const n={easy:5,medium:10,hard:15,expert:20},r={easy:5,medium:10,hard:15,expert:20};return this.send(`setoption name Skill Level value ${r[t]}`),n[t]}quit(){this.engine&&(this.send("quit"),this.engine.terminate?.(),this.engine=null),this.isReady=!1}}const L1=new p_,Cr=[{id:1,name:"First Steps",botName:"Bobby Beginner",botPersonality:"friendly",difficulty:"beginner",description:"Learn the basics with a very gentle opponent",thinkingMessages:["Hmm, let me think...","What's a good move?","Maybe this piece?"],skillLevel:1,icon:i.jsx(js,{className:"h-4 w-4"}),color:"bg-green-100 text-green-800"},{id:2,name:"Baby Steps",botName:"Anna Amateur",botPersonality:"encouraging",difficulty:"beginner",description:"Simple tactics and basic piece development",thinkingMessages:["Looking for simple moves...","Hmm, development first!","Let's see..."],skillLevel:2,icon:i.jsx(wu,{className:"h-4 w-4"}),color:"bg-green-100 text-green-800"},{id:3,name:"Learning Mode",botName:"Carl Casual",botPersonality:"patient",difficulty:"beginner",description:"Focus on piece safety and simple combinations",thinkingMessages:["Checking piece safety...","Any tactics here?","Simple is good..."],skillLevel:3,icon:i.jsx(_u,{className:"h-4 w-4"}),color:"bg-green-100 text-green-800"},{id:4,name:"Rookie Challenge",botName:"Rita Rookie",botPersonality:"helpful",difficulty:"beginner",description:"Basic tactics and endgame patterns",thinkingMessages:["Looking for tactics...","Can I win material?","Endgame principles..."],skillLevel:4,icon:i.jsx(er,{className:"h-4 w-4"}),color:"bg-green-100 text-green-800"},{id:5,name:"Novice Level",botName:"Nick Novice",botPersonality:"steady",difficulty:"beginner",description:"Improved tactical awareness",thinkingMessages:["Analyzing position...","What about this move?","Tactical opportunities..."],skillLevel:5,icon:i.jsx(Pi,{className:"h-4 w-4"}),color:"bg-green-100 text-green-800"},{id:6,name:"Student Stage",botName:"Sally Student",botPersonality:"studious",difficulty:"beginner",description:"Better position understanding",thinkingMessages:["Studying the position...","Piece coordination...","Strategic planning..."],skillLevel:6,icon:i.jsx(Ja,{className:"h-4 w-4"}),color:"bg-green-100 text-green-800"},{id:7,name:"Rising Player",botName:"Ryan Rising",botPersonality:"ambitious",difficulty:"beginner",description:"More complex tactical patterns",thinkingMessages:["Complex tactics ahead...","Multiple threats!","Strategic depth..."],skillLevel:7,icon:i.jsx(Mh,{className:"h-4 w-4"}),color:"bg-green-100 text-green-800"},{id:8,name:"Promising Talent",botName:"Tina Talent",botPersonality:"confident",difficulty:"beginner",description:"Good tactical and positional play",thinkingMessages:["Calculating variations...","Positional considerations...","Time to strike!"],skillLevel:8,icon:i.jsx(Hs,{className:"h-4 w-4"}),color:"bg-green-100 text-green-800"},{id:9,name:"Club Player",botName:"Charlie Club",botPersonality:"competitive",difficulty:"intermediate",description:"Solid club-level play with good tactics",thinkingMessages:["Deep calculation...","Strategic planning...","Tactical combinations..."],skillLevel:9,icon:i.jsx(js,{className:"h-4 w-4"}),color:"bg-yellow-100 text-yellow-800"},{id:10,name:"Tournament Ready",botName:"Terry Tournament",botPersonality:"focused",difficulty:"intermediate",description:"Tournament-level tactical awareness",thinkingMessages:["Tournament mindset...","Calculating deeply...","No blunders allowed..."],skillLevel:10,timeLimit:30,icon:i.jsx(wu,{className:"h-4 w-4"}),color:"bg-yellow-100 text-yellow-800"},{id:11,name:"Tactical Fighter",botName:"Felix Fighter",botPersonality:"aggressive",difficulty:"intermediate",description:"Sharp tactical battles and combinations",thinkingMessages:["Looking for attacks...","Tactical storm brewing...","Time to fight!"],skillLevel:11,timeLimit:25,icon:i.jsx(Mh,{className:"h-4 w-4"}),color:"bg-yellow-100 text-yellow-800"},{id:12,name:"Positional Player",botName:"Pete Positional",botPersonality:"strategic",difficulty:"intermediate",description:"Strong positional understanding",thinkingMessages:["Positional evaluation...","Long-term planning...","Structural advantages..."],skillLevel:12,timeLimit:20,icon:i.jsx(Ja,{className:"h-4 w-4"}),color:"bg-yellow-100 text-yellow-800"},{id:13,name:"Balanced Expert",botName:"Bella Balanced",botPersonality:"versatile",difficulty:"intermediate",description:"Well-rounded tactical and positional play",thinkingMessages:["Balanced approach...","All factors considered...","Optimal choice..."],skillLevel:13,timeLimit:18,icon:i.jsx(_u,{className:"h-4 w-4"}),color:"bg-yellow-100 text-yellow-800"},{id:14,name:"Rising Expert",botName:"Rex Rising",botPersonality:"determined",difficulty:"intermediate",description:"Strong player with few weaknesses",thinkingMessages:["Expert analysis...","No weaknesses here...","Precise calculation..."],skillLevel:14,timeLimit:15,icon:i.jsx(Pi,{className:"h-4 w-4"}),color:"bg-yellow-100 text-yellow-800"},{id:15,name:"Near Master",botName:"Nora Near-Master",botPersonality:"serious",difficulty:"intermediate",description:"Very strong play approaching master level",thinkingMessages:["Master-level thinking...","Deep understanding...","Excellent technique..."],skillLevel:15,timeLimit:12,icon:i.jsx(js,{className:"h-4 w-4"}),color:"bg-yellow-100 text-yellow-800"},{id:16,name:"Candidate Master",botName:"Max Candidate",botPersonality:"ambitious",difficulty:"intermediate",description:"Candidate Master strength with excellent tactics",thinkingMessages:["Candidate Master level...","Complex calculations...","Mastery emerging..."],skillLevel:16,timeLimit:10,icon:i.jsx(Hs,{className:"h-4 w-4"}),color:"bg-yellow-100 text-yellow-800"},{id:17,name:"Master Level",botName:"Magnus Master",botPersonality:"masterful",difficulty:"advanced",description:"True master strength with deep understanding",thinkingMessages:["Master-level analysis...","Profound understanding...","Chess artistry..."],skillLevel:17,timeLimit:8,icon:i.jsx(js,{className:"h-4 w-4"}),color:"bg-red-100 text-red-800"},{id:18,name:"International Master",botName:"Igor International",botPersonality:"worldly",difficulty:"advanced",description:"International Master level play",thinkingMessages:["International standard...","World-class thinking...","IM-level precision..."],skillLevel:18,timeLimit:6,icon:i.jsx(wu,{className:"h-4 w-4"}),color:"bg-red-100 text-red-800"},{id:19,name:"Grandmaster Track",botName:"Gary Grandmaster",botPersonality:"legendary",difficulty:"advanced",description:"Approaching Grandmaster strength",thinkingMessages:["GM-level calculation...","Legendary precision...","Championship thinking..."],skillLevel:19,timeLimit:5,icon:i.jsx(Ja,{className:"h-4 w-4"}),color:"bg-red-100 text-red-800"},{id:20,name:"Super Grandmaster",botName:"Sophia Super-GM",botPersonality:"elite",difficulty:"advanced",description:"Super Grandmaster level - elite play",thinkingMessages:["Elite-level thinking...","Superhuman calculation...","Chess perfection..."],skillLevel:20,timeLimit:4,icon:i.jsx(Mh,{className:"h-4 w-4"}),color:"bg-red-100 text-red-800"},{id:21,name:"World Championship",botName:"Wesley World Champion",botPersonality:"champion",difficulty:"expert",description:"World Championship level strength",thinkingMessages:["World Champion analysis...","Championship precision...","Ultimate chess..."],skillLevel:20,timeLimit:3,icon:i.jsx(js,{className:"h-4 w-4"}),color:"bg-purple-100 text-purple-800"},{id:22,name:"Computer Challenger",botName:"Cypher Computer",botPersonality:"computational",difficulty:"expert",description:"Computer-level calculation and precision",thinkingMessages:["Computing optimal moves...","Analyzing millions of positions...","Mechanical precision..."],skillLevel:20,timeLimit:2,icon:i.jsx(Ja,{className:"h-4 w-4"}),color:"bg-purple-100 text-purple-800"},{id:23,name:"Chess Engine",botName:"Alpha Engine",botPersonality:"mechanical",difficulty:"expert",description:"Chess engine strength - nearly perfect play",thinkingMessages:["Engine analysis...","Perfect calculation...","Optimal play engaged..."],skillLevel:20,timeLimit:1,icon:i.jsx(Pi,{className:"h-4 w-4"}),color:"bg-purple-100 text-purple-800"},{id:24,name:"Stockfish Mode",botName:"Stockfish Supreme",botPersonality:"supreme",difficulty:"master",description:"Top engine level - extremely challenging",thinkingMessages:["Supreme analysis...","Stockfish precision...","Chess mastery..."],skillLevel:20,timeLimit:.5,icon:i.jsx(Hs,{className:"h-4 w-4"}),color:"bg-black text-white"},{id:25,name:"Chess God",botName:"Divinity Chess God",botPersonality:"divine",difficulty:"master",description:"The ultimate chess challenge - near perfect play",thinkingMessages:["Divine calculation...","Perfect chess...","Ultimate mastery..."],skillLevel:20,timeLimit:0,icon:i.jsx(js,{className:"h-4 w-4"}),color:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white"}],g_=({level:e,isActive:t=!1,onClick:n})=>i.jsxs("div",{onClick:n,className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${t?"border-blue-500 bg-blue-50 shadow-lg transform scale-105":"border-gray-200 hover:border-gray-300 hover:shadow-md"}`,children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsxs(Nt,{className:e.color,children:[e.icon,i.jsxs("span",{className:"ml-1",children:["Level ",e.id]})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-bold text-gray-900",children:e.name}),i.jsx("p",{className:"text-sm text-gray-600",children:e.botName})]})]}),i.jsx("p",{className:"text-sm text-gray-700 mb-2",children:e.description}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[i.jsxs("span",{children:["Difficulty: ",e.difficulty]}),e.timeLimit&&i.jsxs("span",{children:["• Time: ",e.timeLimit,"s per move"]})]})]}),_1={1:25,2:28,3:30,4:32,5:35,6:38,7:40,8:42,9:45,10:48,11:50,12:52,13:55,14:58,15:60,16:62,17:65,18:68,19:70,20:72,21:75,22:78,23:80,24:82,25:85},y_=({initialLevel:e=1})=>{const[t,n]=x.useState(new kt),[r,l]=x.useState(t.fen()),[c,d]=x.useState("white"),[f,m]=x.useState(e),[p,g]=x.useState(!1),[v,b]=x.useState(!0),[w,S]=x.useState(!1),[N,T]=x.useState(!1),[A,C]=x.useState(""),[E,_]=x.useState(null),[R,O]=x.useState(!1),[z,P]=x.useState(!1),[q,U]=x.useState(!1),[Q,re]=x.useState(!1),[ce,he]=x.useState(0),[ye,G]=x.useState(0),[I,B]=x.useState(Date.now()),[ne,M]=x.useState(Cr[0]),[D,te]=x.useState(null),[J,de]=x.useState(Date.now()),[ge,ve]=x.useState(()=>{const ie=localStorage.getItem("chessPlayerStats");return ie?JSON.parse(ie):{gamesPlayed:0,wins:0,losses:0,draws:0,totalMoves:0,bestLevel:1,points:0}}),[Ce,qe]=x.useState(()=>[...Cr.slice(0,10).map(pe=>({name:pe.botName,points:Math.floor(Math.random()*500)+pe.id*50,level:pe.id,gamesPlayed:Math.floor(Math.random()*100)+50})),{name:"You",points:ge.points,level:ge.bestLevel,gamesPlayed:ge.gamesPlayed}].sort((pe,Ae)=>Ae.points-pe.points)),{completeGame:St}=wg();x.useEffect(()=>{f>=1&&f<=Cr.length&&M(Cr[f-1])},[f]),x.useEffect(()=>{f>=1&&f<=Cr.length&&M(Cr[f-1])},[]),x.useEffect(()=>{let ie;return p&&E===null&&(ie=window.setInterval(()=>{de(Date.now())},1e3)),()=>{ie&&clearInterval(ie)}},[p,E]);const nt=ie=>{console.log("Starting new game with color:",ie),d(ie),S(!1),b(!1),Ct(ie)},Ct=ie=>{console.log("Starting new game:",ie,"vs",ne.botName);const pe=new kt;n(pe),l(pe.fen()),d(ie),g(!0),_(null),he(0),G(0),B(Date.now()),L1.setDifficulty(ne.difficulty==="beginner"?"easy":ne.difficulty==="intermediate"?"medium":ne.difficulty==="advanced"?"hard":"expert"),hs.playGameStateSound("start"),ie==="black"&&(console.log("Player is black, computer will move first"),setTimeout(()=>ut(pe),500))},ut=async ie=>{T(!0);const pe=ne.thinkingMessages,Ae=pe[Math.floor(Math.random()*pe.length)];C(`${ne.botName}: ${Ae}`);try{const Ee=ne.timeLimit?ne.timeLimit*1e3:Math.random()*2e3+1e3;await new Promise(Be=>setTimeout(Be,Math.max(Ee,500)));const ot=await L1.getBestMove(ie.fen(),ne.skillLevel);if(console.log("Computer received move from engine:",ot),ot&&ot!=="a1a1")try{const Be=ie.move(ot);Be?(console.log("Computer move successful:",Be.san),n(new kt(ie.fen())),l(ie.fen()),he(Ue=>Ue+1),hs.playMoveSound(!!Be.captured),Pt(ie)):console.error("Computer move failed - invalid move:",ot)}catch(Be){console.error("Computer move error:",Be,"Move:",ot)}else console.warn("No valid computer move generated")}catch(Ee){console.error("Computer move error:",Ee)}finally{T(!1),C("")}},et=ie=>{console.log("Player move attempt:",ie,"from position:",r);const pe=new kt(r),Ae=pe.move(ie);if(Ae){if(console.log("Player move successful:",Ae.san,"new position:",pe.fen()),n(pe),l(pe.fen()),he(Ee=>Ee+1),G(Ee=>Ee+1),Pt(pe))return;setTimeout(()=>{console.log("Triggering computer move..."),ut(pe)},300)}else console.error("Player move failed - invalid move:",ie)},Pt=ie=>{if(ie.isGameOver()){const pe=Date.now()-I;let Ae;return ie.isCheckmate()?(ie.turn()==="w"?"black":"white")===c?(Ae="win",_("win"),O(!0),P(!0),hs.playGameStateSound("win")):(Ae="lose",_("lose"),hs.playGameStateSound("lose")):(Ae="draw",_("draw"),hs.playUISound("notification")),ms(Ae,ye,pe),!0}return!1},ms=(ie,pe,Ae)=>{const Ee=_1[f]||50,ot=pe/Ee;let Be,Ue=0,Ge=[];ie==="win"?(Ue=f*10,ot<=1.2?(Be="excellent",Ue+=20,Ge=["Outstanding efficiency!","You played like a pro!","Try the next level!"]):ot<=1.5?(Be="good",Ue+=10,Ge=["Good game!","Work on tactical patterns","Consider endgame studies"]):(Be="average",Ge=["Victory achieved!","Focus on piece activity","Study opening principles"])):ie==="draw"?(Ue=f*3,Be="average",Ge=["Draw achieved!","Look for winning chances","Practice tactics daily"]):(Ue=f,Be="needs_improvement",Ge=["Keep practicing!","Review basic tactics","Study endgame fundamentals"]),te({result:ie,playerMoves:pe,proMoves:Ee,timeTaken:Ae,level:f,performance:Be,tips:Ge,pointsEarned:Ue}),Zt(ie,pe,Ue),setTimeout(()=>U(!0),1e3)},Zt=(ie,pe,Ae)=>{const Ee={...ge};Ee.gamesPlayed+=1,Ee.totalMoves+=pe,Ee.points+=Ae,ie==="win"?(Ee.wins+=1,f>Ee.bestLevel&&(Ee.bestLevel=f)):ie==="lose"?Ee.losses+=1:Ee.draws+=1,ve(Ee),localStorage.setItem("chessPlayerStats",JSON.stringify(Ee)),qe(ot=>ot.map(Ue=>Ue.name==="You"?{...Ue,points:Ee.points,level:Ee.bestLevel,gamesPlayed:Ee.gamesPlayed}:Ue).sort((Ue,Ge)=>Ge.points-Ue.points))},dt=()=>{g(!1),b(!0),S(!1),_(null),O(!1),P(!1),U(!1),G(0),te(null)},ps=()=>{window.confirm("Are you sure you want to quit this game?")&&dt()},me=()=>{window.confirm("Are you sure you want to forfeit this game?")&&(_("lose"),ms("lose",ye,Date.now()-I),hs.playGameStateSound("lose"))};return p&&!v&&!w&&console.log("Game screen rendered - Game state:",{gameStarted:p,gamePosition:r.substring(0,20)+"...",playerColor:c,isComputerThinking:N,disabled:N||E!==null}),Q?i.jsx("div",{className:"container mx-auto px-4 py-6 max-w-4xl",children:i.jsxs(Re,{children:[i.jsx(Ht,{children:i.jsxs(Kt,{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Hs,{className:"h-6 w-6"}),"Leaderboard"]}),i.jsx(fe,{onClick:()=>re(!1),variant:"outline",children:i.jsx(Du,{className:"h-4 w-4"})})]})}),i.jsxs(Et,{children:[i.jsx("div",{className:"space-y-3",children:Ce.map((ie,pe)=>i.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${ie.name==="You"?"bg-blue-50 border-2 border-blue-200":"bg-surface-elevated border border-border-default"}`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${pe===0?"bg-yellow-400 text-yellow-900":pe===1?"bg-slate-400 text-white":pe===2?"bg-orange-400 text-orange-900":"bg-surface"}`,style:pe>2?{color:"var(--color-text-secondary)"}:{},children:pe+1}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold",children:ie.name}),i.jsxs("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:["Level ",ie.level," • ",ie.gamesPlayed," games"]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"font-bold text-lg",children:ie.points}),i.jsx("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"points"})]})]},ie.name))}),i.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Your Statistics"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:["Games: ",ge.gamesPlayed]}),i.jsxs("div",{children:["Wins: ",ge.wins]}),i.jsxs("div",{children:["Best Level: ",ge.bestLevel]}),i.jsxs("div",{children:["Win Rate: ",ge.gamesPlayed>0?Math.round(ge.wins/ge.gamesPlayed*100):0,"%"]})]})]})]})]})}):q&&D?i.jsx("div",{className:"container mx-auto px-4 py-6 max-w-4xl",children:i.jsxs(Re,{className:D.result==="win"?"border-green-500 bg-green-50":D.result==="lose"?"border-red-500 bg-red-50":"border-yellow-500 bg-yellow-50",children:[i.jsx(Ht,{children:i.jsx(Kt,{className:"text-center",children:D.result==="win"?"🏆 Victory!":D.result==="lose"?"😔 Defeat":"🤝 Draw"})}),i.jsxs(Et,{children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsxs("div",{className:"text-4xl mb-2",children:["+",D.pointsEarned," points"]}),i.jsx(Nt,{className:`text-lg px-4 py-2 ${D.performance==="excellent"?"bg-green-100 text-green-800":D.performance==="good"?"bg-blue-100 text-blue-800":D.performance==="average"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:D.performance.replace("_"," ").toUpperCase()})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[i.jsxs(Re,{className:"p-4",children:[i.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[i.jsx(Nm,{className:"h-4 w-4"})," Performance Comparison"]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Your moves:"}),i.jsx("span",{className:"font-bold",children:D.playerMoves})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Pro moves:"}),i.jsx("span",{className:"font-bold",children:D.proMoves})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Efficiency:"}),i.jsxs("span",{className:`font-bold ${D.playerMoves<=D.proMoves*1.2?"text-green-600":D.playerMoves<=D.proMoves*1.5?"text-yellow-600":"text-red-600"}`,children:[Math.round(D.proMoves/D.playerMoves*100),"%"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Time taken:"}),i.jsxs("span",{className:"font-bold",children:[Math.floor(D.timeTaken/6e4),":",String(Math.floor(D.timeTaken%6e4/1e3)).padStart(2,"0")]})]})]})]}),i.jsxs(Re,{className:"p-4",children:[i.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[i.jsx(Ri,{className:"h-4 w-4"})," Tips & Improvement"]}),i.jsx("ul",{className:"space-y-1 text-sm",children:D.tips.map((ie,pe)=>i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-green-500 mt-0.5",children:"•"}),ie]},pe))})]})]}),i.jsxs("div",{className:"flex justify-center gap-4",children:[i.jsxs(fe,{onClick:dt,size:"lg",children:[i.jsx(jm,{className:"h-4 w-4 mr-2"}),"Play Again"]}),D.result==="win"&&f<25&&i.jsxs(fe,{onClick:()=>{m(ie=>ie+1),U(!1),S(!0)},size:"lg",className:"bg-green-600 hover:bg-green-700",children:[i.jsx(ow,{className:"h-4 w-4 mr-2"}),"Next Level"]}),i.jsxs(fe,{onClick:()=>re(!0),variant:"outline",size:"lg",children:[i.jsx(Hs,{className:"h-4 w-4 mr-2"}),"Leaderboard"]})]})]})]})}):v?i.jsx("div",{className:"container mx-auto px-4 py-6 max-w-6xl",children:i.jsxs(Re,{className:"mb-6",children:[i.jsx(Ht,{children:i.jsxs(Kt,{className:"flex items-center gap-2",children:[i.jsx(js,{className:"h-6 w-6"}),"Choose Your Challenge Level"]})}),i.jsxs(Et,{children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-96 overflow-y-auto",children:Cr.slice(0,25).map(ie=>i.jsx(g_,{level:ie,isActive:f===ie.id,onClick:()=>{m(ie.id),M(ie)}},ie.id))}),i.jsxs("div",{className:"mt-6 flex justify-center gap-4",children:[i.jsxs(fe,{onClick:()=>{S(!0),b(!1)},disabled:!f||!ne,size:"lg",className:`flex items-center gap-2 bg-green-600 hover:bg-green-700 ${!f||!ne?"opacity-50 cursor-not-allowed":""}`,children:[i.jsx(D5,{className:"h-5 w-5"}),"PLAY vs ",ne?.botName||"Computer"]}),i.jsxs(fe,{onClick:()=>re(!0),variant:"outline",size:"lg",className:"flex items-center gap-2",children:[i.jsx(Hs,{className:"h-4 w-4"}),"Leaderboard"]})]})]})]})}):w?i.jsx("div",{className:"container mx-auto px-4 py-6 max-w-4xl",children:i.jsxs(Re,{children:[i.jsx(Ht,{children:i.jsx(Kt,{className:"text-center",children:"Choose Your Color"})}),i.jsxs(Et,{children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsxs("h3",{className:"text-xl font-semibold mb-2",children:["Playing against: ",ne?.botName||"Computer"]}),i.jsx("p",{style:{color:"var(--color-text-secondary)"},children:ne?.description||"Select a difficulty level to play"})]}),i.jsxs("div",{className:"flex justify-center gap-8",children:[i.jsxs(fe,{onClick:()=>nt("white"),size:"lg",variant:"outline",className:"flex flex-col items-center gap-2 h-24 w-32",children:[i.jsx("div",{className:"text-4xl",children:"♔"}),i.jsx("span",{children:"White"}),i.jsx("span",{className:"text-xs",style:{color:"var(--color-text-muted)"},children:"You move first"})]}),i.jsxs(fe,{onClick:()=>nt("black"),size:"lg",variant:"outline",className:"flex flex-col items-center gap-2 h-24 w-32",children:[i.jsx("div",{className:"text-4xl",children:"♚"}),i.jsx("span",{children:"Black"}),i.jsx("span",{className:"text-xs",style:{color:"var(--color-text-muted)"},children:"Computer starts"})]})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx(fe,{onClick:()=>{S(!1),b(!0)},variant:"ghost",children:"Back to Level Selection"})})]})]})}):i.jsxs("div",{className:"container mx-auto px-4 py-4 md:py-8 max-w-7xl",children:[i.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(Nt,{className:"px-3 py-1 min-h-[20px] text-white font-semibold text-sm",style:{backgroundColor:ne.id<=8?"#22C55E":ne.id<=16?"#EAB308":ne.id<=20?"#F97316":ne.id<=23?"#DC2626":"#7C2D12",color:"#FFFFFF",border:"1px solid rgba(255,255,255,0.2)"},children:[ne.icon,i.jsxs("span",{className:"ml-1",children:["Level ",ne.id]})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold",children:ne.name}),i.jsxs("p",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:["vs ",ne.botName]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(fe,{onClick:()=>window.confirm("Are you sure you want to quit this game?")&&ps(),variant:"destructive",size:"sm",className:"min-h-[44px] bg-red-600 hover:bg-red-700 text-white border-red-600",children:[i.jsx(Du,{className:"h-4 w-4 mr-1"}),"Quit"]}),i.jsxs(fe,{onClick:()=>window.confirm("Are you sure you want to forfeit this game?")&&me(),variant:"outline",size:"sm",className:"min-h-[44px] text-red-600 hover:text-red-700 border-red-600 hover:bg-red-50",children:[i.jsx(g5,{className:"h-4 w-4 mr-1"}),"Forfeit"]}),i.jsxs(fe,{onClick:dt,variant:"primary",size:"sm",className:"min-h-[44px]",style:{backgroundColor:"var(--color-cta-primary)",color:"#ffffff",border:"none"},children:[i.jsx(jm,{className:"h-4 w-4 mr-1"}),"New Game"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-6",children:[i.jsx("div",{className:"xl:col-span-3 flex justify-center",children:i.jsxs("div",{className:"relative w-full max-w-[600px]",style:{maxHeight:"calc(100vh - 200px)",minHeight:"400px"},children:[i.jsx(Bi,{fen:r,orientation:c,onMove:et,disabled:N||E!==null,showPieceTooltips:!0,enableGamification:!0,showHelp:!1}),!1]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs(Re,{children:[i.jsx(Ht,{children:i.jsx(Kt,{className:"text-lg",children:"Game Status"})}),i.jsx(Et,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Your Moves:"}),i.jsx("span",{className:"font-bold",children:ye})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Target Moves:"}),i.jsx("span",{className:"font-bold text-green-600",children:_1[f]||50})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Time:"}),i.jsxs("span",{className:"font-bold",children:[Math.floor((J-I)/6e4),":",String(Math.floor((J-I)%6e4/1e3)).padStart(2,"0")]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Turn:"}),i.jsx("span",{className:"font-bold",children:t.turn()===c[0]?"Your move":ne.botName+"'s move"})]})]})})]}),i.jsxs(Re,{children:[i.jsx(Ht,{children:i.jsxs(Kt,{className:"text-lg flex items-center gap-2",children:[i.jsx(Ja,{className:"h-4 w-4"}),ne.botName]})}),i.jsxs(Et,{children:[i.jsx("p",{className:"text-sm mb-2",style:{color:"var(--color-text-secondary)"},children:ne.description}),i.jsxs("div",{className:"text-xs",style:{color:"var(--color-text-muted)"},children:["Difficulty: ",ne.difficulty,ne.timeLimit&&` • ${ne.timeLimit}s per move`]})]})]}),E&&i.jsx(Re,{className:E==="win"?"border-green-500 bg-green-50":E==="lose"?"border-red-500 bg-red-50":"border-yellow-500 bg-yellow-50",children:i.jsxs(Et,{className:"pt-6 text-center",children:[i.jsx("div",{className:"flex justify-center mb-2",children:E==="win"?i.jsx(Hs,{className:"h-8 w-8 text-yellow-500","aria-label":"Victory"}):E==="lose"?i.jsx(lw,{className:"h-8 w-8 text-red-500","aria-label":"Defeat"}):i.jsx(R5,{className:"h-8 w-8 text-gray-500","aria-label":"Draw"})}),i.jsx("h3",{className:"text-lg font-bold mb-2",children:E==="win"?"Victory!":E==="lose"?"Defeat":"Draw"}),i.jsxs("div",{className:"flex gap-2 justify-center",children:[i.jsx(fe,{onClick:dt,size:"sm",children:"New Game"}),i.jsx(fe,{onClick:()=>m(Math.min(25,f+1)),size:"sm",children:"Next Level"})]})]})})]})]}),i.jsx(GL,{show:N,message:A}),i.jsx(gS,{show:z,onComplete:()=>P(!1)}),i.jsx(yS,{show:R,message:`Victory against ${ne.botName}!`,type:"win",onComplete:()=>O(!1)})]})},v_=()=>i.jsx("div",{className:"min-h-screen",style:{backgroundColor:"var(--color-bg-base)"},children:i.jsx(y_,{})}),x_=()=>i.jsx("div",{className:"py-8",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[i.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Profile"}),i.jsx("p",{className:"text-gray-600",children:"Profile page will be implemented here!"})]})});var b_="Separator",D1="horizontal",w_=["horizontal","vertical"],xS=x.forwardRef((e,t)=>{const{decorative:n,orientation:r=D1,...l}=e,c=j_(r)?r:D1,f=n?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return i.jsx(og.div,{"data-orientation":c,...f,...l,ref:t})});xS.displayName=b_;function j_(e){return w_.includes(e)}var bS=xS;const wS=x.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},l)=>i.jsx(bS,{ref:l,decorative:n,orientation:t,className:st("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));wS.displayName=bS.displayName;const O1=[{id:1,rank:1,name:"ChessMaster2024",rating:1847,weeklyGames:23,winRate:78,streak:12,badges:["master","lightning","fire"],avatar:"👤",country:"🇺🇸"},{id:2,rank:2,name:"TacticalGenius",rating:1732,weeklyGames:19,winRate:71,streak:8,badges:["master","lightning"],avatar:"👤",country:"🇮🇳"},{id:3,rank:3,name:"QueenSacrifice",rating:1698,weeklyGames:31,winRate:69,streak:5,badges:["fire","trending"],avatar:"👤",country:"🇬🇧"},{id:4,rank:4,name:"EndgameExpert",rating:1654,weeklyGames:15,winRate:73,streak:7,badges:["lightning"],avatar:"👤",country:"🇩🇪"},{id:5,rank:5,name:"PuzzleSolver",rating:1623,weeklyGames:27,winRate:66,streak:3,badges:["trending"],avatar:"👤",country:"🇫🇷"}],$s={rank:47,name:"You",rating:1234,weeklyGames:8,winRate:62,streak:2,badges:["trending"],avatar:"👤",ratingChange:23,nextMilestone:1300,progressToNext:66},yu={name:"Autumn Championship 2025",endsIn:"23 days",totalPlayers:1247,prize:"Chess.com Premium + Trophies"},S_=()=>{const[e,t]=x.useState("global"),[n,r]=x.useState(!0);x.useEffect(()=>{const f=setTimeout(()=>r(!1),800);return()=>clearTimeout(f)},[]);const l=f=>f===1?i.jsx(js,{className:"w-6 h-6 text-yellow-600","aria-label":"1st place"}):f===2?i.jsx(Sx,{className:"w-6 h-6 text-gray-500","aria-label":"2nd place"}):f===3?i.jsx(Sx,{className:"w-6 h-6 text-amber-600","aria-label":"3rd place"}):i.jsxs("span",{className:"text-xl font-bold",style:{color:"var(--color-text-primary)"},children:["#",f]}),c=f=>f>=1800?"text-purple-600 font-bold":f>=1600?"text-blue-600 font-semibold":f>=1400?"text-green-600 font-medium":f>=1200?"text-yellow-600 font-medium":"font-medium",d=f=>{switch(f){case"master":return i.jsx(Hs,{className:"w-4 h-4","aria-label":"Master"});case"lightning":return i.jsx(Pi,{className:"w-4 h-4","aria-label":"Lightning fast"});case"fire":return i.jsx(bu,{className:"w-4 h-4","aria-label":"On fire"});case"trending":return i.jsx(Ri,{className:"w-4 h-4","aria-label":"Trending up"});default:return i.jsx(wu,{className:"w-4 h-4","aria-label":"Achievement"})}};return n?i.jsx("div",{className:"py-8",style:{backgroundColor:"var(--color-bg-base)"},children:i.jsx("div",{className:"max-w-6xl mx-auto px-4",children:i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-8 rounded w-48 mb-8",style:{backgroundColor:"var(--color-surface)"}}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-2 space-y-4",children:[1,2,3,4,5].map(f=>i.jsx("div",{className:"h-20 rounded",style:{backgroundColor:"var(--color-surface)"}},f))}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"h-40 rounded",style:{backgroundColor:"var(--color-surface)"}}),i.jsx("div",{className:"h-32 rounded",style:{backgroundColor:"var(--color-surface)"}})]})]})]})})}):i.jsx("div",{className:"py-8 min-h-screen",style:{backgroundColor:"var(--color-bg-base)"},children:i.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("h1",{className:"text-4xl font-bold mb-3 flex items-center gap-3",style:{color:"var(--color-text-primary)"},children:[i.jsx(Hs,{className:"w-10 h-10",style:{color:"var(--color-accent-primary)"},"aria-hidden":"true"}),"Leaderboard"]}),i.jsx("p",{className:"text-lg",style:{color:"var(--color-text-secondary)"},children:"Compete with chess players worldwide and climb the rankings!"})]}),i.jsx(Re,{className:"mb-6 relative",style:{backgroundColor:"var(--color-surface-elevated)",borderLeft:"4px solid var(--color-warning)",border:"1px solid var(--color-border-default)"},children:i.jsx(Ht,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs(Kt,{className:"text-lg flex items-center gap-2 mb-2",style:{color:"var(--color-text-primary)"},children:[i.jsx(er,{className:"w-5 h-5",style:{color:"var(--color-accent-primary)"},"aria-hidden":"true"}),yu.name]}),i.jsxs(In,{className:"text-base",style:{color:"var(--color-text-secondary)"},children:["Ends in ",yu.endsIn," • ",yu.totalPlayers.toLocaleString()," players competing"]})]}),i.jsxs(Nt,{className:"px-4 py-2 text-sm font-semibold whitespace-nowrap flex items-center gap-2",style:{backgroundColor:"var(--color-accent-primary)",color:"var(--color-accent-primary-contrast)",border:"1px solid var(--color-accent-primary-hover)"},children:[i.jsx(Hs,{className:"w-4 h-4","aria-hidden":"true"}),yu.prize]})]})})}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-6 p-2 rounded-lg w-fit",style:{backgroundColor:"var(--color-surface)"},children:[{id:"global",label:"Global",count:"1.2K",icon:b5},{id:"friends",label:"Friends",count:"12",icon:Nm},{id:"country",label:"India",count:"247",icon:bx}].map(f=>{const m=f.icon;return i.jsxs(fe,{variant:e===f.id?"primary":"ghost",size:"sm",onClick:()=>t(f.id),className:`
                  min-h-[44px] px-4 py-2 font-medium transition-all duration-200
                  focus:outline-none focus:ring-3 focus:ring-blue-500 focus:ring-opacity-50
                  ${e===f.id?"shadow-md transform scale-[1.02]":"hover:scale-[1.01] hover:shadow-sm"}
                `,style:{backgroundColor:e===f.id?"var(--color-accent-primary)":"transparent",color:e===f.id?"var(--color-accent-primary-contrast)":"var(--color-text-primary)",border:e===f.id?"2px solid var(--color-accent-primary-hover)":"2px solid transparent"},"aria-pressed":e===f.id,children:[i.jsx(m,{className:"w-4 h-4 mr-2","aria-hidden":"true"}),f.label," (",f.count,")"]},f.id)})}),i.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[i.jsx("div",{className:"xl:col-span-2 order-1",children:i.jsxs(Re,{style:{backgroundColor:"var(--color-surface-elevated)",border:"1px solid var(--color-border-default)"},children:[i.jsxs(Ht,{children:[i.jsxs(Kt,{className:"flex items-center gap-2 text-xl",style:{color:"var(--color-text-primary)"},children:[i.jsx(bx,{className:"w-6 h-6",style:{color:"var(--color-accent-primary)"},"aria-hidden":"true"}),"Top Players"]}),i.jsx(In,{className:"text-base",style:{color:"var(--color-text-secondary)"},children:"This week's most active and highest-rated players"})]}),i.jsx(Et,{className:"space-y-3",children:O1.map((f,m)=>i.jsxs("div",{children:[i.jsxs("div",{className:`
                      flex items-center justify-between p-4 rounded-lg transition-all duration-200
                      hover:scale-[1.01] hover:shadow-md
                      focus-within:outline-none focus-within:ring-3 focus-within:ring-blue-500 focus-within:ring-opacity-50
                      ${m<3?"border-2":"border"}
                    `,style:{backgroundColor:m<3?"var(--color-accent-primary-subtle)":"var(--color-surface)",borderColor:m<3?"var(--color-accent-primary)":"var(--color-border-subtle)"},children:[i.jsxs("div",{className:"flex items-center space-x-4 flex-1 min-w-0",children:[i.jsx("div",{className:"flex-shrink-0 w-12 text-center",children:l(f.rank)}),i.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[i.jsx("div",{className:"text-2xl flex-shrink-0",children:f.avatar}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[i.jsx("span",{className:"font-semibold text-lg truncate",style:{color:"var(--color-text-primary)"},children:f.name}),i.jsx("span",{className:"text-lg flex-shrink-0",children:f.country})]}),i.jsxs("div",{className:"flex items-center space-x-3 text-sm font-medium",style:{color:"var(--color-text-secondary)"},children:[i.jsxs("span",{className:`${c(f.rating)} text-base`,children:[f.rating," ELO"]}),i.jsx("span",{children:"•"}),i.jsxs("span",{children:[f.weeklyGames," games"]}),i.jsx("span",{children:"•"}),i.jsxs("span",{children:[f.winRate,"% win rate"]})]})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-3 flex-shrink-0",children:[f.streak>0&&i.jsxs(Nt,{className:"flex items-center gap-1 px-2 py-1 font-semibold",style:{backgroundColor:"var(--color-warning-subtle)",color:"var(--color-warning)",border:"1px solid var(--color-warning)"},children:[i.jsx(bu,{className:"w-3 h-3","aria-hidden":"true"}),f.streak]}),i.jsx("div",{className:"flex space-x-1",children:f.badges.map((p,g)=>i.jsx("div",{className:"p-1 rounded",style:{backgroundColor:"var(--color-accent-primary-subtle)",color:"var(--color-accent-primary)"},title:`${p} achievement`,children:d(p)},g))})]})]}),m<O1.length-1&&i.jsx(wS,{className:"my-2",style:{backgroundColor:"var(--color-border-subtle)"}})]},f.id))})]})}),i.jsxs("div",{className:"space-y-6 order-2 xl:order-2",children:[i.jsxs(Re,{className:"border-2",style:{backgroundColor:"var(--color-surface-elevated)",borderColor:"var(--color-accent-primary)",boxShadow:"var(--elevation-card)"},children:[i.jsx(Ht,{className:"pb-3",children:i.jsxs(Kt,{className:"flex items-center gap-2 text-lg",style:{color:"var(--color-text-primary)"},children:[i.jsx(Ri,{className:"w-5 h-5",style:{color:"var(--color-accent-primary)"},"aria-hidden":"true"}),"Your Rank"]})}),i.jsxs(Et,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"text-2xl",children:$s.avatar}),i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold text-lg",style:{color:"var(--color-text-primary)"},children:$s.name}),i.jsxs("div",{className:"text-sm font-medium",style:{color:"var(--color-text-secondary)"},children:["Rank #",$s.rank]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:`text-xl font-bold ${c($s.rating)}`,children:$s.rating}),i.jsxs("div",{className:"text-sm font-medium flex items-center gap-1",style:{color:"var(--color-success)"},children:[i.jsx(t5,{className:"w-3 h-3","aria-hidden":"true"}),"+",$s.ratingChange," this week"]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("span",{className:"font-medium",style:{color:"var(--color-text-primary)"},children:["Progress to ",$s.nextMilestone]}),i.jsxs("span",{className:"font-bold text-base",style:{color:"var(--color-accent-primary)"},children:[$s.progressToNext,"%"]})]}),i.jsx("div",{className:"w-full rounded-full h-3 relative overflow-hidden",style:{backgroundColor:"var(--color-surface)"},children:i.jsx("div",{className:"h-full rounded-full transition-all duration-500 ease-out relative",style:{width:`${$s.progressToNext}%`,backgroundColor:"var(--color-accent-primary)",boxShadow:"0 0 10px rgba(59, 130, 246, 0.3)"}})})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-xl font-bold",style:{color:"var(--color-accent-primary)"},children:$s.weeklyGames}),i.jsx("div",{className:"text-sm font-medium",style:{color:"var(--color-text-secondary)"},children:"Games"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-xl font-bold",style:{color:"var(--color-success)"},children:[$s.winRate,"%"]}),i.jsx("div",{className:"text-sm font-medium",style:{color:"var(--color-text-secondary)"},children:"Win Rate"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xl font-bold",style:{color:"var(--color-warning)"},children:$s.streak}),i.jsx("div",{className:"text-sm font-medium",style:{color:"var(--color-text-secondary)"},children:"Streak"})]})]}),$s.badges.length>0&&i.jsxs("div",{className:"flex justify-center items-center gap-2 pt-3 border-t",style:{borderColor:"var(--color-border-subtle)"},children:[i.jsx("span",{className:"text-sm font-medium",style:{color:"var(--color-text-secondary)"},children:"Badges:"}),$s.badges.map((f,m)=>i.jsx("div",{className:"p-1 rounded",style:{backgroundColor:"var(--color-accent-primary-subtle)",color:"var(--color-accent-primary)"},children:d(f)},m))]})]})]}),i.jsxs(Re,{style:{backgroundColor:"var(--color-surface-elevated)",border:"1px solid var(--color-border-default)"},children:[i.jsx(Ht,{className:"pb-3",children:i.jsxs(Kt,{className:"flex items-center gap-2 text-lg",style:{color:"var(--color-text-primary)"},children:[i.jsx(Pi,{className:"w-5 h-5",style:{color:"var(--color-accent-primary)"},"aria-hidden":"true"}),"Quick Actions"]})}),i.jsxs(Et,{className:"space-y-3",children:[i.jsxs(fe,{className:`w-full min-h-[44px] font-semibold text-base transition-all duration-200 
                    focus:outline-none focus:ring-3 focus:ring-blue-500 focus:ring-opacity-50
                    hover:scale-[1.02] hover:shadow-md`,size:"lg",style:{backgroundColor:"var(--color-accent-primary)",color:"var(--color-accent-primary-contrast)",border:"2px solid var(--color-accent-primary-hover)"},children:[i.jsx(jp,{className:"w-5 h-5 mr-2","aria-hidden":"true"}),"Play Rated Game"]}),i.jsxs(fe,{variant:"outline",className:`w-full min-h-[44px] font-medium text-base transition-all duration-200
                    focus:outline-none focus:ring-3 focus:ring-blue-500 focus:ring-opacity-50
                    hover:scale-[1.01] hover:shadow-sm`,size:"lg",style:{backgroundColor:"transparent",color:"var(--color-text-primary)",borderColor:"var(--color-border-default)",borderWidth:"2px"},children:[i.jsx(Or,{className:"w-5 h-5 mr-2","aria-hidden":"true"}),"Solve Puzzles"]}),i.jsxs(fe,{variant:"outline",className:`w-full min-h-[44px] font-medium text-base transition-all duration-200
                    focus:outline-none focus:ring-3 focus:ring-blue-500 focus:ring-opacity-50
                    hover:scale-[1.01] hover:shadow-sm`,size:"lg",style:{backgroundColor:"transparent",color:"var(--color-text-primary)",borderColor:"var(--color-border-default)",borderWidth:"2px"},children:[i.jsx(Nm,{className:"w-5 h-5 mr-2","aria-hidden":"true"}),"Challenge Friend"]})]})]}),i.jsxs(Re,{style:{backgroundColor:"var(--color-surface-elevated)",border:"1px solid var(--color-border-default)"},children:[i.jsx(Ht,{className:"pb-3",children:i.jsxs(Kt,{className:"flex items-center gap-2 text-lg",style:{color:"var(--color-text-primary)"},children:[i.jsx(Hs,{className:"w-5 h-5",style:{color:"var(--color-accent-primary)"},"aria-hidden":"true"}),"Recent Achievements"]})}),i.jsxs(Et,{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg font-medium",style:{backgroundColor:"var(--color-warning-subtle)"},children:[i.jsx(bu,{className:"w-5 h-5 flex-shrink-0",style:{color:"var(--color-warning)"},"aria-hidden":"true"}),i.jsx("span",{style:{color:"var(--color-text-primary)"},children:"5-game win streak!"})]}),i.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg font-medium",style:{backgroundColor:"var(--color-accent-primary-subtle)"},children:[i.jsx(Ri,{className:"w-5 h-5 flex-shrink-0",style:{color:"var(--color-accent-primary)"},"aria-hidden":"true"}),i.jsx("span",{style:{color:"var(--color-text-primary)"},children:"Rating milestone: 1200+"})]}),i.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg font-medium",style:{backgroundColor:"var(--color-success-subtle)"},children:[i.jsx(Or,{className:"w-5 h-5 flex-shrink-0",style:{color:"var(--color-success)"},"aria-hidden":"true"}),i.jsx("span",{style:{color:"var(--color-text-primary)"},children:"100 puzzles solved"})]})]})]})]})]})]})})},N_=()=>i.jsx("div",{className:"py-8",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[i.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Settings"}),i.jsx("p",{className:"text-gray-600",children:"Settings page will be implemented here!"})]})}),k_=()=>i.jsx("div",{className:"container mx-auto p-8 max-w-4xl",children:i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground mb-4",children:"Component Test Page"}),i.jsx("p",{className:"text-muted-foreground",children:"Testing shadcn/ui components to identify UI issues"})]}),i.jsxs(Re,{children:[i.jsxs(Ht,{children:[i.jsx(Kt,{children:"Button Components"}),i.jsx(In,{children:"Testing different button variants and sizes"})]}),i.jsx(Et,{className:"space-y-4",children:i.jsxs("div",{className:"flex flex-wrap gap-4",children:[i.jsx(fe,{children:"Default Button"}),i.jsx(fe,{variant:"secondary",children:"Secondary"}),i.jsx(fe,{variant:"outline",children:"Outline"}),i.jsx(fe,{variant:"ghost",children:"Ghost"}),i.jsx(fe,{size:"sm",children:"Small"}),i.jsx(fe,{size:"lg",children:"Large"}),i.jsx(fe,{size:"icon",children:i.jsx(js,{className:"h-4 w-4"})})]})})]}),i.jsxs(Re,{children:[i.jsxs(Ht,{children:[i.jsx(Kt,{children:"Lucide Icons"}),i.jsx(In,{children:"Testing icon rendering and sizes"})]}),i.jsxs(Et,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(js,{className:"h-4 w-4"}),i.jsx("span",{children:"h-4 w-4"})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Ja,{className:"h-6 w-6"}),i.jsx("span",{children:"h-6 w-6"})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Or,{className:"h-8 w-8"}),i.jsx("span",{children:"h-8 w-8"})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(js,{className:"h-16 w-16"}),i.jsx("span",{children:"h-16 w-16 (should be big but not distorted)"})]})]})]}),i.jsxs(Re,{children:[i.jsxs(Ht,{children:[i.jsx(Kt,{children:"Card Layout"}),i.jsx(In,{children:"Testing card component styling"})]}),i.jsxs(Et,{children:[i.jsx("p",{children:"This card should have proper spacing, borders, and background."}),i.jsxs("div",{className:"mt-4",children:[i.jsx(Nt,{children:"Demo Badge"}),i.jsx(Nt,{variant:"secondary",className:"ml-2",children:"Secondary Badge"})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(e=>i.jsxs(Re,{children:[i.jsx(Ht,{children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-3 rounded-xl bg-blue-500",children:i.jsx(js,{className:"h-6 w-6 text-white"})}),i.jsxs(Kt,{className:"text-lg",children:["Card ",e]})]})}),i.jsx(Et,{children:i.jsx(fe,{className:"w-full",children:"Action Button"})})]},e))})]})}),C_=()=>i.jsx(k_,{}),T_=()=>{const[e,t]=x.useState(null),[n,r]=x.useState(!0),[l,c]=x.useState(null),d=ja();x.useEffect(()=>{f()},[]);const f=async()=>{try{r(!0);const p={id:"daily-plan-1",date:new Date().toISOString().split("T")[0],tasks:{puzzles:{target:3,completed:1,remaining:2},lessons:{target:1,completed:0,remaining:1},games:{target:1,completed:0,remaining:1}},progress:{completionPercentage:20,xpEarned:15,estimatedRatingGain:5,isCompleted:!1},streak:{current:3,longest:7,isActive:!0},heroMessage:"Great start! You've solved 1 puzzle today. Keep the momentum going! 🚀"};await new Promise(g=>setTimeout(g,800)),t(p),c(null)}catch(p){console.error("Error fetching daily plan:",p),c(p instanceof Error?p.message:"Failed to load daily plan")}finally{r(!1)}};if(n)return i.jsxs("div",{className:"flex items-center justify-center p-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),i.jsx("span",{className:"ml-3 text-gray-600",children:"Loading your daily plan..."})]});if(l)return i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[i.jsx("h3",{className:"text-red-800 font-semibold mb-2",children:"Unable to load daily plan"}),i.jsx("p",{className:"text-red-600 text-sm mb-4",children:l}),i.jsx("button",{onClick:f,className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors",children:"Try Again"})]});if(!e)return i.jsx("div",{className:"text-center p-8",children:i.jsx("p",{className:"text-gray-600",children:"No daily plan data available"})});const m=({completed:p,target:g,color:v,label:b,onComplete:w})=>{const S=p/g*100,N=2*Math.PI*40,T=N,A=N-S/100*N;return i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsxs("div",{className:"relative w-24 h-24 mb-2",children:[i.jsxs("svg",{className:"w-24 h-24 transform -rotate-90",viewBox:"0 0 100 100",children:[i.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"8",fill:"none",className:"text-gray-200"}),i.jsx(xe.circle,{cx:"50",cy:"50",r:"40",stroke:v,strokeWidth:"8",fill:"none",strokeLinecap:"round",strokeDasharray:T,strokeDashoffset:A,initial:{strokeDashoffset:N},animate:{strokeDashoffset:A},transition:{duration:.5,ease:"easeInOut"}})]}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsxs("span",{className:"text-lg font-bold text-gray-800",children:[p,"/",g]})})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900 mb-1",children:b}),p<g&&i.jsx("button",{onClick:w,className:"text-xs bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded-full transition-colors",children:"Complete +1"}),p>=g&&i.jsx("div",{className:"text-xs text-green-600 font-medium",children:"✓ Done!"})]})]})};return i.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-xl shadow-lg overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-6 text-white",children:[i.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[i.jsx("h2",{className:"text-xl font-bold mb-2",children:"Daily Chess Plan"}),i.jsx("p",{className:"text-blue-100 text-sm leading-relaxed",children:e.heroMessage})]}),i.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-blue-400/30",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-2xl",children:"🔥"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium",children:"Streak"}),i.jsxs("div",{className:"text-xs text-blue-100",children:["Current: ",e.streak.current," • Best: ",e.streak.longest]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm font-medium",children:[e.progress.xpEarned," XP"]}),i.jsx("div",{className:"text-xs text-blue-100",children:"earned today"})]})]})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-around items-center",children:[i.jsx(m,{completed:e.tasks.puzzles.completed,target:e.tasks.puzzles.target,color:"#10B981",label:"Puzzles",onComplete:()=>d("/puzzles")}),i.jsx(m,{completed:e.tasks.lessons.completed,target:e.tasks.lessons.target,color:"#3B82F6",label:"Lessons",onComplete:()=>d("/lessons")}),i.jsx(m,{completed:e.tasks.games.completed,target:e.tasks.games.target,color:"#8B5CF6",label:"Games",onComplete:()=>d("/play")})]}),i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overall Progress"}),i.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[e.progress.completionPercentage,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:i.jsx(xe.div,{className:"bg-gradient-to-r from-green-400 to-blue-500 h-3 rounded-full",initial:{width:0},animate:{width:`${e.progress.completionPercentage}%`},transition:{duration:.8,ease:"easeOut"}})})]}),e.progress.isCompleted&&i.jsxs(xe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg text-center",children:[i.jsx("div",{className:"text-2xl mb-2",children:"🎉"}),i.jsx("div",{className:"text-green-800 font-semibold",children:"Daily Plan Complete!"}),i.jsxs("div",{className:"text-green-600 text-sm mt-1",children:["You've earned ",e.progress.xpEarned," XP and improved your rating!"]})]}),!e.progress.isCompleted&&i.jsxs("div",{className:"mt-6 space-y-2",children:[e.tasks.puzzles.remaining>0&&i.jsxs("button",{onClick:()=>d("/puzzles"),className:"w-full bg-green-500 hover:bg-green-600 text-white py-2 px-4 rounded-md transition-colors text-sm font-medium",children:["Solve a Puzzle (",e.tasks.puzzles.remaining," left)"]}),e.tasks.lessons.remaining>0&&i.jsxs("button",{onClick:()=>d("/lessons"),className:"w-full bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-md transition-colors text-sm font-medium",children:["Take a Lesson (",e.tasks.lessons.remaining," left)"]}),e.tasks.games.remaining>0&&i.jsxs("button",{onClick:()=>d("/play"),className:"w-full bg-purple-500 hover:bg-purple-600 text-white py-2 px-4 rounded-md transition-colors text-sm font-medium",children:["Play vs Bot (",e.tasks.games.remaining," left)"]})]})]})]})},A_=({onGameEnd:e,initialLevel:t=5})=>{const[n,r]=x.useState(new kt),[l,c]=x.useState(n.fen()),[d,f]=x.useState(t),[m,p]=x.useState(!1),[g,v]=x.useState(null),[b,w]=x.useState([]),[S,N]=x.useState(null),T=bg(),A=T.getBotLevels(),C=T.getBotConfig(d),E=x.useCallback(async()=>{if(!(n.isGameOver()||m)){p(!0);try{const z=await T.getBotMove(n.fen(),d),P=n.move(z.move);if(P&&(r(new kt(n.fen())),c(n.fen()),w(q=>[...q,P.san]),N(z),n.isGameOver())){let q;n.isCheckmate()?q=n.turn()==="w"?"loss":"win":q="draw",v(n.isCheckmate()?n.turn()==="w"?"Bot wins!":"You win!":"Draw!"),e?.(q,n.pgn())}}catch(z){console.error("Bot move error:",z)}finally{p(!1)}}},[n,d,m,e,T]),_=x.useCallback((z,P)=>{if(m||n.isGameOver())return!1;try{const q=n.move({from:z,to:P,promotion:"q"});if(q){if(r(new kt(n.fen())),c(n.fen()),w(U=>[...U,q.san]),n.isGameOver()){let U;return n.isCheckmate()?U="win":U="draw",v(n.isCheckmate()?"You win!":"Draw!"),e?.(U,n.pgn()),!0}return setTimeout(()=>E(),500),!0}}catch(q){console.error("Move error:",q)}return!1},[n,m,E,e]),R=()=>{const z=new kt;r(z),c(z.fen()),v(null),w([]),N(null),p(!1)},O=z=>{f(z),R()};return i.jsxs("div",{className:"flex flex-col items-center p-4 space-y-4",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 w-full max-w-md",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Choose Your Opponent"}),i.jsx("select",{value:d,onChange:z=>O(parseInt(z.target.value)),className:"w-full p-2 border rounded-md",disabled:m,children:A.map(z=>i.jsxs("option",{value:z.level,children:["Level ",z.level,": ",z.name," (",z.elo," ELO)"]},z.level))}),C&&i.jsx("p",{className:"text-sm text-gray-600 mt-2",children:C.personality})]}),i.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 w-full max-w-md text-center",children:[m&&i.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),i.jsx("span",{className:"text-blue-600",children:"Bot is thinking..."})]}),g&&i.jsx("div",{className:"text-lg font-semibold text-green-600",children:g}),!m&&!g&&i.jsx("div",{className:"text-gray-700",children:n.turn()==="w"?"Your turn (White)":"Your turn (Black)"})]}),i.jsx("div",{className:"w-full max-w-lg",children:i.jsx(pd,{options:{position:l,onPieceDrop:({sourceSquare:z,targetSquare:P})=>_(z,P),allowDragging:!(m||g),boardOrientation:"white",boardStyle:{borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-lg",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[i.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Move History"}),i.jsx("div",{className:"text-sm max-h-32 overflow-y-auto",children:b.length===0?i.jsx("span",{className:"text-gray-500",children:"No moves yet"}):b.map((z,P)=>i.jsxs("span",{className:"mr-2",children:[Math.floor(P/2)+1,P%2===0?". ":"... ",z]},P))})]}),S&&i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[i.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Bot Analysis"}),i.jsxs("div",{className:"text-sm space-y-1",children:[i.jsxs("div",{children:["Move: ",i.jsx("strong",{children:S.move})]}),i.jsxs("div",{children:["Eval: ",i.jsx("strong",{children:S.evaluation.toFixed(2)})]}),i.jsxs("div",{children:["Depth: ",i.jsx("strong",{children:S.depth})]}),i.jsxs("div",{children:["Time: ",i.jsxs("strong",{children:[S.time,"ms"]})]})]})]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:R,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"New Game"}),g&&i.jsx("button",{onClick:()=>{console.log("Analyze game:",n.pgn())},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Analyze Game"})]})]})},E_=()=>{const[e,t]=x.useState("loading"),[n,r]=x.useState(null),[l,c]=x.useState(null),[d,f]=x.useState(0),[m,p]=x.useState(!1),[g,v]=x.useState(null),[b,w]=x.useState(!1),[S,N]=x.useState(null),[T,A]=x.useState(null),C="mock-jwt-token";x.useEffect(()=>{if(d>0&&e==="in_progress"&&!m){const P=setTimeout(()=>f(d-1),1e3);return()=>clearTimeout(P)}else d===0&&n&&!m&&_("")},[d,e,m,n]),x.useEffect(()=>{E()},[]);const E=async()=>{try{t("loading");const P=await fetch("http://localhost:3001/api/calibration/start",{headers:{Authorization:`Bearer ${C}`,"Content-Type":"application/json"}});if(!P.ok)throw new Error("Failed to start calibration");const q=await P.json();q.status==="completed"?(N(q),t("completed")):(q.status==="in_progress"||q.status==="started")&&(r(q),c(new kt(q.fen)),f(q.timeLimit),t("in_progress"))}catch(P){console.error("Error initializing calibration:",P),A(P instanceof Error?P.message:"Failed to initialize calibration"),t("not_started")}},_=async P=>{if(!n||m)return;p(!0);const q=n.timeLimit-d;try{const U=await fetch("http://localhost:3001/api/calibration/submit-move",{method:"POST",headers:{Authorization:`Bearer ${C}`,"Content-Type":"application/json"},body:JSON.stringify({move:P||"timeout",timeSpent:q})});if(!U.ok)throw new Error("Failed to submit move");const Q=await U.json();v(Q.result),w(!0),setTimeout(()=>{Q.status==="completed"?R():Q.next&&(r(Q.next),c(new kt(Q.next.fen)),f(Q.next.timeLimit),v(null),w(!1)),p(!1)},3e3)}catch(U){console.error("Error submitting move:",U),A(U instanceof Error?U.message:"Failed to submit move"),p(!1)}},R=async()=>{try{const P=await fetch("http://localhost:3001/api/calibration/result",{headers:{Authorization:`Bearer ${C}`,"Content-Type":"application/json"}});if(!P.ok)throw new Error("Failed to fetch results");const q=await P.json();N(q),t("completed")}catch(P){console.error("Error fetching results:",P),A(P instanceof Error?P.message:"Failed to fetch results")}},O=x.useCallback((P,q)=>{if(!l||m||b)return!1;try{const U=l.move({from:P,to:q,promotion:"q"});if(U)return _(U.san),!0}catch{}return!1},[l,m,b]),z=()=>{_("skip")};return T?i.jsx("div",{className:"max-w-md mx-auto bg-white rounded-xl shadow-lg p-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-red-500 text-4xl mb-4",children:"⚠️"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error"}),i.jsx("p",{className:"text-gray-600 mb-4",children:T}),i.jsx("button",{onClick:E,className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition-colors",children:"Try Again"})]})}):e==="loading"?i.jsx("div",{className:"max-w-md mx-auto bg-white rounded-xl shadow-lg p-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading calibration test..."})]})}):e==="completed"&&S?i.jsxs(xe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-lg mx-auto bg-white rounded-xl shadow-lg overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-blue-600 p-6 text-white text-center",children:[i.jsx("div",{className:"text-4xl mb-2",children:"🎉"}),i.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Calibration Complete!"}),i.jsx("p",{className:"text-green-100",children:"Your chess strength has been assessed"})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:S.tacticsRating}),i.jsx("div",{className:"text-lg text-gray-600 mb-1",children:"Tactics Rating"}),i.jsx("div",{className:"text-sm bg-blue-100 text-blue-800 px-3 py-1 rounded-full inline-block",children:S.summary.level})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Assessment Summary"}),i.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:S.summary.message})]}),S.weakMotifs&&S.weakMotifs.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Areas to Focus On"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:S.weakMotifs.map((P,q)=>i.jsx("span",{className:"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full",children:P},q))})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Next Steps"}),i.jsx("ul",{className:"space-y-1",children:S.summary.nextSteps.map((P,q)=>i.jsxs("li",{className:"text-sm text-gray-600 flex items-center",children:[i.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2 flex-shrink-0"}),P]},q))})]}),i.jsx("button",{onClick:()=>window.location.href="/phase0",className:"w-full bg-gradient-to-r from-green-500 to-blue-600 text-white py-3 px-4 rounded-md font-medium hover:from-green-600 hover:to-blue-700 transition-colors",children:"Start Your Learning Journey"})]})]}):e==="in_progress"&&n&&l?i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-4 text-white",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"font-semibold",children:["Position ",n.progress," of ",n.totalPositions]}),i.jsxs("p",{className:"text-sm text-blue-100 capitalize",children:[n.theme," • Difficulty: ",n.difficulty,"/6"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-2xl font-bold",children:d}),i.jsx("div",{className:"text-xs text-blue-100",children:"seconds"})]})]}),i.jsx("div",{className:"mt-3 bg-blue-400/30 rounded-full h-2",children:i.jsx("div",{className:"bg-white h-2 rounded-full transition-all duration-300",style:{width:`${n.progress/n.totalPositions*100}%`}})})]}),i.jsxs("div",{className:"p-4",children:[i.jsx("div",{className:"mb-4",children:i.jsx("p",{className:"text-gray-700 text-center font-medium",children:n.description})}),i.jsx(pd,{options:{position:l.fen(),onPieceDrop:({sourceSquare:P,targetSquare:q})=>O(P,q),allowDragging:!(m||b),boardOrientation:"white",boardStyle:{borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}})]})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Instructions"}),i.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[i.jsx("li",{children:"• Find the best move for the position"}),i.jsx("li",{children:"• Drag and drop pieces to make your move"}),i.jsx("li",{children:"• Think quickly - time is limited!"}),i.jsx("li",{children:"• Each position tests different tactics"})]})]}),i.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[i.jsxs("h3",{className:"font-semibold text-blue-900 mb-1 capitalize",children:[n.theme.replace("_"," ")," Theme"]}),i.jsx("p",{className:"text-sm text-blue-700",children:"Look for patterns involving this tactical motif"})]}),i.jsx("div",{className:"space-y-2",children:i.jsx("button",{onClick:z,disabled:m,className:"w-full bg-gray-200 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-300 transition-colors disabled:opacity-50",children:"Skip Position"})}),m&&i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-yellow-600 mr-2"}),i.jsx("span",{className:"text-sm text-yellow-800",children:"Processing your move..."})]})})]})]}),i.jsx(Sa,{children:b&&g&&i.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:i.jsx(xe.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"bg-white rounded-xl p-6 max-w-md mx-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:`text-4xl mb-3 ${g.isCorrect?"text-green-500":"text-red-500"}`,children:g.isCorrect?"✓":"✗"}),i.jsx("h3",{className:`text-lg font-semibold mb-2 ${g.isCorrect?"text-green-900":"text-red-900"}`,children:g.isCorrect?"Correct!":"Incorrect"}),!g.isCorrect&&i.jsxs("p",{className:"text-gray-600 text-sm mb-2",children:["Best move: ",i.jsx("strong",{children:g.correctMove})]}),i.jsx("p",{className:"text-gray-700 text-sm",children:g.explanation})]})})})})]}):null},M_=()=>{const[e,t]=x.useState("daily-plan"),[n]=pp();x.useEffect(()=>{const l=n.get("tab");l&&["daily-plan","bot-game","calibration"].includes(l)&&t(l)},[n]);const r=[{id:"daily-plan",label:"Daily Plan",description:"Solve 3 • Learn 1 • Play 1"},{id:"bot-game",label:"Bot Games",description:"10 difficulty levels with Stockfish"},{id:"calibration",label:"Calibration",description:"12-position strength test"}];return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-white shadow-sm border-b",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Chess Academy - Phase 0 Demo"}),i.jsx("p",{className:"text-sm text-gray-500",children:'Core "Learn-by-Playing" Features'})]}),i.jsxs("div",{className:"text-sm text-gray-500",children:["Backend: ",i.jsx("span",{className:"text-green-600",children:"●"})," Connected"]})]})})}),i.jsx("div",{className:"bg-white border-b",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"flex space-x-8",children:r.map(l=>i.jsxs("button",{onClick:()=>t(l.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${e===l.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[i.jsx("div",{children:l.label}),i.jsx("div",{className:"text-xs text-gray-400",children:l.description})]},l.id))})})}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e==="daily-plan"&&i.jsxs("div",{children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Daily Learning Plan"}),i.jsx("p",{className:"text-gray-600",children:"Your personalized daily chess improvement plan. Complete all three activities to maintain your streak and maximize learning."})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsx("div",{children:i.jsx(T_,{})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Phase 0 Features ✅"}),i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsxs("li",{className:"flex items-center",children:[i.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),'Daily Plan API with "Solve 3 • Learn 1 • Play 1"']}),i.jsxs("li",{className:"flex items-center",children:[i.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Progress tracking with XP and streak system"]}),i.jsxs("li",{className:"flex items-center",children:[i.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Hero message with estimated rating gain"]}),i.jsxs("li",{className:"flex items-center",children:[i.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Analytics event tracking"]}),i.jsxs("li",{className:"flex items-center",children:[i.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Stockfish WASM integration"]}),i.jsxs("li",{className:"flex items-center",children:[i.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Database schema for calibration & bot games"]}),i.jsxs("li",{className:"flex items-center",children:[i.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"12-position calibration system with rating assessment"]})]})]}),i.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Next: Phase 0 Completion"}),i.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[i.jsx("li",{children:"• Bot game API with 10 difficulty levels"}),i.jsx("li",{children:"• Basic Socratic coaching (Tier 1 & 2)"}),i.jsx("li",{children:"• Performance optimization baseline"}),i.jsx("li",{children:"• Mobile-responsive UI improvements"}),i.jsx("li",{children:"• User authentication integration"})]})]}),i.jsxs("div",{className:"bg-yellow-50 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-yellow-900 mb-2",children:"Success Criteria"}),i.jsxs("ul",{className:"space-y-2 text-sm text-yellow-800",children:[i.jsx("li",{children:"• ≥60% new users complete Daily Plan day-1"}),i.jsx("li",{children:"• D1≥40%, Crash-free ≥99.5%"}),i.jsx("li",{children:"• Users solve ≥5 puzzles in first session"}),i.jsx("li",{children:"• Board render <16ms, puzzle load <800ms"})]})]})]})]})]}),e==="calibration"&&i.jsxs("div",{children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Chess Strength Calibration"}),i.jsx("p",{className:"text-gray-600",children:"Take our 12-position assessment to determine your current tactical strength and identify areas for improvement."})]}),i.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-8",children:[i.jsx("div",{className:"xl:col-span-3",children:i.jsx(E_,{})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"How It Works"}),i.jsxs("ol",{className:"space-y-2 text-sm",children:[i.jsxs("li",{className:"flex",children:[i.jsx("span",{className:"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs mr-3 flex-shrink-0",children:"1"}),i.jsx("span",{children:"Solve 12 tactical positions of increasing difficulty"})]}),i.jsxs("li",{className:"flex",children:[i.jsx("span",{className:"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs mr-3 flex-shrink-0",children:"2"}),i.jsx("span",{children:"Each position has a time limit and tests specific motifs"})]}),i.jsxs("li",{className:"flex",children:[i.jsx("span",{className:"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs mr-3 flex-shrink-0",children:"3"}),i.jsx("span",{children:"Get your tactics rating (400-2200 ELO scale)"})]}),i.jsxs("li",{className:"flex",children:[i.jsx("span",{className:"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs mr-3 flex-shrink-0",children:"4"}),i.jsx("span",{children:"Receive personalized learning recommendations"})]})]})]}),i.jsxs("div",{className:"bg-purple-50 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-purple-900 mb-2",children:"Tactical Themes"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.jsx("div",{className:"bg-white rounded px-2 py-1 text-center",children:"Fork"}),i.jsx("div",{className:"bg-white rounded px-2 py-1 text-center",children:"Pin"}),i.jsx("div",{className:"bg-white rounded px-2 py-1 text-center",children:"Skewer"}),i.jsx("div",{className:"bg-white rounded px-2 py-1 text-center",children:"Discovery"}),i.jsx("div",{className:"bg-white rounded px-2 py-1 text-center",children:"Deflection"}),i.jsx("div",{className:"bg-white rounded px-2 py-1 text-center",children:"Decoy"}),i.jsx("div",{className:"bg-white rounded px-2 py-1 text-center",children:"Clearance"}),i.jsx("div",{className:"bg-white rounded px-2 py-1 text-center",children:"Zugzwang"})]})]}),i.jsxs("div",{className:"bg-green-50 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-2",children:"Benefits"}),i.jsxs("ul",{className:"space-y-2 text-sm text-green-800",children:[i.jsx("li",{children:"• Accurate assessment of your chess strength"}),i.jsx("li",{children:"• Personalized learning path recommendations"}),i.jsx("li",{children:"• Identification of tactical weaknesses"}),i.jsx("li",{children:"• Baseline for tracking improvement"}),i.jsx("li",{children:"• Optimal bot difficulty suggestions"})]})]})]})]})]}),e==="bot-game"&&i.jsxs("div",{children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Play vs Chess Bots"}),i.jsx("p",{className:"text-gray-600",children:"Practice against 10 different difficulty levels powered by Stockfish engine. Each bot has unique personality and playing strength."})]}),i.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[i.jsx("div",{className:"xl:col-span-2",children:i.jsx(A_,{})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Bot Levels"}),i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[i.jsx("span",{className:"font-medium",children:"Level 1: Pawn"}),i.jsx("span",{className:"text-gray-500",children:"400 ELO"})]}),i.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[i.jsx("span",{className:"font-medium",children:"Level 2: Knight"}),i.jsx("span",{className:"text-gray-500",children:"600 ELO"})]}),i.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[i.jsx("span",{className:"font-medium",children:"Level 3: Bishop"}),i.jsx("span",{className:"text-gray-500",children:"800 ELO"})]}),i.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[i.jsx("span",{className:"font-medium",children:"Level 4: Rook"}),i.jsx("span",{className:"text-gray-500",children:"1000 ELO"})]}),i.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[i.jsx("span",{className:"font-medium",children:"Level 5: Queen"}),i.jsx("span",{className:"text-gray-500",children:"1200 ELO"})]}),i.jsx("div",{className:"text-center pt-2",children:i.jsx("span",{className:"text-xs text-gray-400",children:"...and 5 more levels up to 2200 ELO"})})]})]}),i.jsxs("div",{className:"bg-green-50 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-2",children:"Features"}),i.jsxs("ul",{className:"space-y-2 text-sm text-green-800",children:[i.jsx("li",{children:"• Real-time Stockfish analysis"}),i.jsx("li",{children:'• Post-game "3 key moments" review'}),i.jsx("li",{children:"• Move time and evaluation display"}),i.jsx("li",{children:"• PGN capture for later analysis"}),i.jsx("li",{children:"• Adaptive difficulty progression"})]})]}),i.jsxs("div",{className:"bg-purple-50 rounded-lg p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-purple-900 mb-2",children:"Coming Next"}),i.jsxs("ul",{className:"space-y-2 text-sm text-purple-800",children:[i.jsx("li",{children:"• Socratic coaching hints during games"}),i.jsx("li",{children:"• Tactical motif recognition"}),i.jsx("li",{children:"• Personalized bot recommendations"}),i.jsx("li",{children:"• Learning objectives per game"})]})]})]})]})]})]})]})},kn=[{id:1,fen:"r1bqkb1r/pppp1ppp/2n2n2/4p3/2B1P3/3P1N2/PPP2PPP/RNBQK2R w KQkq - 4 4",theme:"Knight Fork",difficulty:"Easy",description:"White to move and win material",hint:"Look for a knight move that attacks two pieces at once",solution:"Nd5",timeLimit:45},{id:2,fen:"r1bqkbnr/pppp1ppp/2n5/4p3/2B1P3/5N2/PPPP1PPP/RNBQK2R w KQkq - 4 4",theme:"Pin Tactic",difficulty:"Easy",description:"Find the tactical shot for White",hint:"Pin the knight to the king",solution:"Bg5",timeLimit:45},{id:3,fen:"r2qr1k1/ppp2ppp/2n1bn2/3pp3/3PP3/2N1BN2/PPP2PPP/R2QK2R w KQ - 0 9",theme:"Skewer",difficulty:"Easy",description:"White has a powerful tactic here",hint:"Attack the queen and rook on the same line",solution:"Bh6",timeLimit:45},{id:4,fen:"r1bqk2r/pppp1ppp/2n2n2/2b1p3/2B1P3/3P1N2/PPP2PPP/RNBQK2R w KQkq - 4 4",theme:"Discovered Attack",difficulty:"Easy",description:"Find the best move for White",hint:"Move the knight to reveal a powerful attack",solution:"Nxe5",timeLimit:50},{id:5,fen:"r1bq1rk1/ppp2ppp/2np1n2/2b1p3/2B1P3/2NP1N2/PPP2PPP/R1BQK2R w KQ - 0 7",theme:"Double Attack",difficulty:"Medium",description:"White to play and win material",hint:"Find a move that attacks two targets simultaneously",solution:"Nd5",timeLimit:60},{id:6,fen:"r2qkb1r/ppp2ppp/2n1pn2/3p4/2PP4/2N1PN2/PP3PPP/R1BQKB1R w KQkq - 0 7",theme:"Deflection",difficulty:"Medium",description:"Find the tactical blow for White",hint:"Remove the defender of a key square",solution:"cxd5",timeLimit:75},{id:7,fen:"r1bqk1nr/pppp1ppp/2n5/2b1p3/2B1P3/5N2/PPPP1PPP/RNBQK2R w KQkq - 4 4",theme:"Decoy",difficulty:"Medium",description:"White has a forcing continuation",hint:"Lure the enemy king to a vulnerable square",solution:"Bxf7+",timeLimit:75},{id:8,fen:"r2qkb1r/ppp2ppp/2n1pn2/3p2B1/2PP4/2N2N2/PP3PPP/R2QKB1R w KQkq - 0 8",theme:"Clearance",difficulty:"Medium",description:"Clear the way for a decisive attack",hint:"Open up a line for your pieces",solution:"Bxf6",timeLimit:90},{id:9,fen:"r1bq1rk1/ppp2ppp/2np1n2/4p3/2B1P3/2N2N2/PPP2PPP/R1BQK2R w KQ - 0 8",theme:"Interference",difficulty:"Hard",description:"Find the sophisticated tactical shot",hint:"Block the communication between enemy pieces",solution:"Nd5",timeLimit:120},{id:10,fen:"2r1k2r/p4ppp/1p2pn2/2ppP3/3P4/2P2N2/PP3PPP/R1B1K2R w KQkq - 0 14",theme:"Zugzwang",difficulty:"Hard",description:"Find the move that puts Black in zugzwang",hint:"Force the opponent into a position where any move worsens their position",solution:"Ke2",timeLimit:150},{id:11,fen:"r2q1rk1/ppp2ppp/2n1pn2/3p2B1/1bPP4/2N2N2/PP2QPPP/R3KB1R w KQ - 0 10",theme:"Advanced Combination",difficulty:"Hard",description:"White has a brilliant tactical sequence",hint:"Look for a forcing sequence that wins material",solution:"Bxf6",timeLimit:180},{id:12,fen:"r1bqk2r/pppp1ppp/2n2n2/4p3/1bB1P3/3P1N2/PPP2PPP/RNBQK2R w KQkq - 4 5",theme:"Master Level Tactic",difficulty:"Hard",description:"Find the brilliant master move",hint:"This requires deep calculation and pattern recognition",solution:"Bxf7+",timeLimit:240}],R_=()=>{const e=ja(),[t,n]=x.useState("intro"),[r,l]=x.useState(0),[c,d]=x.useState(0),[f,m]=x.useState(0),[p,g]=x.useState(null),[v,b]=x.useState(null),[w,S]=x.useState(!1),[N,T]=x.useState(null),[A,C]=x.useState(null),[E,_]=x.useState([]),[R,O]=x.useState(null),[z,P]=x.useState(null),[q,U]=x.useState({}),[Q,re]=x.useState(!1),ce=D=>{switch(D){case"Easy":return{backgroundColor:"var(--color-success-subtle)",color:"var(--color-success)",borderColor:"var(--color-success)"};case"Medium":return{backgroundColor:"var(--color-warning-subtle)",color:"var(--color-warning)",borderColor:"var(--color-warning)"};case"Hard":return{backgroundColor:"var(--color-danger-subtle)",color:"var(--color-danger)",borderColor:"var(--color-danger)"};default:return{backgroundColor:"var(--color-surface)",color:"var(--color-text-secondary)",borderColor:"var(--color-border-default)"}}};x.useEffect(()=>{if(t==="assessment"&&r<kn.length)try{const D=new kt(kn[r].fen);console.log("Game created successfully:",D.fen()),console.log("Game valid?",D.isGameOver()),b(D),m(kn[r].timeLimit),g(null),S(!1),T(null),_([]),O(null),P(null),U({})}catch(D){console.error("Error creating Chess game:",D)}},[t,r]),x.useEffect(()=>{if(t==="assessment"&&f>0&&Q){const D=setTimeout(()=>m(f-1),1e3);return()=>clearTimeout(D)}},[f,t,Q]);const he=()=>{n("assessment"),l(0),d(0)},ye=()=>{r<kn.length-1?l(r+1):M()},G=D=>{const te=new Audio;D==="correct"?te.src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvGIgGnrI7+OZVA0PVqzr6F4AAAA==":D==="incorrect"?te.src="data:audio/wav;base64,UklGRuoCAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YacCAAC4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4AAAAAA==":te.src="data:audio/wav;base64,UklGRl9vT19nT1BXQVZFTW9uby5hdnRb5cBAAA==",te.play().catch(()=>{})},I=D=>{if(!v)return console.log("No game instance for getMoveOptions"),[];try{const te=v.moves({square:D,verbose:!0});return console.log("Legal moves for square",D,":",te),te}catch(te){return console.error("Error getting moves for square",D,":",te),[]}},B=D=>{if(console.log("Square clicked:",D),!v){console.log("No game instance");return}if(U({}),D===p){g(null),_([]),console.log("Deselected square");return}if(p&&E.includes(D)){console.log("Attempting move from",p,"to",D),ne(p,D),g(null),_([]),U({});return}const te=I(D);if(console.log("Legal moves for",D,":",te),te.length>0){g(D);const J=te.map(ge=>typeof ge=="string"?ge:ge.to);_(J);const de={};de[D]={background:"radial-gradient(circle, rgba(255,255,0,0.5) 40%, transparent 42%)"},J.forEach(ge=>{v.get(ge)?de[ge]={background:"radial-gradient(circle, rgba(255,0,0,0.7) 85%, transparent 87%)"}:de[ge]={background:"radial-gradient(circle, rgba(0,255,0,0.7) 30%, transparent 32%)"}}),console.log("Setting option squares:",de),U(de)}else console.log("No legal moves for square",D),g(null),_([])},ne=(D,te)=>{if(!v)return!1;try{const de=new kt(v.fen()).move({from:D,to:te,promotion:"q"});if(de){const ge=de.from+de.to,ve=kn[r].solution;return ge.includes(ve)||de.san===ve?(T(!0),d(c+1),G("correct"),setTimeout(()=>{r<kn.length-1?l(r+1):M()},2e3)):(T(!1),G("incorrect")),!0}}catch{return!1}return!1},M=()=>{let te=800+c/kn.length*100*8,J="Beginner";te>=1400&&(J="Intermediate"),te>=1200&&(J="Improving"),te<1e3&&(J="Beginner"),C({rating:Math.round(te),level:J,strengths:c>2?["Tactical Vision","Pattern Recognition"]:["Learning Mindset"],improvements:c<2?["Basic Tactics","Pattern Recognition"]:["Advanced Tactics"],nextSteps:["Practice daily tactical puzzles","Study fundamental chess tactics","Play games at your level"]}),n("results")};if(t==="intro")return i.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{backgroundColor:"var(--color-bg-base)"},children:i.jsx(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-4xl w-full",children:i.jsxs(Re,{className:"overflow-hidden border-0 shadow-2xl",children:[i.jsxs("div",{className:"p-8 text-center",style:{backgroundColor:"var(--color-accent-primary)",color:"var(--color-text-primary)"},children:[i.jsx(xe.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,duration:.5},className:"text-6xl mb-4",children:"🎯"}),i.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Chess Strength Assessment"}),i.jsx("p",{className:"text-xl text-blue-100 mb-2",children:"Get your official ELO rating (400-1800) in 12 positions"}),i.jsx("p",{className:"text-blue-200",children:"One-time comprehensive test to determine your exact skill level"})]}),i.jsxs(Et,{className:"p-8",children:[i.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-2xl font-semibold mb-4 flex items-center",children:[i.jsx("span",{className:"text-3xl mr-3",children:"⚡"}),"How It Works"]}),i.jsx("div",{className:"space-y-4",children:["Solve 12 tactical positions of increasing difficulty","Covers all major tactical themes (fork, pin, skewer, etc.)","Each position tests specific skill levels (400-1800 ELO)","Get precise ELO rating + personalized learning plan"].map((D,te)=>i.jsxs(xe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4+te*.1},className:"flex items-center space-x-3",children:[i.jsx("div",{className:"bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold",children:te+1}),i.jsx("span",{style:{color:"var(--color-text-secondary)"},children:D})]},te))})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-2xl font-semibold mb-4 flex items-center",children:[i.jsx("span",{className:"text-3xl mr-3",children:"🏆"}),"You'll Discover"]}),i.jsx("div",{className:"space-y-3",children:["Your exact ELO rating (400-1800 scale)","Tactical strengths and weaknesses breakdown","Customized learning path recommendations","Optimal puzzle difficulty and bot levels for training"].map((D,te)=>i.jsxs(xe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.6+te*.1},className:"flex items-center space-x-3",children:[i.jsx("span",{className:"text-2xl",children:"✨"}),i.jsx("span",{style:{color:"var(--color-text-secondary)"},children:D})]},te))})]})]}),i.jsxs("div",{className:"text-center",children:[i.jsx(xe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.8,duration:.4},children:i.jsx(fe,{size:"lg",onClick:he,style:{backgroundColor:"var(--color-accent-primary)",color:"var(--color-text-primary)"},className:"px-12 py-4 text-xl font-semibold rounded-full shadow-lg hover:shadow-xl transform transition-all duration-200 hover:scale-105",children:"🎯 Take Assessment Test"})}),i.jsx("p",{className:"text-sm mt-4",style:{color:"var(--color-text-muted)"},children:"Takes about 10-15 minutes • Comprehensive evaluation • Take once every few months"})]})]})]})})});if(t==="assessment"){const D=kn[r],te=(r+1)/kn.length*100;return i.jsx("div",{className:"min-h-screen p-4",style:{backgroundColor:"var(--color-bg-base)"},children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs(xe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-6",children:[i.jsx("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:"🎯 Chess Strength Assessment"}),i.jsxs("div",{className:"flex justify-center items-center space-x-4 mb-4",children:[i.jsxs(Nt,{variant:"secondary",className:"text-sm",children:["Question ",r+1," of ",kn.length]}),i.jsx(Nt,{style:ce(D.difficulty),children:D.difficulty}),i.jsx(Nt,{variant:"outline",className:"text-sm",children:D.theme})]}),i.jsx("div",{className:"max-w-md mx-auto mb-4",children:i.jsx(bn,{value:te,className:"h-3"})})]}),i.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsxs(Re,{className:"p-4 shadow-xl",children:[i.jsx("div",{className:"aspect-square",children:v&&i.jsx("div",{children:i.jsx("div",{style:{width:Math.min(600,window.innerWidth-100)},children:i.jsx(pd,{options:{position:v.fen(),onSquareClick:({square:J})=>{console.log("Square clicked via Chessboard:",J),B(J)},onPieceDrop:({sourceSquare:J,targetSquare:de})=>(console.log("Piece dropped from",J,"to",de),ne(J,de)),squareStyles:q,allowDragging:!0,animationDurationInMs:200,boardStyle:{borderRadius:"10px",boxShadow:"0 10px 25px rgba(0,0,0,0.1)"}}})})})}),i.jsx(Sa,{children:N!==null&&i.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`mt-4 p-4 rounded-lg text-center ${N?"border border-success":"border border-danger"}`,children:[i.jsx("div",{className:"text-2xl mb-2",children:N?"🎉":"💡"}),i.jsx("div",{className:"font-semibold",style:{color:N?"var(--color-success)":"var(--color-danger)"},children:N?"Excellent!":"Not quite right"}),i.jsx("div",{className:"text-sm",style:{color:N?"var(--color-success)":"var(--color-danger)"},children:N?"You found the best move!":`The solution was: ${D.solution}`})]})})]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Re,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("span",{className:"text-sm font-semibold",children:"Timer"}),i.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:Q,onChange:J=>re(J.target.checked),className:"rounded"}),i.jsx("span",{className:"text-xs",children:"Enable"})]})]}),Q?i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:f}),i.jsx("div",{className:"style={{ color: 'var(--color-text-secondary)' }} text-sm",children:"seconds remaining"}),i.jsx("div",{className:"mt-3",children:i.jsx(bn,{value:f/D.timeLimit*100,className:"h-2"})})]}):i.jsx("div",{className:"text-center text-sm",children:"Take your time to find the best move"})]}),i.jsxs(Re,{className:"p-6",children:[i.jsx("h3",{className:"font-semibold text-lg mb-3 text-text-primary",children:D.description}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"text-sm style={{ color: 'var(--color-text-secondary)' }}",children:[i.jsx("strong",{children:"Theme:"})," ",D.theme]}),i.jsxs("div",{className:"text-sm style={{ color: 'var(--color-text-secondary)' }}",children:[i.jsx("strong",{children:"Difficulty:"})," ",D.difficulty]})]}),!w&&i.jsx(fe,{variant:"outline",size:"sm",onClick:()=>S(!0),className:"mt-4 w-full",children:"💡 Need a hint?"}),w&&i.jsx(xe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-4 p-3 rounded-lg",style:{backgroundColor:"var(--color-warning-subtle)",borderColor:"var(--color-warning)"},children:i.jsxs("div",{className:"text-sm",style:{color:"var(--color-warning)"},children:[i.jsx("strong",{children:"Hint:"})," ",D.hint]})}),(N===!1||Q&&f===0)&&i.jsx(xe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4",children:i.jsx(fe,{variant:"outline",size:"sm",onClick:ye,className:"w-full bg-surface hover:bg-surface-elevated",children:"⏭️ Skip to Next Question"})})]}),i.jsxs(Re,{className:"p-6 text-center",children:[i.jsxs("div",{className:"text-2xl font-bold mb-1",style:{color:"var(--color-accent-primary)"},children:[c," / ",r+1]}),i.jsx("div",{className:"text-sm",style:{color:"var(--color-text-secondary)"},children:"correct so far"})]})]})]})]})})}return t==="results"&&A?i.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{backgroundColor:"var(--color-bg-base)"},children:i.jsx(xe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6},className:"max-w-4xl w-full",children:i.jsxs(Re,{className:"overflow-hidden border-0 shadow-2xl",children:[i.jsxs("div",{className:"p-8 text-center",style:{backgroundColor:"var(--color-accent-primary)",color:"var(--color-text-primary)"},children:[i.jsx(xe.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2,duration:.8},className:"text-6xl mb-4",children:"🏆"}),i.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Your Chess Rating"}),i.jsx("div",{className:"text-6xl font-bold mb-2",children:A.rating}),i.jsx("div",{className:"text-2xl text-purple-100 mb-2",children:A.level}),i.jsxs("div",{className:"text-purple-200",children:["You scored ",c," out of ",kn.length," puzzles correct!"]})]}),i.jsxs(Et,{className:"p-8",children:[i.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-2xl font-semibold mb-4 flex items-center text-green-600",children:[i.jsx("span",{className:"text-3xl mr-3",children:"💪"}),"Your Strengths"]}),i.jsx("div",{className:"space-y-3",children:A.strengths.map((D,te)=>i.jsxs(xe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4+te*.1},className:"flex items-center space-x-3 p-3 rounded-lg",style:{backgroundColor:"var(--color-success-subtle)"},children:[i.jsx("span",{className:"text-green-500",children:"✅"}),i.jsx("span",{className:"text-text-primary",children:D})]},te))})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-2xl font-semibold mb-4 flex items-center text-blue-600",children:[i.jsx("span",{className:"text-3xl mr-3",children:"🎯"}),"Areas to Improve"]}),i.jsx("div",{className:"space-y-3",children:A.improvements.map((D,te)=>i.jsxs(xe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.6+te*.1},className:"flex items-center space-x-3 p-3 rounded-lg",style:{backgroundColor:"var(--color-accent-primary-subtle)"},children:[i.jsx("span",{className:"text-blue-500",children:"🔄"}),i.jsx("span",{className:"text-text-primary",children:D})]},te))})]})]}),i.jsxs("div",{className:"p-6 rounded-xl mb-8",style:{backgroundColor:"var(--color-warning-subtle)",borderColor:"var(--color-warning)",borderWidth:"1px"},children:[i.jsxs("h3",{className:"text-2xl font-semibold mb-4 flex items-center text-orange-600",children:[i.jsx("span",{className:"text-3xl mr-3",children:"🚀"}),"Your Next Steps"]}),i.jsx("div",{className:"grid gap-3",children:A.nextSteps.map((D,te)=>i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"bg-orange-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:te+1}),i.jsx("span",{className:"text-text-primary",children:D})]},te))})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsx(fe,{size:"lg",onClick:()=>e("/puzzles"),style:{backgroundColor:"var(--color-success)",color:"var(--color-text-primary)"},className:"px-8 py-3 font-semibold rounded-full shadow-lg hover:shadow-xl transform transition-all duration-200 hover:scale-105",children:"🧩 Start Solving Puzzles"}),i.jsx(fe,{size:"lg",variant:"outline",onClick:()=>e("/dashboard"),className:"px-8 py-3 font-semibold rounded-full border-2 hover:bg-surface",children:"← Back to Dashboard"})]})]})]})})}):null},Rl=x.forwardRef(({className:e,size:t="md",variant:n="primary",...r},l)=>{const c={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"},d={primary:"text-primary",secondary:"text-secondary-foreground",muted:"text-muted-foreground"};return i.jsx("div",{className:st("inline-block animate-spin rounded-full border-2 border-solid border-current border-r-transparent align-[-0.125em]",c[t],d[n],e),ref:l,role:"status","aria-label":"Loading...",...r,children:i.jsx("span",{className:"sr-only",children:"Loading..."})})});Rl.displayName="LoadingSpinner";const P_=()=>{const[e]=pp(),t=ja(),{handleGoogleCallback:n,isLoading:r}=Br(),[l,c]=x.useState("loading"),[d,f]=x.useState(null);x.useEffect(()=>{(async()=>{try{const v=e.get("code"),b=e.get("state"),w=e.get("error"),S=e.get("error_description");if(w){let N="Google authentication failed";switch(w){case"access_denied":N="Access denied. You cancelled the authentication process.";break;case"invalid_request":N="Invalid authentication request.";break;case"unsupported_response_type":N="Unsupported response type.";break;default:N=S||`Authentication failed: ${w}`}f(N),c("error");return}if(!v){f("No authorization code received from Google."),c("error");return}await n(v,b||void 0),c("success"),setTimeout(()=>{const N=sessionStorage.getItem("auth_return_to")||"/";sessionStorage.removeItem("auth_return_to"),t(N)},2e3)}catch(v){console.error("Google callback error:",v),f(v instanceof Error?v.message:"An unexpected error occurred"),c("error")}})()},[e,n,t]);const m=()=>{const g=new URLSearchParams({redirect_uri:window.location.origin+"/auth/callback"});window.location.href=`/api/auth/google?${g.toString()}`},p=()=>{t("/")};return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:i.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:st("w-full max-w-md mx-auto p-8 bg-card rounded-lg shadow-mobile-card text-center","mobile:p-10 mobile:max-w-sm"),children:[i.jsxs("div",{className:"mb-6",children:[l==="loading"&&i.jsxs(xe.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.3},className:"flex flex-col items-center space-y-4",children:[i.jsx("div",{className:"p-4 bg-primary/10 rounded-full",children:i.jsx(Rl,{size:"lg",variant:"primary"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-foreground mobile:text-2xl",children:"Authenticating..."}),i.jsx("p",{className:"text-muted-foreground mt-2 mobile:text-lg",children:"Please wait while we complete your Google sign-in"})]})]}),l==="success"&&i.jsxs(xe.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.3,delay:.2},className:"flex flex-col items-center space-y-4",children:[i.jsx("div",{className:"p-4 bg-green-100 dark:bg-green-900/20 rounded-full",children:i.jsx(wp,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-foreground mobile:text-2xl",children:"Success!"}),i.jsx("p",{className:"text-muted-foreground mt-2 mobile:text-lg",children:"You have been successfully authenticated. Redirecting you now..."})]})]}),l==="error"&&i.jsxs(xe.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.3},className:"flex flex-col items-center space-y-4",children:[i.jsx("div",{className:"p-4 bg-destructive/10 rounded-full",children:i.jsx(lw,{className:"w-8 h-8 text-destructive"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-foreground mobile:text-2xl",children:"Authentication Failed"}),d&&i.jsx("p",{className:"text-destructive mt-2 mobile:text-lg",children:d})]})]})]}),l==="error"&&i.jsxs(xe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},className:"space-y-3",children:[i.jsx(fe,{onClick:m,className:st("w-full h-11 text-base font-medium","mobile:h-12 mobile:text-lg"),disabled:r,children:r?i.jsxs(i.Fragment,{children:[i.jsx(Rl,{size:"sm",variant:"secondary"}),"Retrying..."]}):"Try Again"}),i.jsx(fe,{variant:"outline",onClick:p,className:st("w-full h-11 text-base","mobile:h-12 mobile:text-lg"),disabled:r,children:"Go to Home"})]}),l==="loading"&&i.jsx(xe.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:1},className:"text-sm text-muted-foreground mt-4 mobile:text-base",children:"This may take a few seconds..."})]})})},L_=()=>{const[e]=pp(),t=ja(),{setUser:n,setTokens:r}=Br(),[l,c]=x.useState(!0);return x.useEffect(()=>{(async()=>{try{const f=e.get("token"),m=e.get("refreshToken");if(!f){console.error("No access token in success URL"),t("/auth/error?message=Missing authentication token");return}r(f,m||void 0);const p=await fetch("/api/auth/profile",{headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}});if(p.ok){const g=await p.json();g.success&&g.data&&n(g.data.user,f,m||void 0)}c(!1),setTimeout(()=>{const g=sessionStorage.getItem("auth_return_to")||"/dashboard";sessionStorage.removeItem("auth_return_to"),t(g)},2e3)}catch(f){console.error("Error processing auth success:",f),t("/auth/error?message=Failed to complete authentication")}})()},[e,n,r,t]),l?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-blue-50 flex items-center justify-center",children:i.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[i.jsx(xe.div,{animate:{rotate:360},transition:{repeat:1/0,duration:2,ease:"linear"},className:"w-12 h-12 border-4 border-green-500 border-t-transparent rounded-full mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 text-lg",children:"Completing your sign in..."})]})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-blue-50 flex items-center justify-center px-4",children:i.jsxs(xe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{type:"spring",damping:25,stiffness:300},className:"max-w-md mx-auto text-center bg-white rounded-3xl shadow-2xl p-8 border border-green-200",children:[i.jsxs(xe.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center relative overflow-hidden",children:[i.jsx(wp,{className:"w-10 h-10 text-white z-10"}),i.jsx(xe.div,{animate:{scale:[1,1.2,1],rotate:[0,360]},transition:{repeat:1/0,duration:3},className:"absolute inset-0 bg-gradient-to-br from-green-400 to-emerald-500 opacity-50"})]}),i.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mb-6",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome to Chess Academy!"}),i.jsx("p",{className:"text-gray-600 text-lg",children:"Your account has been successfully created and you're now signed in."})]}),i.jsxs(xe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"space-y-3 mb-6",children:[i.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-600",children:[i.jsx(js,{className:"w-4 h-4 text-yellow-500 mr-3"}),i.jsx("span",{children:"Your chess journey begins now!"})]}),i.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-600",children:[i.jsx(Sm,{className:"w-4 h-4 text-purple-500 mr-3"}),i.jsx("span",{children:"Start learning and track your progress"})]})]}),i.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-sm text-gray-500",children:"Redirecting you to your dashboard..."})]})})},__=({children:e})=>{const{initialize:t,isInitialized:n,isLoading:r}=Br();return x.useEffect(()=>{t();const l=()=>{console.log("User has been logged out")};return window.addEventListener("auth:logout",l),()=>{window.removeEventListener("auth:logout",l)}},[t]),n?i.jsx(i.Fragment,{children:e}):i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[i.jsx(Rl,{size:"lg",variant:"primary"}),i.jsx("p",{className:"text-muted-foreground mobile:text-lg",children:"Initializing Chess Academy..."}),i.jsx("p",{className:"text-xs text-muted-foreground/60 mt-2",children:"This should only take a few seconds"})]})})},jS=({children:e,requireAuth:t=!0,redirectTo:n,fallback:r,adminOnly:l=!1,guestOnly:c=!1,featureName:d})=>{const{isAuthenticated:f,isLoading:m,isInitialized:p,user:g,deviceInfo:v}=Br(),b=Rn(),[w,S]=x.useState(!1);if(x.useEffect(()=>{!f&&t&&sessionStorage.setItem("auth_return_to",b.pathname)},[f,t,b.pathname]),!p||m)return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[i.jsx(Rl,{size:"lg",variant:"primary"}),i.jsx("p",{className:"text-muted-foreground mobile:text-lg",children:"Loading..."})]})});if(c&&f){const N=sessionStorage.getItem("auth_return_to")||"/dashboard";return sessionStorage.removeItem("auth_return_to"),i.jsx(ol,{to:N,replace:!0})}return t?l&&f&&!(g?.email?.includes("admin")||!1)?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:i.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:st("max-w-md mx-auto text-center p-6 bg-card rounded-lg shadow-mobile-card","mobile:p-8"),children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("div",{className:"w-16 h-16 bg-destructive/10 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(_u,{className:"w-8 h-8 text-destructive"})}),i.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2 mobile:text-3xl",children:"Access Denied"}),i.jsx("p",{className:"text-muted-foreground mobile:text-lg",children:"You don't have permission to access this page."})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(fe,{onClick:()=>window.history.back(),className:st("w-full h-11 mobile:h-12","text-sm mobile:text-base"),children:"Go Back"}),i.jsx(fe,{variant:"outline",onClick:()=>i.jsx(ol,{to:"/dashboard",replace:!0}),className:st("w-full h-11 mobile:h-12","text-sm mobile:text-base"),children:"Go to Dashboard"})]})]})}):f?i.jsx(i.Fragment,{children:e}):n?i.jsx(ol,{to:n,state:{from:b},replace:!0}):r?i.jsx(i.Fragment,{children:r}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:i.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:st("max-w-md mx-auto text-center p-6 bg-card rounded-lg shadow-mobile-card","mobile:p-8"),children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(cw,{className:"w-8 h-8 text-primary"})}),i.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2 mobile:text-3xl",children:"Authentication Required"}),i.jsx("p",{className:"text-muted-foreground mobile:text-lg",children:"Please sign in to access this page and continue your chess journey."})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(fe,{onClick:()=>S(!0),className:st("w-full h-11 mobile:h-12","text-sm mobile:text-base"),children:"Sign In"}),i.jsx(fe,{variant:"outline",onClick:()=>window.location.href="/",className:st("w-full h-11 mobile:h-12","text-sm mobile:text-base"),children:"Go to Home"})]}),v.isMobile&&i.jsx("div",{className:"mt-4 p-3 bg-muted/50 rounded-md",children:i.jsx("p",{className:"text-xs text-muted-foreground",children:"Mobile tip: You can use touch gestures for chess moves after signing in"})})]})}),i.jsx(Aj,{isOpen:w,onClose:()=>S(!1),initialMode:"login"})]}):i.jsx(i.Fragment,{children:e})};function D_({children:e}){return i.jsx(jS,{requireAuth:!1,children:e})}const O_=()=>{const{theme:e}=rw();return x.useEffect(()=>{document.documentElement.setAttribute("data-theme",e)},[e]),null},z_=new R3({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*10,retry:1,refetchOnWindowFocus:!1}}}),z1=({children:e,featureName:t})=>i.jsx(jS,{requireAuth:!0,featureName:t,children:e}),pa=({children:e})=>i.jsx(D_,{children:e});function B_(){return i.jsx(L3,{client:z_,children:i.jsxs(__,{children:[i.jsx(O_,{}),i.jsx(ZC,{children:i.jsx("div",{className:"app-container",children:i.jsxs(AC,{children:[i.jsx(Cs,{path:"/",element:i.jsx(ol,{to:"/play",replace:!0})}),i.jsx(Cs,{path:"/dashboard",element:i.jsx(pa,{children:i.jsx(ma,{children:i.jsx(b6,{})})})}),i.jsx(Cs,{path:"/lessons",element:i.jsx(pa,{children:i.jsx(ma,{children:i.jsx(e_,{})})})}),i.jsx(Cs,{path:"/lessons/:lessonId",element:i.jsx(pa,{children:i.jsx(ma,{children:i.jsx(s_,{})})})}),i.jsx(Cs,{path:"/puzzles",element:i.jsx(pa,{children:i.jsx(ma,{children:i.jsx(m_,{})})})}),i.jsx(Cs,{path:"/play",element:i.jsx(pa,{children:i.jsx(ma,{children:i.jsx(v_,{})})})}),i.jsx(Cs,{path:"/profile",element:i.jsx(z1,{featureName:"your profile",children:i.jsx(ma,{children:i.jsx(x_,{})})})}),i.jsx(Cs,{path:"/leaderboard",element:i.jsx(pa,{children:i.jsx(ma,{children:i.jsx(S_,{})})})}),i.jsx(Cs,{path:"/settings",element:i.jsx(z1,{featureName:"settings",children:i.jsx(ma,{children:i.jsx(N_,{})})})}),i.jsx(Cs,{path:"/debug",element:i.jsx(pa,{children:i.jsx(ma,{children:i.jsx(C_,{})})})}),i.jsx(Cs,{path:"/phase0",element:i.jsx(pa,{children:i.jsx(M_,{})})}),i.jsx(Cs,{path:"/strength-assessment",element:i.jsx(pa,{children:i.jsx(R_,{})})}),i.jsx(Cs,{path:"/auth/callback",element:i.jsx(P_,{})}),i.jsx(Cs,{path:"/auth/success",element:i.jsx(L_,{})}),i.jsx(Cs,{path:"*",element:i.jsx(ol,{to:"/dashboard",replace:!0})})]})})})]})})}zk.createRoot(document.getElementById("root")).render(i.jsx(x.StrictMode,{children:i.jsx(B_,{})}));export{Ak as a,q_ as g};
