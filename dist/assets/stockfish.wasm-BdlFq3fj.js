import{g as Rt,a as xt}from"./index-CzczVlJS.js";function Pt(oe,u){for(var T=0;T<u.length;T++){const I=u[T];if(typeof I!="string"&&!Array.isArray(I)){for(const j in I)if(j!=="default"&&!(j in oe)){const K=Object.getOwnPropertyDescriptor(I,j);K&&Object.defineProperty(oe,j,K.get?K:{enumerable:!0,get:()=>I[j]})}}}return Object.freeze(Object.defineProperty(oe,Symbol.toStringTag,{value:"Module"}))}var Ae={exports:{}};const Ct={},Ot=Object.freeze(Object.defineProperty({__proto__:null,default:Ct},Symbol.toStringTag,{value:"Module"})),he=Rt(Ot);/*!
 * Stockfish copyright T. Romstad, M. Costalba, J. Kiiski, G. Linscott
 * and other contributors.
 *
 * Multi-variant support by Daniel Dugovic and contributors:
 * https://github.com/ddugovic/Stockfish
 *
 * Released under the GNU General Public License v3.
 *
 * Compiled to JavaScript and Webassembly by Niklas Fiekas
 * <niklas.fiekas@backscattering.de> using Emscripten and Binaryen.
 *
 * https://github.com/niklasf/stockfish.js
 */Ae.exports;var En;function Bt(){return En||(En=1,(function(oe){var u=u!==void 0?u:{};u=(function(){var e=[];return onmessage=function(n){n.data=="quit"?close():e!==null?e.push(n.data):u.ccall("uci_command","number",["string"],[n.data])},{locateFile:function(n){return n},print:function(n){postMessage(n)},postRun:function(){for(var n=0;n<e.length;n++)u.ccall("uci_command","number",["string"],[e[n]]);e=null}}})();var T,I={};for(T in u)u.hasOwnProperty(T)&&(I[T]=u[T]);var j=[],K="./this.program",ae=function(e,n){throw n},ie=!1,Y=!1,Z=!1,ge=!1,We=!1;ie=typeof window=="object",Y=typeof importScripts=="function",ge=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",Z=ge&&!ie&&!Y,We=!ie&&!Z&&!Y;var ne,Xe,ue,Le,Ve,W="";function bn(e){return u.locateFile?u.locateFile(e,W):W+e}Z?(W=__dirname+"/",ne=function(e,n){var t;return Le=Le||he,e=(Ve=Ve||he).normalize(e),t=Le.readFileSync(e),n?t:t.toString()},ue=function(e){var n=ne(e,!0);return n.buffer||(n=new Uint8Array(n)),z(n.buffer),n},1<process.argv.length&&(K=process.argv[1].replace(/\\/g,"/")),j=process.argv.slice(2),oe.exports=u,process.on("uncaughtException",function(e){if(!(e instanceof Me))throw e}),process.on("unhandledRejection",O),ae=function(e){process.exit(e)},u.inspect=function(){return"[Emscripten Module object]"}):We?(typeof read<"u"&&(ne=function(e){return read(e)}),ue=function(e){var n;return typeof readbuffer=="function"?new Uint8Array(readbuffer(e)):(z(typeof(n=read(e,"binary"))=="object"),n)},typeof scriptArgs<"u"?j=scriptArgs:typeof arguments<"u"&&(j=arguments),typeof quit=="function"&&(ae=function(e){quit(e)}),typeof print<"u"&&(typeof console>"u"&&(console={}),console.log=print,console.warn=console.error=typeof printErr<"u"?printErr:print)):(ie||Y)&&(Y?W=self.location.href:document.currentScript&&(W=document.currentScript.src),W=W.indexOf("blob:")!==0?W.substr(0,W.lastIndexOf("/")+1):"",ne=function(e){var n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(null),n.responseText},Y&&(ue=function(e){var n=new XMLHttpRequest;return n.open("GET",e,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),Xe=function(e,n,t){var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.onload=function(){o.status==200||o.status==0&&o.response?n(o.response):t()},o.onerror=t,o.send(null)});var Re=u.print||console.log.bind(console),N=u.printErr||console.warn.bind(console);for(T in I)I.hasOwnProperty(T)&&(u[T]=I[T]);function se(e){se.shown||(se.shown={}),se.shown[e]||(se.shown[e]=1,N(e))}I=null,u.arguments&&(j=u.arguments),u.thisProgram&&(K=u.thisProgram),u.quit&&(ae=u.quit);var Dn={"f64-rem":function(e,n){return e%n},debugger:function(){}};new Array(0);var xe={};function Sn(e,n){if(e){z(n),xe[n]||(xe[n]={});var t=xe[n];return t[e]||(n.length===1?t[e]=function(){return Pe(n,e)}:n.length===2?t[e]=function(o){return Pe(n,e,[o])}:t[e]=function(){return Pe(n,e,Array.prototype.slice.call(arguments))}),t[e]}}function Pe(e,n,t){return t&&t.length?u["dynCall_"+e].apply(null,[n].concat(t)):u["dynCall_"+e].call(null,n)}var ce,Ce,Ge=0,Ke=function(e){Ge=e},Ze=function(){return Ge};u.wasmBinary&&(ce=u.wasmBinary),typeof WebAssembly!="object"&&N("no native wasm support detected");var X=!1;function z(e,n){e||O("Assertion failed: "+n)}function Fn(e){var n=u["_"+e];return z(n,"Cannot call unknown function "+e+", make sure it is exported"),n}function Mn(e,n,t,o,a){var i={string:function(y){var D=0;if(y!=null&&y!==0){var F=1+(y.length<<2);Je(y,D=Fe(F),F)}return D},array:function(y){var D=Fe(y.length);return en(y,D),D}},s=Fn(e),l=[],f=0;if(o)for(var m=0;m<o.length;m++){var d=i[t[m]];d?(f===0&&(f=wn()),l[m]=d(o[m])):l[m]=o[m]}var g,h=s.apply(null,l);return g=h,h=n==="string"?le(g):n==="boolean"?!!g:g,f!==0&&gn(f),h}var $e=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function te(e,n,t){for(var o=n+t,a=n;e[a]&&!(o<=a);)++a;if(16<a-n&&e.subarray&&$e)return $e.decode(e.subarray(n,a));for(var i="";n<a;){var s=e[n++];if(128&s){var l=63&e[n++];if((224&s)!=192){var f=63&e[n++];if((s=(240&s)==224?(15&s)<<12|l<<6|f:(7&s)<<18|l<<12|f<<6|63&e[n++])<65536)i+=String.fromCharCode(s);else{var m=s-65536;i+=String.fromCharCode(55296|m>>10,56320|1023&m)}}else i+=String.fromCharCode((31&s)<<6|l)}else i+=String.fromCharCode(s)}return i}function le(e,n){return e?te(re,e,n):""}function fe(e,n,t,o){if(!(0<o))return 0;for(var a=t,i=t+o-1,s=0;s<e.length;++s){var l=e.charCodeAt(s);if(55296<=l&&l<=57343&&(l=65536+((1023&l)<<10)|1023&e.charCodeAt(++s)),l<=127){if(i<=t)break;n[t++]=l}else if(l<=2047){if(i<=t+1)break;n[t++]=192|l>>6,n[t++]=128|63&l}else if(l<=65535){if(i<=t+2)break;n[t++]=224|l>>12,n[t++]=128|l>>6&63,n[t++]=128|63&l}else{if(i<=t+3)break;n[t++]=240|l>>18,n[t++]=128|l>>12&63,n[t++]=128|l>>6&63,n[t++]=128|63&l}}return n[t]=0,t-a}function Je(e,n,t){return fe(e,re,n,t)}function de(e){for(var n=0,t=0;t<e.length;++t){var o=e.charCodeAt(t);55296<=o&&o<=57343&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++t)),o<=127?++n:n+=o<=2047?2:o<=65535?3:4}return n}typeof TextDecoder<"u"&&new TextDecoder("utf-16le");function An(e){var n=de(e)+1,t=Ye(n);return t&&fe(e,U,t,n),t}function Qe(e){var n=de(e)+1,t=Fe(n);return fe(e,U,t,n),t}function en(e,n){U.set(e,n)}var q,U,re,nn,v,Oe,tn=65536;function Ln(){u.HEAP8=U=new Int8Array(q),u.HEAP16=nn=new Int16Array(q),u.HEAP32=v=new Int32Array(q),u.HEAPU8=re=new Uint8Array(q),u.HEAPU16=new Uint16Array(q),u.HEAPU32=Oe=new Uint32Array(q),u.HEAPF32=new Float32Array(q),u.HEAPF64=new Float64Array(q)}var Rn=6352512,rn=1109600,Be=u.TOTAL_MEMORY||33554432;function we(e){for(;0<e.length;){var n=e.shift();if(typeof n!="function"){var t=n.func;typeof t=="number"?n.arg===void 0?u.dynCall_v(t):u.dynCall_vi(t,n.arg):t(n.arg===void 0?null:n.arg)}else n()}}(Ce=u.wasmMemory?u.wasmMemory:new WebAssembly.Memory({initial:Be/tn,maximum:Be/tn}))&&(q=Ce.buffer),Be=q.byteLength,Ln(),v[rn>>2]=Rn;var on=[],an=[],xn=[],un=[];function Pn(){if(u.preRun)for(typeof u.preRun=="function"&&(u.preRun=[u.preRun]);u.preRun.length;)Nn(u.preRun.shift());we(on)}function Cn(){u.noFSInit||r.init.initialized||r.init(),we(an)}function On(){r.ignorePermissions=!1,we(xn)}function Bn(){if(u.postRun)for(typeof u.postRun=="function"&&(u.postRun=[u.postRun]);u.postRun.length;)Tn(u.postRun.shift());we(un)}function Nn(e){on.unshift(e)}function Tn(e){un.unshift(e)}var Ne=Math.abs,Te=Math.ceil,ze=Math.floor,Ie=Math.min,$=0,me=null;function Tt(e){return e}function je(e){$++,u.monitorRunDependencies&&u.monitorRunDependencies($)}function ve(e){if($--,u.monitorRunDependencies&&u.monitorRunDependencies($),$==0&&me){var n=me;me=null,n()}}u.preloadedImages={},u.preloadedAudios={};var sn="data:application/octet-stream;base64,";function cn(e){return String.prototype.startsWith?e.startsWith(sn):e.indexOf(sn)===0}var C,V,G="stockfish.wasm";function ln(){try{if(ce)return new Uint8Array(ce);if(ue)return ue(G);throw"both async and sync fetching of the wasm failed"}catch(e){O(e)}}function zn(){return ce||!ie&&!Y||typeof fetch!="function"?new Promise(function(e,n){e(ln())}):fetch(G,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+G+"'";return e.arrayBuffer()}).catch(function(){return ln()})}function In(e){var n={env:e,global:{NaN:NaN,Infinity:1/0},"global.Math":Math,asm2wasm:Dn};function t(i,s){var l=i.exports;u.asm=l,ve()}function o(i){t(i.instance)}function a(i){return zn().then(function(s){return WebAssembly.instantiate(s,n)}).then(i,function(s){N("failed to asynchronously prepare wasm: "+s),O(s)})}if(je(),u.instantiateWasm)try{return u.instantiateWasm(n,t)}catch(i){return N("Module.instantiateWasm callback failed with error: "+i),!1}return(function(){if(ce||typeof WebAssembly.instantiateStreaming!="function"||cn(G)||typeof fetch!="function")return a(o);fetch(G,{credentials:"same-origin"}).then(function(i){return WebAssembly.instantiateStreaming(i,n).then(o,function(s){N("wasm streaming compile failed: "+s),N("falling back to ArrayBuffer instantiation"),a(o)})})})(),{}}function zt(e){return e}function jn(e){return e.replace(/__Z[\w\d_]+/g,function(n){var t=n;return n===t?n:t+" ["+n+"]"})}function qn(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(n){e=n}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function Un(){var e=qn();return u.extraStackTrace&&(e+=`
`+u.extraStackTrace()),jn(e)}function Yn(e,n,t,o){var a=v[e>>2],i=v[e+4>>2];return v[e>>2]=Mt(a,i,n,t),v[e+4>>2]=Ze(),0|(Ke(i),a)}function Hn(e){return Ye(e)}cn(G)||(G=bn(G)),u.asm=function(e,n,t){return n.memory=Ce,n.table=new WebAssembly.Table({initial:733,maximum:733,element:"anyfunc"}),n.__memory_base=1024,n.__table_base=0,In(n)},an.push({func:function(){At()}});function Wn(e,n,t){throw"uncaught_exception"in Se?Se.uncaught_exceptions++:Se.uncaught_exceptions=1,e}function Xn(){return Se.uncaught_exceptions}function Vn(){}function J(e){return u.___errno_location&&(v[u.___errno_location()>>2]=e),e}function Gn(e,n){return J(1),-1}var k={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,n){for(var t=0,o=e.length-1;0<=o;o--){var a=e[o];a==="."?e.splice(o,1):a===".."?(e.splice(o,1),t++):t&&(e.splice(o,1),t--)}if(n)for(;t;t--)e.unshift("..");return e},normalize:function(e){var n=e.charAt(0)==="/",t=e.substr(-1)==="/";return(e=k.normalizeArray(e.split("/").filter(function(o){return!!o}),!n).join("/"))||n||(e="."),e&&t&&(e+="/"),(n?"/":"")+e},dirname:function(e){var n=k.splitPath(e),t=n[0],o=n[1];return t||o?t+(o=o&&o.substr(0,o.length-1)):"."},basename:function(e){if(e==="/")return"/";var n=e.lastIndexOf("/");return n===-1?e:e.substr(n+1)},extname:function(e){return k.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return k.normalize(e.join("/"))},join2:function(e,n){return k.normalize(e+"/"+n)}},H={resolve:function(){for(var e="",n=!1,t=arguments.length-1;-1<=t&&!n;t--){var o=0<=t?arguments[t]:r.cwd();if(typeof o!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!o)return"";e=o+"/"+e,n=o.charAt(0)==="/"}return(n?"/":"")+(e=k.normalizeArray(e.split("/").filter(function(a){return!!a}),!n).join("/"))||"."},relative:function(e,n){function t(m){for(var d=0;d<m.length&&m[d]==="";d++);for(var g=m.length-1;0<=g&&m[g]==="";g--);return g<d?[]:m.slice(d,g-d+1)}e=H.resolve(e).substr(1),n=H.resolve(n).substr(1);for(var o=t(e.split("/")),a=t(n.split("/")),i=Math.min(o.length,a.length),s=i,l=0;l<i;l++)if(o[l]!==a[l]){s=l;break}var f=[];for(l=s;l<o.length;l++)f.push("..");return(f=f.concat(a.slice(s))).join("/")}},Q={ttys:[],init:function(){},shutdown:function(){},register:function(e,n){Q.ttys[e]={input:[],output:[],ops:n},r.registerDevice(e,Q.stream_ops)},stream_ops:{open:function(e){var n=Q.ttys[e.node.rdev];if(!n)throw new r.ErrnoError(19);e.tty=n,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,n,t,o,a){if(!e.tty||!e.tty.ops.get_char)throw new r.ErrnoError(6);for(var i=0,s=0;s<o;s++){var l;try{l=e.tty.ops.get_char(e.tty)}catch{throw new r.ErrnoError(5)}if(l===void 0&&i===0)throw new r.ErrnoError(11);if(l==null)break;i++,n[t+s]=l}return i&&(e.node.timestamp=Date.now()),i},write:function(e,n,t,o,a){if(!e.tty||!e.tty.ops.put_char)throw new r.ErrnoError(6);try{for(var i=0;i<o;i++)e.tty.ops.put_char(e.tty,n[t+i])}catch{throw new r.ErrnoError(5)}return o&&(e.node.timestamp=Date.now()),i}},default_tty_ops:{get_char:function(e){if(!e.input.length){var n=null;if(Z){var t=Buffer.alloc?Buffer.alloc(256):new Buffer(256),o=0,a=process.platform!="win32",i=process.stdin.fd;if(a){var s=!1;try{i=x.openSync("/dev/stdin","r"),s=!0}catch{}}try{o=x.readSync(i,t,0,256,null)}catch(l){if(l.toString().indexOf("EOF")==-1)throw l;o=0}s&&x.closeSync(i),n=0<o?t.slice(0,o).toString("utf-8"):null}else typeof window<"u"&&typeof window.prompt=="function"?(n=window.prompt("Input: "))!==null&&(n+=`
`):typeof readline=="function"&&(n=readline())!==null&&(n+=`
`);if(!n)return null;e.input=De(n,!0)}return e.input.shift()},put_char:function(e,n){n===null||n===10?(Re(te(e.output,0)),e.output=[]):n!=0&&e.output.push(n)},flush:function(e){e.output&&0<e.output.length&&(Re(te(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,n){n===null||n===10?(N(te(e.output,0)),e.output=[]):n!=0&&e.output.push(n)},flush:function(e){e.output&&0<e.output.length&&(N(te(e.output,0)),e.output=[])}}},E={ops_table:null,mount:function(e){return E.createNode(null,"/",16895,0)},createNode:function(e,n,t,o){if(r.isBlkdev(t)||r.isFIFO(t))throw new r.ErrnoError(1);E.ops_table||(E.ops_table={dir:{node:{getattr:E.node_ops.getattr,setattr:E.node_ops.setattr,lookup:E.node_ops.lookup,mknod:E.node_ops.mknod,rename:E.node_ops.rename,unlink:E.node_ops.unlink,rmdir:E.node_ops.rmdir,readdir:E.node_ops.readdir,symlink:E.node_ops.symlink},stream:{llseek:E.stream_ops.llseek}},file:{node:{getattr:E.node_ops.getattr,setattr:E.node_ops.setattr},stream:{llseek:E.stream_ops.llseek,read:E.stream_ops.read,write:E.stream_ops.write,allocate:E.stream_ops.allocate,mmap:E.stream_ops.mmap,msync:E.stream_ops.msync}},link:{node:{getattr:E.node_ops.getattr,setattr:E.node_ops.setattr,readlink:E.node_ops.readlink},stream:{}},chrdev:{node:{getattr:E.node_ops.getattr,setattr:E.node_ops.setattr},stream:r.chrdev_stream_ops}});var a=r.createNode(e,n,t,o);return r.isDir(a.mode)?(a.node_ops=E.ops_table.dir.node,a.stream_ops=E.ops_table.dir.stream,a.contents={}):r.isFile(a.mode)?(a.node_ops=E.ops_table.file.node,a.stream_ops=E.ops_table.file.stream,a.usedBytes=0,a.contents=null):r.isLink(a.mode)?(a.node_ops=E.ops_table.link.node,a.stream_ops=E.ops_table.link.stream):r.isChrdev(a.mode)&&(a.node_ops=E.ops_table.chrdev.node,a.stream_ops=E.ops_table.chrdev.stream),a.timestamp=Date.now(),e&&(e.contents[n]=a),a},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var n=[],t=0;t<e.usedBytes;++t)n.push(e.contents[t]);return n}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array},expandFileStorage:function(e,n){var t=e.contents?e.contents.length:0;if(!(n<=t)){n=Math.max(n,t*(t<1048576?2:1.125)|0),t!=0&&(n=Math.max(n,256));var o=e.contents;e.contents=new Uint8Array(n),0<e.usedBytes&&e.contents.set(o.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,n){if(e.usedBytes!=n){if(n==0)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var t=e.contents;return e.contents=new Uint8Array(new ArrayBuffer(n)),t&&e.contents.set(t.subarray(0,Math.min(n,e.usedBytes))),void(e.usedBytes=n)}if(e.contents||(e.contents=[]),e.contents.length>n)e.contents.length=n;else for(;e.contents.length<n;)e.contents.push(0);e.usedBytes=n}},node_ops:{getattr:function(e){var n={};return n.dev=r.isChrdev(e.mode)?e.id:1,n.ino=e.id,n.mode=e.mode,n.nlink=1,n.uid=0,n.gid=0,n.rdev=e.rdev,r.isDir(e.mode)?n.size=4096:r.isFile(e.mode)?n.size=e.usedBytes:r.isLink(e.mode)?n.size=e.link.length:n.size=0,n.atime=new Date(e.timestamp),n.mtime=new Date(e.timestamp),n.ctime=new Date(e.timestamp),n.blksize=4096,n.blocks=Math.ceil(n.size/n.blksize),n},setattr:function(e,n){n.mode!==void 0&&(e.mode=n.mode),n.timestamp!==void 0&&(e.timestamp=n.timestamp),n.size!==void 0&&E.resizeFileStorage(e,n.size)},lookup:function(e,n){throw r.genericErrors[2]},mknod:function(e,n,t,o){return E.createNode(e,n,t,o)},rename:function(e,n,t){if(r.isDir(e.mode)){var o;try{o=r.lookupNode(n,t)}catch{}if(o)for(var a in o.contents)throw new r.ErrnoError(39)}delete e.parent.contents[e.name],e.name=t,(n.contents[t]=e).parent=n},unlink:function(e,n){delete e.contents[n]},rmdir:function(e,n){var t=r.lookupNode(e,n);for(var o in t.contents)throw new r.ErrnoError(39);delete e.contents[n]},readdir:function(e){var n=[".",".."];for(var t in e.contents)e.contents.hasOwnProperty(t)&&n.push(t);return n},symlink:function(e,n,t){var o=E.createNode(e,n,41471,0);return o.link=t,o},readlink:function(e){if(!r.isLink(e.mode))throw new r.ErrnoError(22);return e.link}},stream_ops:{read:function(e,n,t,o,a){var i=e.node.contents;if(a>=e.node.usedBytes)return 0;var s=Math.min(e.node.usedBytes-a,o);if(8<s&&i.subarray)n.set(i.subarray(a,a+s),t);else for(var l=0;l<s;l++)n[t+l]=i[a+l];return s},write:function(e,n,t,o,a,i){if(!o)return 0;var s=e.node;if(s.timestamp=Date.now(),n.subarray&&(!s.contents||s.contents.subarray)){if(i)return s.contents=n.subarray(t,t+o),s.usedBytes=o;if(s.usedBytes===0&&a===0)return s.contents=new Uint8Array(n.subarray(t,t+o)),s.usedBytes=o;if(a+o<=s.usedBytes)return s.contents.set(n.subarray(t,t+o),a),o}if(E.expandFileStorage(s,a+o),s.contents.subarray&&n.subarray)s.contents.set(n.subarray(t,t+o),a);else for(var l=0;l<o;l++)s.contents[a+l]=n[t+l];return s.usedBytes=Math.max(s.usedBytes,a+o),o},llseek:function(e,n,t){var o=n;if(t===1?o+=e.position:t===2&&r.isFile(e.node.mode)&&(o+=e.node.usedBytes),o<0)throw new r.ErrnoError(22);return o},allocate:function(e,n,t){E.expandFileStorage(e.node,n+t),e.node.usedBytes=Math.max(e.node.usedBytes,n+t)},mmap:function(e,n,t,o,a,i,s){if(!r.isFile(e.node.mode))throw new r.ErrnoError(19);var l,f,m=e.node.contents;if(2&s||m.buffer!==n&&m.buffer!==n.buffer){(0<a||a+o<e.node.usedBytes)&&(m=m.subarray?m.subarray(a,a+o):Array.prototype.slice.call(m,a,a+o)),f=!0;var d=n.buffer==U.buffer;if(!(l=Ye(o)))throw new r.ErrnoError(12);(d?U:n).set(m,l)}else f=!1,l=m.byteOffset;return{ptr:l,allocated:f}},msync:function(e,n,t,o,a){if(!r.isFile(e.node.mode))throw new r.ErrnoError(19);return 2&a||E.stream_ops.write(e,n,0,o,t,!1),0}}},R={dbs:{},indexedDB:function(){if(typeof indexedDB<"u")return indexedDB;var e=null;return typeof window=="object"&&(e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),z(e,"IDBFS used, but indexedDB not supported"),e},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(e){return E.mount.apply(null,arguments)},syncfs:function(e,n,t){R.getLocalSet(e,function(o,a){if(o)return t(o);R.getRemoteSet(e,function(i,s){if(i)return t(i);var l=n?s:a,f=n?a:s;R.reconcile(l,f,t)})})},getDB:function(e,n){var t,o=R.dbs[e];if(o)return n(null,o);try{t=R.indexedDB().open(e,R.DB_VERSION)}catch(a){return n(a)}if(!t)return n("Unable to connect to IndexedDB");t.onupgradeneeded=function(a){var i,s=a.target.result,l=a.target.transaction;(i=s.objectStoreNames.contains(R.DB_STORE_NAME)?l.objectStore(R.DB_STORE_NAME):s.createObjectStore(R.DB_STORE_NAME)).indexNames.contains("timestamp")||i.createIndex("timestamp","timestamp",{unique:!1})},t.onsuccess=function(){o=t.result,R.dbs[e]=o,n(null,o)},t.onerror=function(a){n(this.error),a.preventDefault()}},getLocalSet:function(e,n){var t={};function o(f){return f!=="."&&f!==".."}function a(f){return function(m){return k.join2(f,m)}}for(var i=r.readdir(e.mountpoint).filter(o).map(a(e.mountpoint));i.length;){var s,l=i.pop();try{s=r.stat(l)}catch(f){return n(f)}r.isDir(s.mode)&&i.push.apply(i,r.readdir(l).filter(o).map(a(l))),t[l]={timestamp:s.mtime}}return n(null,{type:"local",entries:t})},getRemoteSet:function(e,n){var t={};R.getDB(e.mountpoint,function(o,a){if(o)return n(o);try{var i=a.transaction([R.DB_STORE_NAME],"readonly");i.onerror=function(s){n(this.error),s.preventDefault()},i.objectStore(R.DB_STORE_NAME).index("timestamp").openKeyCursor().onsuccess=function(s){var l=s.target.result;if(!l)return n(null,{type:"remote",db:a,entries:t});t[l.primaryKey]={timestamp:l.key},l.continue()}}catch(s){return n(s)}})},loadLocalEntry:function(e,n){var t,o;try{o=r.lookupPath(e).node,t=r.stat(e)}catch(a){return n(a)}return r.isDir(t.mode)?n(null,{timestamp:t.mtime,mode:t.mode}):r.isFile(t.mode)?(o.contents=E.getFileDataAsTypedArray(o),n(null,{timestamp:t.mtime,mode:t.mode,contents:o.contents})):n(new Error("node type not supported"))},storeLocalEntry:function(e,n,t){try{if(r.isDir(n.mode))r.mkdir(e,n.mode);else{if(!r.isFile(n.mode))return t(new Error("node type not supported"));r.writeFile(e,n.contents,{canOwn:!0})}r.chmod(e,n.mode),r.utime(e,n.timestamp,n.timestamp)}catch(o){return t(o)}t(null)},removeLocalEntry:function(e,n){try{r.lookupPath(e);var t=r.stat(e);r.isDir(t.mode)?r.rmdir(e):r.isFile(t.mode)&&r.unlink(e)}catch(o){return n(o)}n(null)},loadRemoteEntry:function(e,n,t){var o=e.get(n);o.onsuccess=function(a){t(null,a.target.result)},o.onerror=function(a){t(this.error),a.preventDefault()}},storeRemoteEntry:function(e,n,t,o){var a=e.put(t,n);a.onsuccess=function(){o(null)},a.onerror=function(i){o(this.error),i.preventDefault()}},removeRemoteEntry:function(e,n,t){var o=e.delete(n);o.onsuccess=function(){t(null)},o.onerror=function(a){t(this.error),a.preventDefault()}},reconcile:function(e,n,t){var o=0,a=[];Object.keys(e.entries).forEach(function(d){var g=e.entries[d],h=n.entries[d];(!h||g.timestamp>h.timestamp)&&(a.push(d),o++)});var i=[];if(Object.keys(n.entries).forEach(function(d){n.entries[d],e.entries[d]||(i.push(d),o++)}),!o)return t(null);var s=!1,l=(e.type==="remote"?e.db:n.db).transaction([R.DB_STORE_NAME],"readwrite"),f=l.objectStore(R.DB_STORE_NAME);function m(d){if(d&&!s)return s=!0,t(d)}l.onerror=function(d){m(this.error),d.preventDefault()},l.oncomplete=function(d){s||t(null)},a.sort().forEach(function(d){n.type==="local"?R.loadRemoteEntry(f,d,function(g,h){if(g)return m(g);R.storeLocalEntry(d,h,m)}):R.loadLocalEntry(d,function(g,h){if(g)return m(g);R.storeRemoteEntry(f,d,h,m)})}),i.sort().reverse().forEach(function(d){n.type==="local"?R.removeLocalEntry(d,m):R.removeRemoteEntry(f,d,m)})}},b={isWindows:!1,staticInit:function(){b.isWindows=!!process.platform.match(/^win/);var e=process.binding("constants");e.fs&&(e=e.fs),b.flagsForNodeMap={1024:e.O_APPEND,64:e.O_CREAT,128:e.O_EXCL,0:e.O_RDONLY,2:e.O_RDWR,4096:e.O_SYNC,512:e.O_TRUNC,1:e.O_WRONLY}},bufferFrom:function(e){return Buffer.alloc?Buffer.from(e):new Buffer(e)},mount:function(e){return z(ge),b.createNode(null,"/",b.getMode(e.opts.root),0)},createNode:function(e,n,t,o){if(!r.isDir(t)&&!r.isFile(t)&&!r.isLink(t))throw new r.ErrnoError(22);var a=r.createNode(e,n,t);return a.node_ops=b.node_ops,a.stream_ops=b.stream_ops,a},getMode:function(e){var n;try{n=x.lstatSync(e),b.isWindows&&(n.mode=n.mode|(292&n.mode)>>2)}catch(t){throw t.code?new r.ErrnoError(-t.errno):t}return n.mode},realPath:function(e){for(var n=[];e.parent!==e;)n.push(e.name),e=e.parent;return n.push(e.mount.opts.root),n.reverse(),k.join.apply(null,n)},flagsForNode:function(e){e&=-2097153,e&=-2049,e&=-32769,e&=-524289;var n=0;for(var t in b.flagsForNodeMap)e&t&&(n|=b.flagsForNodeMap[t],e^=t);if(e)throw new r.ErrnoError(22);return n},node_ops:{getattr:function(e){var n,t=b.realPath(e);try{n=x.lstatSync(t)}catch(o){throw o.code?new r.ErrnoError(-o.errno):o}return b.isWindows&&!n.blksize&&(n.blksize=4096),b.isWindows&&!n.blocks&&(n.blocks=(n.size+n.blksize-1)/n.blksize|0),{dev:n.dev,ino:n.ino,mode:n.mode,nlink:n.nlink,uid:n.uid,gid:n.gid,rdev:n.rdev,size:n.size,atime:n.atime,mtime:n.mtime,ctime:n.ctime,blksize:n.blksize,blocks:n.blocks}},setattr:function(e,n){var t=b.realPath(e);try{if(n.mode!==void 0&&(x.chmodSync(t,n.mode),e.mode=n.mode),n.timestamp!==void 0){var o=new Date(n.timestamp);x.utimesSync(t,o,o)}n.size!==void 0&&x.truncateSync(t,n.size)}catch(a){throw a.code?new r.ErrnoError(-a.errno):a}},lookup:function(e,n){var t=k.join2(b.realPath(e),n),o=b.getMode(t);return b.createNode(e,n,o)},mknod:function(e,n,t,o){var a=b.createNode(e,n,t,o),i=b.realPath(a);try{r.isDir(a.mode)?x.mkdirSync(i,a.mode):x.writeFileSync(i,"",{mode:a.mode})}catch(s){throw s.code?new r.ErrnoError(-s.errno):s}return a},rename:function(e,n,t){var o=b.realPath(e),a=k.join2(b.realPath(n),t);try{x.renameSync(o,a)}catch(i){throw i.code?new r.ErrnoError(-i.errno):i}},unlink:function(e,n){var t=k.join2(b.realPath(e),n);try{x.unlinkSync(t)}catch(o){throw o.code?new r.ErrnoError(-o.errno):o}},rmdir:function(e,n){var t=k.join2(b.realPath(e),n);try{x.rmdirSync(t)}catch(o){throw o.code?new r.ErrnoError(-o.errno):o}},readdir:function(e){var n=b.realPath(e);try{return x.readdirSync(n)}catch(t){throw t.code?new r.ErrnoError(-t.errno):t}},symlink:function(e,n,t){var o=k.join2(b.realPath(e),n);try{x.symlinkSync(t,o)}catch(a){throw a.code?new r.ErrnoError(-a.errno):a}},readlink:function(e){var n=b.realPath(e);try{return n=x.readlinkSync(n),n=mn.relative(mn.resolve(e.mount.opts.root),n)}catch(t){throw t.code?new r.ErrnoError(-t.errno):t}}},stream_ops:{open:function(e){var n=b.realPath(e.node);try{r.isFile(e.node.mode)&&(e.nfd=x.openSync(n,b.flagsForNode(e.flags)))}catch(t){throw t.code?new r.ErrnoError(-t.errno):t}},close:function(e){try{r.isFile(e.node.mode)&&e.nfd&&x.closeSync(e.nfd)}catch(n){throw n.code?new r.ErrnoError(-n.errno):n}},read:function(e,n,t,o,a){if(o===0)return 0;try{return x.readSync(e.nfd,b.bufferFrom(n.buffer),t,o,a)}catch(i){throw new r.ErrnoError(-i.errno)}},write:function(e,n,t,o,a){try{return x.writeSync(e.nfd,b.bufferFrom(n.buffer),t,o,a)}catch(i){throw new r.ErrnoError(-i.errno)}},llseek:function(e,n,t){var o=n;if(t===1)o+=e.position;else if(t===2&&r.isFile(e.node.mode))try{o+=x.fstatSync(e.nfd).size}catch(a){throw new r.ErrnoError(-a.errno)}if(o<0)throw new r.ErrnoError(22);return o}}},P={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(e){z(Y),P.reader||(P.reader=new FileReaderSync);var n=P.createNode(null,"/",P.DIR_MODE,0),t={};function o(i){for(var s=i.split("/"),l=n,f=0;f<s.length-1;f++){var m=s.slice(0,f+1).join("/");t[m]||(t[m]=P.createNode(l,s[f],P.DIR_MODE,0)),l=t[m]}return l}function a(i){var s=i.split("/");return s[s.length-1]}return Array.prototype.forEach.call(e.opts.files||[],function(i){P.createNode(o(i.name),a(i.name),P.FILE_MODE,0,i,i.lastModifiedDate)}),(e.opts.blobs||[]).forEach(function(i){P.createNode(o(i.name),a(i.name),P.FILE_MODE,0,i.data)}),(e.opts.packages||[]).forEach(function(i){i.metadata.files.forEach(function(s){var l=s.filename.substr(1);P.createNode(o(l),a(l),P.FILE_MODE,0,i.blob.slice(s.start,s.end))})}),n},createNode:function(e,n,t,o,a,i){var s=r.createNode(e,n,t);return s.mode=t,s.node_ops=P.node_ops,s.stream_ops=P.stream_ops,s.timestamp=(i||new Date).getTime(),z(P.FILE_MODE!==P.DIR_MODE),t===P.FILE_MODE?(s.size=a.size,s.contents=a):(s.size=4096,s.contents={}),e&&(e.contents[n]=s),s},node_ops:{getattr:function(e){return{dev:1,ino:void 0,mode:e.mode,nlink:1,uid:0,gid:0,rdev:void 0,size:e.size,atime:new Date(e.timestamp),mtime:new Date(e.timestamp),ctime:new Date(e.timestamp),blksize:4096,blocks:Math.ceil(e.size/4096)}},setattr:function(e,n){n.mode!==void 0&&(e.mode=n.mode),n.timestamp!==void 0&&(e.timestamp=n.timestamp)},lookup:function(e,n){throw new r.ErrnoError(2)},mknod:function(e,n,t,o){throw new r.ErrnoError(1)},rename:function(e,n,t){throw new r.ErrnoError(1)},unlink:function(e,n){throw new r.ErrnoError(1)},rmdir:function(e,n){throw new r.ErrnoError(1)},readdir:function(e){var n=[".",".."];for(var t in e.contents)e.contents.hasOwnProperty(t)&&n.push(t);return n},symlink:function(e,n,t){throw new r.ErrnoError(1)},readlink:function(e){throw new r.ErrnoError(1)}},stream_ops:{read:function(e,n,t,o,a){if(a>=e.node.size)return 0;var i=e.node.contents.slice(a,a+o),s=P.reader.readAsArrayBuffer(i);return n.set(new Uint8Array(s),t),i.size},write:function(e,n,t,o,a){throw new r.ErrnoError(5)},llseek:function(e,n,t){var o=n;if(t===1?o+=e.position:t===2&&r.isFile(e.node.mode)&&(o+=e.node.size),o<0)throw new r.ErrnoError(22);return o}}},r={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(e){if(!(e instanceof r.ErrnoError))throw e+" : "+Un();return J(e.errno)},lookupPath:function(e,n){if(n=n||{},!(e=H.resolve(r.cwd(),e)))return{path:"",node:null};var t={follow_mount:!0,recurse_count:0};for(var o in t)n[o]===void 0&&(n[o]=t[o]);if(8<n.recurse_count)throw new r.ErrnoError(40);for(var a=k.normalizeArray(e.split("/").filter(function(g){return!!g}),!1),i=r.root,s="/",l=0;l<a.length;l++){var f=l===a.length-1;if(f&&n.parent)break;if(i=r.lookupNode(i,a[l]),s=k.join2(s,a[l]),r.isMountpoint(i)&&(!f||f&&n.follow_mount)&&(i=i.mounted.root),!f||n.follow)for(var m=0;r.isLink(i.mode);){var d=r.readlink(s);if(s=H.resolve(k.dirname(s),d),i=r.lookupPath(s,{recurse_count:n.recurse_count}).node,40<m++)throw new r.ErrnoError(40)}}return{path:s,node:i}},getPath:function(e){for(var n;;){if(r.isRoot(e)){var t=e.mount.mountpoint;return n?t[t.length-1]!=="/"?t+"/"+n:t+n:t}n=n?e.name+"/"+n:e.name,e=e.parent}},hashName:function(e,n){for(var t=0,o=0;o<n.length;o++)t=(t<<5)-t+n.charCodeAt(o)|0;return(e+t>>>0)%r.nameTable.length},hashAddNode:function(e){var n=r.hashName(e.parent.id,e.name);e.name_next=r.nameTable[n],r.nameTable[n]=e},hashRemoveNode:function(e){var n=r.hashName(e.parent.id,e.name);if(r.nameTable[n]===e)r.nameTable[n]=e.name_next;else for(var t=r.nameTable[n];t;){if(t.name_next===e){t.name_next=e.name_next;break}t=t.name_next}},lookupNode:function(e,n){var t=r.mayLookup(e);if(t)throw new r.ErrnoError(t,e);for(var o=r.hashName(e.id,n),a=r.nameTable[o];a;a=a.name_next){var i=a.name;if(a.parent.id===e.id&&i===n)return a}return r.lookup(e,n)},createNode:function(e,n,t,o){r.FSNode||(r.FSNode=function(i,s,l,f){i=i||this,this.parent=i,this.mount=i.mount,this.mounted=null,this.id=r.nextInode++,this.name=s,this.mode=l,this.node_ops={},this.stream_ops={},this.rdev=f},r.FSNode.prototype={},Object.defineProperties(r.FSNode.prototype,{read:{get:function(){return(365&this.mode)==365},set:function(i){i?this.mode|=365:this.mode&=-366}},write:{get:function(){return(146&this.mode)==146},set:function(i){i?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return r.isDir(this.mode)}},isDevice:{get:function(){return r.isChrdev(this.mode)}}}));var a=new r.FSNode(e,n,t,o);return r.hashAddNode(a),a},destroyNode:function(e){r.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return(61440&e)==32768},isDir:function(e){return(61440&e)==16384},isLink:function(e){return(61440&e)==40960},isChrdev:function(e){return(61440&e)==8192},isBlkdev:function(e){return(61440&e)==24576},isFIFO:function(e){return(61440&e)==4096},isSocket:function(e){return(49152&e)==49152},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var n=r.flagModes[e];if(n===void 0)throw new Error("Unknown file open mode: "+e);return n},flagsToPermissionString:function(e){var n=["r","w","rw"][3&e];return 512&e&&(n+="w"),n},nodePermissions:function(e,n){return r.ignorePermissions||(n.indexOf("r")===-1||292&e.mode)&&(n.indexOf("w")===-1||146&e.mode)&&(n.indexOf("x")===-1||73&e.mode)?0:13},mayLookup:function(e){var n=r.nodePermissions(e,"x");return n||(e.node_ops.lookup?0:13)},mayCreate:function(e,n){try{return r.lookupNode(e,n),17}catch{}return r.nodePermissions(e,"wx")},mayDelete:function(e,n,t){var o;try{o=r.lookupNode(e,n)}catch(i){return i.errno}var a=r.nodePermissions(e,"wx");if(a)return a;if(t){if(!r.isDir(o.mode))return 20;if(r.isRoot(o)||r.getPath(o)===r.cwd())return 16}else if(r.isDir(o.mode))return 21;return 0},mayOpen:function(e,n){return e?r.isLink(e.mode)?40:r.isDir(e.mode)&&(r.flagsToPermissionString(n)!=="r"||512&n)?21:r.nodePermissions(e,r.flagsToPermissionString(n)):2},MAX_OPEN_FDS:4096,nextfd:function(e,n){e=e||0,n=n||r.MAX_OPEN_FDS;for(var t=e;t<=n;t++)if(!r.streams[t])return t;throw new r.ErrnoError(24)},getStream:function(e){return r.streams[e]},createStream:function(e,n,t){r.FSStream||(r.FSStream=function(){},r.FSStream.prototype={},Object.defineProperties(r.FSStream.prototype,{object:{get:function(){return this.node},set:function(s){this.node=s}},isRead:{get:function(){return(2097155&this.flags)!=1}},isWrite:{get:function(){return(2097155&this.flags)!=0}},isAppend:{get:function(){return 1024&this.flags}}}));var o=new r.FSStream;for(var a in e)o[a]=e[a];e=o;var i=r.nextfd(n,t);return e.fd=i,r.streams[i]=e},closeStream:function(e){r.streams[e]=null},chrdev_stream_ops:{open:function(e){var n=r.getDevice(e.node.rdev);e.stream_ops=n.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new r.ErrnoError(29)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,n){return e<<8|n},registerDevice:function(e,n){r.devices[e]={stream_ops:n}},getDevice:function(e){return r.devices[e]},getMounts:function(e){for(var n=[],t=[e];t.length;){var o=t.pop();n.push(o),t.push.apply(t,o.mounts)}return n},syncfs:function(e,n){typeof e=="function"&&(n=e,e=!1),r.syncFSRequests++,1<r.syncFSRequests&&console.log("warning: "+r.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var t=r.getMounts(r.root.mount),o=0;function a(s){return r.syncFSRequests--,n(s)}function i(s){if(s)return i.errored?void 0:(i.errored=!0,a(s));++o>=t.length&&a(null)}t.forEach(function(s){if(!s.type.syncfs)return i(null);s.type.syncfs(s,e,i)})},mount:function(e,n,t){var o,a=t==="/",i=!t;if(a&&r.root)throw new r.ErrnoError(16);if(!a&&!i){var s=r.lookupPath(t,{follow_mount:!1});if(t=s.path,o=s.node,r.isMountpoint(o))throw new r.ErrnoError(16);if(!r.isDir(o.mode))throw new r.ErrnoError(20)}var l={type:e,opts:n,mountpoint:t,mounts:[]},f=e.mount(l);return(f.mount=l).root=f,a?r.root=f:o&&(o.mounted=l,o.mount&&o.mount.mounts.push(l)),f},unmount:function(e){var n=r.lookupPath(e,{follow_mount:!1});if(!r.isMountpoint(n.node))throw new r.ErrnoError(22);var t=n.node,o=t.mounted,a=r.getMounts(o);Object.keys(r.nameTable).forEach(function(s){for(var l=r.nameTable[s];l;){var f=l.name_next;a.indexOf(l.mount)!==-1&&r.destroyNode(l),l=f}}),t.mounted=null;var i=t.mount.mounts.indexOf(o);t.mount.mounts.splice(i,1)},lookup:function(e,n){return e.node_ops.lookup(e,n)},mknod:function(e,n,t){var o=r.lookupPath(e,{parent:!0}).node,a=k.basename(e);if(!a||a==="."||a==="..")throw new r.ErrnoError(22);var i=r.mayCreate(o,a);if(i)throw new r.ErrnoError(i);if(!o.node_ops.mknod)throw new r.ErrnoError(1);return o.node_ops.mknod(o,a,n,t)},create:function(e,n){return n=n!==void 0?n:438,n&=4095,n|=32768,r.mknod(e,n,0)},mkdir:function(e,n){return n=n!==void 0?n:511,n&=1023,n|=16384,r.mknod(e,n,0)},mkdirTree:function(e,n){for(var t=e.split("/"),o="",a=0;a<t.length;++a)if(t[a]){o+="/"+t[a];try{r.mkdir(o,n)}catch(i){if(i.errno!=17)throw i}}},mkdev:function(e,n,t){return t===void 0&&(t=n,n=438),n|=8192,r.mknod(e,n,t)},symlink:function(e,n){if(!H.resolve(e))throw new r.ErrnoError(2);var t=r.lookupPath(n,{parent:!0}).node;if(!t)throw new r.ErrnoError(2);var o=k.basename(n),a=r.mayCreate(t,o);if(a)throw new r.ErrnoError(a);if(!t.node_ops.symlink)throw new r.ErrnoError(1);return t.node_ops.symlink(t,o,e)},rename:function(e,n){var t,o,a=k.dirname(e),i=k.dirname(n),s=k.basename(e),l=k.basename(n);try{t=r.lookupPath(e,{parent:!0}).node,o=r.lookupPath(n,{parent:!0}).node}catch{throw new r.ErrnoError(16)}if(!t||!o)throw new r.ErrnoError(2);if(t.mount!==o.mount)throw new r.ErrnoError(18);var f,m=r.lookupNode(t,s),d=H.relative(e,i);if(d.charAt(0)!==".")throw new r.ErrnoError(22);if((d=H.relative(n,a)).charAt(0)!==".")throw new r.ErrnoError(39);try{f=r.lookupNode(o,l)}catch{}if(m!==f){var g=r.isDir(m.mode),h=r.mayDelete(t,s,g);if(h)throw new r.ErrnoError(h);if(h=f?r.mayDelete(o,l,g):r.mayCreate(o,l))throw new r.ErrnoError(h);if(!t.node_ops.rename)throw new r.ErrnoError(1);if(r.isMountpoint(m)||f&&r.isMountpoint(f))throw new r.ErrnoError(16);if(o!==t&&(h=r.nodePermissions(t,"w")))throw new r.ErrnoError(h);try{r.trackingDelegate.willMovePath&&r.trackingDelegate.willMovePath(e,n)}catch(y){console.log("FS.trackingDelegate['willMovePath']('"+e+"', '"+n+"') threw an exception: "+y.message)}r.hashRemoveNode(m);try{t.node_ops.rename(m,o,l)}catch(y){throw y}finally{r.hashAddNode(m)}try{r.trackingDelegate.onMovePath&&r.trackingDelegate.onMovePath(e,n)}catch(y){console.log("FS.trackingDelegate['onMovePath']('"+e+"', '"+n+"') threw an exception: "+y.message)}}},rmdir:function(e){var n=r.lookupPath(e,{parent:!0}).node,t=k.basename(e),o=r.lookupNode(n,t),a=r.mayDelete(n,t,!0);if(a)throw new r.ErrnoError(a);if(!n.node_ops.rmdir)throw new r.ErrnoError(1);if(r.isMountpoint(o))throw new r.ErrnoError(16);try{r.trackingDelegate.willDeletePath&&r.trackingDelegate.willDeletePath(e)}catch(i){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+i.message)}n.node_ops.rmdir(n,t),r.destroyNode(o);try{r.trackingDelegate.onDeletePath&&r.trackingDelegate.onDeletePath(e)}catch(i){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+i.message)}},readdir:function(e){var n=r.lookupPath(e,{follow:!0}).node;if(!n.node_ops.readdir)throw new r.ErrnoError(20);return n.node_ops.readdir(n)},unlink:function(e){var n=r.lookupPath(e,{parent:!0}).node,t=k.basename(e),o=r.lookupNode(n,t),a=r.mayDelete(n,t,!1);if(a)throw new r.ErrnoError(a);if(!n.node_ops.unlink)throw new r.ErrnoError(1);if(r.isMountpoint(o))throw new r.ErrnoError(16);try{r.trackingDelegate.willDeletePath&&r.trackingDelegate.willDeletePath(e)}catch(i){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+i.message)}n.node_ops.unlink(n,t),r.destroyNode(o);try{r.trackingDelegate.onDeletePath&&r.trackingDelegate.onDeletePath(e)}catch(i){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+i.message)}},readlink:function(e){var n=r.lookupPath(e).node;if(!n)throw new r.ErrnoError(2);if(!n.node_ops.readlink)throw new r.ErrnoError(22);return H.resolve(r.getPath(n.parent),n.node_ops.readlink(n))},stat:function(e,n){var t=r.lookupPath(e,{follow:!n}).node;if(!t)throw new r.ErrnoError(2);if(!t.node_ops.getattr)throw new r.ErrnoError(1);return t.node_ops.getattr(t)},lstat:function(e){return r.stat(e,!0)},chmod:function(e,n,t){var o;if(typeof e=="string"?o=r.lookupPath(e,{follow:!t}).node:o=e,!o.node_ops.setattr)throw new r.ErrnoError(1);o.node_ops.setattr(o,{mode:4095&n|-4096&o.mode,timestamp:Date.now()})},lchmod:function(e,n){r.chmod(e,n,!0)},fchmod:function(e,n){var t=r.getStream(e);if(!t)throw new r.ErrnoError(9);r.chmod(t.node,n)},chown:function(e,n,t,o){var a;if(typeof e=="string"?a=r.lookupPath(e,{follow:!o}).node:a=e,!a.node_ops.setattr)throw new r.ErrnoError(1);a.node_ops.setattr(a,{timestamp:Date.now()})},lchown:function(e,n,t){r.chown(e,n,t,!0)},fchown:function(e,n,t){var o=r.getStream(e);if(!o)throw new r.ErrnoError(9);r.chown(o.node,n,t)},truncate:function(e,n){if(n<0)throw new r.ErrnoError(22);var t;if(typeof e=="string"?t=r.lookupPath(e,{follow:!0}).node:t=e,!t.node_ops.setattr)throw new r.ErrnoError(1);if(r.isDir(t.mode))throw new r.ErrnoError(21);if(!r.isFile(t.mode))throw new r.ErrnoError(22);var o=r.nodePermissions(t,"w");if(o)throw new r.ErrnoError(o);t.node_ops.setattr(t,{size:n,timestamp:Date.now()})},ftruncate:function(e,n){var t=r.getStream(e);if(!t)throw new r.ErrnoError(9);if((2097155&t.flags)==0)throw new r.ErrnoError(22);r.truncate(t.node,n)},utime:function(e,n,t){var o=r.lookupPath(e,{follow:!0}).node;o.node_ops.setattr(o,{timestamp:Math.max(n,t)})},open:function(e,n,t,o,a){if(e==="")throw new r.ErrnoError(2);var i;if(t=t===void 0?438:t,t=64&(n=typeof n=="string"?r.modeStringToFlags(n):n)?4095&t|32768:0,typeof e=="object")i=e;else{e=k.normalize(e);try{i=r.lookupPath(e,{follow:!(131072&n)}).node}catch{}}var s=!1;if(64&n)if(i){if(128&n)throw new r.ErrnoError(17)}else i=r.mknod(e,t,0),s=!0;if(!i)throw new r.ErrnoError(2);if(r.isChrdev(i.mode)&&(n&=-513),65536&n&&!r.isDir(i.mode))throw new r.ErrnoError(20);if(!s){var l=r.mayOpen(i,n);if(l)throw new r.ErrnoError(l)}512&n&&r.truncate(i,0),n&=-641;var f=r.createStream({node:i,path:r.getPath(i),flags:n,seekable:!0,position:0,stream_ops:i.stream_ops,ungotten:[],error:!1},o,a);f.stream_ops.open&&f.stream_ops.open(f),!u.logReadFiles||1&n||(r.readFiles||(r.readFiles={}),e in r.readFiles||(r.readFiles[e]=1,console.log("FS.trackingDelegate error on read file: "+e)));try{if(r.trackingDelegate.onOpenFile){var m=0;(2097155&n)!=1&&(m|=r.tracking.openFlags.READ),(2097155&n)!=0&&(m|=r.tracking.openFlags.WRITE),r.trackingDelegate.onOpenFile(e,m)}}catch(d){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+d.message)}return f},close:function(e){if(r.isClosed(e))throw new r.ErrnoError(9);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(n){throw n}finally{r.closeStream(e.fd)}e.fd=null},isClosed:function(e){return e.fd===null},llseek:function(e,n,t){if(r.isClosed(e))throw new r.ErrnoError(9);if(!e.seekable||!e.stream_ops.llseek)throw new r.ErrnoError(29);if(t!=0&&t!=1&&t!=2)throw new r.ErrnoError(22);return e.position=e.stream_ops.llseek(e,n,t),e.ungotten=[],e.position},read:function(e,n,t,o,a){if(o<0||a<0)throw new r.ErrnoError(22);if(r.isClosed(e))throw new r.ErrnoError(9);if((2097155&e.flags)==1)throw new r.ErrnoError(9);if(r.isDir(e.node.mode))throw new r.ErrnoError(21);if(!e.stream_ops.read)throw new r.ErrnoError(22);var i=a!==void 0;if(i){if(!e.seekable)throw new r.ErrnoError(29)}else a=e.position;var s=e.stream_ops.read(e,n,t,o,a);return i||(e.position+=s),s},write:function(e,n,t,o,a,i){if(o<0||a<0)throw new r.ErrnoError(22);if(r.isClosed(e))throw new r.ErrnoError(9);if((2097155&e.flags)==0)throw new r.ErrnoError(9);if(r.isDir(e.node.mode))throw new r.ErrnoError(21);if(!e.stream_ops.write)throw new r.ErrnoError(22);1024&e.flags&&r.llseek(e,0,2);var s=a!==void 0;if(s){if(!e.seekable)throw new r.ErrnoError(29)}else a=e.position;var l=e.stream_ops.write(e,n,t,o,a,i);s||(e.position+=l);try{e.path&&r.trackingDelegate.onWriteToFile&&r.trackingDelegate.onWriteToFile(e.path)}catch(f){console.log("FS.trackingDelegate['onWriteToFile']('"+e.path+"') threw an exception: "+f.message)}return l},allocate:function(e,n,t){if(r.isClosed(e))throw new r.ErrnoError(9);if(n<0||t<=0)throw new r.ErrnoError(22);if((2097155&e.flags)==0)throw new r.ErrnoError(9);if(!r.isFile(e.node.mode)&&!r.isDir(e.node.mode))throw new r.ErrnoError(19);if(!e.stream_ops.allocate)throw new r.ErrnoError(95);e.stream_ops.allocate(e,n,t)},mmap:function(e,n,t,o,a,i,s){if((2&i)!=0&&(2&s)==0&&(2097155&e.flags)!=2)throw new r.ErrnoError(13);if((2097155&e.flags)==1)throw new r.ErrnoError(13);if(!e.stream_ops.mmap)throw new r.ErrnoError(19);return e.stream_ops.mmap(e,n,t,o,a,i,s)},msync:function(e,n,t,o,a){return e&&e.stream_ops.msync?e.stream_ops.msync(e,n,t,o,a):0},munmap:function(e){return 0},ioctl:function(e,n,t){if(!e.stream_ops.ioctl)throw new r.ErrnoError(25);return e.stream_ops.ioctl(e,n,t)},readFile:function(e,n){if((n=n||{}).flags=n.flags||"r",n.encoding=n.encoding||"binary",n.encoding!=="utf8"&&n.encoding!=="binary")throw new Error('Invalid encoding type "'+n.encoding+'"');var t,o=r.open(e,n.flags),a=r.stat(e).size,i=new Uint8Array(a);return r.read(o,i,0,a,0),n.encoding==="utf8"?t=te(i,0):n.encoding==="binary"&&(t=i),r.close(o),t},writeFile:function(e,n,t){(t=t||{}).flags=t.flags||"w";var o=r.open(e,t.flags,t.mode);if(typeof n=="string"){var a=new Uint8Array(de(n)+1),i=fe(n,a,0,a.length);r.write(o,a,0,i,void 0,t.canOwn)}else{if(!ArrayBuffer.isView(n))throw new Error("Unsupported data type");r.write(o,n,0,n.byteLength,void 0,t.canOwn)}r.close(o)},cwd:function(){return r.currentPath},chdir:function(e){var n=r.lookupPath(e,{follow:!0});if(n.node===null)throw new r.ErrnoError(2);if(!r.isDir(n.node.mode))throw new r.ErrnoError(20);var t=r.nodePermissions(n.node,"x");if(t)throw new r.ErrnoError(t);r.currentPath=n.path},createDefaultDirectories:function(){r.mkdir("/tmp"),r.mkdir("/home"),r.mkdir("/home/web_user")},createDefaultDevices:function(){var e;if(r.mkdir("/dev"),r.registerDevice(r.makedev(1,3),{read:function(){return 0},write:function(o,a,i,s,l){return s}}),r.mkdev("/dev/null",r.makedev(1,3)),Q.register(r.makedev(5,0),Q.default_tty_ops),Q.register(r.makedev(6,0),Q.default_tty1_ops),r.mkdev("/dev/tty",r.makedev(5,0)),r.mkdev("/dev/tty1",r.makedev(6,0)),typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var n=new Uint8Array(1);e=function(){return crypto.getRandomValues(n),n[0]}}else if(Z)try{var t=he;e=function(){return t.randomBytes(1)[0]}}catch{}e=e||function(){O("random_device")},r.createDevice("/dev","random",e),r.createDevice("/dev","urandom",e),r.mkdir("/dev/shm"),r.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){r.mkdir("/proc"),r.mkdir("/proc/self"),r.mkdir("/proc/self/fd"),r.mount({mount:function(){var e=r.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(n,t){var o=+t,a=r.getStream(o);if(!a)throw new r.ErrnoError(9);var i={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return a.path}}};return i.parent=i}},e}},{},"/proc/self/fd")},createStandardStreams:function(){u.stdin?r.createDevice("/dev","stdin",u.stdin):r.symlink("/dev/tty","/dev/stdin"),u.stdout?r.createDevice("/dev","stdout",null,u.stdout):r.symlink("/dev/tty","/dev/stdout"),u.stderr?r.createDevice("/dev","stderr",null,u.stderr):r.symlink("/dev/tty1","/dev/stderr"),r.open("/dev/stdin","r"),r.open("/dev/stdout","w"),r.open("/dev/stderr","w")},ensureErrnoError:function(){r.ErrnoError||(r.ErrnoError=function(e,n){this.node=n,this.setErrno=function(t){this.errno=t},this.setErrno(e),this.message="FS error",this.stack&&Object.defineProperty(this,"stack",{value:new Error().stack,writable:!0})},r.ErrnoError.prototype=new Error,r.ErrnoError.prototype.constructor=r.ErrnoError,[2].forEach(function(e){r.genericErrors[e]=new r.ErrnoError(e),r.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){r.ensureErrnoError(),r.nameTable=new Array(4096),r.mount(E,{},"/"),r.createDefaultDirectories(),r.createDefaultDevices(),r.createSpecialDirectories(),r.filesystems={MEMFS:E,IDBFS:R,NODEFS:b,WORKERFS:P}},init:function(e,n,t){r.init.initialized=!0,r.ensureErrnoError(),u.stdin=e||u.stdin,u.stdout=n||u.stdout,u.stderr=t||u.stderr,r.createStandardStreams()},quit:function(){r.init.initialized=!1;var e=u._fflush;e&&e(0);for(var n=0;n<r.streams.length;n++){var t=r.streams[n];t&&r.close(t)}},getMode:function(e,n){var t=0;return e&&(t|=365),n&&(t|=146),t},joinPath:function(e,n){var t=k.join.apply(null,e);return n&&t[0]=="/"&&(t=t.substr(1)),t},absolutePath:function(e,n){return H.resolve(n,e)},standardizePath:function(e){return k.normalize(e)},findObject:function(e,n){var t=r.analyzePath(e,n);return t.exists?t.object:(J(t.error),null)},analyzePath:function(e,n){try{e=(o=r.lookupPath(e,{follow:!n})).path}catch{}var t={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var o=r.lookupPath(e,{parent:!0});t.parentExists=!0,t.parentPath=o.path,t.parentObject=o.node,t.name=k.basename(e),o=r.lookupPath(e,{follow:!n}),t.exists=!0,t.path=o.path,t.object=o.node,t.name=o.node.name,t.isRoot=o.path==="/"}catch(a){t.error=a.errno}return t},createFolder:function(e,n,t,o){var a=k.join2(typeof e=="string"?e:r.getPath(e),n),i=r.getMode(t,o);return r.mkdir(a,i)},createPath:function(e,n,t,o){e=typeof e=="string"?e:r.getPath(e);for(var a=n.split("/").reverse();a.length;){var i=a.pop();if(i){var s=k.join2(e,i);try{r.mkdir(s)}catch{}e=s}}return s},createFile:function(e,n,t,o,a){var i=k.join2(typeof e=="string"?e:r.getPath(e),n),s=r.getMode(o,a);return r.create(i,s)},createDataFile:function(e,n,t,o,a,i){var s=n?k.join2(typeof e=="string"?e:r.getPath(e),n):e,l=r.getMode(o,a),f=r.create(s,l);if(t){if(typeof t=="string"){for(var m=new Array(t.length),d=0,g=t.length;d<g;++d)m[d]=t.charCodeAt(d);t=m}r.chmod(f,146|l);var h=r.open(f,"w");r.write(h,t,0,t.length,0,i),r.close(h),r.chmod(f,l)}return f},createDevice:function(e,n,t,o){var a=k.join2(typeof e=="string"?e:r.getPath(e),n),i=r.getMode(!!t,!!o);r.createDevice.major||(r.createDevice.major=64);var s=r.makedev(r.createDevice.major++,0);return r.registerDevice(s,{open:function(l){l.seekable=!1},close:function(l){o&&o.buffer&&o.buffer.length&&o(10)},read:function(l,f,m,d,g){for(var h=0,y=0;y<d;y++){var D;try{D=t()}catch{throw new r.ErrnoError(5)}if(D===void 0&&h===0)throw new r.ErrnoError(11);if(D==null)break;h++,f[m+y]=D}return h&&(l.node.timestamp=Date.now()),h},write:function(l,f,m,d,g){for(var h=0;h<d;h++)try{o(f[m+h])}catch{throw new r.ErrnoError(5)}return d&&(l.node.timestamp=Date.now()),h}}),r.mkdev(a,i,s)},createLink:function(e,n,t,o,a){var i=k.join2(typeof e=="string"?e:r.getPath(e),n);return r.symlink(t,i)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var n=!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!ne)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=De(ne(e.url),!0),e.usedBytes=e.contents.length}catch{n=!1}return n||J(5),n},createLazyFile:function(e,n,t,o,a){function i(){this.lengthKnown=!1,this.chunks=[]}if(i.prototype.get=function(d){if(!(d>this.length-1||d<0)){var g=d%this.chunkSize,h=d/this.chunkSize|0;return this.getter(h)[g]}},i.prototype.setDataGetter=function(d){this.getter=d},i.prototype.cacheLength=function(){var d=new XMLHttpRequest;if(d.open("HEAD",t,!1),d.send(null),!(200<=d.status&&d.status<300||d.status===304))throw new Error("Couldn't load "+t+". Status: "+d.status);var g,h=Number(d.getResponseHeader("Content-length")),y=(g=d.getResponseHeader("Accept-Ranges"))&&g==="bytes",D=(g=d.getResponseHeader("Content-Encoding"))&&g==="gzip",F=1048576;y||(F=h);var B=this;B.setDataGetter(function(M){var p=M*F,w=(M+1)*F-1;if(w=Math.min(w,h-1),B.chunks[M]===void 0&&(B.chunks[M]=(function(A,S){if(S<A)throw new Error("invalid range ("+A+", "+S+") or no bytes requested!");if(h-1<S)throw new Error("only "+h+" bytes available! programmer error!");var L=new XMLHttpRequest;if(L.open("GET",t,!1),h!==F&&L.setRequestHeader("Range","bytes="+A+"-"+S),typeof Uint8Array<"u"&&(L.responseType="arraybuffer"),L.overrideMimeType&&L.overrideMimeType("text/plain; charset=x-user-defined"),L.send(null),!(200<=L.status&&L.status<300||L.status===304))throw new Error("Couldn't load "+t+". Status: "+L.status);return L.response!==void 0?new Uint8Array(L.response||[]):De(L.responseText||"",!0)})(p,w)),B.chunks[M]===void 0)throw new Error("doXHR failed!");return B.chunks[M]}),!D&&h||(F=h=1,h=this.getter(0).length,F=h,console.log("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=h,this._chunkSize=F,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Y)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var s=new i;Object.defineProperties(s,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var l={isDevice:!1,contents:s}}else l={isDevice:!1,url:t};var f=r.createFile(e,n,l,o,a);l.contents?f.contents=l.contents:l.url&&(f.contents=null,f.url=l.url),Object.defineProperties(f,{usedBytes:{get:function(){return this.contents.length}}});var m={};return Object.keys(f.stream_ops).forEach(function(d){var g=f.stream_ops[d];m[d]=function(){if(!r.forceLoadFile(f))throw new r.ErrnoError(5);return g.apply(null,arguments)}}),m.read=function(d,g,h,y,D){if(!r.forceLoadFile(f))throw new r.ErrnoError(5);var F=d.node.contents;if(D>=F.length)return 0;var B=Math.min(F.length-D,y);if(F.slice)for(var M=0;M<B;M++)g[h+M]=F[D+M];else for(M=0;M<B;M++)g[h+M]=F.get(D+M);return B},f.stream_ops=m,f},createPreloadedFile:function(e,n,t,o,a,i,s,l,f,m){c.init();var d=n?H.resolve(k.join2(e,n)):e;function g(h){function y(F){m&&m(),l||r.createDataFile(e,n,F,o,a,f),i&&i(),ve()}var D=!1;u.preloadPlugins.forEach(function(F){D||F.canHandle(d)&&(F.handle(h,d,y,function(){s&&s(),ve()}),D=!0)}),D||y(h)}je(),typeof t=="string"?c.asyncLoad(t,function(h){g(h)},s):g(t)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,n,t){n=n||function(){},t=t||function(){};var o=r.indexedDB();try{var a=o.open(r.DB_NAME(),r.DB_VERSION)}catch(i){return t(i)}a.onupgradeneeded=function(){console.log("creating db"),a.result.createObjectStore(r.DB_STORE_NAME)},a.onsuccess=function(){var i=a.result.transaction([r.DB_STORE_NAME],"readwrite"),s=i.objectStore(r.DB_STORE_NAME),l=0,f=0,m=e.length;function d(){f==0?n():t()}e.forEach(function(g){var h=s.put(r.analyzePath(g).object.contents,g);h.onsuccess=function(){++l+f==m&&d()},h.onerror=function(){l+ ++f==m&&d()}}),i.onerror=t},a.onerror=t},loadFilesFromDB:function(e,n,t){n=n||function(){},t=t||function(){};var o=r.indexedDB();try{var a=o.open(r.DB_NAME(),r.DB_VERSION)}catch(i){return t(i)}a.onupgradeneeded=t,a.onsuccess=function(){var i=a.result;try{var s=i.transaction([r.DB_STORE_NAME],"readonly")}catch(h){return void t(h)}var l=s.objectStore(r.DB_STORE_NAME),f=0,m=0,d=e.length;function g(){m==0?n():t()}e.forEach(function(h){var y=l.get(h);y.onsuccess=function(){r.analyzePath(h).exists&&r.unlink(h),r.createDataFile(k.dirname(h),k.basename(h),y.result,!0,!0,!0),++f+m==d&&g()},y.onerror=function(){f+ ++m==d&&g()}}),s.onerror=t},a.onerror=t}},_={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(e,n){if(n[0]!=="/"){var t;if(e===-100)t=r.cwd();else{var o=r.getStream(e);if(!o)throw new r.ErrnoError(9);t=o.path}n=k.join2(t,n)}return n},doStat:function(e,n,t){try{var o=e(n)}catch(a){if(a&&a.node&&k.normalize(n)!==k.normalize(r.getPath(a.node)))return-20;throw a}return v[t>>2]=o.dev,v[t+4>>2]=0,v[t+8>>2]=o.ino,v[t+12>>2]=o.mode,v[t+16>>2]=o.nlink,v[t+20>>2]=o.uid,v[t+24>>2]=o.gid,v[t+28>>2]=o.rdev,v[t+32>>2]=0,V=[o.size>>>0,(C=o.size,1<=+Ne(C)?0<C?(0|Ie(+ze(C/4294967296),4294967295))>>>0:~~+Te((C-+(~~C>>>0))/4294967296)>>>0:0)],v[t+40>>2]=V[0],v[t+44>>2]=V[1],v[t+48>>2]=4096,v[t+52>>2]=o.blocks,v[t+56>>2]=o.atime.getTime()/1e3|0,v[t+60>>2]=0,v[t+64>>2]=o.mtime.getTime()/1e3|0,v[t+68>>2]=0,v[t+72>>2]=o.ctime.getTime()/1e3|0,v[t+76>>2]=0,V=[o.ino>>>0,(C=o.ino,1<=+Ne(C)?0<C?(0|Ie(+ze(C/4294967296),4294967295))>>>0:~~+Te((C-+(~~C>>>0))/4294967296)>>>0:0)],v[t+80>>2]=V[0],v[t+84>>2]=V[1],0},doMsync:function(e,n,t,o){var a=new Uint8Array(re.subarray(e,e+t));r.msync(n,a,0,t,o)},doMkdir:function(e,n){return(e=k.normalize(e))[e.length-1]==="/"&&(e=e.substr(0,e.length-1)),r.mkdir(e,n,0),0},doMknod:function(e,n,t){switch(61440&n){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-22}return r.mknod(e,n,t),0},doReadlink:function(e,n,t){if(t<=0)return-22;var o=r.readlink(e),a=Math.min(t,de(o)),i=U[n+a];return Je(o,n,t+1),U[n+a]=i,a},doAccess:function(e,n){if(-8&n)return-22;var t;if(!(t=r.lookupPath(e,{follow:!0}).node))return-2;var o="";return 4&n&&(o+="r"),2&n&&(o+="w"),1&n&&(o+="x"),o&&r.nodePermissions(t,o)?-13:0},doDup:function(e,n,t){var o=r.getStream(t);return o&&r.close(o),r.open(e,n,0,t,t).fd},doReadv:function(e,n,t,o){for(var a=0,i=0;i<t;i++){var s=v[n+8*i>>2],l=v[n+(8*i+4)>>2],f=r.read(e,U,s,l,o);if(f<0)return-1;if(a+=f,f<l)break}return a},doWritev:function(e,n,t,o){for(var a=0,i=0;i<t;i++){var s=v[n+8*i>>2],l=v[n+(8*i+4)>>2],f=r.write(e,U,s,l,o);if(f<0)return-1;a+=f}return a},varargs:0,get:function(e){return _.varargs+=4,v[_.varargs-4>>2]},getStr:function(){return le(_.get())},getStreamFromFD:function(){var e=r.getStream(_.get());if(!e)throw new r.ErrnoError(9);return e},get64:function(){var e=_.get();return _.get(),e},getZero:function(){_.get()}};function Kn(e,n){_.varargs=n;try{var t=_.getStreamFromFD(),o=_.get(),a=_.get(),i=_.get(),s=_.get(),l=4294967296*o+(a>>>0),f=9007199254740992;return l<=-f||f<=l?-75:(r.llseek(t,l,s),V=[t.position>>>0,(C=t.position,1<=+Ne(C)?0<C?(0|Ie(+ze(C/4294967296),4294967295))>>>0:~~+Te((C-+(~~C>>>0))/4294967296)>>>0:0)],v[i>>2]=V[0],v[i+4>>2]=V[1],t.getdents&&l==0&&s===0&&(t.getdents=null),0)}catch(m){return r!==void 0&&m instanceof r.ErrnoError||O(m),-m.errno}}function Zn(e,n){_.varargs=n;try{var t=_.getStreamFromFD(),o=_.get(),a=_.get();return _.doReadv(t,o,a)}catch(i){return r!==void 0&&i instanceof r.ErrnoError||O(i),-i.errno}}function $n(e,n){_.varargs=n;try{var t=_.getStreamFromFD(),o=_.get(),a=_.get();return _.doWritev(t,o,a)}catch(i){return r!==void 0&&i instanceof r.ErrnoError||O(i),-i.errno}}function Jn(e,n){_.varargs=n;try{var t=_.getStreamFromFD();switch(_.get()){case 0:return(o=_.get())<0?-22:r.open(t.path,t.flags,0,o).fd;case 1:case 2:return 0;case 3:return t.flags;case 4:var o=_.get();return t.flags|=o,0;case 12:return o=_.get(),nn[o+0>>1]=2,0;case 13:case 14:return 0;case 16:case 8:return-22;case 9:return J(22),-1;default:return-22}}catch(a){return r!==void 0&&a instanceof r.ErrnoError||O(a),-a.errno}}function Qn(e,n){_.varargs=n;try{var t=_.getStr(),o=_.get(),a=_.get();return r.open(t,o,a).fd}catch(i){return r!==void 0&&i instanceof r.ErrnoError||O(i),-i.errno}}function et(e,n){_.varargs=n;try{var t=_.getStreamFromFD(),o=_.get();switch(o){case 21509:case 21505:return t.tty?0:-25;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return t.tty?0:-25;case 21519:if(!t.tty)return-25;var a=_.get();return v[a>>2]=0;case 21520:return t.tty?-22:-25;case 21531:return a=_.get(),r.ioctl(t,o,a);case 21523:case 21524:return t.tty?0:-25;default:O("bad ioctl syscall "+o)}}catch(i){return r!==void 0&&i instanceof r.ErrnoError||O(i),-i.errno}}function nt(e,n){_.varargs=n;try{var t=_.getStreamFromFD();return r.close(t),0}catch(o){return r!==void 0&&o instanceof r.ErrnoError||O(o),-o.errno}}function tt(e,n){if(e===-1||n===0)return-22;var t=_.mappings[e];if(!t)return 0;if(n===t.len){var o=r.getStream(t.fd);_.doMsync(e,o,n,t.flags),_.mappings[e]=null,t.allocated&&hn(t.malloc)}return 0}function rt(e,n){_.varargs=n;try{return tt(_.get(),_.get())}catch(t){return r!==void 0&&t instanceof r.ErrnoError||O(t),-t.errno}}function ot(){}function at(){u.abort()}function ye(){O()}function it(){return Z||typeof dateNow<"u"||typeof performance=="object"&&performance&&typeof performance.now=="function"}function ut(e,n){var t;if(e===0)t=Date.now();else{if(e!==1||!it())return J(22),-1;t=ye()}return v[n>>2]=t/1e3|0,v[n+4>>2]=t%1e3*1e3*1e3|0,0}function st(e,n){if(c.mainLoop.timingMode=e,c.mainLoop.timingValue=n,!c.mainLoop.func)return 1;if(e==0)c.mainLoop.scheduler=function(){var a=0|Math.max(0,c.mainLoop.tickStartTime+n-ye());setTimeout(c.mainLoop.runner,a)},c.mainLoop.method="timeout";else if(e==1)c.mainLoop.scheduler=function(){c.requestAnimationFrame(c.mainLoop.runner)},c.mainLoop.method="rAF";else if(e==2){if(typeof setImmediate>"u"){var t=[],o="setimmediate";addEventListener("message",function(a){a.data!==o&&a.data.target!==o||(a.stopPropagation(),t.shift()())},!0),setImmediate=function(a){t.push(a),Y?(u.setImmediates===void 0&&(u.setImmediates=[]),u.setImmediates.push(a),postMessage({target:o})):postMessage(o,"*")}}c.mainLoop.scheduler=function(){setImmediate(c.mainLoop.runner)},c.mainLoop.method="immediate"}return 0}function ct(e,n,t,o,a){var i;u.noExitRuntime=!0,z(!c.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),c.mainLoop.func=e,c.mainLoop.arg=o,i=o!==void 0?function(){u.dynCall_vi(e,o)}:function(){u.dynCall_v(e)};var s=c.mainLoop.currentlyRunningMainloop;c.mainLoop.runner=function(){if(!X)if(0<c.mainLoop.queue.length){var l=Date.now(),f=c.mainLoop.queue.shift();if(f.func(f.arg),c.mainLoop.remainingBlockers){var m=c.mainLoop.remainingBlockers,d=m%1==0?m-1:Math.floor(m);f.counted?c.mainLoop.remainingBlockers=d:(d+=.5,c.mainLoop.remainingBlockers=(8*m+d)/9)}if(console.log('main loop blocker "'+f.name+'" took '+(Date.now()-l)+" ms"),c.mainLoop.updateStatus(),s<c.mainLoop.currentlyRunningMainloop)return;setTimeout(c.mainLoop.runner,0)}else s<c.mainLoop.currentlyRunningMainloop||(c.mainLoop.currentFrameNumber=c.mainLoop.currentFrameNumber+1|0,c.mainLoop.timingMode==1&&1<c.mainLoop.timingValue&&c.mainLoop.currentFrameNumber%c.mainLoop.timingValue!=0?c.mainLoop.scheduler():(c.mainLoop.timingMode==0&&(c.mainLoop.tickStartTime=ye()),c.mainLoop.method==="timeout"&&u.ctx&&(N("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!"),c.mainLoop.method=""),c.mainLoop.runIter(i),s<c.mainLoop.currentlyRunningMainloop||(typeof SDL=="object"&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData(),c.mainLoop.scheduler())))}}var c={mainLoop:{scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){c.mainLoop.scheduler=null,c.mainLoop.currentlyRunningMainloop++},resume:function(){c.mainLoop.currentlyRunningMainloop++;var e=c.mainLoop.timingMode,n=c.mainLoop.timingValue,t=c.mainLoop.func;c.mainLoop.func=null,ct(t,0,!1,c.mainLoop.arg),st(e,n),c.mainLoop.scheduler()},updateStatus:function(){if(u.setStatus){var e=u.statusMessage||"Please wait...",n=c.mainLoop.remainingBlockers,t=c.mainLoop.expectedBlockers;n?n<t?u.setStatus(e+" ("+(t-n)+"/"+t+")"):u.setStatus(e):u.setStatus("")}},runIter:function(e){if(!X){if(u.preMainLoop&&u.preMainLoop()===!1)return;try{e()}catch(n){if(n instanceof Me)return;throw n&&typeof n=="object"&&n.stack&&N("exception thrown: "+[n,n.stack]),n}u.postMainLoop&&u.postMainLoop()}}},isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(u.preloadPlugins||(u.preloadPlugins=[]),!c.initted){c.initted=!0;try{new Blob,c.hasBlobConstructor=!0}catch{c.hasBlobConstructor=!1,console.log("warning: no blob constructor, cannot create blobs with mimetypes")}c.BlobBuilder=typeof MozBlobBuilder<"u"?MozBlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:c.hasBlobConstructor?null:console.log("warning: no BlobBuilder"),c.URLObject=typeof window<"u"?window.URL?window.URL:window.webkitURL:void 0,u.noImageDecoding||c.URLObject!==void 0||(console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),u.noImageDecoding=!0);var e={canHandle:function(a){return!u.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(a)},handle:function(a,i,s,l){var f=null;if(c.hasBlobConstructor)try{(f=new Blob([a],{type:c.getMimetype(i)})).size!==a.length&&(f=new Blob([new Uint8Array(a).buffer],{type:c.getMimetype(i)}))}catch(h){se("Blob constructor present but fails: "+h+"; falling back to blob builder")}if(!f){var m=new c.BlobBuilder;m.append(new Uint8Array(a).buffer),f=m.getBlob()}var d=c.URLObject.createObjectURL(f),g=new Image;g.onload=function(){z(g.complete,"Image "+i+" could not be decoded");var h=document.createElement("canvas");h.width=g.width,h.height=g.height,h.getContext("2d").drawImage(g,0,0),u.preloadedImages[i]=h,c.URLObject.revokeObjectURL(d),s&&s(a)},g.onerror=function(h){console.log("Image "+d+" could not be decoded"),l&&l()},g.src=d}};u.preloadPlugins.push(e);var n={canHandle:function(a){return!u.noAudioDecoding&&a.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(a,i,s,l){var f=!1;function m(D){f||(f=!0,u.preloadedAudios[i]=D,s&&s(a))}function d(){f||(f=!0,u.preloadedAudios[i]=new Audio,l&&l())}if(!c.hasBlobConstructor)return d();try{var g=new Blob([a],{type:c.getMimetype(i)})}catch{return d()}var h=c.URLObject.createObjectURL(g),y=new Audio;y.addEventListener("canplaythrough",function(){m(y)},!1),y.onerror=function(D){f||(console.log("warning: browser could not fully decode audio "+i+", trying slower base64 approach"),y.src="data:audio/x-"+i.substr(-3)+";base64,"+(function(F){for(var B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",M="",p=0,w=0,A=0;A<F.length;A++)for(p=p<<8|F[A],w+=8;6<=w;){var S=p>>w-6&63;w-=6,M+=B[S]}return w==2?(M+=B[(3&p)<<4],M+="=="):w==4&&(M+=B[(15&p)<<2],M+="="),M})(a),m(y))},y.src=h,c.safeSetTimeout(function(){m(y)},1e4)}};u.preloadPlugins.push(n);var t=u.canvas;t&&(t.requestPointerLock=t.requestPointerLock||t.mozRequestPointerLock||t.webkitRequestPointerLock||t.msRequestPointerLock||function(){},t.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},t.exitPointerLock=t.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",o,!1),document.addEventListener("mozpointerlockchange",o,!1),document.addEventListener("webkitpointerlockchange",o,!1),document.addEventListener("mspointerlockchange",o,!1),u.elementPointerLock&&t.addEventListener("click",function(a){!c.pointerLock&&u.canvas.requestPointerLock&&(u.canvas.requestPointerLock(),a.preventDefault())},!1))}function o(){c.pointerLock=document.pointerLockElement===u.canvas||document.mozPointerLockElement===u.canvas||document.webkitPointerLockElement===u.canvas||document.msPointerLockElement===u.canvas}},createContext:function(e,n,t,o){if(n&&u.ctx&&e==u.canvas)return u.ctx;var a,i;if(n){var s={antialias:!1,alpha:!1,majorVersion:1};if(o)for(var l in o)s[l]=o[l];typeof GL<"u"&&(i=GL.createContext(e,s))&&(a=GL.getContext(i).GLctx)}else a=e.getContext("2d");return a?(t&&(n||z(typeof GLctx>"u","cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),u.ctx=a,n&&GL.makeContextCurrent(i),u.useWebGL=n,c.moduleContextCreatedCallbacks.forEach(function(f){f()}),c.init()),a):null},destroyContext:function(e,n,t){},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen:function(e,n,t){c.lockPointer=e,c.resizeCanvas=n,c.vrDevice=t,c.lockPointer===void 0&&(c.lockPointer=!0),c.resizeCanvas===void 0&&(c.resizeCanvas=!1),c.vrDevice===void 0&&(c.vrDevice=null);var o=u.canvas;function a(){c.isFullscreen=!1;var s=o.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===s?(o.exitFullscreen=c.exitFullscreen,c.lockPointer&&o.requestPointerLock(),c.isFullscreen=!0,c.resizeCanvas?c.setFullscreenCanvasSize():c.updateCanvasDimensions(o)):(s.parentNode.insertBefore(o,s),s.parentNode.removeChild(s),c.resizeCanvas?c.setWindowedCanvasSize():c.updateCanvasDimensions(o)),u.onFullScreen&&u.onFullScreen(c.isFullscreen),u.onFullscreen&&u.onFullscreen(c.isFullscreen)}c.fullscreenHandlersInstalled||(c.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",a,!1),document.addEventListener("mozfullscreenchange",a,!1),document.addEventListener("webkitfullscreenchange",a,!1),document.addEventListener("MSFullscreenChange",a,!1));var i=document.createElement("div");o.parentNode.insertBefore(i,o),i.appendChild(o),i.requestFullscreen=i.requestFullscreen||i.mozRequestFullScreen||i.msRequestFullscreen||(i.webkitRequestFullscreen?function(){i.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}:null)||(i.webkitRequestFullScreen?function(){i.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),t?i.requestFullscreen({vrDisplay:t}):i.requestFullscreen()},requestFullScreen:function(e,n,t){return N("Browser.requestFullScreen() is deprecated. Please call Browser.requestFullscreen instead."),c.requestFullScreen=function(o,a,i){return c.requestFullscreen(o,a,i)},c.requestFullscreen(e,n,t)},exitFullscreen:function(){return!!c.isFullscreen&&((document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||function(){}).apply(document,[]),!0)},nextRAF:0,fakeRequestAnimationFrame:function(e){var n=Date.now();if(c.nextRAF===0)c.nextRAF=n+1e3/60;else for(;n+2>=c.nextRAF;)c.nextRAF+=1e3/60;var t=Math.max(c.nextRAF-n,0);setTimeout(e,t)},requestAnimationFrame:function(e){typeof requestAnimationFrame!="function"?(0,c.fakeRequestAnimationFrame)(e):requestAnimationFrame(e)},safeCallback:function(e){return function(){if(!X)return e.apply(null,arguments)}},allowAsyncCallbacks:!0,queuedAsyncCallbacks:[],pauseAsyncCallbacks:function(){c.allowAsyncCallbacks=!1},resumeAsyncCallbacks:function(){if(c.allowAsyncCallbacks=!0,0<c.queuedAsyncCallbacks.length){var e=c.queuedAsyncCallbacks;c.queuedAsyncCallbacks=[],e.forEach(function(n){n()})}},safeRequestAnimationFrame:function(e){return c.requestAnimationFrame(function(){X||(c.allowAsyncCallbacks?e():c.queuedAsyncCallbacks.push(e))})},safeSetTimeout:function(e,n){return u.noExitRuntime=!0,setTimeout(function(){X||(c.allowAsyncCallbacks?e():c.queuedAsyncCallbacks.push(e))},n)},safeSetInterval:function(e,n){return u.noExitRuntime=!0,setInterval(function(){X||c.allowAsyncCallbacks&&e()},n)},getMimetype:function(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(e.lastIndexOf(".")+1)]},getUserMedia:function(e){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(e)},getMovementX:function(e){return e.movementX||e.mozMovementX||e.webkitMovementX||0},getMovementY:function(e){return e.movementY||e.mozMovementY||e.webkitMovementY||0},getMouseWheelDelta:function(e){var n=0;switch(e.type){case"DOMMouseScroll":n=e.detail/3;break;case"mousewheel":n=e.wheelDelta/120;break;case"wheel":switch(n=e.deltaY,e.deltaMode){case 0:n/=100;break;case 1:n/=3;break;case 2:n*=80;break;default:throw"unrecognized mouse wheel delta mode: "+e.deltaMode}break;default:throw"unrecognized mouse wheel event: "+e.type}return n},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(e){if(c.pointerLock)e.type!="mousemove"&&"mozMovementX"in e?c.mouseMovementX=c.mouseMovementY=0:(c.mouseMovementX=c.getMovementX(e),c.mouseMovementY=c.getMovementY(e)),typeof SDL<"u"?(c.mouseX=SDL.mouseX+c.mouseMovementX,c.mouseY=SDL.mouseY+c.mouseMovementY):(c.mouseX+=c.mouseMovementX,c.mouseY+=c.mouseMovementY);else{var n=u.canvas.getBoundingClientRect(),t=u.canvas.width,o=u.canvas.height,a=window.scrollX!==void 0?window.scrollX:window.pageXOffset,i=window.scrollY!==void 0?window.scrollY:window.pageYOffset;if(e.type==="touchstart"||e.type==="touchend"||e.type==="touchmove"){var s=e.touch;if(s===void 0)return;var l=s.pageX-(a+n.left),f=s.pageY-(i+n.top),m={x:l*=t/n.width,y:f*=o/n.height};if(e.type==="touchstart")c.lastTouches[s.identifier]=m,c.touches[s.identifier]=m;else if(e.type==="touchend"||e.type==="touchmove"){var d=c.touches[s.identifier];d=d||m,c.lastTouches[s.identifier]=d,c.touches[s.identifier]=m}return}var g=e.pageX-(a+n.left),h=e.pageY-(i+n.top);g*=t/n.width,h*=o/n.height,c.mouseMovementX=g-c.mouseX,c.mouseMovementY=h-c.mouseY,c.mouseX=g,c.mouseY=h}},asyncLoad:function(e,n,t,o){var a=o?"":"al "+e;Xe(e,function(i){z(i,'Loading data file "'+e+'" failed (no arrayBuffer).'),n(new Uint8Array(i)),a&&ve()},function(i){if(!t)throw'Loading data file "'+e+'" failed.';t()}),a&&je()},resizeListeners:[],updateResizeListeners:function(){var e=u.canvas;c.resizeListeners.forEach(function(n){n(e.width,e.height)})},setCanvasSize:function(e,n,t){var o=u.canvas;c.updateCanvasDimensions(o,e,n),t||c.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if(typeof SDL<"u"){var e=Oe[SDL.screen>>2];e|=8388608,v[SDL.screen>>2]=e}c.updateCanvasDimensions(u.canvas),c.updateResizeListeners()},setWindowedCanvasSize:function(){if(typeof SDL<"u"){var e=Oe[SDL.screen>>2];e&=-8388609,v[SDL.screen>>2]=e}c.updateCanvasDimensions(u.canvas),c.updateResizeListeners()},updateCanvasDimensions:function(e,n,t){n&&t?(e.widthNative=n,e.heightNative=t):(n=e.widthNative,t=e.heightNative);var o=n,a=t;if(u.forcedAspectRatio&&0<u.forcedAspectRatio&&(o/a<u.forcedAspectRatio?o=Math.round(a*u.forcedAspectRatio):a=Math.round(o/u.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&typeof screen<"u"){var i=Math.min(screen.width/o,screen.height/a);o=Math.round(o*i),a=Math.round(a*i)}c.resizeCanvas?(e.width!=o&&(e.width=o),e.height!=a&&(e.height=a),e.style!==void 0&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=n&&(e.width=n),e.height!=t&&(e.height=t),e.style!==void 0&&(o!=n||a!=t?(e.style.setProperty("width",o+"px","important"),e.style.setProperty("height",a+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))},wgetRequests:{},nextWgetRequestHandle:0,getNextWgetRequestHandle:function(){var e=c.nextWgetRequestHandle;return c.nextWgetRequestHandle++,e}};function lt(e,n,t){function o(){Sn(e,"vi")(n)}u.noExitRuntime=!0,0<=t?c.safeSetTimeout(o,t):c.safeRequestAnimationFrame(o)}function ft(){return U.length}function dt(e){vn(e)}var fn={};function pe(e){return e===0?0:(e=le(e),fn.hasOwnProperty(e)?(pe.ret&&hn(pe.ret),pe.ret=An(fn[e]),pe.ret):0)}function mt(e){var n=qe,t=n.LLVM_SAVEDSTACKS[e];n.LLVM_SAVEDSTACKS.splice(e,1),gn(t)}function qe(){var e=qe;return e.LLVM_SAVEDSTACKS||(e.LLVM_SAVEDSTACKS=[]),e.LLVM_SAVEDSTACKS.push(wn()),e.LLVM_SAVEDSTACKS.length-1}function pt(e,n,t){re.set(re.subarray(n,n+t),e)}function ht(e){return 0}function gt(){}function wt(){return 0}function vt(){return 0}function yt(){return 0}function _t(){return 11}function Et(){}function dn(e){O("OOM")}function kt(e){dn()}function _e(e){return e%4==0&&(e%100!=0||e%400==0)}function Ue(e,n){for(var t=0,o=0;o<=n;t+=e[o++]);return t}var Ee=[31,29,31,30,31,30,31,31,30,31,30,31],ke=[31,28,31,30,31,30,31,31,30,31,30,31];function be(e,n){for(var t=new Date(e.getTime());0<n;){var o=_e(t.getFullYear()),a=t.getMonth(),i=(o?Ee:ke)[a];if(!(n>i-t.getDate()))return t.setDate(t.getDate()+n),t;n-=i-t.getDate()+1,t.setDate(1),a<11?t.setMonth(a+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return t}function bt(e,n,t,o){var a=v[o+40>>2],i={tm_sec:v[o>>2],tm_min:v[o+4>>2],tm_hour:v[o+8>>2],tm_mday:v[o+12>>2],tm_mon:v[o+16>>2],tm_year:v[o+20>>2],tm_wday:v[o+24>>2],tm_yday:v[o+28>>2],tm_isdst:v[o+32>>2],tm_gmtoff:v[o+36>>2],tm_zone:a?le(a):""},s=le(t),l={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var f in l)s=s.replace(new RegExp(f,"g"),l[f]);var m=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d=["January","February","March","April","May","June","July","August","September","October","November","December"];function g(p,w,A){for(var S=typeof p=="number"?p.toString():p||"";S.length<w;)S=A[0]+S;return S}function h(p,w){return g(p,w,"0")}function y(p,w){function A(L){return L<0?-1:0<L?1:0}var S;return(S=A(p.getFullYear()-w.getFullYear()))===0&&(S=A(p.getMonth()-w.getMonth()))===0&&(S=A(p.getDate()-w.getDate())),S}function D(p){switch(p.getDay()){case 0:return new Date(p.getFullYear()-1,11,29);case 1:return p;case 2:return new Date(p.getFullYear(),0,3);case 3:return new Date(p.getFullYear(),0,2);case 4:return new Date(p.getFullYear(),0,1);case 5:return new Date(p.getFullYear()-1,11,31);case 6:return new Date(p.getFullYear()-1,11,30)}}function F(p){var w=be(new Date(p.tm_year+1900,0,1),p.tm_yday),A=new Date(w.getFullYear(),0,4),S=new Date(w.getFullYear()+1,0,4),L=D(A),ee=D(S);return y(L,w)<=0?y(ee,w)<=0?w.getFullYear()+1:w.getFullYear():w.getFullYear()-1}var B={"%a":function(p){return m[p.tm_wday].substring(0,3)},"%A":function(p){return m[p.tm_wday]},"%b":function(p){return d[p.tm_mon].substring(0,3)},"%B":function(p){return d[p.tm_mon]},"%C":function(p){return h((p.tm_year+1900)/100|0,2)},"%d":function(p){return h(p.tm_mday,2)},"%e":function(p){return g(p.tm_mday,2," ")},"%g":function(p){return F(p).toString().substring(2)},"%G":function(p){return F(p)},"%H":function(p){return h(p.tm_hour,2)},"%I":function(p){var w=p.tm_hour;return w==0?w=12:12<w&&(w-=12),h(w,2)},"%j":function(p){return h(p.tm_mday+Ue(_e(p.tm_year+1900)?Ee:ke,p.tm_mon-1),3)},"%m":function(p){return h(p.tm_mon+1,2)},"%M":function(p){return h(p.tm_min,2)},"%n":function(){return`
`},"%p":function(p){return 0<=p.tm_hour&&p.tm_hour<12?"AM":"PM"},"%S":function(p){return h(p.tm_sec,2)},"%t":function(){return"	"},"%u":function(p){return p.tm_wday||7},"%U":function(p){var w=new Date(p.tm_year+1900,0,1),A=w.getDay()===0?w:be(w,7-w.getDay()),S=new Date(p.tm_year+1900,p.tm_mon,p.tm_mday);if(y(A,S)<0){var L=Ue(_e(S.getFullYear())?Ee:ke,S.getMonth()-1)-31,ee=31-A.getDate()+L+S.getDate();return h(Math.ceil(ee/7),2)}return y(A,w)===0?"01":"00"},"%V":function(p){var w,A=new Date(p.tm_year+1900,0,4),S=new Date(p.tm_year+1901,0,4),L=D(A),ee=D(S),_n=be(new Date(p.tm_year+1900,0,1),p.tm_yday);return y(_n,L)<0?"53":y(ee,_n)<=0?"01":(w=L.getFullYear()<p.tm_year+1900?p.tm_yday+32-L.getDate():p.tm_yday+1-L.getDate(),h(Math.ceil(w/7),2))},"%w":function(p){return p.tm_wday},"%W":function(p){var w=new Date(p.tm_year,0,1),A=w.getDay()===1?w:be(w,w.getDay()===0?1:7-w.getDay()+1),S=new Date(p.tm_year+1900,p.tm_mon,p.tm_mday);if(y(A,S)<0){var L=Ue(_e(S.getFullYear())?Ee:ke,S.getMonth()-1)-31,ee=31-A.getDate()+L+S.getDate();return h(Math.ceil(ee/7),2)}return y(A,w)===0?"01":"00"},"%y":function(p){return(p.tm_year+1900).toString().substring(2)},"%Y":function(p){return p.tm_year+1900},"%z":function(p){var w=p.tm_gmtoff,A=0<=w;return w=(w=Math.abs(w)/60)/60*100+w%60,(A?"+":"-")+("0000"+w).slice(-4)},"%Z":function(p){return p.tm_zone},"%%":function(){return"%"}};for(var f in B)0<=s.indexOf(f)&&(s=s.replace(new RegExp(f,"g"),B[f](i)));var M=De(s,!1);return M.length>n?0:(en(M,e),M.length-1)}function Dt(e,n,t,o){return bt(e,n,t,o)}if(r.staticInit(),ge){var x=he,mn=he;b.staticInit()}function De(e,n,t){var o=de(e)+1,a=new Array(o),i=fe(e,a,0,a.length);return n&&(a.length=i),a}ye=Z?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:typeof dateNow<"u"?dateNow:typeof performance=="object"&&performance&&typeof performance.now=="function"?function(){return performance.now()}:Date.now,u.requestFullScreen=function(e,n,t){N("Module.requestFullScreen is deprecated. Please call Module.requestFullscreen instead."),u.requestFullScreen=u.requestFullscreen,c.requestFullScreen(e,n,t)},u.requestFullscreen=function(e,n,t){c.requestFullscreen(e,n,t)},u.requestAnimationFrame=function(e){c.requestAnimationFrame(e)},u.setCanvasSize=function(e,n,t){c.setCanvasSize(e,n,t)},u.pauseMainLoop=function(){c.mainLoop.pause()},u.resumeMainLoop=function(){c.mainLoop.resume()},u.getUserMedia=function(){c.getUserMedia()},u.createContext=function(e,n,t,o){return c.createContext(e,n,t,o)};var St={},Ft={c:O,r:Ke,x:Ze,w:Yn,e:Hn,d:Wn,v:Xn,i:Vn,u:Gn,l:J,t:Kn,s:Zn,q:$n,p:Jn,M:Qn,o:et,n:nt,L:rt,h:ot,b:at,K:ut,k:lt,J:ft,I:pt,H:kt,G:dt,j:pe,g:mt,f:qe,F:ht,E:gt,D:wt,C:vt,m:yt,B:_t,A:Et,z:Dt,y:dn,a:rn},pn=u.asm(St,Ft,q);u.asm=pn;var Se=u.__ZSt18uncaught_exceptionv=function(){return u.asm.N.apply(null,arguments)};u.___errno_location=function(){return u.asm.O.apply(null,arguments)};var hn=u._free=function(){return u.asm.P.apply(null,arguments)},Mt=u._i64Add=function(){return u.asm.Q.apply(null,arguments)};u._main=function(){return u.asm.R.apply(null,arguments)};var Ye=u._malloc=function(){return u.asm.S.apply(null,arguments)};u._uci_command=function(){return u.asm.T.apply(null,arguments)};var At=u.globalCtors=function(){return u.asm.ma.apply(null,arguments)},Fe=u.stackAlloc=function(){return u.asm.na.apply(null,arguments)},gn=u.stackRestore=function(){return u.asm.oa.apply(null,arguments)},wn=u.stackSave=function(){return u.asm.pa.apply(null,arguments)};u.dynCall_ii=function(){return u.asm.U.apply(null,arguments)},u.dynCall_iii=function(){return u.asm.V.apply(null,arguments)},u.dynCall_iiii=function(){return u.asm.W.apply(null,arguments)},u.dynCall_iiiii=function(){return u.asm.X.apply(null,arguments)},u.dynCall_iiiiid=function(){return u.asm.Y.apply(null,arguments)},u.dynCall_iiiiii=function(){return u.asm.Z.apply(null,arguments)},u.dynCall_iiiiiid=function(){return u.asm._.apply(null,arguments)},u.dynCall_iiiiiii=function(){return u.asm.$.apply(null,arguments)},u.dynCall_iiiiiiii=function(){return u.asm.aa.apply(null,arguments)},u.dynCall_iiiiiiiii=function(){return u.asm.ba.apply(null,arguments)},u.dynCall_iiiiij=function(){return u.asm.ca.apply(null,arguments)},u.dynCall_jiji=function(){return u.asm.da.apply(null,arguments)},u.dynCall_v=function(){return u.asm.ea.apply(null,arguments)},u.dynCall_vi=function(){return u.asm.fa.apply(null,arguments)},u.dynCall_vii=function(){return u.asm.ga.apply(null,arguments)},u.dynCall_viii=function(){return u.asm.ha.apply(null,arguments)},u.dynCall_viiii=function(){return u.asm.ia.apply(null,arguments)},u.dynCall_viiiii=function(){return u.asm.ja.apply(null,arguments)},u.dynCall_viiiiii=function(){return u.asm.ka.apply(null,arguments)},u.dynCall_viijii=function(){return u.asm.la.apply(null,arguments)};function Me(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}u.asm=pn,u.ccall=Mn;function Lt(e){var n=(e=e||[]).length+1,t=Fe(4*(n+1));v[t>>2]=Qe(K);for(var o=1;o<n;o++)v[(t>>2)+o]=Qe(e[o-1]);v[(t>>2)+n]=0;try{vn(u._main(n,t),!0)}catch(i){if(i instanceof Me)return;if(i=="SimulateInfiniteLoop")return void(u.noExitRuntime=!0);var a=i;i&&typeof i=="object"&&i.stack&&(a=[i,i.stack]),N("exception thrown: "+a),ae(1,i)}finally{}}function He(e){function n(){u.calledRun||(u.calledRun=!0,X||(Cn(),On(),u.onRuntimeInitialized&&u.onRuntimeInitialized(),yn&&Lt(e),Bn()))}e=e||j,0<$||(Pn(),0<$||u.calledRun||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),n()},1)):n()))}function vn(e,n){n&&u.noExitRuntime&&e===0||(u.noExitRuntime||(X=!0,u.onExit&&u.onExit(e)),ae(e,new Me(e)))}function O(e){throw u.onAbort&&u.onAbort(e),Re(e+=""),N(e),X=!0,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}if(me=function e(){u.calledRun||He(),u.calledRun||(me=e)},u.run=He,u.abort=O,u.preInit)for(typeof u.preInit=="function"&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();var yn=!0;u.noInitialRun&&(yn=!1),u.noExitRuntime=!0,He()})(Ae)),Ae.exports}var kn=Bt();const Nt=xt(kn),jt=Pt({__proto__:null,default:Nt},[kn]);export{jt as s};
