(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();function mk(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Kf={exports:{}},Mo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function pk(){if(dv)return Mo;dv=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var f in o)f!=="key"&&(c[f]=o[f])}else c=o;return o=c.ref,{$$typeof:e,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Mo.Fragment=t,Mo.jsx=s,Mo.jsxs=s,Mo}var fv;function gk(){return fv||(fv=1,Kf.exports=pk()),Kf.exports}var u=gk(),Ff={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function yk(){if(hv)return Ue;hv=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function x(E){return E===null||typeof E!="object"?null:(E=b&&E[b]||E["@@iterator"],typeof E=="function"?E:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,k={};function A(E,G,ae){this.props=E,this.context=G,this.refs=k,this.updater=ae||S}A.prototype.isReactComponent={},A.prototype.setState=function(E,G){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,G,"setState")},A.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function N(){}N.prototype=A.prototype;function T(E,G,ae){this.props=E,this.context=G,this.refs=k,this.updater=ae||S}var _=T.prototype=new N;_.constructor=T,j(_,A.prototype),_.isPureReactComponent=!0;var P=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function Q(E,G,ae,te,ue,pe){return ae=pe.ref,{$$typeof:e,type:E,key:G,ref:ae!==void 0?ae:null,props:pe}}function L(E,G){return Q(E.type,G,void 0,void 0,void 0,E.props)}function Z(E){return typeof E=="object"&&E!==null&&E.$$typeof===e}function re(E){var G={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(ae){return G[ae]})}var he=/\/+/g;function ne(E,G){return typeof E=="object"&&E!==null&&E.key!=null?re(""+E.key):G.toString(36)}function ye(){}function le(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(ye,ye):(E.status="pending",E.then(function(G){E.status==="pending"&&(E.status="fulfilled",E.value=G)},function(G){E.status==="pending"&&(E.status="rejected",E.reason=G)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function me(E,G,ae,te,ue){var pe=typeof E;(pe==="undefined"||pe==="boolean")&&(E=null);var ce=!1;if(E===null)ce=!0;else switch(pe){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(E.$$typeof){case e:case t:ce=!0;break;case y:return ce=E._init,me(ce(E._payload),G,ae,te,ue)}}if(ce)return ue=ue(E),ce=te===""?"."+ne(E,0):te,P(ue)?(ae="",ce!=null&&(ae=ce.replace(he,"$&/")+"/"),me(ue,G,ae,"",function(ft){return ft})):ue!=null&&(Z(ue)&&(ue=L(ue,ae+(ue.key==null||E&&E.key===ue.key?"":(""+ue.key).replace(he,"$&/")+"/")+ce)),G.push(ue)),1;ce=0;var Te=te===""?".":te+":";if(P(E))for(var Pe=0;Pe<E.length;Pe++)te=E[Pe],pe=Te+ne(te,Pe),ce+=me(te,G,ae,pe,ue);else if(Pe=x(E),typeof Pe=="function")for(E=Pe.call(E),Pe=0;!(te=E.next()).done;)te=te.value,pe=Te+ne(te,Pe++),ce+=me(te,G,ae,pe,ue);else if(pe==="object"){if(typeof E.then=="function")return me(le(E),G,ae,te,ue);throw G=String(E),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return ce}function B(E,G,ae){if(E==null)return E;var te=[],ue=0;return me(E,te,"","",function(pe){return G.call(ae,pe,ue++)}),te}function V(E){if(E._status===-1){var G=E._result;G=G(),G.then(function(ae){(E._status===0||E._status===-1)&&(E._status=1,E._result=ae)},function(ae){(E._status===0||E._status===-1)&&(E._status=2,E._result=ae)}),E._status===-1&&(E._status=0,E._result=G)}if(E._status===1)return E._result.default;throw E._result}var X=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function oe(){}return Ue.Children={map:B,forEach:function(E,G,ae){B(E,function(){G.apply(this,arguments)},ae)},count:function(E){var G=0;return B(E,function(){G++}),G},toArray:function(E){return B(E,function(G){return G})||[]},only:function(E){if(!Z(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Ue.Component=A,Ue.Fragment=s,Ue.Profiler=o,Ue.PureComponent=T,Ue.StrictMode=a,Ue.Suspense=m,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(E){return R.H.useMemoCache(E)}},Ue.cache=function(E){return function(){return E.apply(null,arguments)}},Ue.cloneElement=function(E,G,ae){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var te=j({},E.props),ue=E.key,pe=void 0;if(G!=null)for(ce in G.ref!==void 0&&(pe=void 0),G.key!==void 0&&(ue=""+G.key),G)!K.call(G,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&G.ref===void 0||(te[ce]=G[ce]);var ce=arguments.length-2;if(ce===1)te.children=ae;else if(1<ce){for(var Te=Array(ce),Pe=0;Pe<ce;Pe++)Te[Pe]=arguments[Pe+2];te.children=Te}return Q(E.type,ue,void 0,void 0,pe,te)},Ue.createContext=function(E){return E={$$typeof:d,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:c,_context:E},E},Ue.createElement=function(E,G,ae){var te,ue={},pe=null;if(G!=null)for(te in G.key!==void 0&&(pe=""+G.key),G)K.call(G,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(ue[te]=G[te]);var ce=arguments.length-2;if(ce===1)ue.children=ae;else if(1<ce){for(var Te=Array(ce),Pe=0;Pe<ce;Pe++)Te[Pe]=arguments[Pe+2];ue.children=Te}if(E&&E.defaultProps)for(te in ce=E.defaultProps,ce)ue[te]===void 0&&(ue[te]=ce[te]);return Q(E,pe,void 0,void 0,null,ue)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(E){return{$$typeof:f,render:E}},Ue.isValidElement=Z,Ue.lazy=function(E){return{$$typeof:y,_payload:{_status:-1,_result:E},_init:V}},Ue.memo=function(E,G){return{$$typeof:g,type:E,compare:G===void 0?null:G}},Ue.startTransition=function(E){var G=R.T,ae={};R.T=ae;try{var te=E(),ue=R.S;ue!==null&&ue(ae,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(oe,X)}catch(pe){X(pe)}finally{R.T=G}},Ue.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ue.use=function(E){return R.H.use(E)},Ue.useActionState=function(E,G,ae){return R.H.useActionState(E,G,ae)},Ue.useCallback=function(E,G){return R.H.useCallback(E,G)},Ue.useContext=function(E){return R.H.useContext(E)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(E,G){return R.H.useDeferredValue(E,G)},Ue.useEffect=function(E,G,ae){var te=R.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(E,G)},Ue.useId=function(){return R.H.useId()},Ue.useImperativeHandle=function(E,G,ae){return R.H.useImperativeHandle(E,G,ae)},Ue.useInsertionEffect=function(E,G){return R.H.useInsertionEffect(E,G)},Ue.useLayoutEffect=function(E,G){return R.H.useLayoutEffect(E,G)},Ue.useMemo=function(E,G){return R.H.useMemo(E,G)},Ue.useOptimistic=function(E,G){return R.H.useOptimistic(E,G)},Ue.useReducer=function(E,G,ae){return R.H.useReducer(E,G,ae)},Ue.useRef=function(E){return R.H.useRef(E)},Ue.useState=function(E){return R.H.useState(E)},Ue.useSyncExternalStore=function(E,G,ae){return R.H.useSyncExternalStore(E,G,ae)},Ue.useTransition=function(){return R.H.useTransition()},Ue.version="19.1.1",Ue}var mv;function jm(){return mv||(mv=1,Ff.exports=yk()),Ff.exports}var v=jm();const Tt=mk(v);var Yf={exports:{}},_o={},If={exports:{}},Qf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function vk(){return pv||(pv=1,(function(e){function t(B,V){var X=B.length;B.push(V);e:for(;0<X;){var oe=X-1>>>1,E=B[oe];if(0<o(E,V))B[oe]=V,B[X]=E,X=oe;else break e}}function s(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var V=B[0],X=B.pop();if(X!==V){B[0]=X;e:for(var oe=0,E=B.length,G=E>>>1;oe<G;){var ae=2*(oe+1)-1,te=B[ae],ue=ae+1,pe=B[ue];if(0>o(te,X))ue<E&&0>o(pe,te)?(B[oe]=pe,B[ue]=X,oe=ue):(B[oe]=te,B[ae]=X,oe=ae);else if(ue<E&&0>o(pe,X))B[oe]=pe,B[ue]=X,oe=ue;else break e}}return V}function o(B,V){var X=B.sortIndex-V.sortIndex;return X!==0?X:B.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,f=d.now();e.unstable_now=function(){return d.now()-f}}var m=[],g=[],y=1,b=null,x=3,S=!1,j=!1,k=!1,A=!1,N=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function P(B){for(var V=s(g);V!==null;){if(V.callback===null)a(g);else if(V.startTime<=B)a(g),V.sortIndex=V.expirationTime,t(m,V);else break;V=s(g)}}function R(B){if(k=!1,P(B),!j)if(s(m)!==null)j=!0,K||(K=!0,ne());else{var V=s(g);V!==null&&me(R,V.startTime-B)}}var K=!1,Q=-1,L=5,Z=-1;function re(){return A?!0:!(e.unstable_now()-Z<L)}function he(){if(A=!1,K){var B=e.unstable_now();Z=B;var V=!0;try{e:{j=!1,k&&(k=!1,T(Q),Q=-1),S=!0;var X=x;try{t:{for(P(B),b=s(m);b!==null&&!(b.expirationTime>B&&re());){var oe=b.callback;if(typeof oe=="function"){b.callback=null,x=b.priorityLevel;var E=oe(b.expirationTime<=B);if(B=e.unstable_now(),typeof E=="function"){b.callback=E,P(B),V=!0;break t}b===s(m)&&a(m),P(B)}else a(m);b=s(m)}if(b!==null)V=!0;else{var G=s(g);G!==null&&me(R,G.startTime-B),V=!1}}break e}finally{b=null,x=X,S=!1}V=void 0}}finally{V?ne():K=!1}}}var ne;if(typeof _=="function")ne=function(){_(he)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,le=ye.port2;ye.port1.onmessage=he,ne=function(){le.postMessage(null)}}else ne=function(){N(he,0)};function me(B,V){Q=N(function(){B(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(B){switch(x){case 1:case 2:case 3:var V=3;break;default:V=x}var X=x;x=V;try{return B()}finally{x=X}},e.unstable_requestPaint=function(){A=!0},e.unstable_runWithPriority=function(B,V){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var X=x;x=B;try{return V()}finally{x=X}},e.unstable_scheduleCallback=function(B,V,X){var oe=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?oe+X:oe):X=oe,B){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=X+E,B={id:y++,callback:V,priorityLevel:B,startTime:X,expirationTime:E,sortIndex:-1},X>oe?(B.sortIndex=X,t(g,B),s(m)===null&&B===s(g)&&(k?(T(Q),Q=-1):k=!0,me(R,X-oe))):(B.sortIndex=E,t(m,B),j||S||(j=!0,K||(K=!0,ne()))),B},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(B){var V=x;return function(){var X=x;x=V;try{return B.apply(this,arguments)}finally{x=X}}}})(Qf)),Qf}var gv;function bk(){return gv||(gv=1,If.exports=vk()),If.exports}var Xf={exports:{}},Sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function xk(){if(yv)return Sn;yv=1;var e=jm();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,g,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:m,containerInfo:g,implementation:y}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Sn.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return c(m,g,null,y)},Sn.flushSync=function(m){var g=d.T,y=a.p;try{if(d.T=null,a.p=2,m)return m()}finally{d.T=g,a.p=y,a.d.f()}},Sn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(m,g))},Sn.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},Sn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,b=f(y,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?a.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:S}):y==="script"&&a.d.X(m,{crossOrigin:b,integrity:x,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Sn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=f(g.as,g.crossOrigin);a.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(m)},Sn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,b=f(y,g.crossOrigin);a.d.L(m,y,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Sn.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=f(g.as,g.crossOrigin);a.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(m)},Sn.requestFormReset=function(m){a.d.r(m)},Sn.unstable_batchedUpdates=function(m,g){return m(g)},Sn.useFormState=function(m,g,y){return d.H.useFormState(m,g,y)},Sn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Sn.version="19.1.1",Sn}var vv;function Vx(){if(vv)return Xf.exports;vv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Xf.exports=xk(),Xf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function wk(){if(bv)return _o;bv=1;var e=bk(),t=jm(),s=Vx();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var i=n,r=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(r=i.return),n=i.return;while(n)}return i.tag===3?r:null}function d(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function f(n){if(c(n)!==n)throw Error(a(188))}function m(n){var i=n.alternate;if(!i){if(i=c(n),i===null)throw Error(a(188));return i!==n?null:n}for(var r=n,l=i;;){var h=r.return;if(h===null)break;var p=h.alternate;if(p===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===r)return f(h),n;if(p===l)return f(h),i;p=p.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=p;else{for(var w=!1,C=h.child;C;){if(C===r){w=!0,r=h,l=p;break}if(C===l){w=!0,l=h,r=p;break}C=C.sibling}if(!w){for(C=p.child;C;){if(C===r){w=!0,r=p,l=h;break}if(C===l){w=!0,l=p,r=h;break}C=C.sibling}if(!w)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),_=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),he=Symbol.iterator;function ne(n){return n===null||typeof n!="object"?null:(n=he&&n[he]||n["@@iterator"],typeof n=="function"?n:null)}var ye=Symbol.for("react.client.reference");function le(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ye?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case j:return"Fragment";case A:return"Profiler";case k:return"StrictMode";case R:return"Suspense";case K:return"SuspenseList";case Z:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case S:return"Portal";case _:return(n.displayName||"Context")+".Provider";case T:return(n._context.displayName||"Context")+".Consumer";case P:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Q:return i=n.displayName||null,i!==null?i:le(n.type)||"Memo";case L:i=n._payload,n=n._init;try{return le(n(i))}catch{}}return null}var me=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},oe=[],E=-1;function G(n){return{current:n}}function ae(n){0>E||(n.current=oe[E],oe[E]=null,E--)}function te(n,i){E++,oe[E]=n.current,n.current=i}var ue=G(null),pe=G(null),ce=G(null),Te=G(null);function Pe(n,i){switch(te(ce,i),te(pe,n),te(ue,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?qy(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=qy(i),n=Uy(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ae(ue),te(ue,n)}function ft(){ae(ue),ae(pe),ae(ce)}function Ze(n){n.memoizedState!==null&&te(Te,n);var i=ue.current,r=Uy(i,n.type);i!==r&&(te(pe,n),te(ue,r))}function st(n){pe.current===n&&(ae(ue),ae(pe)),Te.current===n&&(ae(Te),jo._currentValue=X)}var fe=Object.prototype.hasOwnProperty,Ee=e.unstable_scheduleCallback,qe=e.unstable_cancelCallback,We=e.unstable_shouldYield,ot=e.unstable_requestPaint,Je=e.unstable_now,vt=e.unstable_getCurrentPriorityLevel,qt=e.unstable_ImmediatePriority,de=e.unstable_UserBlockingPriority,Ce=e.unstable_NormalPriority,ut=e.unstable_LowPriority,Ve=e.unstable_IdlePriority,jt=e.log,Nt=e.unstable_setDisableYieldValue,lt=null,Ge=null;function ie(n){if(typeof jt=="function"&&Nt(n),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(lt,n)}catch{}}var Me=Math.clz32?Math.clz32:Qe,wt=Math.log,ze=Math.LN2;function Qe(n){return n>>>=0,n===0?32:31-(wt(n)/ze|0)|0}var at=256,jn=4194304;function St(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function an(n,i,r){var l=n.pendingLanes;if(l===0)return 0;var h=0,p=n.suspendedLanes,w=n.pingedLanes;n=n.warmLanes;var C=l&134217727;return C!==0?(l=C&~p,l!==0?h=St(l):(w&=C,w!==0?h=St(w):r||(r=C&~n,r!==0&&(h=St(r))))):(C=l&~p,C!==0?h=St(C):w!==0?h=St(w):r||(r=l&~n,r!==0&&(h=St(r)))),h===0?0:i!==0&&i!==h&&(i&p)===0&&(p=h&-h,r=i&-i,p>=r||p===32&&(r&4194048)!==0)?i:h}function rn(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Wn(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ge(){var n=at;return at<<=1,(at&4194048)===0&&(at=256),n}function Un(){var n=jn;return jn<<=1,(jn&62914560)===0&&(jn=4194304),n}function Yi(n){for(var i=[],r=0;31>r;r++)i.push(n);return i}function At(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function pn(n,i,r,l,h,p){var w=n.pendingLanes;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=r,n.entangledLanes&=r,n.errorRecoveryDisabledLanes&=r,n.shellSuspendCounter=0;var C=n.entanglements,M=n.expirationTimes,U=n.hiddenUpdates;for(r=w&~r;0<r;){var W=31-Me(r),ee=1<<W;C[W]=0,M[W]=-1;var H=U[W];if(H!==null)for(U[W]=null,W=0;W<H.length;W++){var $=H[W];$!==null&&($.lane&=-536870913)}r&=~ee}l!==0&&on(n,l,0),p!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=p&~(w&~i))}function on(n,i,r){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-Me(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|r&4194090}function Vn(n,i){var r=n.entangledLanes|=i;for(n=n.entanglements;r;){var l=31-Me(r),h=1<<l;h&i|n[l]&i&&(n[l]|=i),r&=~h}}function ln(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Zt(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Nn(){var n=V.p;return n!==0?n:(n=window.event,n===void 0?32:av(n.type))}function F(n,i){var r=V.p;try{return V.p=n,i()}finally{V.p=r}}var it=Math.random().toString(36).slice(2),Fe="__reactFiber$"+it,dt="__reactProps$"+it,se="__reactContainer$"+it,Tn="__reactEvents$"+it,Ct="__reactListeners$"+it,Ut="__reactHandles$"+it,js="__reactResources$"+it,Lt="__reactMarker$"+it;function Ta(n){delete n[Fe],delete n[dt],delete n[Tn],delete n[Ct],delete n[Ut]}function Bs(n){var i=n[Fe];if(i)return i;for(var r=n.parentNode;r;){if(i=r[se]||r[Fe]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(n=Gy(n);n!==null;){if(r=n[Fe])return r;n=Gy(n)}return i}n=r,r=n.parentNode}return null}function we(n){if(n=n[Fe]||n[se]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function Ii(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function qs(n){var i=n[js];return i||(i=n[js]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Gt(n){n[Lt]=!0}var Dr=new Set,Cl={};function Us(n,i){di(n,i),di(n+"Capture",i)}function di(n,i){for(Cl[n]=i,n=0;n<i.length;n++)Dr.add(i[n])}var kl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lr={},jl={};function Uu(n){return fe.call(jl,n)?!0:fe.call(Lr,n)?!1:kl.test(n)?jl[n]=!0:(Lr[n]=!0,!1)}function Aa(n,i,r){if(Uu(i))if(r===null)n.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+r)}}function Qi(n,i,r){if(r===null)n.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+r)}}function Hn(n,i,r,l){if(l===null)n.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttributeNS(i,r,""+l)}}var Or,Nl;function Vs(n){if(Or===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);Or=i&&i[1]||"",Nl=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Or+n+Nl}var Pr=!1;function Wt(n,i){if(!n||Pr)return"";Pr=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch($){var H=$}Reflect.construct(n,[],ee)}else{try{ee.call()}catch($){H=$}n.call(ee.prototype)}}else{try{throw Error()}catch($){H=$}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch($){if($&&H&&typeof $.stack=="string")return[$.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),w=p[0],C=p[1];if(w&&C){var M=w.split(`
`),U=C.split(`
`);for(h=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===M.length||h===U.length)for(l=M.length-1,h=U.length-1;1<=l&&0<=h&&M[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(M[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||M[l]!==U[h]){var W=`
`+M[l].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=l&&0<=h);break}}}finally{Pr=!1,Error.prepareStackTrace=r}return(r=n?n.displayName||n.name:"")?Vs(r):""}function z(n){switch(n.tag){case 26:case 27:case 5:return Vs(n.type);case 16:return Vs("Lazy");case 13:return Vs("Suspense");case 19:return Vs("SuspenseList");case 0:case 15:return Wt(n.type,!1);case 11:return Wt(n.type.render,!1);case 1:return Wt(n.type,!0);case 31:return Vs("Activity");default:return""}}function I(n){try{var i="";do i+=z(n),n=n.return;while(n);return i}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Y(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function je(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ae(n){var i=je(n)?"checked":"value",r=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,p=r.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return h.call(this)},set:function(w){l=""+w,p.call(this,w)}}),Object.defineProperty(n,i,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function tt(n){n._valueTracker||(n._valueTracker=Ae(n))}function Ns(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var r=i.getValue(),l="";return n&&(l=je(n)?n.checked?"true":"false":n.value),n=l,n!==r?(i.setValue(n),!0):!1}function Hs(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var uS=/[\n"\\]/g;function Jn(n){return n.replace(uS,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Vu(n,i,r,l,h,p,w,C){n.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.type=w:n.removeAttribute("type"),i!=null?w==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Y(i)):n.value!==""+Y(i)&&(n.value=""+Y(i)):w!=="submit"&&w!=="reset"||n.removeAttribute("value"),i!=null?Hu(n,w,Y(i)):r!=null?Hu(n,w,Y(r)):l!=null&&n.removeAttribute("value"),h==null&&p!=null&&(n.defaultChecked=!!p),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+Y(C):n.removeAttribute("name")}function Pp(n,i,r,l,h,p,w,C){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),i!=null||r!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;r=r!=null?""+Y(r):"",i=i!=null?""+Y(i):r,C||i===n.value||(n.value=i),n.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=C?n.checked:!!l,n.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.name=w)}function Hu(n,i,r){i==="number"&&Hs(n.ownerDocument)===n||n.defaultValue===""+r||(n.defaultValue=""+r)}function Ea(n,i,r,l){if(n=n.options,i){i={};for(var h=0;h<r.length;h++)i["$"+r[h]]=!0;for(r=0;r<n.length;r++)h=i.hasOwnProperty("$"+n[r].value),n[r].selected!==h&&(n[r].selected=h),h&&l&&(n[r].defaultSelected=!0)}else{for(r=""+Y(r),i=null,h=0;h<n.length;h++){if(n[h].value===r){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}i!==null||n[h].disabled||(i=n[h])}i!==null&&(i.selected=!0)}}function zp(n,i,r){if(i!=null&&(i=""+Y(i),i!==n.value&&(n.value=i),r==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=r!=null?""+Y(r):""}function Bp(n,i,r,l){if(i==null){if(l!=null){if(r!=null)throw Error(a(92));if(me(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),i=r}r=Y(i),n.defaultValue=r,l=n.textContent,l===r&&l!==""&&l!==null&&(n.value=l)}function Ma(n,i){if(i){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=i;return}}n.textContent=i}var dS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qp(n,i,r){var l=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,r):typeof r!="number"||r===0||dS.has(i)?i==="float"?n.cssFloat=r:n[i]=(""+r).trim():n[i]=r+"px"}function Up(n,i,r){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&r[h]!==l&&qp(n,h,l)}else for(var p in i)i.hasOwnProperty(p)&&qp(n,p,i[p])}function $u(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tl(n){return hS.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Gu=null;function Ku(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var _a=null,Ra=null;function Vp(n){var i=we(n);if(i&&(n=i.stateNode)){var r=n[dt]||null;e:switch(n=i.stateNode,i.type){case"input":if(Vu(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Jn(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var l=r[i];if(l!==n&&l.form===n.form){var h=l[dt]||null;if(!h)throw Error(a(90));Vu(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<r.length;i++)l=r[i],l.form===n.form&&Ns(l)}break e;case"textarea":zp(n,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&Ea(n,!!r.multiple,i,!1)}}}var Fu=!1;function Hp(n,i,r){if(Fu)return n(i,r);Fu=!0;try{var l=n(i);return l}finally{if(Fu=!1,(_a!==null||Ra!==null)&&(fc(),_a&&(i=_a,n=Ra,Ra=_a=null,Vp(i),n)))for(i=0;i<n.length;i++)Vp(n[i])}}function zr(n,i){var r=n.stateNode;if(r===null)return null;var l=r[dt]||null;if(l===null)return null;r=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(a(231,i,typeof r));return r}var $s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yu=!1;if($s)try{var Br={};Object.defineProperty(Br,"passive",{get:function(){Yu=!0}}),window.addEventListener("test",Br,Br),window.removeEventListener("test",Br,Br)}catch{Yu=!1}var fi=null,Iu=null,Al=null;function $p(){if(Al)return Al;var n,i=Iu,r=i.length,l,h="value"in fi?fi.value:fi.textContent,p=h.length;for(n=0;n<r&&i[n]===h[n];n++);var w=r-n;for(l=1;l<=w&&i[r-l]===h[p-l];l++);return Al=h.slice(n,1<l?1-l:void 0)}function El(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Ml(){return!0}function Gp(){return!1}function Rn(n){function i(r,l,h,p,w){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=p,this.target=w,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(r=n[C],this[C]=r?r(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ml:Gp,this.isPropagationStopped=Gp,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),i}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_l=Rn(Xi),qr=y({},Xi,{view:0,detail:0}),mS=Rn(qr),Qu,Xu,Ur,Rl=y({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ur&&(Ur&&n.type==="mousemove"?(Qu=n.screenX-Ur.screenX,Xu=n.screenY-Ur.screenY):Xu=Qu=0,Ur=n),Qu)},movementY:function(n){return"movementY"in n?n.movementY:Xu}}),Kp=Rn(Rl),pS=y({},Rl,{dataTransfer:0}),gS=Rn(pS),yS=y({},qr,{relatedTarget:0}),Zu=Rn(yS),vS=y({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),bS=Rn(vS),xS=y({},Xi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),wS=Rn(xS),SS=y({},Xi,{data:0}),Fp=Rn(SS),CS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NS(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=jS[n])?!!i[n]:!1}function Wu(){return NS}var TS=y({},qr,{key:function(n){if(n.key){var i=CS[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=El(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?kS[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wu,charCode:function(n){return n.type==="keypress"?El(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?El(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),AS=Rn(TS),ES=y({},Rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yp=Rn(ES),MS=y({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wu}),_S=Rn(MS),RS=y({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),DS=Rn(RS),LS=y({},Rl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),OS=Rn(LS),PS=y({},Xi,{newState:0,oldState:0}),zS=Rn(PS),BS=[9,13,27,32],Ju=$s&&"CompositionEvent"in window,Vr=null;$s&&"documentMode"in document&&(Vr=document.documentMode);var qS=$s&&"TextEvent"in window&&!Vr,Ip=$s&&(!Ju||Vr&&8<Vr&&11>=Vr),Qp=" ",Xp=!1;function Zp(n,i){switch(n){case"keyup":return BS.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Da=!1;function US(n,i){switch(n){case"compositionend":return Wp(i);case"keypress":return i.which!==32?null:(Xp=!0,Qp);case"textInput":return n=i.data,n===Qp&&Xp?null:n;default:return null}}function VS(n,i){if(Da)return n==="compositionend"||!Ju&&Zp(n,i)?(n=$p(),Al=Iu=fi=null,Da=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ip&&i.locale!=="ko"?null:i.data;default:return null}}var HS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jp(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!HS[n.type]:i==="textarea"}function eg(n,i,r,l){_a?Ra?Ra.push(l):Ra=[l]:_a=l,i=vc(i,"onChange"),0<i.length&&(r=new _l("onChange","change",null,r,l),n.push({event:r,listeners:i}))}var Hr=null,$r=null;function $S(n){Ly(n,0)}function Dl(n){var i=Ii(n);if(Ns(i))return n}function tg(n,i){if(n==="change")return i}var ng=!1;if($s){var ed;if($s){var td="oninput"in document;if(!td){var sg=document.createElement("div");sg.setAttribute("oninput","return;"),td=typeof sg.oninput=="function"}ed=td}else ed=!1;ng=ed&&(!document.documentMode||9<document.documentMode)}function ig(){Hr&&(Hr.detachEvent("onpropertychange",ag),$r=Hr=null)}function ag(n){if(n.propertyName==="value"&&Dl($r)){var i=[];eg(i,$r,n,Ku(n)),Hp($S,i)}}function GS(n,i,r){n==="focusin"?(ig(),Hr=i,$r=r,Hr.attachEvent("onpropertychange",ag)):n==="focusout"&&ig()}function KS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Dl($r)}function FS(n,i){if(n==="click")return Dl(i)}function YS(n,i){if(n==="input"||n==="change")return Dl(i)}function IS(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var $n=typeof Object.is=="function"?Object.is:IS;function Gr(n,i){if($n(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var r=Object.keys(n),l=Object.keys(i);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!fe.call(i,h)||!$n(n[h],i[h]))return!1}return!0}function rg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function og(n,i){var r=rg(n);n=0;for(var l;r;){if(r.nodeType===3){if(l=n+r.textContent.length,n<=i&&l>=i)return{node:r,offset:i-n};n=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=rg(r)}}function lg(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?lg(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function cg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Hs(n.document);i instanceof n.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)n=i.contentWindow;else break;i=Hs(n.document)}return i}function nd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var QS=$s&&"documentMode"in document&&11>=document.documentMode,La=null,sd=null,Kr=null,id=!1;function ug(n,i,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;id||La==null||La!==Hs(l)||(l=La,"selectionStart"in l&&nd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Kr&&Gr(Kr,l)||(Kr=l,l=vc(sd,"onSelect"),0<l.length&&(i=new _l("onSelect","select",null,i,r),n.push({event:i,listeners:l}),i.target=La)))}function Zi(n,i){var r={};return r[n.toLowerCase()]=i.toLowerCase(),r["Webkit"+n]="webkit"+i,r["Moz"+n]="moz"+i,r}var Oa={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionrun:Zi("Transition","TransitionRun"),transitionstart:Zi("Transition","TransitionStart"),transitioncancel:Zi("Transition","TransitionCancel"),transitionend:Zi("Transition","TransitionEnd")},ad={},dg={};$s&&(dg=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Wi(n){if(ad[n])return ad[n];if(!Oa[n])return n;var i=Oa[n],r;for(r in i)if(i.hasOwnProperty(r)&&r in dg)return ad[n]=i[r];return n}var fg=Wi("animationend"),hg=Wi("animationiteration"),mg=Wi("animationstart"),XS=Wi("transitionrun"),ZS=Wi("transitionstart"),WS=Wi("transitioncancel"),pg=Wi("transitionend"),gg=new Map,rd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rd.push("scrollEnd");function hs(n,i){gg.set(n,i),Us(i,[n])}var yg=new WeakMap;function es(n,i){if(typeof n=="object"&&n!==null){var r=yg.get(n);return r!==void 0?r:(i={value:n,source:i,stack:I(i)},yg.set(n,i),i)}return{value:n,source:i,stack:I(i)}}var ts=[],Pa=0,od=0;function Ll(){for(var n=Pa,i=od=Pa=0;i<n;){var r=ts[i];ts[i++]=null;var l=ts[i];ts[i++]=null;var h=ts[i];ts[i++]=null;var p=ts[i];if(ts[i++]=null,l!==null&&h!==null){var w=l.pending;w===null?h.next=h:(h.next=w.next,w.next=h),l.pending=h}p!==0&&vg(r,h,p)}}function Ol(n,i,r,l){ts[Pa++]=n,ts[Pa++]=i,ts[Pa++]=r,ts[Pa++]=l,od|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function ld(n,i,r,l){return Ol(n,i,r,l),Pl(n)}function za(n,i){return Ol(n,null,null,i),Pl(n)}function vg(n,i,r){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r);for(var h=!1,p=n.return;p!==null;)p.childLanes|=r,l=p.alternate,l!==null&&(l.childLanes|=r),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(h=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,h&&i!==null&&(h=31-Me(r),n=p.hiddenUpdates,l=n[h],l===null?n[h]=[i]:l.push(i),i.lane=r|536870912),p):null}function Pl(n){if(50<yo)throw yo=0,pf=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Ba={};function JS(n,i,r,l){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(n,i,r,l){return new JS(n,i,r,l)}function cd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Gs(n,i){var r=n.alternate;return r===null?(r=Gn(n.tag,i,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=i,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&65011712,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,i=n.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r.refCleanup=n.refCleanup,r}function bg(n,i){n.flags&=65011714;var r=n.alternate;return r===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=r.childLanes,n.lanes=r.lanes,n.child=r.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=r.memoizedProps,n.memoizedState=r.memoizedState,n.updateQueue=r.updateQueue,n.type=r.type,i=r.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function zl(n,i,r,l,h,p){var w=0;if(l=n,typeof n=="function")cd(n)&&(w=1);else if(typeof n=="string")w=tk(n,r,ue.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Z:return n=Gn(31,r,i,h),n.elementType=Z,n.lanes=p,n;case j:return Ji(r.children,h,p,i);case k:w=8,h|=24;break;case A:return n=Gn(12,r,i,h|2),n.elementType=A,n.lanes=p,n;case R:return n=Gn(13,r,i,h),n.elementType=R,n.lanes=p,n;case K:return n=Gn(19,r,i,h),n.elementType=K,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case N:case _:w=10;break e;case T:w=9;break e;case P:w=11;break e;case Q:w=14;break e;case L:w=16,l=null;break e}w=29,r=Error(a(130,n===null?"null":typeof n,"")),l=null}return i=Gn(w,r,i,h),i.elementType=n,i.type=l,i.lanes=p,i}function Ji(n,i,r,l){return n=Gn(7,n,l,i),n.lanes=r,n}function ud(n,i,r){return n=Gn(6,n,null,i),n.lanes=r,n}function dd(n,i,r){return i=Gn(4,n.children!==null?n.children:[],n.key,i),i.lanes=r,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var qa=[],Ua=0,Bl=null,ql=0,ns=[],ss=0,ea=null,Ks=1,Fs="";function ta(n,i){qa[Ua++]=ql,qa[Ua++]=Bl,Bl=n,ql=i}function xg(n,i,r){ns[ss++]=Ks,ns[ss++]=Fs,ns[ss++]=ea,ea=n;var l=Ks;n=Fs;var h=32-Me(l)-1;l&=~(1<<h),r+=1;var p=32-Me(i)+h;if(30<p){var w=h-h%5;p=(l&(1<<w)-1).toString(32),l>>=w,h-=w,Ks=1<<32-Me(i)+h|r<<h|l,Fs=p+n}else Ks=1<<p|r<<h|l,Fs=n}function fd(n){n.return!==null&&(ta(n,1),xg(n,1,0))}function hd(n){for(;n===Bl;)Bl=qa[--Ua],qa[Ua]=null,ql=qa[--Ua],qa[Ua]=null;for(;n===ea;)ea=ns[--ss],ns[ss]=null,Fs=ns[--ss],ns[ss]=null,Ks=ns[--ss],ns[ss]=null}var An=null,Ot=null,ct=!1,na=null,Ts=!1,md=Error(a(519));function sa(n){var i=Error(a(418,""));throw Ir(es(i,n)),md}function wg(n){var i=n.stateNode,r=n.type,l=n.memoizedProps;switch(i[Fe]=n,i[dt]=l,r){case"dialog":Ie("cancel",i),Ie("close",i);break;case"iframe":case"object":case"embed":Ie("load",i);break;case"video":case"audio":for(r=0;r<bo.length;r++)Ie(bo[r],i);break;case"source":Ie("error",i);break;case"img":case"image":case"link":Ie("error",i),Ie("load",i);break;case"details":Ie("toggle",i);break;case"input":Ie("invalid",i),Pp(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),tt(i);break;case"select":Ie("invalid",i);break;case"textarea":Ie("invalid",i),Bp(i,l.value,l.defaultValue,l.children),tt(i)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||l.suppressHydrationWarning===!0||By(i.textContent,r)?(l.popover!=null&&(Ie("beforetoggle",i),Ie("toggle",i)),l.onScroll!=null&&Ie("scroll",i),l.onScrollEnd!=null&&Ie("scrollend",i),l.onClick!=null&&(i.onclick=bc),i=!0):i=!1,i||sa(n)}function Sg(n){for(An=n.return;An;)switch(An.tag){case 5:case 13:Ts=!1;return;case 27:case 3:Ts=!0;return;default:An=An.return}}function Fr(n){if(n!==An)return!1;if(!ct)return Sg(n),ct=!0,!1;var i=n.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=n.type,r=!(r!=="form"&&r!=="button")||_f(n.type,n.memoizedProps)),r=!r),r&&Ot&&sa(n),Sg(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(r=n.data,r==="/$"){if(i===0){Ot=ps(n.nextSibling);break e}i--}else r!=="$"&&r!=="$!"&&r!=="$?"||i++;n=n.nextSibling}Ot=null}}else i===27?(i=Ot,Ai(n.type)?(n=Of,Of=null,Ot=n):Ot=i):Ot=An?ps(n.stateNode.nextSibling):null;return!0}function Yr(){Ot=An=null,ct=!1}function Cg(){var n=na;return n!==null&&(On===null?On=n:On.push.apply(On,n),na=null),n}function Ir(n){na===null?na=[n]:na.push(n)}var pd=G(null),ia=null,Ys=null;function hi(n,i,r){te(pd,i._currentValue),i._currentValue=r}function Is(n){n._currentValue=pd.current,ae(pd)}function gd(n,i,r){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===r)break;n=n.return}}function yd(n,i,r,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var p=h.dependencies;if(p!==null){var w=h.child;p=p.firstContext;e:for(;p!==null;){var C=p;p=h;for(var M=0;M<i.length;M++)if(C.context===i[M]){p.lanes|=r,C=p.alternate,C!==null&&(C.lanes|=r),gd(p.return,r,n),l||(w=null);break e}p=C.next}}else if(h.tag===18){if(w=h.return,w===null)throw Error(a(341));w.lanes|=r,p=w.alternate,p!==null&&(p.lanes|=r),gd(w,r,n),w=null}else w=h.child;if(w!==null)w.return=h;else for(w=h;w!==null;){if(w===n){w=null;break}if(h=w.sibling,h!==null){h.return=w.return,w=h;break}w=w.return}h=w}}function Qr(n,i,r,l){n=null;for(var h=i,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var w=h.alternate;if(w===null)throw Error(a(387));if(w=w.memoizedProps,w!==null){var C=h.type;$n(h.pendingProps.value,w.value)||(n!==null?n.push(C):n=[C])}}else if(h===Te.current){if(w=h.alternate,w===null)throw Error(a(387));w.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(jo):n=[jo])}h=h.return}n!==null&&yd(i,n,r,l),i.flags|=262144}function Ul(n){for(n=n.firstContext;n!==null;){if(!$n(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function aa(n){ia=n,Ys=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function wn(n){return kg(ia,n)}function Vl(n,i){return ia===null&&aa(n),kg(n,i)}function kg(n,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},Ys===null){if(n===null)throw Error(a(308));Ys=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Ys=Ys.next=i;return r}var eC=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(r,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(r){return r()})}},tC=e.unstable_scheduleCallback,nC=e.unstable_NormalPriority,Jt={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vd(){return{controller:new eC,data:new Map,refCount:0}}function Xr(n){n.refCount--,n.refCount===0&&tC(nC,function(){n.controller.abort()})}var Zr=null,bd=0,Va=0,Ha=null;function sC(n,i){if(Zr===null){var r=Zr=[];bd=0,Va=Sf(),Ha={status:"pending",value:void 0,then:function(l){r.push(l)}}}return bd++,i.then(jg,jg),i}function jg(){if(--bd===0&&Zr!==null){Ha!==null&&(Ha.status="fulfilled");var n=Zr;Zr=null,Va=0,Ha=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function iC(n,i){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<r.length;h++)(0,r[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Ng=B.S;B.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&sC(n,i),Ng!==null&&Ng(n,i)};var ra=G(null);function xd(){var n=ra.current;return n!==null?n:kt.pooledCache}function Hl(n,i){i===null?te(ra,ra.current):te(ra,i.pool)}function Tg(){var n=xd();return n===null?null:{parent:Jt._currentValue,pool:n}}var Wr=Error(a(460)),Ag=Error(a(474)),$l=Error(a(542)),wd={then:function(){}};function Eg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Gl(){}function Mg(n,i,r){switch(r=n[r],r===void 0?n.push(i):r!==i&&(i.then(Gl,Gl),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Rg(n),n;default:if(typeof i.status=="string")i.then(Gl,Gl);else{if(n=kt,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Rg(n),n}throw Jr=i,Wr}}var Jr=null;function _g(){if(Jr===null)throw Error(a(459));var n=Jr;return Jr=null,n}function Rg(n){if(n===Wr||n===$l)throw Error(a(483))}var mi=!1;function Sd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function pi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function gi(n,i,r){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(ht&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Pl(n),vg(n,null,r),i}return Ol(n,l,i,r),Pl(n)}function eo(n,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,r|=l,i.lanes=r,Vn(n,r)}}function kd(n,i){var r=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,p=null;if(r=r.firstBaseUpdate,r!==null){do{var w={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};p===null?h=p=w:p=p.next=w,r=r.next}while(r!==null);p===null?h=p=i:p=p.next=i}else h=p=i;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=i:n.next=i,r.lastBaseUpdate=i}var jd=!1;function to(){if(jd){var n=Ha;if(n!==null)throw n}}function no(n,i,r,l){jd=!1;var h=n.updateQueue;mi=!1;var p=h.firstBaseUpdate,w=h.lastBaseUpdate,C=h.shared.pending;if(C!==null){h.shared.pending=null;var M=C,U=M.next;M.next=null,w===null?p=U:w.next=U,w=M;var W=n.alternate;W!==null&&(W=W.updateQueue,C=W.lastBaseUpdate,C!==w&&(C===null?W.firstBaseUpdate=U:C.next=U,W.lastBaseUpdate=M))}if(p!==null){var ee=h.baseState;w=0,W=U=M=null,C=p;do{var H=C.lane&-536870913,$=H!==C.lane;if($?(nt&H)===H:(l&H)===H){H!==0&&H===Va&&(jd=!0),W!==null&&(W=W.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var De=n,_e=C;H=i;var yt=r;switch(_e.tag){case 1:if(De=_e.payload,typeof De=="function"){ee=De.call(yt,ee,H);break e}ee=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=_e.payload,H=typeof De=="function"?De.call(yt,ee,H):De,H==null)break e;ee=y({},ee,H);break e;case 2:mi=!0}}H=C.callback,H!==null&&(n.flags|=64,$&&(n.flags|=8192),$=h.callbacks,$===null?h.callbacks=[H]:$.push(H))}else $={lane:H,tag:C.tag,payload:C.payload,callback:C.callback,next:null},W===null?(U=W=$,M=ee):W=W.next=$,w|=H;if(C=C.next,C===null){if(C=h.shared.pending,C===null)break;$=C,C=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);W===null&&(M=ee),h.baseState=M,h.firstBaseUpdate=U,h.lastBaseUpdate=W,p===null&&(h.shared.lanes=0),ki|=w,n.lanes=w,n.memoizedState=ee}}function Dg(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function Lg(n,i){var r=n.callbacks;if(r!==null)for(n.callbacks=null,n=0;n<r.length;n++)Dg(r[n],i)}var $a=G(null),Kl=G(0);function Og(n,i){n=ti,te(Kl,n),te($a,i),ti=n|i.baseLanes}function Nd(){te(Kl,ti),te($a,$a.current)}function Td(){ti=Kl.current,ae($a),ae(Kl)}var yi=0,He=null,pt=null,Kt=null,Fl=!1,Ga=!1,oa=!1,Yl=0,so=0,Ka=null,aC=0;function Vt(){throw Error(a(321))}function Ad(n,i){if(i===null)return!1;for(var r=0;r<i.length&&r<n.length;r++)if(!$n(n[r],i[r]))return!1;return!0}function Ed(n,i,r,l,h,p){return yi=p,He=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,B.H=n===null||n.memoizedState===null?v0:b0,oa=!1,p=r(l,h),oa=!1,Ga&&(p=zg(i,r,l,h)),Pg(n),p}function Pg(n){B.H=Jl;var i=pt!==null&&pt.next!==null;if(yi=0,Kt=pt=He=null,Fl=!1,so=0,Ka=null,i)throw Error(a(300));n===null||cn||(n=n.dependencies,n!==null&&Ul(n)&&(cn=!0))}function zg(n,i,r,l){He=n;var h=0;do{if(Ga&&(Ka=null),so=0,Ga=!1,25<=h)throw Error(a(301));if(h+=1,Kt=pt=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}B.H=fC,p=i(r,l)}while(Ga);return p}function rC(){var n=B.H,i=n.useState()[0];return i=typeof i.then=="function"?io(i):i,n=n.useState()[0],(pt!==null?pt.memoizedState:null)!==n&&(He.flags|=1024),i}function Md(){var n=Yl!==0;return Yl=0,n}function _d(n,i,r){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~r}function Rd(n){if(Fl){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Fl=!1}yi=0,Kt=pt=He=null,Ga=!1,so=Yl=0,Ka=null}function Dn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?He.memoizedState=Kt=n:Kt=Kt.next=n,Kt}function Ft(){if(pt===null){var n=He.alternate;n=n!==null?n.memoizedState:null}else n=pt.next;var i=Kt===null?He.memoizedState:Kt.next;if(i!==null)Kt=i,pt=n;else{if(n===null)throw He.alternate===null?Error(a(467)):Error(a(310));pt=n,n={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Kt===null?He.memoizedState=Kt=n:Kt=Kt.next=n}return Kt}function Dd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function io(n){var i=so;return so+=1,Ka===null&&(Ka=[]),n=Mg(Ka,n,i),i=He,(Kt===null?i.memoizedState:Kt.next)===null&&(i=i.alternate,B.H=i===null||i.memoizedState===null?v0:b0),n}function Il(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return io(n);if(n.$$typeof===_)return wn(n)}throw Error(a(438,String(n)))}function Ld(n){var i=null,r=He.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var l=He.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=Dd(),He.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(n),l=0;l<n;l++)r[l]=re;return i.index++,r}function Qs(n,i){return typeof i=="function"?i(n):i}function Ql(n){var i=Ft();return Od(i,pt,n)}function Od(n,i,r){var l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=n.baseQueue,p=l.pending;if(p!==null){if(h!==null){var w=h.next;h.next=p.next,p.next=w}i.baseQueue=h=p,l.pending=null}if(p=n.baseState,h===null)n.memoizedState=p;else{i=h.next;var C=w=null,M=null,U=i,W=!1;do{var ee=U.lane&-536870913;if(ee!==U.lane?(nt&ee)===ee:(yi&ee)===ee){var H=U.revertLane;if(H===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),ee===Va&&(W=!0);else if((yi&H)===H){U=U.next,H===Va&&(W=!0);continue}else ee={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},M===null?(C=M=ee,w=p):M=M.next=ee,He.lanes|=H,ki|=H;ee=U.action,oa&&r(p,ee),p=U.hasEagerState?U.eagerState:r(p,ee)}else H={lane:ee,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},M===null?(C=M=H,w=p):M=M.next=H,He.lanes|=ee,ki|=ee;U=U.next}while(U!==null&&U!==i);if(M===null?w=p:M.next=C,!$n(p,n.memoizedState)&&(cn=!0,W&&(r=Ha,r!==null)))throw r;n.memoizedState=p,n.baseState=w,n.baseQueue=M,l.lastRenderedState=p}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Pd(n){var i=Ft(),r=i.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=n;var l=r.dispatch,h=r.pending,p=i.memoizedState;if(h!==null){r.pending=null;var w=h=h.next;do p=n(p,w.action),w=w.next;while(w!==h);$n(p,i.memoizedState)||(cn=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),r.lastRenderedState=p}return[p,l]}function Bg(n,i,r){var l=He,h=Ft(),p=ct;if(p){if(r===void 0)throw Error(a(407));r=r()}else r=i();var w=!$n((pt||h).memoizedState,r);w&&(h.memoizedState=r,cn=!0),h=h.queue;var C=Vg.bind(null,l,h,n);if(ao(2048,8,C,[n]),h.getSnapshot!==i||w||Kt!==null&&Kt.memoizedState.tag&1){if(l.flags|=2048,Fa(9,Xl(),Ug.bind(null,l,h,r,i),null),kt===null)throw Error(a(349));p||(yi&124)!==0||qg(l,i,r)}return r}function qg(n,i,r){n.flags|=16384,n={getSnapshot:i,value:r},i=He.updateQueue,i===null?(i=Dd(),He.updateQueue=i,i.stores=[n]):(r=i.stores,r===null?i.stores=[n]:r.push(n))}function Ug(n,i,r,l){i.value=r,i.getSnapshot=l,Hg(i)&&$g(n)}function Vg(n,i,r){return r(function(){Hg(i)&&$g(n)})}function Hg(n){var i=n.getSnapshot;n=n.value;try{var r=i();return!$n(n,r)}catch{return!0}}function $g(n){var i=za(n,2);i!==null&&Qn(i,n,2)}function zd(n){var i=Dn();if(typeof n=="function"){var r=n;if(n=r(),oa){ie(!0);try{r()}finally{ie(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:n},i}function Gg(n,i,r,l){return n.baseState=r,Od(n,pt,typeof l=="function"?l:Qs)}function oC(n,i,r,l,h){if(Wl(n))throw Error(a(485));if(n=i.action,n!==null){var p={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){p.listeners.push(w)}};B.T!==null?r(!0):p.isTransition=!1,l(p),r=i.pending,r===null?(p.next=i.pending=p,Kg(i,p)):(p.next=r.next,i.pending=r.next=p)}}function Kg(n,i){var r=i.action,l=i.payload,h=n.state;if(i.isTransition){var p=B.T,w={};B.T=w;try{var C=r(h,l),M=B.S;M!==null&&M(w,C),Fg(n,i,C)}catch(U){Bd(n,i,U)}finally{B.T=p}}else try{p=r(h,l),Fg(n,i,p)}catch(U){Bd(n,i,U)}}function Fg(n,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Yg(n,i,l)},function(l){return Bd(n,i,l)}):Yg(n,i,r)}function Yg(n,i,r){i.status="fulfilled",i.value=r,Ig(i),n.state=r,i=n.pending,i!==null&&(r=i.next,r===i?n.pending=null:(r=r.next,i.next=r,Kg(n,r)))}function Bd(n,i,r){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=r,Ig(i),i=i.next;while(i!==l)}n.action=null}function Ig(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Qg(n,i){return i}function Xg(n,i){if(ct){var r=kt.formState;if(r!==null){e:{var l=He;if(ct){if(Ot){t:{for(var h=Ot,p=Ts;h.nodeType!==8;){if(!p){h=null;break t}if(h=ps(h.nextSibling),h===null){h=null;break t}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){Ot=ps(h.nextSibling),l=h.data==="F!";break e}}sa(l)}l=!1}l&&(i=r[0])}}return r=Dn(),r.memoizedState=r.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qg,lastRenderedState:i},r.queue=l,r=p0.bind(null,He,l),l.dispatch=r,l=zd(!1),p=$d.bind(null,He,!1,l.queue),l=Dn(),h={state:i,dispatch:null,action:n,pending:null},l.queue=h,r=oC.bind(null,He,h,p,r),h.dispatch=r,l.memoizedState=n,[i,r,!1]}function Zg(n){var i=Ft();return Wg(i,pt,n)}function Wg(n,i,r){if(i=Od(n,i,Qg)[0],n=Ql(Qs)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=io(i)}catch(w){throw w===Wr?$l:w}else l=i;i=Ft();var h=i.queue,p=h.dispatch;return r!==i.memoizedState&&(He.flags|=2048,Fa(9,Xl(),lC.bind(null,h,r),null)),[l,p,n]}function lC(n,i){n.action=i}function Jg(n){var i=Ft(),r=pt;if(r!==null)return Wg(i,r,n);Ft(),i=i.memoizedState,r=Ft();var l=r.queue.dispatch;return r.memoizedState=n,[i,l,!1]}function Fa(n,i,r,l){return n={tag:n,create:r,deps:l,inst:i,next:null},i=He.updateQueue,i===null&&(i=Dd(),He.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=n.next=n:(l=r.next,r.next=n,n.next=l,i.lastEffect=n),n}function Xl(){return{destroy:void 0,resource:void 0}}function e0(){return Ft().memoizedState}function Zl(n,i,r,l){var h=Dn();l=l===void 0?null:l,He.flags|=n,h.memoizedState=Fa(1|i,Xl(),r,l)}function ao(n,i,r,l){var h=Ft();l=l===void 0?null:l;var p=h.memoizedState.inst;pt!==null&&l!==null&&Ad(l,pt.memoizedState.deps)?h.memoizedState=Fa(i,p,r,l):(He.flags|=n,h.memoizedState=Fa(1|i,p,r,l))}function t0(n,i){Zl(8390656,8,n,i)}function n0(n,i){ao(2048,8,n,i)}function s0(n,i){return ao(4,2,n,i)}function i0(n,i){return ao(4,4,n,i)}function a0(n,i){if(typeof i=="function"){n=n();var r=i(n);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function r0(n,i,r){r=r!=null?r.concat([n]):null,ao(4,4,a0.bind(null,i,n),r)}function qd(){}function o0(n,i){var r=Ft();i=i===void 0?null:i;var l=r.memoizedState;return i!==null&&Ad(i,l[1])?l[0]:(r.memoizedState=[n,i],n)}function l0(n,i){var r=Ft();i=i===void 0?null:i;var l=r.memoizedState;if(i!==null&&Ad(i,l[1]))return l[0];if(l=n(),oa){ie(!0);try{n()}finally{ie(!1)}}return r.memoizedState=[l,i],l}function Ud(n,i,r){return r===void 0||(yi&1073741824)!==0?n.memoizedState=i:(n.memoizedState=r,n=dy(),He.lanes|=n,ki|=n,r)}function c0(n,i,r,l){return $n(r,i)?r:$a.current!==null?(n=Ud(n,r,l),$n(n,i)||(cn=!0),n):(yi&42)===0?(cn=!0,n.memoizedState=r):(n=dy(),He.lanes|=n,ki|=n,i)}function u0(n,i,r,l,h){var p=V.p;V.p=p!==0&&8>p?p:8;var w=B.T,C={};B.T=C,$d(n,!1,i,r);try{var M=h(),U=B.S;if(U!==null&&U(C,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var W=iC(M,l);ro(n,i,W,In(n))}else ro(n,i,l,In(n))}catch(ee){ro(n,i,{then:function(){},status:"rejected",reason:ee},In())}finally{V.p=p,B.T=w}}function cC(){}function Vd(n,i,r,l){if(n.tag!==5)throw Error(a(476));var h=d0(n).queue;u0(n,h,i,X,r===null?cC:function(){return f0(n),r(l)})}function d0(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:X},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:r},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function f0(n){var i=d0(n).next.queue;ro(n,i,{},In())}function Hd(){return wn(jo)}function h0(){return Ft().memoizedState}function m0(){return Ft().memoizedState}function uC(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var r=In();n=pi(r);var l=gi(i,n,r);l!==null&&(Qn(l,i,r),eo(l,i,r)),i={cache:vd()},n.payload=i;return}i=i.return}}function dC(n,i,r){var l=In();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Wl(n)?g0(i,r):(r=ld(n,i,r,l),r!==null&&(Qn(r,n,l),y0(r,i,l)))}function p0(n,i,r){var l=In();ro(n,i,r,l)}function ro(n,i,r,l){var h={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Wl(n))g0(i,h);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var w=i.lastRenderedState,C=p(w,r);if(h.hasEagerState=!0,h.eagerState=C,$n(C,w))return Ol(n,i,h,0),kt===null&&Ll(),!1}catch{}finally{}if(r=ld(n,i,h,l),r!==null)return Qn(r,n,l),y0(r,i,l),!0}return!1}function $d(n,i,r,l){if(l={lane:2,revertLane:Sf(),action:l,hasEagerState:!1,eagerState:null,next:null},Wl(n)){if(i)throw Error(a(479))}else i=ld(n,r,l,2),i!==null&&Qn(i,n,2)}function Wl(n){var i=n.alternate;return n===He||i!==null&&i===He}function g0(n,i){Ga=Fl=!0;var r=n.pending;r===null?i.next=i:(i.next=r.next,r.next=i),n.pending=i}function y0(n,i,r){if((r&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,r|=l,i.lanes=r,Vn(n,r)}}var Jl={readContext:wn,use:Il,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt},v0={readContext:wn,use:Il,useCallback:function(n,i){return Dn().memoizedState=[n,i===void 0?null:i],n},useContext:wn,useEffect:t0,useImperativeHandle:function(n,i,r){r=r!=null?r.concat([n]):null,Zl(4194308,4,a0.bind(null,i,n),r)},useLayoutEffect:function(n,i){return Zl(4194308,4,n,i)},useInsertionEffect:function(n,i){Zl(4,2,n,i)},useMemo:function(n,i){var r=Dn();i=i===void 0?null:i;var l=n();if(oa){ie(!0);try{n()}finally{ie(!1)}}return r.memoizedState=[l,i],l},useReducer:function(n,i,r){var l=Dn();if(r!==void 0){var h=r(i);if(oa){ie(!0);try{r(i)}finally{ie(!1)}}}else h=i;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=dC.bind(null,He,n),[l.memoizedState,n]},useRef:function(n){var i=Dn();return n={current:n},i.memoizedState=n},useState:function(n){n=zd(n);var i=n.queue,r=p0.bind(null,He,i);return i.dispatch=r,[n.memoizedState,r]},useDebugValue:qd,useDeferredValue:function(n,i){var r=Dn();return Ud(r,n,i)},useTransition:function(){var n=zd(!1);return n=u0.bind(null,He,n.queue,!0,!1),Dn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,r){var l=He,h=Dn();if(ct){if(r===void 0)throw Error(a(407));r=r()}else{if(r=i(),kt===null)throw Error(a(349));(nt&124)!==0||qg(l,i,r)}h.memoizedState=r;var p={value:r,getSnapshot:i};return h.queue=p,t0(Vg.bind(null,l,p,n),[n]),l.flags|=2048,Fa(9,Xl(),Ug.bind(null,l,p,r,i),null),r},useId:function(){var n=Dn(),i=kt.identifierPrefix;if(ct){var r=Fs,l=Ks;r=(l&~(1<<32-Me(l)-1)).toString(32)+r,i="«"+i+"R"+r,r=Yl++,0<r&&(i+="H"+r.toString(32)),i+="»"}else r=aC++,i="«"+i+"r"+r.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:Hd,useFormState:Xg,useActionState:Xg,useOptimistic:function(n){var i=Dn();i.memoizedState=i.baseState=n;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=$d.bind(null,He,!0,r),r.dispatch=i,[n,i]},useMemoCache:Ld,useCacheRefresh:function(){return Dn().memoizedState=uC.bind(null,He)}},b0={readContext:wn,use:Il,useCallback:o0,useContext:wn,useEffect:n0,useImperativeHandle:r0,useInsertionEffect:s0,useLayoutEffect:i0,useMemo:l0,useReducer:Ql,useRef:e0,useState:function(){return Ql(Qs)},useDebugValue:qd,useDeferredValue:function(n,i){var r=Ft();return c0(r,pt.memoizedState,n,i)},useTransition:function(){var n=Ql(Qs)[0],i=Ft().memoizedState;return[typeof n=="boolean"?n:io(n),i]},useSyncExternalStore:Bg,useId:h0,useHostTransitionStatus:Hd,useFormState:Zg,useActionState:Zg,useOptimistic:function(n,i){var r=Ft();return Gg(r,pt,n,i)},useMemoCache:Ld,useCacheRefresh:m0},fC={readContext:wn,use:Il,useCallback:o0,useContext:wn,useEffect:n0,useImperativeHandle:r0,useInsertionEffect:s0,useLayoutEffect:i0,useMemo:l0,useReducer:Pd,useRef:e0,useState:function(){return Pd(Qs)},useDebugValue:qd,useDeferredValue:function(n,i){var r=Ft();return pt===null?Ud(r,n,i):c0(r,pt.memoizedState,n,i)},useTransition:function(){var n=Pd(Qs)[0],i=Ft().memoizedState;return[typeof n=="boolean"?n:io(n),i]},useSyncExternalStore:Bg,useId:h0,useHostTransitionStatus:Hd,useFormState:Jg,useActionState:Jg,useOptimistic:function(n,i){var r=Ft();return pt!==null?Gg(r,pt,n,i):(r.baseState=n,[n,r.queue.dispatch])},useMemoCache:Ld,useCacheRefresh:m0},Ya=null,oo=0;function ec(n){var i=oo;return oo+=1,Ya===null&&(Ya=[]),Mg(Ya,n,i)}function lo(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function tc(n,i){throw i.$$typeof===b?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function x0(n){var i=n._init;return i(n._payload)}function w0(n){function i(O,D){if(n){var q=O.deletions;q===null?(O.deletions=[D],O.flags|=16):q.push(D)}}function r(O,D){if(!n)return null;for(;D!==null;)i(O,D),D=D.sibling;return null}function l(O){for(var D=new Map;O!==null;)O.key!==null?D.set(O.key,O):D.set(O.index,O),O=O.sibling;return D}function h(O,D){return O=Gs(O,D),O.index=0,O.sibling=null,O}function p(O,D,q){return O.index=q,n?(q=O.alternate,q!==null?(q=q.index,q<D?(O.flags|=67108866,D):q):(O.flags|=67108866,D)):(O.flags|=1048576,D)}function w(O){return n&&O.alternate===null&&(O.flags|=67108866),O}function C(O,D,q,J){return D===null||D.tag!==6?(D=ud(q,O.mode,J),D.return=O,D):(D=h(D,q),D.return=O,D)}function M(O,D,q,J){var ve=q.type;return ve===j?W(O,D,q.props.children,J,q.key):D!==null&&(D.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===L&&x0(ve)===D.type)?(D=h(D,q.props),lo(D,q),D.return=O,D):(D=zl(q.type,q.key,q.props,null,O.mode,J),lo(D,q),D.return=O,D)}function U(O,D,q,J){return D===null||D.tag!==4||D.stateNode.containerInfo!==q.containerInfo||D.stateNode.implementation!==q.implementation?(D=dd(q,O.mode,J),D.return=O,D):(D=h(D,q.children||[]),D.return=O,D)}function W(O,D,q,J,ve){return D===null||D.tag!==7?(D=Ji(q,O.mode,J,ve),D.return=O,D):(D=h(D,q),D.return=O,D)}function ee(O,D,q){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=ud(""+D,O.mode,q),D.return=O,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case x:return q=zl(D.type,D.key,D.props,null,O.mode,q),lo(q,D),q.return=O,q;case S:return D=dd(D,O.mode,q),D.return=O,D;case L:var J=D._init;return D=J(D._payload),ee(O,D,q)}if(me(D)||ne(D))return D=Ji(D,O.mode,q,null),D.return=O,D;if(typeof D.then=="function")return ee(O,ec(D),q);if(D.$$typeof===_)return ee(O,Vl(O,D),q);tc(O,D)}return null}function H(O,D,q,J){var ve=D!==null?D.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ve!==null?null:C(O,D,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case x:return q.key===ve?M(O,D,q,J):null;case S:return q.key===ve?U(O,D,q,J):null;case L:return ve=q._init,q=ve(q._payload),H(O,D,q,J)}if(me(q)||ne(q))return ve!==null?null:W(O,D,q,J,null);if(typeof q.then=="function")return H(O,D,ec(q),J);if(q.$$typeof===_)return H(O,D,Vl(O,q),J);tc(O,q)}return null}function $(O,D,q,J,ve){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return O=O.get(q)||null,C(D,O,""+J,ve);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case x:return O=O.get(J.key===null?q:J.key)||null,M(D,O,J,ve);case S:return O=O.get(J.key===null?q:J.key)||null,U(D,O,J,ve);case L:var Ke=J._init;return J=Ke(J._payload),$(O,D,q,J,ve)}if(me(J)||ne(J))return O=O.get(q)||null,W(D,O,J,ve,null);if(typeof J.then=="function")return $(O,D,q,ec(J),ve);if(J.$$typeof===_)return $(O,D,q,Vl(D,J),ve);tc(D,J)}return null}function De(O,D,q,J){for(var ve=null,Ke=null,ke=D,Re=D=0,dn=null;ke!==null&&Re<q.length;Re++){ke.index>Re?(dn=ke,ke=null):dn=ke.sibling;var rt=H(O,ke,q[Re],J);if(rt===null){ke===null&&(ke=dn);break}n&&ke&&rt.alternate===null&&i(O,ke),D=p(rt,D,Re),Ke===null?ve=rt:Ke.sibling=rt,Ke=rt,ke=dn}if(Re===q.length)return r(O,ke),ct&&ta(O,Re),ve;if(ke===null){for(;Re<q.length;Re++)ke=ee(O,q[Re],J),ke!==null&&(D=p(ke,D,Re),Ke===null?ve=ke:Ke.sibling=ke,Ke=ke);return ct&&ta(O,Re),ve}for(ke=l(ke);Re<q.length;Re++)dn=$(ke,O,Re,q[Re],J),dn!==null&&(n&&dn.alternate!==null&&ke.delete(dn.key===null?Re:dn.key),D=p(dn,D,Re),Ke===null?ve=dn:Ke.sibling=dn,Ke=dn);return n&&ke.forEach(function(Di){return i(O,Di)}),ct&&ta(O,Re),ve}function _e(O,D,q,J){if(q==null)throw Error(a(151));for(var ve=null,Ke=null,ke=D,Re=D=0,dn=null,rt=q.next();ke!==null&&!rt.done;Re++,rt=q.next()){ke.index>Re?(dn=ke,ke=null):dn=ke.sibling;var Di=H(O,ke,rt.value,J);if(Di===null){ke===null&&(ke=dn);break}n&&ke&&Di.alternate===null&&i(O,ke),D=p(Di,D,Re),Ke===null?ve=Di:Ke.sibling=Di,Ke=Di,ke=dn}if(rt.done)return r(O,ke),ct&&ta(O,Re),ve;if(ke===null){for(;!rt.done;Re++,rt=q.next())rt=ee(O,rt.value,J),rt!==null&&(D=p(rt,D,Re),Ke===null?ve=rt:Ke.sibling=rt,Ke=rt);return ct&&ta(O,Re),ve}for(ke=l(ke);!rt.done;Re++,rt=q.next())rt=$(ke,O,Re,rt.value,J),rt!==null&&(n&&rt.alternate!==null&&ke.delete(rt.key===null?Re:rt.key),D=p(rt,D,Re),Ke===null?ve=rt:Ke.sibling=rt,Ke=rt);return n&&ke.forEach(function(hk){return i(O,hk)}),ct&&ta(O,Re),ve}function yt(O,D,q,J){if(typeof q=="object"&&q!==null&&q.type===j&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case x:e:{for(var ve=q.key;D!==null;){if(D.key===ve){if(ve=q.type,ve===j){if(D.tag===7){r(O,D.sibling),J=h(D,q.props.children),J.return=O,O=J;break e}}else if(D.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===L&&x0(ve)===D.type){r(O,D.sibling),J=h(D,q.props),lo(J,q),J.return=O,O=J;break e}r(O,D);break}else i(O,D);D=D.sibling}q.type===j?(J=Ji(q.props.children,O.mode,J,q.key),J.return=O,O=J):(J=zl(q.type,q.key,q.props,null,O.mode,J),lo(J,q),J.return=O,O=J)}return w(O);case S:e:{for(ve=q.key;D!==null;){if(D.key===ve)if(D.tag===4&&D.stateNode.containerInfo===q.containerInfo&&D.stateNode.implementation===q.implementation){r(O,D.sibling),J=h(D,q.children||[]),J.return=O,O=J;break e}else{r(O,D);break}else i(O,D);D=D.sibling}J=dd(q,O.mode,J),J.return=O,O=J}return w(O);case L:return ve=q._init,q=ve(q._payload),yt(O,D,q,J)}if(me(q))return De(O,D,q,J);if(ne(q)){if(ve=ne(q),typeof ve!="function")throw Error(a(150));return q=ve.call(q),_e(O,D,q,J)}if(typeof q.then=="function")return yt(O,D,ec(q),J);if(q.$$typeof===_)return yt(O,D,Vl(O,q),J);tc(O,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,D!==null&&D.tag===6?(r(O,D.sibling),J=h(D,q),J.return=O,O=J):(r(O,D),J=ud(q,O.mode,J),J.return=O,O=J),w(O)):r(O,D)}return function(O,D,q,J){try{oo=0;var ve=yt(O,D,q,J);return Ya=null,ve}catch(ke){if(ke===Wr||ke===$l)throw ke;var Ke=Gn(29,ke,null,O.mode);return Ke.lanes=J,Ke.return=O,Ke}finally{}}}var Ia=w0(!0),S0=w0(!1),is=G(null),As=null;function vi(n){var i=n.alternate;te(en,en.current&1),te(is,n),As===null&&(i===null||$a.current!==null||i.memoizedState!==null)&&(As=n)}function C0(n){if(n.tag===22){if(te(en,en.current),te(is,n),As===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(As=n)}}else bi()}function bi(){te(en,en.current),te(is,is.current)}function Xs(n){ae(is),As===n&&(As=null),ae(en)}var en=G(0);function nc(n){for(var i=n;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Lf(r)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Gd(n,i,r,l){i=n.memoizedState,r=r(l,i),r=r==null?i:y({},i,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var Kd={enqueueSetState:function(n,i,r){n=n._reactInternals;var l=In(),h=pi(l);h.payload=i,r!=null&&(h.callback=r),i=gi(n,h,l),i!==null&&(Qn(i,n,l),eo(i,n,l))},enqueueReplaceState:function(n,i,r){n=n._reactInternals;var l=In(),h=pi(l);h.tag=1,h.payload=i,r!=null&&(h.callback=r),i=gi(n,h,l),i!==null&&(Qn(i,n,l),eo(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var r=In(),l=pi(r);l.tag=2,i!=null&&(l.callback=i),i=gi(n,l,r),i!==null&&(Qn(i,n,r),eo(i,n,r))}};function k0(n,i,r,l,h,p,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,p,w):i.prototype&&i.prototype.isPureReactComponent?!Gr(r,l)||!Gr(h,p):!0}function j0(n,i,r,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,l),i.state!==n&&Kd.enqueueReplaceState(i,i.state,null)}function la(n,i){var r=i;if("ref"in i){r={};for(var l in i)l!=="ref"&&(r[l]=i[l])}if(n=n.defaultProps){r===i&&(r=y({},r));for(var h in n)r[h]===void 0&&(r[h]=n[h])}return r}var sc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function N0(n){sc(n)}function T0(n){console.error(n)}function A0(n){sc(n)}function ic(n,i){try{var r=n.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function E0(n,i,r){try{var l=n.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Fd(n,i,r){return r=pi(r),r.tag=3,r.payload={element:null},r.callback=function(){ic(n,i)},r}function M0(n){return n=pi(n),n.tag=3,n}function _0(n,i,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var p=l.value;n.payload=function(){return h(p)},n.callback=function(){E0(i,r,l)}}var w=r.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(n.callback=function(){E0(i,r,l),typeof h!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})})}function hC(n,i,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=r.alternate,i!==null&&Qr(i,r,h,!0),r=is.current,r!==null){switch(r.tag){case 13:return As===null?yf():r.alternate===null&&Pt===0&&(Pt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===wd?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([l]):i.add(l),bf(n,l,h)),!1;case 22:return r.flags|=65536,l===wd?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([l]):r.add(l)),bf(n,l,h)),!1}throw Error(a(435,r.tag))}return bf(n,l,h),yf(),!1}if(ct)return i=is.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==md&&(n=Error(a(422),{cause:l}),Ir(es(n,r)))):(l!==md&&(i=Error(a(423),{cause:l}),Ir(es(i,r))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=es(l,r),h=Fd(n.stateNode,l,h),kd(n,h),Pt!==4&&(Pt=2)),!1;var p=Error(a(520),{cause:l});if(p=es(p,r),go===null?go=[p]:go.push(p),Pt!==4&&(Pt=2),i===null)return!0;l=es(l,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,n=h&-h,r.lanes|=n,n=Fd(r.stateNode,l,n),kd(r,n),!1;case 1:if(i=r.type,p=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ji===null||!ji.has(p))))return r.flags|=65536,h&=-h,r.lanes|=h,h=M0(h),_0(h,n,r,l),kd(r,h),!1}r=r.return}while(r!==null);return!1}var R0=Error(a(461)),cn=!1;function gn(n,i,r,l){i.child=n===null?S0(i,null,r,l):Ia(i,n.child,r,l)}function D0(n,i,r,l,h){r=r.render;var p=i.ref;if("ref"in l){var w={};for(var C in l)C!=="ref"&&(w[C]=l[C])}else w=l;return aa(i),l=Ed(n,i,r,w,p,h),C=Md(),n!==null&&!cn?(_d(n,i,h),Zs(n,i,h)):(ct&&C&&fd(i),i.flags|=1,gn(n,i,l,h),i.child)}function L0(n,i,r,l,h){if(n===null){var p=r.type;return typeof p=="function"&&!cd(p)&&p.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=p,O0(n,i,p,l,h)):(n=zl(r.type,null,l,i,i.mode,h),n.ref=i.ref,n.return=i,i.child=n)}if(p=n.child,!ef(n,h)){var w=p.memoizedProps;if(r=r.compare,r=r!==null?r:Gr,r(w,l)&&n.ref===i.ref)return Zs(n,i,h)}return i.flags|=1,n=Gs(p,l),n.ref=i.ref,n.return=i,i.child=n}function O0(n,i,r,l,h){if(n!==null){var p=n.memoizedProps;if(Gr(p,l)&&n.ref===i.ref)if(cn=!1,i.pendingProps=l=p,ef(n,h))(n.flags&131072)!==0&&(cn=!0);else return i.lanes=n.lanes,Zs(n,i,h)}return Yd(n,i,r,l,h)}function P0(n,i,r){var l=i.pendingProps,h=l.children,p=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=p!==null?p.baseLanes|r:r,n!==null){for(h=i.child=n.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;i.childLanes=p&~l}else i.childLanes=0,i.child=null;return z0(n,i,l,r)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Hl(i,p!==null?p.cachePool:null),p!==null?Og(i,p):Nd(),C0(i);else return i.lanes=i.childLanes=536870912,z0(n,i,p!==null?p.baseLanes|r:r,r)}else p!==null?(Hl(i,p.cachePool),Og(i,p),bi(),i.memoizedState=null):(n!==null&&Hl(i,null),Nd(),bi());return gn(n,i,h,r),i.child}function z0(n,i,r,l){var h=xd();return h=h===null?null:{parent:Jt._currentValue,pool:h},i.memoizedState={baseLanes:r,cachePool:h},n!==null&&Hl(i,null),Nd(),C0(i),n!==null&&Qr(n,i,l,!0),null}function ac(n,i){var r=i.ref;if(r===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(n===null||n.ref!==r)&&(i.flags|=4194816)}}function Yd(n,i,r,l,h){return aa(i),r=Ed(n,i,r,l,void 0,h),l=Md(),n!==null&&!cn?(_d(n,i,h),Zs(n,i,h)):(ct&&l&&fd(i),i.flags|=1,gn(n,i,r,h),i.child)}function B0(n,i,r,l,h,p){return aa(i),i.updateQueue=null,r=zg(i,l,r,h),Pg(n),l=Md(),n!==null&&!cn?(_d(n,i,p),Zs(n,i,p)):(ct&&l&&fd(i),i.flags|=1,gn(n,i,r,p),i.child)}function q0(n,i,r,l,h){if(aa(i),i.stateNode===null){var p=Ba,w=r.contextType;typeof w=="object"&&w!==null&&(p=wn(w)),p=new r(l,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Kd,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=l,p.state=i.memoizedState,p.refs={},Sd(i),w=r.contextType,p.context=typeof w=="object"&&w!==null?wn(w):Ba,p.state=i.memoizedState,w=r.getDerivedStateFromProps,typeof w=="function"&&(Gd(i,r,w,l),p.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(w=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),w!==p.state&&Kd.enqueueReplaceState(p,p.state,null),no(i,l,p,h),to(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){p=i.stateNode;var C=i.memoizedProps,M=la(r,C);p.props=M;var U=p.context,W=r.contextType;w=Ba,typeof W=="object"&&W!==null&&(w=wn(W));var ee=r.getDerivedStateFromProps;W=typeof ee=="function"||typeof p.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,W||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(C||U!==w)&&j0(i,p,l,w),mi=!1;var H=i.memoizedState;p.state=H,no(i,l,p,h),to(),U=i.memoizedState,C||H!==U||mi?(typeof ee=="function"&&(Gd(i,r,ee,l),U=i.memoizedState),(M=mi||k0(i,r,M,l,H,U,w))?(W||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=U),p.props=l,p.state=U,p.context=w,l=M):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{p=i.stateNode,Cd(n,i),w=i.memoizedProps,W=la(r,w),p.props=W,ee=i.pendingProps,H=p.context,U=r.contextType,M=Ba,typeof U=="object"&&U!==null&&(M=wn(U)),C=r.getDerivedStateFromProps,(U=typeof C=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w!==ee||H!==M)&&j0(i,p,l,M),mi=!1,H=i.memoizedState,p.state=H,no(i,l,p,h),to();var $=i.memoizedState;w!==ee||H!==$||mi||n!==null&&n.dependencies!==null&&Ul(n.dependencies)?(typeof C=="function"&&(Gd(i,r,C,l),$=i.memoizedState),(W=mi||k0(i,r,W,l,H,$,M)||n!==null&&n.dependencies!==null&&Ul(n.dependencies))?(U||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,$,M),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,$,M)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||w===n.memoizedProps&&H===n.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&H===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=$),p.props=l,p.state=$,p.context=M,l=W):(typeof p.componentDidUpdate!="function"||w===n.memoizedProps&&H===n.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&H===n.memoizedState||(i.flags|=1024),l=!1)}return p=l,ac(n,i),l=(i.flags&128)!==0,p||l?(p=i.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,n!==null&&l?(i.child=Ia(i,n.child,null,h),i.child=Ia(i,null,r,h)):gn(n,i,r,h),i.memoizedState=p.state,n=i.child):n=Zs(n,i,h),n}function U0(n,i,r,l){return Yr(),i.flags|=256,gn(n,i,r,l),i.child}var Id={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qd(n){return{baseLanes:n,cachePool:Tg()}}function Xd(n,i,r){return n=n!==null?n.childLanes&~r:0,i&&(n|=as),n}function V0(n,i,r){var l=i.pendingProps,h=!1,p=(i.flags&128)!==0,w;if((w=p)||(w=n!==null&&n.memoizedState===null?!1:(en.current&2)!==0),w&&(h=!0,i.flags&=-129),w=(i.flags&32)!==0,i.flags&=-33,n===null){if(ct){if(h?vi(i):bi(),ct){var C=Ot,M;if(M=C){e:{for(M=C,C=Ts;M.nodeType!==8;){if(!C){C=null;break e}if(M=ps(M.nextSibling),M===null){C=null;break e}}C=M}C!==null?(i.memoizedState={dehydrated:C,treeContext:ea!==null?{id:Ks,overflow:Fs}:null,retryLane:536870912,hydrationErrors:null},M=Gn(18,null,null,0),M.stateNode=C,M.return=i,i.child=M,An=i,Ot=null,M=!0):M=!1}M||sa(i)}if(C=i.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return Lf(C)?i.lanes=32:i.lanes=536870912,null;Xs(i)}return C=l.children,l=l.fallback,h?(bi(),h=i.mode,C=rc({mode:"hidden",children:C},h),l=Ji(l,h,r,null),C.return=i,l.return=i,C.sibling=l,i.child=C,h=i.child,h.memoizedState=Qd(r),h.childLanes=Xd(n,w,r),i.memoizedState=Id,l):(vi(i),Zd(i,C))}if(M=n.memoizedState,M!==null&&(C=M.dehydrated,C!==null)){if(p)i.flags&256?(vi(i),i.flags&=-257,i=Wd(n,i,r)):i.memoizedState!==null?(bi(),i.child=n.child,i.flags|=128,i=null):(bi(),h=l.fallback,C=i.mode,l=rc({mode:"visible",children:l.children},C),h=Ji(h,C,r,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ia(i,n.child,null,r),l=i.child,l.memoizedState=Qd(r),l.childLanes=Xd(n,w,r),i.memoizedState=Id,i=h);else if(vi(i),Lf(C)){if(w=C.nextSibling&&C.nextSibling.dataset,w)var U=w.dgst;w=U,l=Error(a(419)),l.stack="",l.digest=w,Ir({value:l,source:null,stack:null}),i=Wd(n,i,r)}else if(cn||Qr(n,i,r,!1),w=(r&n.childLanes)!==0,cn||w){if(w=kt,w!==null&&(l=r&-r,l=(l&42)!==0?1:ln(l),l=(l&(w.suspendedLanes|r))!==0?0:l,l!==0&&l!==M.retryLane))throw M.retryLane=l,za(n,l),Qn(w,n,l),R0;C.data==="$?"||yf(),i=Wd(n,i,r)}else C.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=M.treeContext,Ot=ps(C.nextSibling),An=i,ct=!0,na=null,Ts=!1,n!==null&&(ns[ss++]=Ks,ns[ss++]=Fs,ns[ss++]=ea,Ks=n.id,Fs=n.overflow,ea=i),i=Zd(i,l.children),i.flags|=4096);return i}return h?(bi(),h=l.fallback,C=i.mode,M=n.child,U=M.sibling,l=Gs(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,U!==null?h=Gs(U,h):(h=Ji(h,C,r,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,C=n.child.memoizedState,C===null?C=Qd(r):(M=C.cachePool,M!==null?(U=Jt._currentValue,M=M.parent!==U?{parent:U,pool:U}:M):M=Tg(),C={baseLanes:C.baseLanes|r,cachePool:M}),h.memoizedState=C,h.childLanes=Xd(n,w,r),i.memoizedState=Id,l):(vi(i),r=n.child,n=r.sibling,r=Gs(r,{mode:"visible",children:l.children}),r.return=i,r.sibling=null,n!==null&&(w=i.deletions,w===null?(i.deletions=[n],i.flags|=16):w.push(n)),i.child=r,i.memoizedState=null,r)}function Zd(n,i){return i=rc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function rc(n,i){return n=Gn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Wd(n,i,r){return Ia(i,n.child,null,r),n=Zd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function H0(n,i,r){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),gd(n.return,i,r)}function Jd(n,i,r,l,h){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=r,p.tailMode=h)}function $0(n,i,r){var l=i.pendingProps,h=l.revealOrder,p=l.tail;if(gn(n,i,l.children,r),l=en.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&H0(n,r,i);else if(n.tag===19)H0(n,r,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(te(en,l),h){case"forwards":for(r=i.child,h=null;r!==null;)n=r.alternate,n!==null&&nc(n)===null&&(h=r),r=r.sibling;r=h,r===null?(h=i.child,i.child=null):(h=r.sibling,r.sibling=null),Jd(i,!1,h,r,p);break;case"backwards":for(r=null,h=i.child,i.child=null;h!==null;){if(n=h.alternate,n!==null&&nc(n)===null){i.child=h;break}n=h.sibling,h.sibling=r,r=h,h=n}Jd(i,!0,r,null,p);break;case"together":Jd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Zs(n,i,r){if(n!==null&&(i.dependencies=n.dependencies),ki|=i.lanes,(r&i.childLanes)===0)if(n!==null){if(Qr(n,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,r=Gs(n,n.pendingProps),i.child=r,r.return=i;n.sibling!==null;)n=n.sibling,r=r.sibling=Gs(n,n.pendingProps),r.return=i;r.sibling=null}return i.child}function ef(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Ul(n)))}function mC(n,i,r){switch(i.tag){case 3:Pe(i,i.stateNode.containerInfo),hi(i,Jt,n.memoizedState.cache),Yr();break;case 27:case 5:Ze(i);break;case 4:Pe(i,i.stateNode.containerInfo);break;case 10:hi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(vi(i),i.flags|=128,null):(r&i.child.childLanes)!==0?V0(n,i,r):(vi(i),n=Zs(n,i,r),n!==null?n.sibling:null);vi(i);break;case 19:var h=(n.flags&128)!==0;if(l=(r&i.childLanes)!==0,l||(Qr(n,i,r,!1),l=(r&i.childLanes)!==0),h){if(l)return $0(n,i,r);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(en,en.current),l)break;return null;case 22:case 23:return i.lanes=0,P0(n,i,r);case 24:hi(i,Jt,n.memoizedState.cache)}return Zs(n,i,r)}function G0(n,i,r){if(n!==null)if(n.memoizedProps!==i.pendingProps)cn=!0;else{if(!ef(n,r)&&(i.flags&128)===0)return cn=!1,mC(n,i,r);cn=(n.flags&131072)!==0}else cn=!1,ct&&(i.flags&1048576)!==0&&xg(i,ql,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")cd(l)?(n=la(l,n),i.tag=1,i=q0(null,i,l,n,r)):(i.tag=0,i=Yd(null,i,l,n,r));else{if(l!=null){if(h=l.$$typeof,h===P){i.tag=11,i=D0(null,i,l,n,r);break e}else if(h===Q){i.tag=14,i=L0(null,i,l,n,r);break e}}throw i=le(l)||l,Error(a(306,i,""))}}return i;case 0:return Yd(n,i,i.type,i.pendingProps,r);case 1:return l=i.type,h=la(l,i.pendingProps),q0(n,i,l,h,r);case 3:e:{if(Pe(i,i.stateNode.containerInfo),n===null)throw Error(a(387));l=i.pendingProps;var p=i.memoizedState;h=p.element,Cd(n,i),no(i,l,null,r);var w=i.memoizedState;if(l=w.cache,hi(i,Jt,l),l!==p.cache&&yd(i,[Jt],r,!0),to(),l=w.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:w.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=U0(n,i,l,r);break e}else if(l!==h){h=es(Error(a(424)),i),Ir(h),i=U0(n,i,l,r);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ot=ps(n.firstChild),An=i,ct=!0,na=null,Ts=!0,r=S0(i,null,l,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Yr(),l===h){i=Zs(n,i,r);break e}gn(n,i,l,r)}i=i.child}return i;case 26:return ac(n,i),n===null?(r=Iy(i.type,null,i.pendingProps,null))?i.memoizedState=r:ct||(r=i.type,n=i.pendingProps,l=xc(ce.current).createElement(r),l[Fe]=i,l[dt]=n,vn(l,r,n),Gt(l),i.stateNode=l):i.memoizedState=Iy(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Ze(i),n===null&&ct&&(l=i.stateNode=Ky(i.type,i.pendingProps,ce.current),An=i,Ts=!0,h=Ot,Ai(i.type)?(Of=h,Ot=ps(l.firstChild)):Ot=h),gn(n,i,i.pendingProps.children,r),ac(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&ct&&((h=l=Ot)&&(l=HC(l,i.type,i.pendingProps,Ts),l!==null?(i.stateNode=l,An=i,Ot=ps(l.firstChild),Ts=!1,h=!0):h=!1),h||sa(i)),Ze(i),h=i.type,p=i.pendingProps,w=n!==null?n.memoizedProps:null,l=p.children,_f(h,p)?l=null:w!==null&&_f(h,w)&&(i.flags|=32),i.memoizedState!==null&&(h=Ed(n,i,rC,null,null,r),jo._currentValue=h),ac(n,i),gn(n,i,l,r),i.child;case 6:return n===null&&ct&&((n=r=Ot)&&(r=$C(r,i.pendingProps,Ts),r!==null?(i.stateNode=r,An=i,Ot=null,n=!0):n=!1),n||sa(i)),null;case 13:return V0(n,i,r);case 4:return Pe(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=Ia(i,null,l,r):gn(n,i,l,r),i.child;case 11:return D0(n,i,i.type,i.pendingProps,r);case 7:return gn(n,i,i.pendingProps,r),i.child;case 8:return gn(n,i,i.pendingProps.children,r),i.child;case 12:return gn(n,i,i.pendingProps.children,r),i.child;case 10:return l=i.pendingProps,hi(i,i.type,l.value),gn(n,i,l.children,r),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,aa(i),h=wn(h),l=l(h),i.flags|=1,gn(n,i,l,r),i.child;case 14:return L0(n,i,i.type,i.pendingProps,r);case 15:return O0(n,i,i.type,i.pendingProps,r);case 19:return $0(n,i,r);case 31:return l=i.pendingProps,r=i.mode,l={mode:l.mode,children:l.children},n===null?(r=rc(l,r),r.ref=i.ref,i.child=r,r.return=i,i=r):(r=Gs(n.child,l),r.ref=i.ref,i.child=r,r.return=i,i=r),i;case 22:return P0(n,i,r);case 24:return aa(i),l=wn(Jt),n===null?(h=xd(),h===null&&(h=kt,p=vd(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=r),h=p),i.memoizedState={parent:l,cache:h},Sd(i),hi(i,Jt,h)):((n.lanes&r)!==0&&(Cd(n,i),no(i,null,null,r),to()),h=n.memoizedState,p=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),hi(i,Jt,l)):(l=p.cache,hi(i,Jt,l),l!==h.cache&&yd(i,[Jt],r,!0))),gn(n,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Ws(n){n.flags|=4}function K0(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Jy(i)){if(i=is.current,i!==null&&((nt&4194048)===nt?As!==null:(nt&62914560)!==nt&&(nt&536870912)===0||i!==As))throw Jr=wd,Ag;n.flags|=8192}}function oc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Un():536870912,n.lanes|=i,Wa|=i)}function co(n,i){if(!ct)switch(n.tailMode){case"hidden":i=n.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function Rt(n){var i=n.alternate!==null&&n.alternate.child===n.child,r=0,l=0;if(i)for(var h=n.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=r,i}function pC(n,i,r){var l=i.pendingProps;switch(hd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(i),null;case 1:return Rt(i),null;case 3:return r=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Is(Jt),ft(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Fr(i)?Ws(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Cg())),Rt(i),null;case 26:return r=i.memoizedState,n===null?(Ws(i),r!==null?(Rt(i),K0(i,r)):(Rt(i),i.flags&=-16777217)):r?r!==n.memoizedState?(Ws(i),Rt(i),K0(i,r)):(Rt(i),i.flags&=-16777217):(n.memoizedProps!==l&&Ws(i),Rt(i),i.flags&=-16777217),null;case 27:st(i),r=ce.current;var h=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Ws(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Rt(i),null}n=ue.current,Fr(i)?wg(i):(n=Ky(h,l,r),i.stateNode=n,Ws(i))}return Rt(i),null;case 5:if(st(i),r=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Ws(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Rt(i),null}if(n=ue.current,Fr(i))wg(i);else{switch(h=xc(ce.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(r,{is:l.is}):h.createElement(r)}}n[Fe]=i,n[dt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=n;e:switch(vn(n,r,l),r){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Ws(i)}}return Rt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&Ws(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(n=ce.current,Fr(i)){if(n=i.stateNode,r=i.memoizedProps,l=null,h=An,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[Fe]=i,n=!!(n.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||By(n.nodeValue,r)),n||sa(i)}else n=xc(n).createTextNode(l),n[Fe]=i,i.stateNode=n}return Rt(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=Fr(i),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Fe]=i}else Yr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Rt(i),h=!1}else h=Cg(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Xs(i),i):(Xs(i),null)}if(Xs(i),(i.flags&128)!==0)return i.lanes=r,i;if(r=l!==null,n=n!==null&&n.memoizedState!==null,r){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==h&&(l.flags|=2048)}return r!==n&&r&&(i.child.flags|=8192),oc(i,i.updateQueue),Rt(i),null;case 4:return ft(),n===null&&Nf(i.stateNode.containerInfo),Rt(i),null;case 10:return Is(i.type),Rt(i),null;case 19:if(ae(en),h=i.memoizedState,h===null)return Rt(i),null;if(l=(i.flags&128)!==0,p=h.rendering,p===null)if(l)co(h,!1);else{if(Pt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(p=nc(n),p!==null){for(i.flags|=128,co(h,!1),n=p.updateQueue,i.updateQueue=n,oc(i,n),i.subtreeFlags=0,n=r,r=i.child;r!==null;)bg(r,n),r=r.sibling;return te(en,en.current&1|2),i.child}n=n.sibling}h.tail!==null&&Je()>uc&&(i.flags|=128,l=!0,co(h,!1),i.lanes=4194304)}else{if(!l)if(n=nc(p),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,oc(i,n),co(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!ct)return Rt(i),null}else 2*Je()-h.renderingStartTime>uc&&r!==536870912&&(i.flags|=128,l=!0,co(h,!1),i.lanes=4194304);h.isBackwards?(p.sibling=i.child,i.child=p):(n=h.last,n!==null?n.sibling=p:i.child=p,h.last=p)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Je(),i.sibling=null,n=en.current,te(en,l?n&1|2:n&1),i):(Rt(i),null);case 22:case 23:return Xs(i),Td(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(r&536870912)!==0&&(i.flags&128)===0&&(Rt(i),i.subtreeFlags&6&&(i.flags|=8192)):Rt(i),r=i.updateQueue,r!==null&&oc(i,r.retryQueue),r=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==r&&(i.flags|=2048),n!==null&&ae(ra),null;case 24:return r=null,n!==null&&(r=n.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),Is(Jt),Rt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function gC(n,i){switch(hd(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Is(Jt),ft(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return st(i),null;case 13:if(Xs(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Yr()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ae(en),null;case 4:return ft(),null;case 10:return Is(i.type),null;case 22:case 23:return Xs(i),Td(),n!==null&&ae(ra),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Is(Jt),null;case 25:return null;default:return null}}function F0(n,i){switch(hd(i),i.tag){case 3:Is(Jt),ft();break;case 26:case 27:case 5:st(i);break;case 4:ft();break;case 13:Xs(i);break;case 19:ae(en);break;case 10:Is(i.type);break;case 22:case 23:Xs(i),Td(),n!==null&&ae(ra);break;case 24:Is(Jt)}}function uo(n,i){try{var r=i.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&n)===n){l=void 0;var p=r.create,w=r.inst;l=p(),w.destroy=l}r=r.next}while(r!==h)}}catch(C){bt(i,i.return,C)}}function xi(n,i,r){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var p=h.next;l=p;do{if((l.tag&n)===n){var w=l.inst,C=w.destroy;if(C!==void 0){w.destroy=void 0,h=i;var M=r,U=C;try{U()}catch(W){bt(h,M,W)}}}l=l.next}while(l!==p)}}catch(W){bt(i,i.return,W)}}function Y0(n){var i=n.updateQueue;if(i!==null){var r=n.stateNode;try{Lg(i,r)}catch(l){bt(n,n.return,l)}}}function I0(n,i,r){r.props=la(n.type,n.memoizedProps),r.state=n.memoizedState;try{r.componentWillUnmount()}catch(l){bt(n,i,l)}}function fo(n,i){try{var r=n.ref;if(r!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof r=="function"?n.refCleanup=r(l):r.current=l}}catch(h){bt(n,i,h)}}function Es(n,i){var r=n.ref,l=n.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){bt(n,i,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){bt(n,i,h)}else r.current=null}function Q0(n){var i=n.type,r=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){bt(n,n.return,h)}}function tf(n,i,r){try{var l=n.stateNode;zC(l,n.type,r,i),l[dt]=i}catch(h){bt(n,n.return,h)}}function X0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ai(n.type)||n.tag===4}function nf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||X0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ai(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function sf(n,i,r){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(n,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(n),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=bc));else if(l!==4&&(l===27&&Ai(n.type)&&(r=n.stateNode,i=null),n=n.child,n!==null))for(sf(n,i,r),n=n.sibling;n!==null;)sf(n,i,r),n=n.sibling}function lc(n,i,r){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?r.insertBefore(n,i):r.appendChild(n);else if(l!==4&&(l===27&&Ai(n.type)&&(r=n.stateNode),n=n.child,n!==null))for(lc(n,i,r),n=n.sibling;n!==null;)lc(n,i,r),n=n.sibling}function Z0(n){var i=n.stateNode,r=n.memoizedProps;try{for(var l=n.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);vn(i,l,r),i[Fe]=n,i[dt]=r}catch(p){bt(n,n.return,p)}}var Js=!1,Ht=!1,af=!1,W0=typeof WeakSet=="function"?WeakSet:Set,un=null;function yC(n,i){if(n=n.containerInfo,Ef=Nc,n=cg(n),nd(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else e:{r=(r=n.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{r.nodeType,p.nodeType}catch{r=null;break e}var w=0,C=-1,M=-1,U=0,W=0,ee=n,H=null;t:for(;;){for(var $;ee!==r||h!==0&&ee.nodeType!==3||(C=w+h),ee!==p||l!==0&&ee.nodeType!==3||(M=w+l),ee.nodeType===3&&(w+=ee.nodeValue.length),($=ee.firstChild)!==null;)H=ee,ee=$;for(;;){if(ee===n)break t;if(H===r&&++U===h&&(C=w),H===p&&++W===l&&(M=w),($=ee.nextSibling)!==null)break;ee=H,H=ee.parentNode}ee=$}r=C===-1||M===-1?null:{start:C,end:M}}else r=null}r=r||{start:0,end:0}}else r=null;for(Mf={focusedElem:n,selectionRange:r},Nc=!1,un=i;un!==null;)if(i=un,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,un=n;else for(;un!==null;){switch(i=un,p=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,r=i,h=p.memoizedProps,p=p.memoizedState,l=r.stateNode;try{var De=la(r.type,h,r.elementType===r.type);n=l.getSnapshotBeforeUpdate(De,p),l.__reactInternalSnapshotBeforeUpdate=n}catch(_e){bt(r,r.return,_e)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,r=n.nodeType,r===9)Df(n);else if(r===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Df(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,un=n;break}un=i.return}}function J0(n,i,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:wi(n,r),l&4&&uo(5,r);break;case 1:if(wi(n,r),l&4)if(n=r.stateNode,i===null)try{n.componentDidMount()}catch(w){bt(r,r.return,w)}else{var h=la(r.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(h,i,n.__reactInternalSnapshotBeforeUpdate)}catch(w){bt(r,r.return,w)}}l&64&&Y0(r),l&512&&fo(r,r.return);break;case 3:if(wi(n,r),l&64&&(n=r.updateQueue,n!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{Lg(n,i)}catch(w){bt(r,r.return,w)}}break;case 27:i===null&&l&4&&Z0(r);case 26:case 5:wi(n,r),i===null&&l&4&&Q0(r),l&512&&fo(r,r.return);break;case 12:wi(n,r);break;case 13:wi(n,r),l&4&&ny(n,r),l&64&&(n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(r=NC.bind(null,r),GC(n,r))));break;case 22:if(l=r.memoizedState!==null||Js,!l){i=i!==null&&i.memoizedState!==null||Ht,h=Js;var p=Ht;Js=l,(Ht=i)&&!p?Si(n,r,(r.subtreeFlags&8772)!==0):wi(n,r),Js=h,Ht=p}break;case 30:break;default:wi(n,r)}}function ey(n){var i=n.alternate;i!==null&&(n.alternate=null,ey(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Ta(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Et=null,Ln=!1;function ei(n,i,r){for(r=r.child;r!==null;)ty(n,i,r),r=r.sibling}function ty(n,i,r){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(lt,r)}catch{}switch(r.tag){case 26:Ht||Es(r,i),ei(n,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ht||Es(r,i);var l=Et,h=Ln;Ai(r.type)&&(Et=r.stateNode,Ln=!1),ei(n,i,r),wo(r.stateNode),Et=l,Ln=h;break;case 5:Ht||Es(r,i);case 6:if(l=Et,h=Ln,Et=null,ei(n,i,r),Et=l,Ln=h,Et!==null)if(Ln)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(r.stateNode)}catch(p){bt(r,i,p)}else try{Et.removeChild(r.stateNode)}catch(p){bt(r,i,p)}break;case 18:Et!==null&&(Ln?(n=Et,$y(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,r.stateNode),Eo(n)):$y(Et,r.stateNode));break;case 4:l=Et,h=Ln,Et=r.stateNode.containerInfo,Ln=!0,ei(n,i,r),Et=l,Ln=h;break;case 0:case 11:case 14:case 15:Ht||xi(2,r,i),Ht||xi(4,r,i),ei(n,i,r);break;case 1:Ht||(Es(r,i),l=r.stateNode,typeof l.componentWillUnmount=="function"&&I0(r,i,l)),ei(n,i,r);break;case 21:ei(n,i,r);break;case 22:Ht=(l=Ht)||r.memoizedState!==null,ei(n,i,r),Ht=l;break;default:ei(n,i,r)}}function ny(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Eo(n)}catch(r){bt(i,i.return,r)}}function vC(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new W0),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new W0),i;default:throw Error(a(435,n.tag))}}function rf(n,i){var r=vC(n);i.forEach(function(l){var h=TC.bind(null,n,l);r.has(l)||(r.add(l),l.then(h,h))})}function Kn(n,i){var r=i.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],p=n,w=i,C=w;e:for(;C!==null;){switch(C.tag){case 27:if(Ai(C.type)){Et=C.stateNode,Ln=!1;break e}break;case 5:Et=C.stateNode,Ln=!1;break e;case 3:case 4:Et=C.stateNode.containerInfo,Ln=!0;break e}C=C.return}if(Et===null)throw Error(a(160));ty(p,w,h),Et=null,Ln=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)sy(i,n),i=i.sibling}var ms=null;function sy(n,i){var r=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Kn(i,n),Fn(n),l&4&&(xi(3,n,n.return),uo(3,n),xi(5,n,n.return));break;case 1:Kn(i,n),Fn(n),l&512&&(Ht||r===null||Es(r,r.return)),l&64&&Js&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(r=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=ms;if(Kn(i,n),Fn(n),l&512&&(Ht||r===null||Es(r,r.return)),l&4){var p=r!==null?r.memoizedState:null;if(l=n.memoizedState,r===null)if(l===null)if(n.stateNode===null){e:{l=n.type,r=n.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":p=h.getElementsByTagName("title")[0],(!p||p[Lt]||p[Fe]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(l),h.head.insertBefore(p,h.querySelector("head > title"))),vn(p,l,r),p[Fe]=n,Gt(p),l=p;break e;case"link":var w=Zy("link","href",h).get(l+(r.href||""));if(w){for(var C=0;C<w.length;C++)if(p=w[C],p.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&p.getAttribute("rel")===(r.rel==null?null:r.rel)&&p.getAttribute("title")===(r.title==null?null:r.title)&&p.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){w.splice(C,1);break t}}p=h.createElement(l),vn(p,l,r),h.head.appendChild(p);break;case"meta":if(w=Zy("meta","content",h).get(l+(r.content||""))){for(C=0;C<w.length;C++)if(p=w[C],p.getAttribute("content")===(r.content==null?null:""+r.content)&&p.getAttribute("name")===(r.name==null?null:r.name)&&p.getAttribute("property")===(r.property==null?null:r.property)&&p.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&p.getAttribute("charset")===(r.charSet==null?null:r.charSet)){w.splice(C,1);break t}}p=h.createElement(l),vn(p,l,r),h.head.appendChild(p);break;default:throw Error(a(468,l))}p[Fe]=n,Gt(p),l=p}n.stateNode=l}else Wy(h,n.type,n.stateNode);else n.stateNode=Xy(h,l,n.memoizedProps);else p!==l?(p===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):p.count--,l===null?Wy(h,n.type,n.stateNode):Xy(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&tf(n,n.memoizedProps,r.memoizedProps)}break;case 27:Kn(i,n),Fn(n),l&512&&(Ht||r===null||Es(r,r.return)),r!==null&&l&4&&tf(n,n.memoizedProps,r.memoizedProps);break;case 5:if(Kn(i,n),Fn(n),l&512&&(Ht||r===null||Es(r,r.return)),n.flags&32){h=n.stateNode;try{Ma(h,"")}catch($){bt(n,n.return,$)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,tf(n,h,r!==null?r.memoizedProps:h)),l&1024&&(af=!0);break;case 6:if(Kn(i,n),Fn(n),l&4){if(n.stateNode===null)throw Error(a(162));l=n.memoizedProps,r=n.stateNode;try{r.nodeValue=l}catch($){bt(n,n.return,$)}}break;case 3:if(Cc=null,h=ms,ms=wc(i.containerInfo),Kn(i,n),ms=h,Fn(n),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Eo(i.containerInfo)}catch($){bt(n,n.return,$)}af&&(af=!1,iy(n));break;case 4:l=ms,ms=wc(n.stateNode.containerInfo),Kn(i,n),Fn(n),ms=l;break;case 12:Kn(i,n),Fn(n);break;case 13:Kn(i,n),Fn(n),n.child.flags&8192&&n.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ff=Je()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,rf(n,l)));break;case 22:h=n.memoizedState!==null;var M=r!==null&&r.memoizedState!==null,U=Js,W=Ht;if(Js=U||h,Ht=W||M,Kn(i,n),Ht=W,Js=U,Fn(n),l&8192)e:for(i=n.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(r===null||M||Js||Ht||ca(n)),r=null,i=n;;){if(i.tag===5||i.tag===26){if(r===null){M=r=i;try{if(p=M.stateNode,h)w=p.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{C=M.stateNode;var ee=M.memoizedProps.style,H=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;C.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch($){bt(M,M.return,$)}}}else if(i.tag===6){if(r===null){M=i;try{M.stateNode.nodeValue=h?"":M.memoizedProps}catch($){bt(M,M.return,$)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,rf(n,r))));break;case 19:Kn(i,n),Fn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,rf(n,l)));break;case 30:break;case 21:break;default:Kn(i,n),Fn(n)}}function Fn(n){var i=n.flags;if(i&2){try{for(var r,l=n.return;l!==null;){if(X0(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,p=nf(n);lc(n,p,h);break;case 5:var w=r.stateNode;r.flags&32&&(Ma(w,""),r.flags&=-33);var C=nf(n);lc(n,C,w);break;case 3:case 4:var M=r.stateNode.containerInfo,U=nf(n);sf(n,U,M);break;default:throw Error(a(161))}}catch(W){bt(n,n.return,W)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function iy(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;iy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function wi(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)J0(n,i.alternate,i),i=i.sibling}function ca(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:xi(4,i,i.return),ca(i);break;case 1:Es(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&I0(i,i.return,r),ca(i);break;case 27:wo(i.stateNode);case 26:case 5:Es(i,i.return),ca(i);break;case 22:i.memoizedState===null&&ca(i);break;case 30:ca(i);break;default:ca(i)}n=n.sibling}}function Si(n,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=n,p=i,w=p.flags;switch(p.tag){case 0:case 11:case 15:Si(h,p,r),uo(4,p);break;case 1:if(Si(h,p,r),l=p,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){bt(l,l.return,U)}if(l=p,h=l.updateQueue,h!==null){var C=l.stateNode;try{var M=h.shared.hiddenCallbacks;if(M!==null)for(h.shared.hiddenCallbacks=null,h=0;h<M.length;h++)Dg(M[h],C)}catch(U){bt(l,l.return,U)}}r&&w&64&&Y0(p),fo(p,p.return);break;case 27:Z0(p);case 26:case 5:Si(h,p,r),r&&l===null&&w&4&&Q0(p),fo(p,p.return);break;case 12:Si(h,p,r);break;case 13:Si(h,p,r),r&&w&4&&ny(h,p);break;case 22:p.memoizedState===null&&Si(h,p,r),fo(p,p.return);break;case 30:break;default:Si(h,p,r)}i=i.sibling}}function of(n,i){var r=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==r&&(n!=null&&n.refCount++,r!=null&&Xr(r))}function lf(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Xr(n))}function Ms(n,i,r,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ay(n,i,r,l),i=i.sibling}function ay(n,i,r,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Ms(n,i,r,l),h&2048&&uo(9,i);break;case 1:Ms(n,i,r,l);break;case 3:Ms(n,i,r,l),h&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Xr(n)));break;case 12:if(h&2048){Ms(n,i,r,l),n=i.stateNode;try{var p=i.memoizedProps,w=p.id,C=p.onPostCommit;typeof C=="function"&&C(w,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(M){bt(i,i.return,M)}}else Ms(n,i,r,l);break;case 13:Ms(n,i,r,l);break;case 23:break;case 22:p=i.stateNode,w=i.alternate,i.memoizedState!==null?p._visibility&2?Ms(n,i,r,l):ho(n,i):p._visibility&2?Ms(n,i,r,l):(p._visibility|=2,Qa(n,i,r,l,(i.subtreeFlags&10256)!==0)),h&2048&&of(w,i);break;case 24:Ms(n,i,r,l),h&2048&&lf(i.alternate,i);break;default:Ms(n,i,r,l)}}function Qa(n,i,r,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=n,w=i,C=r,M=l,U=w.flags;switch(w.tag){case 0:case 11:case 15:Qa(p,w,C,M,h),uo(8,w);break;case 23:break;case 22:var W=w.stateNode;w.memoizedState!==null?W._visibility&2?Qa(p,w,C,M,h):ho(p,w):(W._visibility|=2,Qa(p,w,C,M,h)),h&&U&2048&&of(w.alternate,w);break;case 24:Qa(p,w,C,M,h),h&&U&2048&&lf(w.alternate,w);break;default:Qa(p,w,C,M,h)}i=i.sibling}}function ho(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=n,l=i,h=l.flags;switch(l.tag){case 22:ho(r,l),h&2048&&of(l.alternate,l);break;case 24:ho(r,l),h&2048&&lf(l.alternate,l);break;default:ho(r,l)}i=i.sibling}}var mo=8192;function Xa(n){if(n.subtreeFlags&mo)for(n=n.child;n!==null;)ry(n),n=n.sibling}function ry(n){switch(n.tag){case 26:Xa(n),n.flags&mo&&n.memoizedState!==null&&sk(ms,n.memoizedState,n.memoizedProps);break;case 5:Xa(n);break;case 3:case 4:var i=ms;ms=wc(n.stateNode.containerInfo),Xa(n),ms=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=mo,mo=16777216,Xa(n),mo=i):Xa(n));break;default:Xa(n)}}function oy(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function po(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var l=i[r];un=l,cy(l,n)}oy(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ly(n),n=n.sibling}function ly(n){switch(n.tag){case 0:case 11:case 15:po(n),n.flags&2048&&xi(9,n,n.return);break;case 3:po(n);break;case 12:po(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,cc(n)):po(n);break;default:po(n)}}function cc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var l=i[r];un=l,cy(l,n)}oy(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:xi(8,i,i.return),cc(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,cc(i));break;default:cc(i)}n=n.sibling}}function cy(n,i){for(;un!==null;){var r=un;switch(r.tag){case 0:case 11:case 15:xi(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Xr(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,un=l;else e:for(r=n;un!==null;){l=un;var h=l.sibling,p=l.return;if(ey(l),l===r){un=null;break e}if(h!==null){h.return=p,un=h;break e}un=p}}}var bC={getCacheForType:function(n){var i=wn(Jt),r=i.data.get(n);return r===void 0&&(r=n(),i.data.set(n,r)),r}},xC=typeof WeakMap=="function"?WeakMap:Map,ht=0,kt=null,Ye=null,nt=0,mt=0,Yn=null,Ci=!1,Za=!1,cf=!1,ti=0,Pt=0,ki=0,ua=0,uf=0,as=0,Wa=0,go=null,On=null,df=!1,ff=0,uc=1/0,dc=null,ji=null,yn=0,Ni=null,Ja=null,er=0,hf=0,mf=null,uy=null,yo=0,pf=null;function In(){if((ht&2)!==0&&nt!==0)return nt&-nt;if(B.T!==null){var n=Va;return n!==0?n:Sf()}return Nn()}function dy(){as===0&&(as=(nt&536870912)===0||ct?ge():536870912);var n=is.current;return n!==null&&(n.flags|=32),as}function Qn(n,i,r){(n===kt&&(mt===2||mt===9)||n.cancelPendingCommit!==null)&&(tr(n,0),Ti(n,nt,as,!1)),At(n,r),((ht&2)===0||n!==kt)&&(n===kt&&((ht&2)===0&&(ua|=r),Pt===4&&Ti(n,nt,as,!1)),_s(n))}function fy(n,i,r){if((ht&6)!==0)throw Error(a(327));var l=!r&&(i&124)===0&&(i&n.expiredLanes)===0||rn(n,i),h=l?CC(n,i):vf(n,i,!0),p=l;do{if(h===0){Za&&!l&&Ti(n,i,0,!1);break}else{if(r=n.current.alternate,p&&!wC(r)){h=vf(n,i,!1),p=!1;continue}if(h===2){if(p=i,n.errorRecoveryDisabledLanes&p)var w=0;else w=n.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){i=w;e:{var C=n;h=go;var M=C.current.memoizedState.isDehydrated;if(M&&(tr(C,w).flags|=256),w=vf(C,w,!1),w!==2){if(cf&&!M){C.errorRecoveryDisabledLanes|=p,ua|=p,h=4;break e}p=On,On=h,p!==null&&(On===null?On=p:On.push.apply(On,p))}h=w}if(p=!1,h!==2)continue}}if(h===1){tr(n,0),Ti(n,i,0,!0);break}e:{switch(l=n,p=h,p){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Ti(l,i,as,!Ci);break e;case 2:On=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=ff+300-Je(),10<h)){if(Ti(l,i,as,!Ci),an(l,0,!0)!==0)break e;l.timeoutHandle=Vy(hy.bind(null,l,r,On,dc,df,i,as,ua,Wa,Ci,p,2,-0,0),h);break e}hy(l,r,On,dc,df,i,as,ua,Wa,Ci,p,0,-0,0)}}break}while(!0);_s(n)}function hy(n,i,r,l,h,p,w,C,M,U,W,ee,H,$){if(n.timeoutHandle=-1,ee=i.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(ko={stylesheets:null,count:0,unsuspend:nk},ry(i),ee=ik(),ee!==null)){n.cancelPendingCommit=ee(xy.bind(null,n,i,p,r,l,h,w,C,M,W,1,H,$)),Ti(n,p,w,!U);return}xy(n,i,p,r,l,h,w,C,M)}function wC(n){for(var i=n;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],p=h.getSnapshot;h=h.value;try{if(!$n(p(),h))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ti(n,i,r,l){i&=~uf,i&=~ua,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var h=i;0<h;){var p=31-Me(h),w=1<<p;l[p]=-1,h&=~w}r!==0&&on(n,r,i)}function fc(){return(ht&6)===0?(vo(0),!1):!0}function gf(){if(Ye!==null){if(mt===0)var n=Ye.return;else n=Ye,Ys=ia=null,Rd(n),Ya=null,oo=0,n=Ye;for(;n!==null;)F0(n.alternate,n),n=n.return;Ye=null}}function tr(n,i){var r=n.timeoutHandle;r!==-1&&(n.timeoutHandle=-1,qC(r)),r=n.cancelPendingCommit,r!==null&&(n.cancelPendingCommit=null,r()),gf(),kt=n,Ye=r=Gs(n.current,null),nt=i,mt=0,Yn=null,Ci=!1,Za=rn(n,i),cf=!1,Wa=as=uf=ua=ki=Pt=0,On=go=null,df=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var h=31-Me(l),p=1<<h;i|=n[h],l&=~p}return ti=i,Ll(),r}function my(n,i){He=null,B.H=Jl,i===Wr||i===$l?(i=_g(),mt=3):i===Ag?(i=_g(),mt=4):mt=i===R0?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Yn=i,Ye===null&&(Pt=1,ic(n,es(i,n.current)))}function py(){var n=B.H;return B.H=Jl,n===null?Jl:n}function gy(){var n=B.A;return B.A=bC,n}function yf(){Pt=4,Ci||(nt&4194048)!==nt&&is.current!==null||(Za=!0),(ki&134217727)===0&&(ua&134217727)===0||kt===null||Ti(kt,nt,as,!1)}function vf(n,i,r){var l=ht;ht|=2;var h=py(),p=gy();(kt!==n||nt!==i)&&(dc=null,tr(n,i)),i=!1;var w=Pt;e:do try{if(mt!==0&&Ye!==null){var C=Ye,M=Yn;switch(mt){case 8:gf(),w=6;break e;case 3:case 2:case 9:case 6:is.current===null&&(i=!0);var U=mt;if(mt=0,Yn=null,nr(n,C,M,U),r&&Za){w=0;break e}break;default:U=mt,mt=0,Yn=null,nr(n,C,M,U)}}SC(),w=Pt;break}catch(W){my(n,W)}while(!0);return i&&n.shellSuspendCounter++,Ys=ia=null,ht=l,B.H=h,B.A=p,Ye===null&&(kt=null,nt=0,Ll()),w}function SC(){for(;Ye!==null;)yy(Ye)}function CC(n,i){var r=ht;ht|=2;var l=py(),h=gy();kt!==n||nt!==i?(dc=null,uc=Je()+500,tr(n,i)):Za=rn(n,i);e:do try{if(mt!==0&&Ye!==null){i=Ye;var p=Yn;t:switch(mt){case 1:mt=0,Yn=null,nr(n,i,p,1);break;case 2:case 9:if(Eg(p)){mt=0,Yn=null,vy(i);break}i=function(){mt!==2&&mt!==9||kt!==n||(mt=7),_s(n)},p.then(i,i);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:Eg(p)?(mt=0,Yn=null,vy(i)):(mt=0,Yn=null,nr(n,i,p,7));break;case 5:var w=null;switch(Ye.tag){case 26:w=Ye.memoizedState;case 5:case 27:var C=Ye;if(!w||Jy(w)){mt=0,Yn=null;var M=C.sibling;if(M!==null)Ye=M;else{var U=C.return;U!==null?(Ye=U,hc(U)):Ye=null}break t}}mt=0,Yn=null,nr(n,i,p,5);break;case 6:mt=0,Yn=null,nr(n,i,p,6);break;case 8:gf(),Pt=6;break e;default:throw Error(a(462))}}kC();break}catch(W){my(n,W)}while(!0);return Ys=ia=null,B.H=l,B.A=h,ht=r,Ye!==null?0:(kt=null,nt=0,Ll(),Pt)}function kC(){for(;Ye!==null&&!We();)yy(Ye)}function yy(n){var i=G0(n.alternate,n,ti);n.memoizedProps=n.pendingProps,i===null?hc(n):Ye=i}function vy(n){var i=n,r=i.alternate;switch(i.tag){case 15:case 0:i=B0(r,i,i.pendingProps,i.type,void 0,nt);break;case 11:i=B0(r,i,i.pendingProps,i.type.render,i.ref,nt);break;case 5:Rd(i);default:F0(r,i),i=Ye=bg(i,ti),i=G0(r,i,ti)}n.memoizedProps=n.pendingProps,i===null?hc(n):Ye=i}function nr(n,i,r,l){Ys=ia=null,Rd(i),Ya=null,oo=0;var h=i.return;try{if(hC(n,h,i,r,nt)){Pt=1,ic(n,es(r,n.current)),Ye=null;return}}catch(p){if(h!==null)throw Ye=h,p;Pt=1,ic(n,es(r,n.current)),Ye=null;return}i.flags&32768?(ct||l===1?n=!0:Za||(nt&536870912)!==0?n=!1:(Ci=n=!0,(l===2||l===9||l===3||l===6)&&(l=is.current,l!==null&&l.tag===13&&(l.flags|=16384))),by(i,n)):hc(i)}function hc(n){var i=n;do{if((i.flags&32768)!==0){by(i,Ci);return}n=i.return;var r=pC(i.alternate,i,ti);if(r!==null){Ye=r;return}if(i=i.sibling,i!==null){Ye=i;return}Ye=i=n}while(i!==null);Pt===0&&(Pt=5)}function by(n,i){do{var r=gC(n.alternate,n);if(r!==null){r.flags&=32767,Ye=r;return}if(r=n.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(n=n.sibling,n!==null)){Ye=n;return}Ye=n=r}while(n!==null);Pt=6,Ye=null}function xy(n,i,r,l,h,p,w,C,M){n.cancelPendingCommit=null;do mc();while(yn!==0);if((ht&6)!==0)throw Error(a(327));if(i!==null){if(i===n.current)throw Error(a(177));if(p=i.lanes|i.childLanes,p|=od,pn(n,r,p,w,C,M),n===kt&&(Ye=kt=null,nt=0),Ja=i,Ni=n,er=r,hf=p,mf=h,uy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,AC(Ce,function(){return jy(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=B.T,B.T=null,h=V.p,V.p=2,w=ht,ht|=4;try{yC(n,i,r)}finally{ht=w,V.p=h,B.T=l}}yn=1,wy(),Sy(),Cy()}}function wy(){if(yn===1){yn=0;var n=Ni,i=Ja,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=B.T,B.T=null;var l=V.p;V.p=2;var h=ht;ht|=4;try{sy(i,n);var p=Mf,w=cg(n.containerInfo),C=p.focusedElem,M=p.selectionRange;if(w!==C&&C&&C.ownerDocument&&lg(C.ownerDocument.documentElement,C)){if(M!==null&&nd(C)){var U=M.start,W=M.end;if(W===void 0&&(W=U),"selectionStart"in C)C.selectionStart=U,C.selectionEnd=Math.min(W,C.value.length);else{var ee=C.ownerDocument||document,H=ee&&ee.defaultView||window;if(H.getSelection){var $=H.getSelection(),De=C.textContent.length,_e=Math.min(M.start,De),yt=M.end===void 0?_e:Math.min(M.end,De);!$.extend&&_e>yt&&(w=yt,yt=_e,_e=w);var O=og(C,_e),D=og(C,yt);if(O&&D&&($.rangeCount!==1||$.anchorNode!==O.node||$.anchorOffset!==O.offset||$.focusNode!==D.node||$.focusOffset!==D.offset)){var q=ee.createRange();q.setStart(O.node,O.offset),$.removeAllRanges(),_e>yt?($.addRange(q),$.extend(D.node,D.offset)):(q.setEnd(D.node,D.offset),$.addRange(q))}}}}for(ee=[],$=C;$=$.parentNode;)$.nodeType===1&&ee.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ee.length;C++){var J=ee[C];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Nc=!!Ef,Mf=Ef=null}finally{ht=h,V.p=l,B.T=r}}n.current=i,yn=2}}function Sy(){if(yn===2){yn=0;var n=Ni,i=Ja,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=B.T,B.T=null;var l=V.p;V.p=2;var h=ht;ht|=4;try{J0(n,i.alternate,i)}finally{ht=h,V.p=l,B.T=r}}yn=3}}function Cy(){if(yn===4||yn===3){yn=0,ot();var n=Ni,i=Ja,r=er,l=uy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?yn=5:(yn=0,Ja=Ni=null,ky(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(ji=null),Zt(r),i=i.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(lt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=B.T,h=V.p,V.p=2,B.T=null;try{for(var p=n.onRecoverableError,w=0;w<l.length;w++){var C=l[w];p(C.value,{componentStack:C.stack})}}finally{B.T=i,V.p=h}}(er&3)!==0&&mc(),_s(n),h=n.pendingLanes,(r&4194090)!==0&&(h&42)!==0?n===pf?yo++:(yo=0,pf=n):yo=0,vo(0)}}function ky(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Xr(i)))}function mc(n){return wy(),Sy(),Cy(),jy()}function jy(){if(yn!==5)return!1;var n=Ni,i=hf;hf=0;var r=Zt(er),l=B.T,h=V.p;try{V.p=32>r?32:r,B.T=null,r=mf,mf=null;var p=Ni,w=er;if(yn=0,Ja=Ni=null,er=0,(ht&6)!==0)throw Error(a(331));var C=ht;if(ht|=4,ly(p.current),ay(p,p.current,w,r),ht=C,vo(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(lt,p)}catch{}return!0}finally{V.p=h,B.T=l,ky(n,i)}}function Ny(n,i,r){i=es(r,i),i=Fd(n.stateNode,i,2),n=gi(n,i,2),n!==null&&(At(n,2),_s(n))}function bt(n,i,r){if(n.tag===3)Ny(n,n,r);else for(;i!==null;){if(i.tag===3){Ny(i,n,r);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ji===null||!ji.has(l))){n=es(r,n),r=M0(2),l=gi(i,r,2),l!==null&&(_0(r,l,i,n),At(l,2),_s(l));break}}i=i.return}}function bf(n,i,r){var l=n.pingCache;if(l===null){l=n.pingCache=new xC;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(r)||(cf=!0,h.add(r),n=jC.bind(null,n,i,r),i.then(n,n))}function jC(n,i,r){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&r,n.warmLanes&=~r,kt===n&&(nt&r)===r&&(Pt===4||Pt===3&&(nt&62914560)===nt&&300>Je()-ff?(ht&2)===0&&tr(n,0):uf|=r,Wa===nt&&(Wa=0)),_s(n)}function Ty(n,i){i===0&&(i=Un()),n=za(n,i),n!==null&&(At(n,i),_s(n))}function NC(n){var i=n.memoizedState,r=0;i!==null&&(r=i.retryLane),Ty(n,r)}function TC(n,i){var r=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),Ty(n,r)}function AC(n,i){return Ee(n,i)}var pc=null,sr=null,xf=!1,gc=!1,wf=!1,da=0;function _s(n){n!==sr&&n.next===null&&(sr===null?pc=sr=n:sr=sr.next=n),gc=!0,xf||(xf=!0,MC())}function vo(n,i){if(!wf&&gc){wf=!0;do for(var r=!1,l=pc;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var p=0;else{var w=l.suspendedLanes,C=l.pingedLanes;p=(1<<31-Me(42|n)+1)-1,p&=h&~(w&~C),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(r=!0,_y(l,p))}else p=nt,p=an(l,l===kt?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||rn(l,p)||(r=!0,_y(l,p));l=l.next}while(r);wf=!1}}function EC(){Ay()}function Ay(){gc=xf=!1;var n=0;da!==0&&(BC()&&(n=da),da=0);for(var i=Je(),r=null,l=pc;l!==null;){var h=l.next,p=Ey(l,i);p===0?(l.next=null,r===null?pc=h:r.next=h,h===null&&(sr=r)):(r=l,(n!==0||(p&3)!==0)&&(gc=!0)),l=h}vo(n)}function Ey(n,i){for(var r=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var w=31-Me(p),C=1<<w,M=h[w];M===-1?((C&r)===0||(C&l)!==0)&&(h[w]=Wn(C,i)):M<=i&&(n.expiredLanes|=C),p&=~C}if(i=kt,r=nt,r=an(n,n===i?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,r===0||n===i&&(mt===2||mt===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&qe(l),n.callbackNode=null,n.callbackPriority=0;if((r&3)===0||rn(n,r)){if(i=r&-r,i===n.callbackPriority)return i;switch(l!==null&&qe(l),Zt(r)){case 2:case 8:r=de;break;case 32:r=Ce;break;case 268435456:r=Ve;break;default:r=Ce}return l=My.bind(null,n),r=Ee(r,l),n.callbackPriority=i,n.callbackNode=r,i}return l!==null&&l!==null&&qe(l),n.callbackPriority=2,n.callbackNode=null,2}function My(n,i){if(yn!==0&&yn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var r=n.callbackNode;if(mc()&&n.callbackNode!==r)return null;var l=nt;return l=an(n,n===kt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(fy(n,l,i),Ey(n,Je()),n.callbackNode!=null&&n.callbackNode===r?My.bind(null,n):null)}function _y(n,i){if(mc())return null;fy(n,i,!0)}function MC(){UC(function(){(ht&6)!==0?Ee(qt,EC):Ay()})}function Sf(){return da===0&&(da=ge()),da}function Ry(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Tl(""+n)}function Dy(n,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,n.id&&r.setAttribute("form",n.id),i.parentNode.insertBefore(r,i),n=new FormData(n),r.parentNode.removeChild(r),n}function _C(n,i,r,l,h){if(i==="submit"&&r&&r.stateNode===h){var p=Ry((h[dt]||null).action),w=l.submitter;w&&(i=(i=w[dt]||null)?Ry(i.formAction):w.getAttribute("formAction"),i!==null&&(p=i,w=null));var C=new _l("action","action",null,l,h);n.push({event:C,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(da!==0){var M=w?Dy(h,w):new FormData(h);Vd(r,{pending:!0,data:M,method:h.method,action:p},null,M)}}else typeof p=="function"&&(C.preventDefault(),M=w?Dy(h,w):new FormData(h),Vd(r,{pending:!0,data:M,method:h.method,action:p},p,M))},currentTarget:h}]})}}for(var Cf=0;Cf<rd.length;Cf++){var kf=rd[Cf],RC=kf.toLowerCase(),DC=kf[0].toUpperCase()+kf.slice(1);hs(RC,"on"+DC)}hs(fg,"onAnimationEnd"),hs(hg,"onAnimationIteration"),hs(mg,"onAnimationStart"),hs("dblclick","onDoubleClick"),hs("focusin","onFocus"),hs("focusout","onBlur"),hs(XS,"onTransitionRun"),hs(ZS,"onTransitionStart"),hs(WS,"onTransitionCancel"),hs(pg,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),Us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Us("onBeforeInput",["compositionend","keypress","textInput","paste"]),Us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bo));function Ly(n,i){i=(i&4)!==0;for(var r=0;r<n.length;r++){var l=n[r],h=l.event;l=l.listeners;e:{var p=void 0;if(i)for(var w=l.length-1;0<=w;w--){var C=l[w],M=C.instance,U=C.currentTarget;if(C=C.listener,M!==p&&h.isPropagationStopped())break e;p=C,h.currentTarget=U;try{p(h)}catch(W){sc(W)}h.currentTarget=null,p=M}else for(w=0;w<l.length;w++){if(C=l[w],M=C.instance,U=C.currentTarget,C=C.listener,M!==p&&h.isPropagationStopped())break e;p=C,h.currentTarget=U;try{p(h)}catch(W){sc(W)}h.currentTarget=null,p=M}}}}function Ie(n,i){var r=i[Tn];r===void 0&&(r=i[Tn]=new Set);var l=n+"__bubble";r.has(l)||(Oy(i,n,2,!1),r.add(l))}function jf(n,i,r){var l=0;i&&(l|=4),Oy(r,n,l,i)}var yc="_reactListening"+Math.random().toString(36).slice(2);function Nf(n){if(!n[yc]){n[yc]=!0,Dr.forEach(function(r){r!=="selectionchange"&&(LC.has(r)||jf(r,!1,n),jf(r,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[yc]||(i[yc]=!0,jf("selectionchange",!1,i))}}function Oy(n,i,r,l){switch(av(i)){case 2:var h=ok;break;case 8:h=lk;break;default:h=Uf}r=h.bind(null,i,r,n),h=void 0,!Yu||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(i,r,{capture:!0,passive:h}):n.addEventListener(i,r,!0):h!==void 0?n.addEventListener(i,r,{passive:h}):n.addEventListener(i,r,!1)}function Tf(n,i,r,l,h){var p=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var C=l.stateNode.containerInfo;if(C===h)break;if(w===4)for(w=l.return;w!==null;){var M=w.tag;if((M===3||M===4)&&w.stateNode.containerInfo===h)return;w=w.return}for(;C!==null;){if(w=Bs(C),w===null)return;if(M=w.tag,M===5||M===6||M===26||M===27){l=p=w;continue e}C=C.parentNode}}l=l.return}Hp(function(){var U=p,W=Ku(r),ee=[];e:{var H=gg.get(n);if(H!==void 0){var $=_l,De=n;switch(n){case"keypress":if(El(r)===0)break e;case"keydown":case"keyup":$=AS;break;case"focusin":De="focus",$=Zu;break;case"focusout":De="blur",$=Zu;break;case"beforeblur":case"afterblur":$=Zu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Kp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=gS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=_S;break;case fg:case hg:case mg:$=bS;break;case pg:$=DS;break;case"scroll":case"scrollend":$=mS;break;case"wheel":$=OS;break;case"copy":case"cut":case"paste":$=wS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Yp;break;case"toggle":case"beforetoggle":$=zS}var _e=(i&4)!==0,yt=!_e&&(n==="scroll"||n==="scrollend"),O=_e?H!==null?H+"Capture":null:H;_e=[];for(var D=U,q;D!==null;){var J=D;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||O===null||(J=zr(D,O),J!=null&&_e.push(xo(D,J,q))),yt)break;D=D.return}0<_e.length&&(H=new $(H,De,null,r,W),ee.push({event:H,listeners:_e}))}}if((i&7)===0){e:{if(H=n==="mouseover"||n==="pointerover",$=n==="mouseout"||n==="pointerout",H&&r!==Gu&&(De=r.relatedTarget||r.fromElement)&&(Bs(De)||De[se]))break e;if(($||H)&&(H=W.window===W?W:(H=W.ownerDocument)?H.defaultView||H.parentWindow:window,$?(De=r.relatedTarget||r.toElement,$=U,De=De?Bs(De):null,De!==null&&(yt=c(De),_e=De.tag,De!==yt||_e!==5&&_e!==27&&_e!==6)&&(De=null)):($=null,De=U),$!==De)){if(_e=Kp,J="onMouseLeave",O="onMouseEnter",D="mouse",(n==="pointerout"||n==="pointerover")&&(_e=Yp,J="onPointerLeave",O="onPointerEnter",D="pointer"),yt=$==null?H:Ii($),q=De==null?H:Ii(De),H=new _e(J,D+"leave",$,r,W),H.target=yt,H.relatedTarget=q,J=null,Bs(W)===U&&(_e=new _e(O,D+"enter",De,r,W),_e.target=q,_e.relatedTarget=yt,J=_e),yt=J,$&&De)t:{for(_e=$,O=De,D=0,q=_e;q;q=ir(q))D++;for(q=0,J=O;J;J=ir(J))q++;for(;0<D-q;)_e=ir(_e),D--;for(;0<q-D;)O=ir(O),q--;for(;D--;){if(_e===O||O!==null&&_e===O.alternate)break t;_e=ir(_e),O=ir(O)}_e=null}else _e=null;$!==null&&Py(ee,H,$,_e,!1),De!==null&&yt!==null&&Py(ee,yt,De,_e,!0)}}e:{if(H=U?Ii(U):window,$=H.nodeName&&H.nodeName.toLowerCase(),$==="select"||$==="input"&&H.type==="file")var ve=tg;else if(Jp(H))if(ng)ve=YS;else{ve=KS;var Ke=GS}else $=H.nodeName,!$||$.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?U&&$u(U.elementType)&&(ve=tg):ve=FS;if(ve&&(ve=ve(n,U))){eg(ee,ve,r,W);break e}Ke&&Ke(n,H,U),n==="focusout"&&U&&H.type==="number"&&U.memoizedProps.value!=null&&Hu(H,"number",H.value)}switch(Ke=U?Ii(U):window,n){case"focusin":(Jp(Ke)||Ke.contentEditable==="true")&&(La=Ke,sd=U,Kr=null);break;case"focusout":Kr=sd=La=null;break;case"mousedown":id=!0;break;case"contextmenu":case"mouseup":case"dragend":id=!1,ug(ee,r,W);break;case"selectionchange":if(QS)break;case"keydown":case"keyup":ug(ee,r,W)}var ke;if(Ju)e:{switch(n){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Da?Zp(n,r)&&(Re="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(Re="onCompositionStart");Re&&(Ip&&r.locale!=="ko"&&(Da||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Da&&(ke=$p()):(fi=W,Iu="value"in fi?fi.value:fi.textContent,Da=!0)),Ke=vc(U,Re),0<Ke.length&&(Re=new Fp(Re,n,null,r,W),ee.push({event:Re,listeners:Ke}),ke?Re.data=ke:(ke=Wp(r),ke!==null&&(Re.data=ke)))),(ke=qS?US(n,r):VS(n,r))&&(Re=vc(U,"onBeforeInput"),0<Re.length&&(Ke=new Fp("onBeforeInput","beforeinput",null,r,W),ee.push({event:Ke,listeners:Re}),Ke.data=ke)),_C(ee,n,U,r,W)}Ly(ee,i)})}function xo(n,i,r){return{instance:n,listener:i,currentTarget:r}}function vc(n,i){for(var r=i+"Capture",l=[];n!==null;){var h=n,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=zr(n,r),h!=null&&l.unshift(xo(n,h,p)),h=zr(n,i),h!=null&&l.push(xo(n,h,p))),n.tag===3)return l;n=n.return}return[]}function ir(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Py(n,i,r,l,h){for(var p=i._reactName,w=[];r!==null&&r!==l;){var C=r,M=C.alternate,U=C.stateNode;if(C=C.tag,M!==null&&M===l)break;C!==5&&C!==26&&C!==27||U===null||(M=U,h?(U=zr(r,p),U!=null&&w.unshift(xo(r,U,M))):h||(U=zr(r,p),U!=null&&w.push(xo(r,U,M)))),r=r.return}w.length!==0&&n.push({event:i,listeners:w})}var OC=/\r\n?/g,PC=/\u0000|\uFFFD/g;function zy(n){return(typeof n=="string"?n:""+n).replace(OC,`
`).replace(PC,"")}function By(n,i){return i=zy(i),zy(n)===i}function bc(){}function gt(n,i,r,l,h,p){switch(r){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Ma(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Ma(n,""+l);break;case"className":Qi(n,"class",l);break;case"tabIndex":Qi(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Qi(n,r,l);break;case"style":Up(n,l,p);break;case"data":if(i!=="object"){Qi(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||r!=="href")){n.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(r);break}l=Tl(""+l),n.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(r==="formAction"?(i!=="input"&&gt(n,i,"name",h.name,h,null),gt(n,i,"formEncType",h.formEncType,h,null),gt(n,i,"formMethod",h.formMethod,h,null),gt(n,i,"formTarget",h.formTarget,h,null)):(gt(n,i,"encType",h.encType,h,null),gt(n,i,"method",h.method,h,null),gt(n,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(r);break}l=Tl(""+l),n.setAttribute(r,l);break;case"onClick":l!=null&&(n.onclick=bc);break;case"onScroll":l!=null&&Ie("scroll",n);break;case"onScrollEnd":l!=null&&Ie("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));n.innerHTML=r}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}r=Tl(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(r,""+l):n.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(r,""):n.removeAttribute(r);break;case"capture":case"download":l===!0?n.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(r,l):n.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(r,l):n.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(r):n.setAttribute(r,l);break;case"popover":Ie("beforetoggle",n),Ie("toggle",n),Aa(n,"popover",l);break;case"xlinkActuate":Hn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Hn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Hn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Hn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Hn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Hn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Hn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Hn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Hn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Aa(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=fS.get(r)||r,Aa(n,r,l))}}function Af(n,i,r,l,h,p){switch(r){case"style":Up(n,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));n.innerHTML=r}}break;case"children":typeof l=="string"?Ma(n,l):(typeof l=="number"||typeof l=="bigint")&&Ma(n,""+l);break;case"onScroll":l!=null&&Ie("scroll",n);break;case"onScrollEnd":l!=null&&Ie("scrollend",n);break;case"onClick":l!=null&&(n.onclick=bc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),i=r.slice(2,h?r.length-7:void 0),p=n[dt]||null,p=p!=null?p[r]:null,typeof p=="function"&&n.removeEventListener(i,p,h),typeof l=="function")){typeof p!="function"&&p!==null&&(r in n?n[r]=null:n.hasAttribute(r)&&n.removeAttribute(r)),n.addEventListener(i,l,h);break e}r in n?n[r]=l:l===!0?n.setAttribute(r,""):Aa(n,r,l)}}}function vn(n,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",n),Ie("load",n);var l=!1,h=!1,p;for(p in r)if(r.hasOwnProperty(p)){var w=r[p];if(w!=null)switch(p){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:gt(n,i,p,w,r,null)}}h&&gt(n,i,"srcSet",r.srcSet,r,null),l&&gt(n,i,"src",r.src,r,null);return;case"input":Ie("invalid",n);var C=p=w=h=null,M=null,U=null;for(l in r)if(r.hasOwnProperty(l)){var W=r[l];if(W!=null)switch(l){case"name":h=W;break;case"type":w=W;break;case"checked":M=W;break;case"defaultChecked":U=W;break;case"value":p=W;break;case"defaultValue":C=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(a(137,i));break;default:gt(n,i,l,W,r,null)}}Pp(n,p,C,M,U,w,h,!1),tt(n);return;case"select":Ie("invalid",n),l=w=p=null;for(h in r)if(r.hasOwnProperty(h)&&(C=r[h],C!=null))switch(h){case"value":p=C;break;case"defaultValue":w=C;break;case"multiple":l=C;default:gt(n,i,h,C,r,null)}i=p,r=w,n.multiple=!!l,i!=null?Ea(n,!!l,i,!1):r!=null&&Ea(n,!!l,r,!0);return;case"textarea":Ie("invalid",n),p=h=l=null;for(w in r)if(r.hasOwnProperty(w)&&(C=r[w],C!=null))switch(w){case"value":l=C;break;case"defaultValue":h=C;break;case"children":p=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(a(91));break;default:gt(n,i,w,C,r,null)}Bp(n,l,h,p),tt(n);return;case"option":for(M in r)if(r.hasOwnProperty(M)&&(l=r[M],l!=null))switch(M){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:gt(n,i,M,l,r,null)}return;case"dialog":Ie("beforetoggle",n),Ie("toggle",n),Ie("cancel",n),Ie("close",n);break;case"iframe":case"object":Ie("load",n);break;case"video":case"audio":for(l=0;l<bo.length;l++)Ie(bo[l],n);break;case"image":Ie("error",n),Ie("load",n);break;case"details":Ie("toggle",n);break;case"embed":case"source":case"link":Ie("error",n),Ie("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in r)if(r.hasOwnProperty(U)&&(l=r[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:gt(n,i,U,l,r,null)}return;default:if($u(i)){for(W in r)r.hasOwnProperty(W)&&(l=r[W],l!==void 0&&Af(n,i,W,l,r,void 0));return}}for(C in r)r.hasOwnProperty(C)&&(l=r[C],l!=null&&gt(n,i,C,l,r,null))}function zC(n,i,r,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,w=null,C=null,M=null,U=null,W=null;for($ in r){var ee=r[$];if(r.hasOwnProperty($)&&ee!=null)switch($){case"checked":break;case"value":break;case"defaultValue":M=ee;default:l.hasOwnProperty($)||gt(n,i,$,null,l,ee)}}for(var H in l){var $=l[H];if(ee=r[H],l.hasOwnProperty(H)&&($!=null||ee!=null))switch(H){case"type":p=$;break;case"name":h=$;break;case"checked":U=$;break;case"defaultChecked":W=$;break;case"value":w=$;break;case"defaultValue":C=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,i));break;default:$!==ee&&gt(n,i,H,$,l,ee)}}Vu(n,w,C,M,U,W,p,h);return;case"select":$=w=C=H=null;for(p in r)if(M=r[p],r.hasOwnProperty(p)&&M!=null)switch(p){case"value":break;case"multiple":$=M;default:l.hasOwnProperty(p)||gt(n,i,p,null,l,M)}for(h in l)if(p=l[h],M=r[h],l.hasOwnProperty(h)&&(p!=null||M!=null))switch(h){case"value":H=p;break;case"defaultValue":C=p;break;case"multiple":w=p;default:p!==M&&gt(n,i,h,p,l,M)}i=C,r=w,l=$,H!=null?Ea(n,!!r,H,!1):!!l!=!!r&&(i!=null?Ea(n,!!r,i,!0):Ea(n,!!r,r?[]:"",!1));return;case"textarea":$=H=null;for(C in r)if(h=r[C],r.hasOwnProperty(C)&&h!=null&&!l.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:gt(n,i,C,null,l,h)}for(w in l)if(h=l[w],p=r[w],l.hasOwnProperty(w)&&(h!=null||p!=null))switch(w){case"value":H=h;break;case"defaultValue":$=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==p&&gt(n,i,w,h,l,p)}zp(n,H,$);return;case"option":for(var De in r)if(H=r[De],r.hasOwnProperty(De)&&H!=null&&!l.hasOwnProperty(De))switch(De){case"selected":n.selected=!1;break;default:gt(n,i,De,null,l,H)}for(M in l)if(H=l[M],$=r[M],l.hasOwnProperty(M)&&H!==$&&(H!=null||$!=null))switch(M){case"selected":n.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:gt(n,i,M,H,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in r)H=r[_e],r.hasOwnProperty(_e)&&H!=null&&!l.hasOwnProperty(_e)&&gt(n,i,_e,null,l,H);for(U in l)if(H=l[U],$=r[U],l.hasOwnProperty(U)&&H!==$&&(H!=null||$!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,i));break;default:gt(n,i,U,H,l,$)}return;default:if($u(i)){for(var yt in r)H=r[yt],r.hasOwnProperty(yt)&&H!==void 0&&!l.hasOwnProperty(yt)&&Af(n,i,yt,void 0,l,H);for(W in l)H=l[W],$=r[W],!l.hasOwnProperty(W)||H===$||H===void 0&&$===void 0||Af(n,i,W,H,l,$);return}}for(var O in r)H=r[O],r.hasOwnProperty(O)&&H!=null&&!l.hasOwnProperty(O)&&gt(n,i,O,null,l,H);for(ee in l)H=l[ee],$=r[ee],!l.hasOwnProperty(ee)||H===$||H==null&&$==null||gt(n,i,ee,H,l,$)}var Ef=null,Mf=null;function xc(n){return n.nodeType===9?n:n.ownerDocument}function qy(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Uy(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function _f(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Rf=null;function BC(){var n=window.event;return n&&n.type==="popstate"?n===Rf?!1:(Rf=n,!0):(Rf=null,!1)}var Vy=typeof setTimeout=="function"?setTimeout:void 0,qC=typeof clearTimeout=="function"?clearTimeout:void 0,Hy=typeof Promise=="function"?Promise:void 0,UC=typeof queueMicrotask=="function"?queueMicrotask:typeof Hy<"u"?function(n){return Hy.resolve(null).then(n).catch(VC)}:Vy;function VC(n){setTimeout(function(){throw n})}function Ai(n){return n==="head"}function $y(n,i){var r=i,l=0,h=0;do{var p=r.nextSibling;if(n.removeChild(r),p&&p.nodeType===8)if(r=p.data,r==="/$"){if(0<l&&8>l){r=l;var w=n.ownerDocument;if(r&1&&wo(w.documentElement),r&2&&wo(w.body),r&4)for(r=w.head,wo(r),w=r.firstChild;w;){var C=w.nextSibling,M=w.nodeName;w[Lt]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&w.rel.toLowerCase()==="stylesheet"||r.removeChild(w),w=C}}if(h===0){n.removeChild(p),Eo(i);return}h--}else r==="$"||r==="$?"||r==="$!"?h++:l=r.charCodeAt(0)-48;else l=0;r=p}while(r);Eo(i)}function Df(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Df(r),Ta(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}n.removeChild(r)}}function HC(n,i,r,l){for(;n.nodeType===1;){var h=r;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Lt])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=ps(n.nextSibling),n===null)break}return null}function $C(n,i,r){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=ps(n.nextSibling),n===null))return null;return n}function Lf(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function GC(n,i){var r=n.ownerDocument;if(n.data!=="$?"||r.readyState==="complete")i();else{var l=function(){i(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function ps(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Of=null;function Gy(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"){if(i===0)return n;i--}else r==="/$"&&i++}n=n.previousSibling}return null}function Ky(n,i,r){switch(i=xc(r),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function wo(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Ta(n)}var rs=new Map,Fy=new Set;function wc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ni=V.d;V.d={f:KC,r:FC,D:YC,C:IC,L:QC,m:XC,X:WC,S:ZC,M:JC};function KC(){var n=ni.f(),i=fc();return n||i}function FC(n){var i=we(n);i!==null&&i.tag===5&&i.type==="form"?f0(i):ni.r(n)}var ar=typeof document>"u"?null:document;function Yy(n,i,r){var l=ar;if(l&&typeof i=="string"&&i){var h=Jn(i);h='link[rel="'+n+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),Fy.has(h)||(Fy.add(h),n={rel:n,crossOrigin:r,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),vn(i,"link",n),Gt(i),l.head.appendChild(i)))}}function YC(n){ni.D(n),Yy("dns-prefetch",n,null)}function IC(n,i){ni.C(n,i),Yy("preconnect",n,i)}function QC(n,i,r){ni.L(n,i,r);var l=ar;if(l&&n&&i){var h='link[rel="preload"][as="'+Jn(i)+'"]';i==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+Jn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+Jn(r.imageSizes)+'"]')):h+='[href="'+Jn(n)+'"]';var p=h;switch(i){case"style":p=rr(n);break;case"script":p=or(n)}rs.has(p)||(n=y({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:n,as:i},r),rs.set(p,n),l.querySelector(h)!==null||i==="style"&&l.querySelector(So(p))||i==="script"&&l.querySelector(Co(p))||(i=l.createElement("link"),vn(i,"link",n),Gt(i),l.head.appendChild(i)))}}function XC(n,i){ni.m(n,i);var r=ar;if(r&&n){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Jn(l)+'"][href="'+Jn(n)+'"]',p=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=or(n)}if(!rs.has(p)&&(n=y({rel:"modulepreload",href:n},i),rs.set(p,n),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Co(p)))return}l=r.createElement("link"),vn(l,"link",n),Gt(l),r.head.appendChild(l)}}}function ZC(n,i,r){ni.S(n,i,r);var l=ar;if(l&&n){var h=qs(l).hoistableStyles,p=rr(n);i=i||"default";var w=h.get(p);if(!w){var C={loading:0,preload:null};if(w=l.querySelector(So(p)))C.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":i},r),(r=rs.get(p))&&Pf(n,r);var M=w=l.createElement("link");Gt(M),vn(M,"link",n),M._p=new Promise(function(U,W){M.onload=U,M.onerror=W}),M.addEventListener("load",function(){C.loading|=1}),M.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Sc(w,i,l)}w={type:"stylesheet",instance:w,count:1,state:C},h.set(p,w)}}}function WC(n,i){ni.X(n,i);var r=ar;if(r&&n){var l=qs(r).hoistableScripts,h=or(n),p=l.get(h);p||(p=r.querySelector(Co(h)),p||(n=y({src:n,async:!0},i),(i=rs.get(h))&&zf(n,i),p=r.createElement("script"),Gt(p),vn(p,"link",n),r.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(h,p))}}function JC(n,i){ni.M(n,i);var r=ar;if(r&&n){var l=qs(r).hoistableScripts,h=or(n),p=l.get(h);p||(p=r.querySelector(Co(h)),p||(n=y({src:n,async:!0,type:"module"},i),(i=rs.get(h))&&zf(n,i),p=r.createElement("script"),Gt(p),vn(p,"link",n),r.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(h,p))}}function Iy(n,i,r,l){var h=(h=ce.current)?wc(h):null;if(!h)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=rr(r.href),r=qs(h).hoistableStyles,l=r.get(i),l||(l={type:"style",instance:null,count:0,state:null},r.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){n=rr(r.href);var p=qs(h).hoistableStyles,w=p.get(n);if(w||(h=h.ownerDocument||h,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,w),(p=h.querySelector(So(n)))&&!p._p&&(w.instance=p,w.state.loading=5),rs.has(n)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},rs.set(n,r),p||ek(h,n,r,w.state))),i&&l===null)throw Error(a(528,""));return w}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=or(r),r=qs(h).hoistableScripts,l=r.get(i),l||(l={type:"script",instance:null,count:0,state:null},r.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function rr(n){return'href="'+Jn(n)+'"'}function So(n){return'link[rel="stylesheet"]['+n+"]"}function Qy(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function ek(n,i,r,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),vn(i,"link",r),Gt(i),n.head.appendChild(i))}function or(n){return'[src="'+Jn(n)+'"]'}function Co(n){return"script[async]"+n}function Xy(n,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+Jn(r.href)+'"]');if(l)return i.instance=l,Gt(l),l;var h=y({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Gt(l),vn(l,"style",h),Sc(l,r.precedence,n),i.instance=l;case"stylesheet":h=rr(r.href);var p=n.querySelector(So(h));if(p)return i.state.loading|=4,i.instance=p,Gt(p),p;l=Qy(r),(h=rs.get(h))&&Pf(l,h),p=(n.ownerDocument||n).createElement("link"),Gt(p);var w=p;return w._p=new Promise(function(C,M){w.onload=C,w.onerror=M}),vn(p,"link",l),i.state.loading|=4,Sc(p,r.precedence,n),i.instance=p;case"script":return p=or(r.src),(h=n.querySelector(Co(p)))?(i.instance=h,Gt(h),h):(l=r,(h=rs.get(p))&&(l=y({},r),zf(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),Gt(h),vn(h,"link",l),n.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Sc(l,r.precedence,n));return i.instance}function Sc(n,i,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,p=h,w=0;w<l.length;w++){var C=l[w];if(C.dataset.precedence===i)p=C;else if(p!==h)break}p?p.parentNode.insertBefore(n,p.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(n,i.firstChild))}function Pf(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function zf(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Cc=null;function Zy(n,i,r){if(Cc===null){var l=new Map,h=Cc=new Map;h.set(r,l)}else h=Cc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(n))return l;for(l.set(n,null),r=r.getElementsByTagName(n),h=0;h<r.length;h++){var p=r[h];if(!(p[Lt]||p[Fe]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var w=p.getAttribute(i)||"";w=n+w;var C=l.get(w);C?C.push(p):l.set(w,[p])}}return l}function Wy(n,i,r){n=n.ownerDocument||n,n.head.insertBefore(r,i==="title"?n.querySelector("head > title"):null)}function tk(n,i,r){if(r===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Jy(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var ko=null;function nk(){}function sk(n,i,r){if(ko===null)throw Error(a(475));var l=ko;if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=rr(r.href),p=n.querySelector(So(h));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=kc.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=p,Gt(p);return}p=n.ownerDocument||n,r=Qy(r),(h=rs.get(h))&&Pf(r,h),p=p.createElement("link"),Gt(p);var w=p;w._p=new Promise(function(C,M){w.onload=C,w.onerror=M}),vn(p,"link",r),i.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=kc.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function ik(){if(ko===null)throw Error(a(475));var n=ko;return n.stylesheets&&n.count===0&&Bf(n,n.stylesheets),0<n.count?function(i){var r=setTimeout(function(){if(n.stylesheets&&Bf(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(r)}}:null}function kc(){if(this.count--,this.count===0){if(this.stylesheets)Bf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var jc=null;function Bf(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,jc=new Map,i.forEach(ak,n),jc=null,kc.call(n))}function ak(n,i){if(!(i.state.loading&4)){var r=jc.get(n);if(r)var l=r.get(null);else{r=new Map,jc.set(n,r);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var w=h[p];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(r.set(w.dataset.precedence,w),l=w)}l&&r.set(null,l)}h=i.instance,w=h.getAttribute("data-precedence"),p=r.get(w)||l,p===l&&r.set(null,h),r.set(w,h),this.count++,l=kc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),p?p.parentNode.insertBefore(h,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),i.state.loading|=4}}var jo={$$typeof:_,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function rk(n,i,r,l,h,p,w,C){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yi(0),this.hiddenUpdates=Yi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function ev(n,i,r,l,h,p,w,C,M,U,W,ee){return n=new rk(n,i,r,w,C,M,U,ee),i=1,p===!0&&(i|=24),p=Gn(3,null,null,i),n.current=p,p.stateNode=n,i=vd(),i.refCount++,n.pooledCache=i,i.refCount++,p.memoizedState={element:l,isDehydrated:r,cache:i},Sd(p),n}function tv(n){return n?(n=Ba,n):Ba}function nv(n,i,r,l,h,p){h=tv(h),l.context===null?l.context=h:l.pendingContext=h,l=pi(i),l.payload={element:r},p=p===void 0?null:p,p!==null&&(l.callback=p),r=gi(n,l,i),r!==null&&(Qn(r,n,i),eo(r,n,i))}function sv(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<i?r:i}}function qf(n,i){sv(n,i),(n=n.alternate)&&sv(n,i)}function iv(n){if(n.tag===13){var i=za(n,67108864);i!==null&&Qn(i,n,67108864),qf(n,67108864)}}var Nc=!0;function ok(n,i,r,l){var h=B.T;B.T=null;var p=V.p;try{V.p=2,Uf(n,i,r,l)}finally{V.p=p,B.T=h}}function lk(n,i,r,l){var h=B.T;B.T=null;var p=V.p;try{V.p=8,Uf(n,i,r,l)}finally{V.p=p,B.T=h}}function Uf(n,i,r,l){if(Nc){var h=Vf(l);if(h===null)Tf(n,i,l,Tc,r),rv(n,l);else if(uk(h,n,i,r,l))l.stopPropagation();else if(rv(n,l),i&4&&-1<ck.indexOf(n)){for(;h!==null;){var p=we(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var w=St(p.pendingLanes);if(w!==0){var C=p;for(C.pendingLanes|=2,C.entangledLanes|=2;w;){var M=1<<31-Me(w);C.entanglements[1]|=M,w&=~M}_s(p),(ht&6)===0&&(uc=Je()+500,vo(0))}}break;case 13:C=za(p,2),C!==null&&Qn(C,p,2),fc(),qf(p,2)}if(p=Vf(l),p===null&&Tf(n,i,l,Tc,r),p===h)break;h=p}h!==null&&l.stopPropagation()}else Tf(n,i,l,null,r)}}function Vf(n){return n=Ku(n),Hf(n)}var Tc=null;function Hf(n){if(Tc=null,n=Bs(n),n!==null){var i=c(n);if(i===null)n=null;else{var r=i.tag;if(r===13){if(n=d(i),n!==null)return n;n=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Tc=n,null}function av(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vt()){case qt:return 2;case de:return 8;case Ce:case ut:return 32;case Ve:return 268435456;default:return 32}default:return 32}}var $f=!1,Ei=null,Mi=null,_i=null,No=new Map,To=new Map,Ri=[],ck="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rv(n,i){switch(n){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":Mi=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":No.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":To.delete(i.pointerId)}}function Ao(n,i,r,l,h,p){return n===null||n.nativeEvent!==p?(n={blockedOn:i,domEventName:r,eventSystemFlags:l,nativeEvent:p,targetContainers:[h]},i!==null&&(i=we(i),i!==null&&iv(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),n)}function uk(n,i,r,l,h){switch(i){case"focusin":return Ei=Ao(Ei,n,i,r,l,h),!0;case"dragenter":return Mi=Ao(Mi,n,i,r,l,h),!0;case"mouseover":return _i=Ao(_i,n,i,r,l,h),!0;case"pointerover":var p=h.pointerId;return No.set(p,Ao(No.get(p)||null,n,i,r,l,h)),!0;case"gotpointercapture":return p=h.pointerId,To.set(p,Ao(To.get(p)||null,n,i,r,l,h)),!0}return!1}function ov(n){var i=Bs(n.target);if(i!==null){var r=c(i);if(r!==null){if(i=r.tag,i===13){if(i=d(r),i!==null){n.blockedOn=i,F(n.priority,function(){if(r.tag===13){var l=In();l=ln(l);var h=za(r,l);h!==null&&Qn(h,r,l),qf(r,l)}});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ac(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var r=Vf(n.nativeEvent);if(r===null){r=n.nativeEvent;var l=new r.constructor(r.type,r);Gu=l,r.target.dispatchEvent(l),Gu=null}else return i=we(r),i!==null&&iv(i),n.blockedOn=r,!1;i.shift()}return!0}function lv(n,i,r){Ac(n)&&r.delete(i)}function dk(){$f=!1,Ei!==null&&Ac(Ei)&&(Ei=null),Mi!==null&&Ac(Mi)&&(Mi=null),_i!==null&&Ac(_i)&&(_i=null),No.forEach(lv),To.forEach(lv)}function Ec(n,i){n.blockedOn===i&&(n.blockedOn=null,$f||($f=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,dk)))}var Mc=null;function cv(n){Mc!==n&&(Mc=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Mc===n&&(Mc=null);for(var i=0;i<n.length;i+=3){var r=n[i],l=n[i+1],h=n[i+2];if(typeof l!="function"){if(Hf(l||r)===null)continue;break}var p=we(r);p!==null&&(n.splice(i,3),i-=3,Vd(p,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Eo(n){function i(M){return Ec(M,n)}Ei!==null&&Ec(Ei,n),Mi!==null&&Ec(Mi,n),_i!==null&&Ec(_i,n),No.forEach(i),To.forEach(i);for(var r=0;r<Ri.length;r++){var l=Ri[r];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Ri.length&&(r=Ri[0],r.blockedOn===null);)ov(r),r.blockedOn===null&&Ri.shift();if(r=(n.ownerDocument||n).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],p=r[l+1],w=h[dt]||null;if(typeof p=="function")w||cv(r);else if(w){var C=null;if(p&&p.hasAttribute("formAction")){if(h=p,w=p[dt]||null)C=w.formAction;else if(Hf(h)!==null)continue}else C=w.action;typeof C=="function"?r[l+1]=C:(r.splice(l,3),l-=3),cv(r)}}}function Gf(n){this._internalRoot=n}_c.prototype.render=Gf.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var r=i.current,l=In();nv(r,l,n,i,null,null)},_c.prototype.unmount=Gf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;nv(n.current,2,null,n,null,null),fc(),i[se]=null}};function _c(n){this._internalRoot=n}_c.prototype.unstable_scheduleHydration=function(n){if(n){var i=Nn();n={blockedOn:null,target:n,priority:i};for(var r=0;r<Ri.length&&i!==0&&i<Ri[r].priority;r++);Ri.splice(r,0,n),r===0&&ov(n)}};var uv=t.version;if(uv!=="19.1.1")throw Error(a(527,uv,"19.1.1"));V.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=m(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var fk={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{lt=Rc.inject(fk),Ge=Rc}catch{}}return _o.createRoot=function(n,i){if(!o(n))throw Error(a(299));var r=!1,l="",h=N0,p=T0,w=A0,C=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(C=i.unstable_transitionCallbacks)),i=ev(n,1,!1,null,null,r,l,h,p,w,C,null),n[se]=i.current,Nf(n),new Gf(i)},_o.hydrateRoot=function(n,i,r){if(!o(n))throw Error(a(299));var l=!1,h="",p=N0,w=T0,C=A0,M=null,U=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(w=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(M=r.unstable_transitionCallbacks),r.formState!==void 0&&(U=r.formState)),i=ev(n,1,!0,i,r??null,l,h,p,w,C,M,U),i.context=tv(null),r=i.current,l=In(),l=ln(l),h=pi(l),h.callback=null,gi(r,h,l),r=l,i.current.lanes=r,At(i,r),_s(i),n[se]=i.current,Nf(n),new _c(i)},_o.version="19.1.1",_o}var xv;function Sk(){if(xv)return Yf.exports;xv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Yf.exports=wk(),Yf.exports}var Ck=Sk();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var wv="popstate";function kk(e={}){function t(a,o){let{pathname:c,search:d,hash:f}=a.location;return zh("",{pathname:c,search:d,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function s(a,o){return typeof o=="string"?o:Wo(o)}return Nk(t,s,null,e)}function _t(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jk(){return Math.random().toString(36).substring(2,10)}function Sv(e,t){return{usr:e.state,key:e.key,idx:t}}function zh(e,t,s=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?wr(t):t,state:s,key:t&&t.key||a||jk()}}function Wo({pathname:e="/",search:t="",hash:s=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function wr(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substring(s),e=e.substring(0,s));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function Nk(e,t,s,a={}){let{window:o=document.defaultView,v5Compat:c=!1}=a,d=o.history,f="POP",m=null,g=y();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function y(){return(d.state||{idx:null}).idx}function b(){f="POP";let A=y(),N=A==null?null:A-g;g=A,m&&m({action:f,location:k.location,delta:N})}function x(A,N){f="PUSH";let T=zh(k.location,A,N);g=y()+1;let _=Sv(T,g),P=k.createHref(T);try{d.pushState(_,"",P)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;o.location.assign(P)}c&&m&&m({action:f,location:k.location,delta:1})}function S(A,N){f="REPLACE";let T=zh(k.location,A,N);g=y();let _=Sv(T,g),P=k.createHref(T);d.replaceState(_,"",P),c&&m&&m({action:f,location:k.location,delta:0})}function j(A){return Tk(A)}let k={get action(){return f},get location(){return e(o,d)},listen(A){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(wv,b),m=A,()=>{o.removeEventListener(wv,b),m=null}},createHref(A){return t(o,A)},createURL:j,encodeLocation(A){let N=j(A);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:x,replace:S,go(A){return d.go(A)}};return k}function Tk(e,t=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),_t(s,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:Wo(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=s+a),new URL(a,s)}function Hx(e,t,s="/"){return Ak(e,t,s,!1)}function Ak(e,t,s,a){let o=typeof t=="string"?wr(t):t,c=ri(o.pathname||"/",s);if(c==null)return null;let d=$x(e);Ek(d);let f=null;for(let m=0;f==null&&m<d.length;++m){let g=Uk(c);f=Bk(d[m],g,a)}return f}function $x(e,t=[],s=[],a="",o=!1){let c=(d,f,m=o,g)=>{let y={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(a)&&m)return;_t(y.relativePath.startsWith(a),`Absolute route path "${y.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(a.length)}let b=ai([a,y.relativePath]),x=s.concat(y);d.children&&d.children.length>0&&(_t(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),$x(d.children,t,x,b,m)),!(d.path==null&&!d.index)&&t.push({path:b,score:Pk(b,d.index),routesMeta:x})};return e.forEach((d,f)=>{if(d.path===""||!d.path?.includes("?"))c(d,f);else for(let m of Gx(d.path))c(d,f,!0,m)}),t}function Gx(e){let t=e.split("/");if(t.length===0)return[];let[s,...a]=t,o=s.endsWith("?"),c=s.replace(/\?$/,"");if(a.length===0)return o?[c,""]:[c];let d=Gx(a.join("/")),f=[];return f.push(...d.map(m=>m===""?c:[c,m].join("/"))),o&&f.push(...d),f.map(m=>e.startsWith("/")&&m===""?"/":m)}function Ek(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:zk(t.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}var Mk=/^:[\w-]+$/,_k=3,Rk=2,Dk=1,Lk=10,Ok=-2,Cv=e=>e==="*";function Pk(e,t){let s=e.split("/"),a=s.length;return s.some(Cv)&&(a+=Ok),t&&(a+=Rk),s.filter(o=>!Cv(o)).reduce((o,c)=>o+(Mk.test(c)?_k:c===""?Dk:Lk),a)}function zk(e,t){return e.length===t.length&&e.slice(0,-1).every((a,o)=>a===t[o])?e[e.length-1]-t[t.length-1]:0}function Bk(e,t,s=!1){let{routesMeta:a}=e,o={},c="/",d=[];for(let f=0;f<a.length;++f){let m=a[f],g=f===a.length-1,y=c==="/"?t:t.slice(c.length)||"/",b=lu({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),x=m.route;if(!b&&g&&s&&!a[a.length-1].route.index&&(b=lu({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:ai([c,b.pathname]),pathnameBase:Gk(ai([c,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(c=ai([c,b.pathnameBase]))}return d}function lu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=qk(e.path,e.caseSensitive,e.end),o=t.match(s);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:a.reduce((g,{paramName:y,isOptional:b},x)=>{if(y==="*"){let j=f[x]||"";d=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const S=f[x];return b&&!S?g[y]=void 0:g[y]=(S||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:e}}function qk(e,t=!1,s=!0){xs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,m)=>(a.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),a]}function Uk(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xs(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ri(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}function Vk(e,t="/"){let{pathname:s,search:a="",hash:o=""}=typeof e=="string"?wr(e):e;return{pathname:s?s.startsWith("/")?s:Hk(s,t):t,search:Kk(a),hash:Fk(o)}}function Hk(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function Zf(e,t,s,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $k(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Nm(e){let t=$k(e);return t.map((s,a)=>a===t.length-1?s.pathname:s.pathnameBase)}function Tm(e,t,s,a=!1){let o;typeof e=="string"?o=wr(e):(o={...e},_t(!o.pathname||!o.pathname.includes("?"),Zf("?","pathname","search",o)),_t(!o.pathname||!o.pathname.includes("#"),Zf("#","pathname","hash",o)),_t(!o.search||!o.search.includes("#"),Zf("#","search","hash",o)));let c=e===""||o.pathname==="",d=c?"/":o.pathname,f;if(d==null)f=s;else{let b=t.length-1;if(!a&&d.startsWith("..")){let x=d.split("/");for(;x[0]==="..";)x.shift(),b-=1;o.pathname=x.join("/")}f=b>=0?t[b]:"/"}let m=Vk(o,f),g=d&&d!=="/"&&d.endsWith("/"),y=(c||d===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}var ai=e=>e.join("/").replace(/\/\/+/g,"/"),Gk=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Kk=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Fk=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Yk(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Kx=["POST","PUT","PATCH","DELETE"];new Set(Kx);var Ik=["GET",...Kx];new Set(Ik);var Sr=v.createContext(null);Sr.displayName="DataRouter";var Su=v.createContext(null);Su.displayName="DataRouterState";v.createContext(!1);var Fx=v.createContext({isTransitioning:!1});Fx.displayName="ViewTransition";var Qk=v.createContext(new Map);Qk.displayName="Fetchers";var Xk=v.createContext(null);Xk.displayName="Await";var Cs=v.createContext(null);Cs.displayName="Navigation";var fl=v.createContext(null);fl.displayName="Location";var ks=v.createContext({outlet:null,matches:[],isDataRoute:!1});ks.displayName="Route";var Am=v.createContext(null);Am.displayName="RouteError";function Zk(e,{relative:t}={}){_t(Cr(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:a}=v.useContext(Cs),{hash:o,pathname:c,search:d}=ml(e,{relative:t}),f=c;return s!=="/"&&(f=c==="/"?s:ai([s,c])),a.createHref({pathname:f,search:d,hash:o})}function Cr(){return v.useContext(fl)!=null}function ui(){return _t(Cr(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(fl).location}var Yx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ix(e){v.useContext(Cs).static||v.useLayoutEffect(e)}function hl(){let{isDataRoute:e}=v.useContext(ks);return e?u3():Wk()}function Wk(){_t(Cr(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(Sr),{basename:t,navigator:s}=v.useContext(Cs),{matches:a}=v.useContext(ks),{pathname:o}=ui(),c=JSON.stringify(Nm(a)),d=v.useRef(!1);return Ix(()=>{d.current=!0}),v.useCallback((m,g={})=>{if(xs(d.current,Yx),!d.current)return;if(typeof m=="number"){s.go(m);return}let y=Tm(m,JSON.parse(c),o,g.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:ai([t,y.pathname])),(g.replace?s.replace:s.push)(y,g.state,g)},[t,s,c,o,e])}v.createContext(null);function Qx(){let{matches:e}=v.useContext(ks),t=e[e.length-1];return t?t.params:{}}function ml(e,{relative:t}={}){let{matches:s}=v.useContext(ks),{pathname:a}=ui(),o=JSON.stringify(Nm(s));return v.useMemo(()=>Tm(e,JSON.parse(o),a,t==="path"),[e,o,a,t])}function Jk(e,t){return Xx(e,t)}function Xx(e,t,s,a,o){_t(Cr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=v.useContext(Cs),{matches:d}=v.useContext(ks),f=d[d.length-1],m=f?f.params:{},g=f?f.pathname:"/",y=f?f.pathnameBase:"/",b=f&&f.route;{let T=b&&b.path||"";Zx(g,!b||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let x=ui(),S;if(t){let T=typeof t=="string"?wr(t):t;_t(y==="/"||T.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${T.pathname}" was given in the \`location\` prop.`),S=T}else S=x;let j=S.pathname||"/",k=j;if(y!=="/"){let T=y.replace(/^\//,"").split("/");k="/"+j.replace(/^\//,"").split("/").slice(T.length).join("/")}let A=Hx(e,{pathname:k});xs(b||A!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),xs(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=i3(A&&A.map(T=>Object.assign({},T,{params:Object.assign({},m,T.params),pathname:ai([y,c.encodeLocation?c.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?y:ai([y,c.encodeLocation?c.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),d,s,a,o);return t&&N?v.createElement(fl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},N):N}function e3(){let e=c3(),t=Yk(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",e),d=v.createElement(v.Fragment,null,v.createElement("p",null,"💿 Hey developer 👋"),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:c},"ErrorBoundary")," or"," ",v.createElement("code",{style:c},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),s?v.createElement("pre",{style:o},s):null,d)}var t3=v.createElement(e3,null),n3=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?v.createElement(ks.Provider,{value:this.props.routeContext},v.createElement(Am.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function s3({routeContext:e,match:t,children:s}){let a=v.useContext(Sr);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(ks.Provider,{value:e},s)}function i3(e,t=[],s=null,a=null,o=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let c=e,d=s?.errors;if(d!=null){let g=c.findIndex(y=>y.route.id&&d?.[y.route.id]!==void 0);_t(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,g+1))}let f=!1,m=-1;if(s)for(let g=0;g<c.length;g++){let y=c[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:b,errors:x}=s,S=y.route.loader&&!b.hasOwnProperty(y.route.id)&&(!x||x[y.route.id]===void 0);if(y.route.lazy||S){f=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((g,y,b)=>{let x,S=!1,j=null,k=null;s&&(x=d&&y.route.id?d[y.route.id]:void 0,j=y.route.errorElement||t3,f&&(m<0&&b===0?(Zx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,k=null):m===b&&(S=!0,k=y.route.hydrateFallbackElement||null)));let A=t.concat(c.slice(0,b+1)),N=()=>{let T;return x?T=j:S?T=k:y.route.Component?T=v.createElement(y.route.Component,null):y.route.element?T=y.route.element:T=g,v.createElement(s3,{match:y,routeContext:{outlet:g,matches:A,isDataRoute:s!=null},children:T})};return s&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?v.createElement(n3,{location:s.location,revalidation:s.revalidation,component:j,error:x,children:N(),routeContext:{outlet:null,matches:A,isDataRoute:!0},unstable_onError:a}):N()},null)}function Em(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function a3(e){let t=v.useContext(Sr);return _t(t,Em(e)),t}function r3(e){let t=v.useContext(Su);return _t(t,Em(e)),t}function o3(e){let t=v.useContext(ks);return _t(t,Em(e)),t}function Mm(e){let t=o3(e),s=t.matches[t.matches.length-1];return _t(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function l3(){return Mm("useRouteId")}function c3(){let e=v.useContext(Am),t=r3("useRouteError"),s=Mm("useRouteError");return e!==void 0?e:t.errors?.[s]}function u3(){let{router:e}=a3("useNavigate"),t=Mm("useNavigate"),s=v.useRef(!1);return Ix(()=>{s.current=!0}),v.useCallback(async(o,c={})=>{xs(s.current,Yx),s.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...c}))},[e,t])}var kv={};function Zx(e,t,s){!t&&!kv[e]&&(kv[e]=!0,xs(!1,s))}v.memo(d3);function d3({routes:e,future:t,state:s,unstable_onError:a}){return Xx(e,void 0,s,a,t)}function jv({to:e,replace:t,state:s,relative:a}){_t(Cr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=v.useContext(Cs);xs(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=v.useContext(ks),{pathname:d}=ui(),f=hl(),m=Tm(e,Nm(c),d,a==="path"),g=JSON.stringify(m);return v.useEffect(()=>{f(JSON.parse(g),{replace:t,state:s,relative:a})},[f,g,a,t,s]),null}function Pn(e){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function f3({basename:e="/",children:t=null,location:s,navigationType:a="POP",navigator:o,static:c=!1}){_t(!Cr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),f=v.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof s=="string"&&(s=wr(s));let{pathname:m="/",search:g="",hash:y="",state:b=null,key:x="default"}=s,S=v.useMemo(()=>{let j=ri(m,d);return j==null?null:{location:{pathname:j,search:g,hash:y,state:b,key:x},navigationType:a}},[d,m,g,y,b,x,a]);return xs(S!=null,`<Router basename="${d}"> is not able to match the URL "${m}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:v.createElement(Cs.Provider,{value:f},v.createElement(fl.Provider,{children:t,value:S}))}function h3({children:e,location:t}){return Jk(Bh(e),t)}function Bh(e,t=[]){let s=[];return v.Children.forEach(e,(a,o)=>{if(!v.isValidElement(a))return;let c=[...t,o];if(a.type===v.Fragment){s.push.apply(s,Bh(a.props.children,c));return}_t(a.type===Pn,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=Bh(a.props.children,c)),s.push(d)}),s}var Qc="get",Xc="application/x-www-form-urlencoded";function Cu(e){return e!=null&&typeof e.tagName=="string"}function m3(e){return Cu(e)&&e.tagName.toLowerCase()==="button"}function p3(e){return Cu(e)&&e.tagName.toLowerCase()==="form"}function g3(e){return Cu(e)&&e.tagName.toLowerCase()==="input"}function y3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function v3(e,t){return e.button===0&&(!t||t==="_self")&&!y3(e)}var Dc=null;function b3(){if(Dc===null)try{new FormData(document.createElement("form"),0),Dc=!1}catch{Dc=!0}return Dc}var x3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wf(e){return e!=null&&!x3.has(e)?(xs(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xc}"`),null):e}function w3(e,t){let s,a,o,c,d;if(p3(e)){let f=e.getAttribute("action");a=f?ri(f,t):null,s=e.getAttribute("method")||Qc,o=Wf(e.getAttribute("enctype"))||Xc,c=new FormData(e)}else if(m3(e)||g3(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||f.getAttribute("action");if(a=m?ri(m,t):null,s=e.getAttribute("formmethod")||f.getAttribute("method")||Qc,o=Wf(e.getAttribute("formenctype"))||Wf(f.getAttribute("enctype"))||Xc,c=new FormData(f,e),!b3()){let{name:g,type:y,value:b}=e;if(y==="image"){let x=g?`${g}.`:"";c.append(`${x}x`,"0"),c.append(`${x}y`,"0")}else g&&c.append(g,b)}}else{if(Cu(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Qc,a=null,o=Xc,d=e}return c&&o==="text/plain"&&(d=c,c=void 0),{action:a,method:s.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _m(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function S3(e,t,s){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return a.pathname==="/"?a.pathname=`_root.${s}`:t&&ri(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function C3(e,t){if(e.id in t)return t[e.id];try{let s=await import(e.module);return t[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function k3(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function j3(e,t,s){let a=await Promise.all(e.map(async o=>{let c=t.routes[o.route.id];if(c){let d=await C3(c,s);return d.links?d.links():[]}return[]}));return E3(a.flat(1).filter(k3).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Nv(e,t,s,a,o,c){let d=(m,g)=>s[g]?m.route.id!==s[g].route.id:!0,f=(m,g)=>s[g].pathname!==m.pathname||s[g].route.path?.endsWith("*")&&s[g].params["*"]!==m.params["*"];return c==="assets"?t.filter((m,g)=>d(m,g)||f(m,g)):c==="data"?t.filter((m,g)=>{let y=a.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(d(m,g)||f(m,g))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function N3(e,t,{includeHydrateFallback:s}={}){return T3(e.map(a=>{let o=t.routes[a.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),s&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function T3(e){return[...new Set(e)]}function A3(e){let t={},s=Object.keys(e).sort();for(let a of s)t[a]=e[a];return t}function E3(e,t){let s=new Set;return new Set(t),e.reduce((a,o)=>{let c=JSON.stringify(A3(o));return s.has(c)||(s.add(c),a.push({key:c,link:o})),a},[])}function Wx(){let e=v.useContext(Sr);return _m(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function M3(){let e=v.useContext(Su);return _m(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Rm=v.createContext(void 0);Rm.displayName="FrameworkContext";function Jx(){let e=v.useContext(Rm);return _m(e,"You must render this element inside a <HydratedRouter> element"),e}function _3(e,t){let s=v.useContext(Rm),[a,o]=v.useState(!1),[c,d]=v.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:g,onMouseLeave:y,onTouchStart:b}=t,x=v.useRef(null);v.useEffect(()=>{if(e==="render"&&d(!0),e==="viewport"){let k=N=>{N.forEach(T=>{d(T.isIntersecting)})},A=new IntersectionObserver(k,{threshold:.5});return x.current&&A.observe(x.current),()=>{A.disconnect()}}},[e]),v.useEffect(()=>{if(a){let k=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(k)}}},[a]);let S=()=>{o(!0)},j=()=>{o(!1),d(!1)};return s?e!=="intent"?[c,x,{}]:[c,x,{onFocus:Ro(f,S),onBlur:Ro(m,j),onMouseEnter:Ro(g,S),onMouseLeave:Ro(y,j),onTouchStart:Ro(b,S)}]:[!1,x,{}]}function Ro(e,t){return s=>{e&&e(s),s.defaultPrevented||t(s)}}function R3({page:e,...t}){let{router:s}=Wx(),a=v.useMemo(()=>Hx(s.routes,e,s.basename),[s.routes,e,s.basename]);return a?v.createElement(L3,{page:e,matches:a,...t}):null}function D3(e){let{manifest:t,routeModules:s}=Jx(),[a,o]=v.useState([]);return v.useEffect(()=>{let c=!1;return j3(e,t,s).then(d=>{c||o(d)}),()=>{c=!0}},[e,t,s]),a}function L3({page:e,matches:t,...s}){let a=ui(),{manifest:o,routeModules:c}=Jx(),{basename:d}=Wx(),{loaderData:f,matches:m}=M3(),g=v.useMemo(()=>Nv(e,t,m,o,a,"data"),[e,t,m,o,a]),y=v.useMemo(()=>Nv(e,t,m,o,a,"assets"),[e,t,m,o,a]),b=v.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let j=new Set,k=!1;if(t.forEach(N=>{let T=o.routes[N.route.id];!T||!T.hasLoader||(!g.some(_=>_.route.id===N.route.id)&&N.route.id in f&&c[N.route.id]?.shouldRevalidate||T.hasClientLoader?k=!0:j.add(N.route.id))}),j.size===0)return[];let A=S3(e,d,"data");return k&&j.size>0&&A.searchParams.set("_routes",t.filter(N=>j.has(N.route.id)).map(N=>N.route.id).join(",")),[A.pathname+A.search]},[d,f,a,o,g,t,e,c]),x=v.useMemo(()=>N3(y,o),[y,o]),S=D3(y);return v.createElement(v.Fragment,null,b.map(j=>v.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...s})),x.map(j=>v.createElement("link",{key:j,rel:"modulepreload",href:j,...s})),S.map(({key:j,link:k})=>v.createElement("link",{key:j,nonce:s.nonce,...k})))}function O3(...e){return t=>{e.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var e1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{e1&&(window.__reactRouterVersion="7.8.2")}catch{}function P3({basename:e,children:t,window:s}){let a=v.useRef();a.current==null&&(a.current=kk({window:s,v5Compat:!0}));let o=a.current,[c,d]=v.useState({action:o.action,location:o.location}),f=v.useCallback(m=>{v.startTransition(()=>d(m))},[d]);return v.useLayoutEffect(()=>o.listen(f),[o,f]),v.createElement(f3,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:o})}var t1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ja=v.forwardRef(function({onClick:t,discover:s="render",prefetch:a="none",relative:o,reloadDocument:c,replace:d,state:f,target:m,to:g,preventScrollReset:y,viewTransition:b,...x},S){let{basename:j}=v.useContext(Cs),k=typeof g=="string"&&t1.test(g),A,N=!1;if(typeof g=="string"&&k&&(A=g,e1))try{let Z=new URL(window.location.href),re=g.startsWith("//")?new URL(Z.protocol+g):new URL(g),he=ri(re.pathname,j);re.origin===Z.origin&&he!=null?g=he+re.search+re.hash:N=!0}catch{xs(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=Zk(g,{relative:o}),[_,P,R]=_3(a,x),K=U3(g,{replace:d,state:f,target:m,preventScrollReset:y,relative:o,viewTransition:b});function Q(Z){t&&t(Z),Z.defaultPrevented||K(Z)}let L=v.createElement("a",{...x,...R,href:A||T,onClick:N||c?t:Q,ref:O3(S,P),target:m,"data-discover":!k&&s==="render"?"true":void 0});return _&&!k?v.createElement(v.Fragment,null,L,v.createElement(R3,{page:T})):L});ja.displayName="Link";var z3=v.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:a="",end:o=!1,style:c,to:d,viewTransition:f,children:m,...g},y){let b=ml(d,{relative:g.relative}),x=ui(),S=v.useContext(Su),{navigator:j,basename:k}=v.useContext(Cs),A=S!=null&&K3(b)&&f===!0,N=j.encodeLocation?j.encodeLocation(b).pathname:b.pathname,T=x.pathname,_=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;s||(T=T.toLowerCase(),_=_?_.toLowerCase():null,N=N.toLowerCase()),_&&k&&(_=ri(_,k)||_);const P=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let R=T===N||!o&&T.startsWith(N)&&T.charAt(P)==="/",K=_!=null&&(_===N||!o&&_.startsWith(N)&&_.charAt(N.length)==="/"),Q={isActive:R,isPending:K,isTransitioning:A},L=R?t:void 0,Z;typeof a=="function"?Z=a(Q):Z=[a,R?"active":null,K?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let re=typeof c=="function"?c(Q):c;return v.createElement(ja,{...g,"aria-current":L,className:Z,ref:y,style:re,to:d,viewTransition:f},typeof m=="function"?m(Q):m)});z3.displayName="NavLink";var B3=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:s,reloadDocument:a,replace:o,state:c,method:d=Qc,action:f,onSubmit:m,relative:g,preventScrollReset:y,viewTransition:b,...x},S)=>{let j=$3(),k=G3(f,{relative:g}),A=d.toLowerCase()==="get"?"get":"post",N=typeof f=="string"&&t1.test(f),T=_=>{if(m&&m(_),_.defaultPrevented)return;_.preventDefault();let P=_.nativeEvent.submitter,R=P?.getAttribute("formmethod")||d;j(P||_.currentTarget,{fetcherKey:t,method:R,navigate:s,replace:o,state:c,relative:g,preventScrollReset:y,viewTransition:b})};return v.createElement("form",{ref:S,method:A,action:k,onSubmit:a?m:T,...x,"data-discover":!N&&e==="render"?"true":void 0})});B3.displayName="Form";function q3(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n1(e){let t=v.useContext(Sr);return _t(t,q3(e)),t}function U3(e,{target:t,replace:s,state:a,preventScrollReset:o,relative:c,viewTransition:d}={}){let f=hl(),m=ui(),g=ml(e,{relative:c});return v.useCallback(y=>{if(v3(y,t)){y.preventDefault();let b=s!==void 0?s:Wo(m)===Wo(g);f(e,{replace:b,state:a,preventScrollReset:o,relative:c,viewTransition:d})}},[m,f,g,s,a,t,e,o,c,d])}var V3=0,H3=()=>`__${String(++V3)}__`;function $3(){let{router:e}=n1("useSubmit"),{basename:t}=v.useContext(Cs),s=l3();return v.useCallback(async(a,o={})=>{let{action:c,method:d,encType:f,formData:m,body:g}=w3(a,t);if(o.navigate===!1){let y=o.fetcherKey||H3();await e.fetch(y,s,o.action||c,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||d,formEncType:o.encType||f,flushSync:o.flushSync})}else await e.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||d,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:s,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,s])}function G3(e,{relative:t}={}){let{basename:s}=v.useContext(Cs),a=v.useContext(ks);_t(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),c={...ml(e||".",{relative:t})},d=ui();if(e==null){c.search=d.search;let f=new URLSearchParams(c.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(b=>b).forEach(b=>f.append("index",b));let y=f.toString();c.search=y?`?${y}`:""}}return(!e||e===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(c.pathname=c.pathname==="/"?s:ai([s,c.pathname])),Wo(c)}function K3(e,{relative:t}={}){let s=v.useContext(Fx);_t(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=n1("useViewTransitionState"),o=ml(e,{relative:t});if(!s.isTransitioning)return!1;let c=ri(s.currentLocation.pathname,a)||s.currentLocation.pathname,d=ri(s.nextLocation.pathname,a)||s.nextLocation.pathname;return lu(o.pathname,d)!=null||lu(o.pathname,c)!=null}var Bo=Vx(),ku=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ju=typeof window>"u"||"Deno"in globalThis;function vs(){}function F3(e,t){return typeof e=="function"?e(t):e}function Y3(e){return typeof e=="number"&&e>=0&&e!==1/0}function I3(e,t){return Math.max(e+(t||0)-Date.now(),0)}function qh(e,t){return typeof e=="function"?e(t):e}function Q3(e,t){return typeof e=="function"?e(t):e}function Tv(e,t){const{type:s="all",exact:a,fetchStatus:o,predicate:c,queryKey:d,stale:f}=e;if(d){if(a){if(t.queryHash!==Dm(d,t.options))return!1}else if(!el(t.queryKey,d))return!1}if(s!=="all"){const m=t.isActive();if(s==="active"&&!m||s==="inactive"&&m)return!1}return!(typeof f=="boolean"&&t.isStale()!==f||o&&o!==t.state.fetchStatus||c&&!c(t))}function Av(e,t){const{exact:s,status:a,predicate:o,mutationKey:c}=e;if(c){if(!t.options.mutationKey)return!1;if(s){if(Jo(t.options.mutationKey)!==Jo(c))return!1}else if(!el(t.options.mutationKey,c))return!1}return!(a&&t.state.status!==a||o&&!o(t))}function Dm(e,t){return(t?.queryKeyHashFn||Jo)(e)}function Jo(e){return JSON.stringify(e,(t,s)=>Uh(s)?Object.keys(s).sort().reduce((a,o)=>(a[o]=s[o],a),{}):s)}function el(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>el(e[s],t[s])):!1}var X3=Object.prototype.hasOwnProperty;function s1(e,t){if(e===t)return e;const s=Ev(e)&&Ev(t);if(!s&&!(Uh(e)&&Uh(t)))return t;const o=(s?e:Object.keys(e)).length,c=s?t:Object.keys(t),d=c.length,f=s?new Array(d):{};let m=0;for(let g=0;g<d;g++){const y=s?g:c[g],b=e[y],x=t[y];if(b===x){f[y]=b,(s?g<o:X3.call(e,y))&&m++;continue}if(b===null||x===null||typeof b!="object"||typeof x!="object"){f[y]=x;continue}const S=s1(b,x);f[y]=S,S===b&&m++}return o===d&&m===o?e:f}function Ev(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Uh(e){if(!Mv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!Mv(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Mv(e){return Object.prototype.toString.call(e)==="[object Object]"}function Z3(e){return new Promise(t=>{setTimeout(t,e)})}function W3(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?s1(e,t):t}function J3(e,t,s=0){const a=[...e,t];return s&&a.length>s?a.slice(1):a}function e5(e,t,s=0){const a=[t,...e];return s&&a.length>s?a.slice(0,-1):a}var Lm=Symbol();function i1(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Lm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var t5=class extends ku{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!ju&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},a1=new t5,n5=class extends ku{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!ju&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},cu=new n5;function s5(){let e,t;const s=new Promise((o,c)=>{e=o,t=c});s.status="pending",s.catch(()=>{});function a(o){Object.assign(s,o),delete s.resolve,delete s.reject}return s.resolve=o=>{a({status:"fulfilled",value:o}),e(o)},s.reject=o=>{a({status:"rejected",reason:o}),t(o)},s}function i5(e){return Math.min(1e3*2**e,3e4)}function r1(e){return(e??"online")==="online"?cu.isOnline():!0}var Vh=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function o1(e){let t=!1,s=0,a;const o=s5(),c=()=>o.status!=="pending",d=k=>{if(!c()){const A=new Vh(k);x(A),e.onCancel?.(A)}},f=()=>{t=!0},m=()=>{t=!1},g=()=>a1.isFocused()&&(e.networkMode==="always"||cu.isOnline())&&e.canRun(),y=()=>r1(e.networkMode)&&e.canRun(),b=k=>{c()||(a?.(),o.resolve(k))},x=k=>{c()||(a?.(),o.reject(k))},S=()=>new Promise(k=>{a=A=>{(c()||g())&&k(A)},e.onPause?.()}).then(()=>{a=void 0,c()||e.onContinue?.()}),j=()=>{if(c())return;let k;const A=s===0?e.initialPromise:void 0;try{k=A??e.fn()}catch(N){k=Promise.reject(N)}Promise.resolve(k).then(b).catch(N=>{if(c())return;const T=e.retry??(ju?0:3),_=e.retryDelay??i5,P=typeof _=="function"?_(s,N):_,R=T===!0||typeof T=="number"&&s<T||typeof T=="function"&&T(s,N);if(t||!R){x(N);return}s++,e.onFail?.(s,N),Z3(P).then(()=>g()?void 0:S()).then(()=>{t?x(N):j()})})};return{promise:o,status:()=>o.status,cancel:d,continue:()=>(a?.(),o),cancelRetry:f,continueRetry:m,canStart:y,start:()=>(y()?j():S().then(j),o)}}var a5=e=>setTimeout(e,0);function r5(){let e=[],t=0,s=f=>{f()},a=f=>{f()},o=a5;const c=f=>{t?e.push(f):o(()=>{s(f)})},d=()=>{const f=e;e=[],f.length&&o(()=>{a(()=>{f.forEach(m=>{s(m)})})})};return{batch:f=>{let m;t++;try{m=f()}finally{t--,t||d()}return m},batchCalls:f=>(...m)=>{c(()=>{f(...m)})},schedule:c,setNotifyFunction:f=>{s=f},setBatchNotifyFunction:f=>{a=f},setScheduler:f=>{o=f}}}var En=r5(),l1=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Y3(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ju?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},o5=class extends l1{#e;#t;#n;#i;#s;#r;#o;constructor(e){super(),this.#o=!1,this.#r=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=c5(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){this.options={...this.#r,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const s=W3(this.state.data,e,this.options);return this.#a({data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#s?.promise;return this.#s?.cancel(e),t?t.then(vs).catch(vs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Q3(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Lm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>qh(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!I3(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},o=()=>{const f=i1(this.options,t),g=(()=>{const y={client:this.#i,queryKey:this.queryKey,meta:this.meta};return a(y),y})();return this.#o=!1,this.options.persister?this.options.persister(f,g,this):f(g)},d=(()=>{const f={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:o};return a(f),f})();this.options.behavior?.onFetch(d,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#a({type:"fetch",meta:d.fetchOptions?.meta}),this.#s=o1({initialPromise:t?.initialPromise,fn:d.fetchFn,onCancel:f=>{f instanceof Vh&&f.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(f,m)=>{this.#a({type:"failed",failureCount:f,error:m})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0});try{const f=await this.#s.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#n.config.onSuccess?.(f,this),this.#n.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof Vh){if(f.silent)return this.#s.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#a({type:"error",error:f}),this.#n.config.onError?.(f,this),this.#n.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#a(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...l5(s.data,this.options),fetchMeta:e.meta??null};case"success":const a={...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?a:void 0,a;case"error":const o=e.error;return{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),En.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function l5(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:r1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function c5(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,a=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var u5=class extends ku{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,s){const a=t.queryKey,o=t.queryHash??Dm(a,t);let c=this.get(o);return c||(c=new o5({client:e,queryKey:a,queryHash:o,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(a)}),this.add(c)),c}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){En.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>Tv(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>Tv(e,s)):t}notify(e){En.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){En.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){En.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},d5=class extends l1{#e;#t;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||f5(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#i({type:"continue"})};this.#n=o1({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(o,c)=>{this.#i({type:"failed",failureCount:o,error:c})},onPause:()=>{this.#i({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const s=this.state.status==="pending",a=!this.#n.canStart();try{if(s)t();else{this.#i({type:"pending",variables:e,isPaused:a}),await this.#t.config.onMutate?.(e,this);const c=await this.options.onMutate?.(e);c!==this.state.context&&this.#i({type:"pending",context:c,variables:e,isPaused:a})}const o=await this.#n.start();return await this.#t.config.onSuccess?.(o,e,this.state.context,this),await this.options.onSuccess?.(o,e,this.state.context),await this.#t.config.onSettled?.(o,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(o,null,e,this.state.context),this.#i({type:"success",data:o}),o}catch(o){try{throw await this.#t.config.onError?.(o,e,this.state.context,this),await this.options.onError?.(o,e,this.state.context),await this.#t.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,o,e,this.state.context),o}finally{this.#i({type:"error",error:o})}}finally{this.#t.runNext(this)}}#i(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),En.batch(()=>{this.#e.forEach(s=>{s.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function f5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var h5=class extends ku{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,s){const a=new d5({mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:s});return this.add(a),a}add(e){this.#e.add(e);const t=Lc(e);if(typeof t=="string"){const s=this.#t.get(t);s?s.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Lc(e);if(typeof t=="string"){const s=this.#t.get(t);if(s)if(s.length>1){const a=s.indexOf(e);a!==-1&&s.splice(a,1)}else s[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Lc(e);if(typeof t=="string"){const a=this.#t.get(t)?.find(o=>o.state.status==="pending");return!a||a===e}else return!0}runNext(e){const t=Lc(e);return typeof t=="string"?this.#t.get(t)?.find(a=>a!==e&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){En.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(s=>Av(t,s))}findAll(e={}){return this.getAll().filter(t=>Av(e,t))}notify(e){En.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return En.batch(()=>Promise.all(e.map(t=>t.continue().catch(vs))))}};function Lc(e){return e.options.scope?.id}function _v(e){return{onFetch:(t,s)=>{const a=t.options,o=t.fetchOptions?.meta?.fetchMore?.direction,c=t.state.data?.pages||[],d=t.state.data?.pageParams||[];let f={pages:[],pageParams:[]},m=0;const g=async()=>{let y=!1;const b=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},x=i1(t.options,t.fetchOptions),S=async(j,k,A)=>{if(y)return Promise.reject();if(k==null&&j.pages.length)return Promise.resolve(j);const T=(()=>{const K={client:t.client,queryKey:t.queryKey,pageParam:k,direction:A?"backward":"forward",meta:t.options.meta};return b(K),K})(),_=await x(T),{maxPages:P}=t.options,R=A?e5:J3;return{pages:R(j.pages,_,P),pageParams:R(j.pageParams,k,P)}};if(o&&c.length){const j=o==="backward",k=j?m5:Rv,A={pages:c,pageParams:d},N=k(a,A);f=await S(A,N,j)}else{const j=e??c.length;do{const k=m===0?d[0]??a.initialPageParam:Rv(a,f);if(m>0&&k==null)break;f=await S(f,k),m++}while(m<j)}return f};t.options.persister?t.fetchFn=()=>t.options.persister?.(g,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s):t.fetchFn=g}}}function Rv(e,{pages:t,pageParams:s}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,s[a],s):void 0}function m5(e,{pages:t,pageParams:s}){return t.length>0?e.getPreviousPageParam?.(t[0],t,s[0],s):void 0}var p5=class{#e;#t;#n;#i;#s;#r;#o;#a;constructor(e={}){this.#e=e.queryCache||new u5,this.#t=e.mutationCache||new h5,this.#n=e.defaultOptions||{},this.#i=new Map,this.#s=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#o=a1.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=cu.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=this.#e.build(this,t),a=s.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(qh(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:s})=>{const a=s.data;return[t,a]})}setQueryData(e,t,s){const a=this.defaultQueryOptions({queryKey:e}),c=this.#e.get(a.queryHash)?.state.data,d=F3(t,c);if(d!==void 0)return this.#e.build(this,a).setData(d,{...s,manual:!0})}setQueriesData(e,t,s){return En.batch(()=>this.#e.findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,s)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;En.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=this.#e;return En.batch(()=>(s.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},a=En.batch(()=>this.#e.findAll(e).map(o=>o.cancel(s)));return Promise.all(a).then(vs).catch(vs)}invalidateQueries(e,t={}){return En.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},a=En.batch(()=>this.#e.findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let c=o.fetch(void 0,s);return s.throwOnError||(c=c.catch(vs)),o.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(a).then(vs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=this.#e.build(this,t);return s.isStaleByTime(qh(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(vs).catch(vs)}fetchInfiniteQuery(e){return e.behavior=_v(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(vs).catch(vs)}ensureInfiniteQueryData(e){return e.behavior=_v(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return cu.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#i.set(Jo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#i.values()],s={};return t.forEach(a=>{el(e,a.queryKey)&&Object.assign(s,a.defaultOptions)}),s}setMutationDefaults(e,t){this.#s.set(Jo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#s.values()],s={};return t.forEach(a=>{el(e,a.mutationKey)&&Object.assign(s,a.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Dm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Lm&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},g5=v.createContext(void 0),y5=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),u.jsx(g5.Provider,{value:e,children:t}));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),b5=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,a)=>a?a.toUpperCase():s.toLowerCase()),Dv=e=>{const t=b5(e);return t.charAt(0).toUpperCase()+t.slice(1)},c1=(...e)=>e.filter((t,s,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===s).join(" ").trim(),x5=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var w5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...f},m)=>v.createElement("svg",{ref:m,...w5,width:t,height:t,stroke:e,strokeWidth:a?Number(s)*24/Number(t):s,className:c1("lucide",o),...!c&&!x5(f)&&{"aria-hidden":"true"},...f},[...d.map(([g,y])=>v.createElement(g,y)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=(e,t)=>{const s=v.forwardRef(({className:a,...o},c)=>v.createElement(S5,{ref:c,iconNode:t,className:c1(`lucide-${v5(Dv(e))}`,`lucide-${e}`,a),...o}));return s.displayName=Dv(e),s};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Jf=Xe("arrow-left",C5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],j5=Xe("award",k5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],T5=Xe("book-open",N5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Lv=Xe("book",A5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],va=Xe("brain",E5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],_5=Xe("chart-column",M5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Oc=Xe("chevron-left",R5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ov=Xe("chevron-right",D5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],O5=Xe("circle-alert",L5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],z5=Xe("circle-check-big",P5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],q5=Xe("circle-question-mark",B5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],us=Xe("crown",U5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],H5=Xe("flag",V5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],G5=Xe("lightbulb",$5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Pv=Xe("maximize-2",K5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Y5=Xe("menu",F5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],zv=Xe("minimize-2",I5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=[["path",{d:"M5 12h14",key:"1ays0h"}]],Bv=Xe("minus",Q5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],u1=Xe("monitor",X5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],W5=Xe("move",Z5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],ej=Xe("play",J5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],Om=Xe("puzzle",tj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],qv=Xe("refresh-cw",nj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],uu=Xe("rotate-ccw",sj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Uv=Xe("send",ij);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Vv=Xe("shield",aj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Hv=Xe("smile",rj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],eh=Xe("star",oj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]],th=Xe("sword",lj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],d1=Xe("target",cj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],dj=Xe("trending-up",uj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$v=Xe("triangle-alert",fj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Hi=Xe("trophy",hj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],f1=Xe("users",mj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Hh=Xe("x",pj);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],nh=Xe("zap",gj);function Gv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function yj(...e){return t=>{let s=!1;const a=e.map(o=>{const c=Gv(o,t);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let o=0;o<a.length;o++){const c=a[o];typeof c=="function"?c():Gv(e[o],null)}}}}function h1(e){const t=bj(e),s=v.forwardRef((a,o)=>{const{children:c,...d}=a,f=v.Children.toArray(c),m=f.find(wj);if(m){const g=m.props.children,y=f.map(b=>b===m?v.Children.count(g)>1?v.Children.only(null):v.isValidElement(g)?g.props.children:null:b);return u.jsx(t,{...d,ref:o,children:v.isValidElement(g)?v.cloneElement(g,void 0,y):null})}return u.jsx(t,{...d,ref:o,children:c})});return s.displayName=`${e}.Slot`,s}var vj=h1("Slot");function bj(e){const t=v.forwardRef((s,a)=>{const{children:o,...c}=s;if(v.isValidElement(o)){const d=Cj(o),f=Sj(c,o.props);return o.type!==v.Fragment&&(f.ref=a?yj(a,d):d),v.cloneElement(o,f)}return v.Children.count(o)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xj=Symbol("radix.slottable");function wj(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xj}function Sj(e,t){const s={...t};for(const a in t){const o=e[a],c=t[a];/^on[A-Z]/.test(a)?o&&c?s[a]=(...f)=>{const m=c(...f);return o(...f),m}:o&&(s[a]=o):a==="style"?s[a]={...o,...c}:a==="className"&&(s[a]=[o,c].filter(Boolean).join(" "))}return{...e,...s}}function Cj(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function m1(e){var t,s,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(s=m1(e[t]))&&(a&&(a+=" "),a+=s)}else for(s in e)e[s]&&(a&&(a+=" "),a+=s);return a}function p1(){for(var e,t,s=0,a="",o=arguments.length;s<o;s++)(e=arguments[s])&&(t=m1(e))&&(a&&(a+=" "),a+=t);return a}const Kv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Fv=p1,g1=(e,t)=>s=>{var a;if(t?.variants==null)return Fv(e,s?.class,s?.className);const{variants:o,defaultVariants:c}=t,d=Object.keys(o).map(g=>{const y=s?.[g],b=c?.[g];if(y===null)return null;const x=Kv(y)||Kv(b);return o[g][x]}),f=s&&Object.entries(s).reduce((g,y)=>{let[b,x]=y;return x===void 0||(g[b]=x),g},{}),m=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((g,y)=>{let{class:b,className:x,...S}=y;return Object.entries(S).every(j=>{let[k,A]=j;return Array.isArray(A)?A.includes({...c,...f}[k]):{...c,...f}[k]===A})?[...g,b,x]:g},[]);return Fv(e,d,m,s?.class,s?.className)},Pm="-",kj=e=>{const t=Nj(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:d=>{const f=d.split(Pm);return f[0]===""&&f.length!==1&&f.shift(),y1(f,t)||jj(d)},getConflictingClassGroupIds:(d,f)=>{const m=s[d]||[];return f&&a[d]?[...m,...a[d]]:m}}},y1=(e,t)=>{if(e.length===0)return t.classGroupId;const s=e[0],a=t.nextPart.get(s),o=a?y1(e.slice(1),a):void 0;if(o)return o;if(t.validators.length===0)return;const c=e.join(Pm);return t.validators.find(({validator:d})=>d(c))?.classGroupId},Yv=/^\[(.+)\]$/,jj=e=>{if(Yv.test(e)){const t=Yv.exec(e)[1],s=t?.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},Nj=e=>{const{theme:t,classGroups:s}=e,a={nextPart:new Map,validators:[]};for(const o in s)$h(s[o],a,o,t);return a},$h=(e,t,s,a)=>{e.forEach(o=>{if(typeof o=="string"){const c=o===""?t:Iv(t,o);c.classGroupId=s;return}if(typeof o=="function"){if(Tj(o)){$h(o(a),t,s,a);return}t.validators.push({validator:o,classGroupId:s});return}Object.entries(o).forEach(([c,d])=>{$h(d,Iv(t,c),s,a)})})},Iv=(e,t)=>{let s=e;return t.split(Pm).forEach(a=>{s.nextPart.has(a)||s.nextPart.set(a,{nextPart:new Map,validators:[]}),s=s.nextPart.get(a)}),s},Tj=e=>e.isThemeGetter,Aj=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,a=new Map;const o=(c,d)=>{s.set(c,d),t++,t>e&&(t=0,a=s,s=new Map)};return{get(c){let d=s.get(c);if(d!==void 0)return d;if((d=a.get(c))!==void 0)return o(c,d),d},set(c,d){s.has(c)?s.set(c,d):o(c,d)}}},Gh="!",Kh=":",Ej=Kh.length,Mj=e=>{const{prefix:t,experimentalParseClassName:s}=e;let a=o=>{const c=[];let d=0,f=0,m=0,g;for(let j=0;j<o.length;j++){let k=o[j];if(d===0&&f===0){if(k===Kh){c.push(o.slice(m,j)),m=j+Ej;continue}if(k==="/"){g=j;continue}}k==="["?d++:k==="]"?d--:k==="("?f++:k===")"&&f--}const y=c.length===0?o:o.substring(m),b=_j(y),x=b!==y,S=g&&g>m?g-m:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:b,maybePostfixModifierPosition:S}};if(t){const o=t+Kh,c=a;a=d=>d.startsWith(o)?c(d.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:d,maybePostfixModifierPosition:void 0}}if(s){const o=a;a=c=>s({className:c,parseClassName:o})}return a},_j=e=>e.endsWith(Gh)?e.substring(0,e.length-1):e.startsWith(Gh)?e.substring(1):e,Rj=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const o=[];let c=[];return a.forEach(d=>{d[0]==="["||t[d]?(o.push(...c.sort(),d),c=[]):c.push(d)}),o.push(...c.sort()),o}},Dj=e=>({cache:Aj(e.cacheSize),parseClassName:Mj(e),sortModifiers:Rj(e),...kj(e)}),Lj=/\s+/,Oj=(e,t)=>{const{parseClassName:s,getClassGroupId:a,getConflictingClassGroupIds:o,sortModifiers:c}=t,d=[],f=e.trim().split(Lj);let m="";for(let g=f.length-1;g>=0;g-=1){const y=f[g],{isExternal:b,modifiers:x,hasImportantModifier:S,baseClassName:j,maybePostfixModifierPosition:k}=s(y);if(b){m=y+(m.length>0?" "+m:m);continue}let A=!!k,N=a(A?j.substring(0,k):j);if(!N){if(!A){m=y+(m.length>0?" "+m:m);continue}if(N=a(j),!N){m=y+(m.length>0?" "+m:m);continue}A=!1}const T=c(x).join(":"),_=S?T+Gh:T,P=_+N;if(d.includes(P))continue;d.push(P);const R=o(N,A);for(let K=0;K<R.length;++K){const Q=R[K];d.push(_+Q)}m=y+(m.length>0?" "+m:m)}return m};function Pj(){let e=0,t,s,a="";for(;e<arguments.length;)(t=arguments[e++])&&(s=v1(t))&&(a&&(a+=" "),a+=s);return a}const v1=e=>{if(typeof e=="string")return e;let t,s="";for(let a=0;a<e.length;a++)e[a]&&(t=v1(e[a]))&&(s&&(s+=" "),s+=t);return s};function zj(e,...t){let s,a,o,c=d;function d(m){const g=t.reduce((y,b)=>b(y),e());return s=Dj(g),a=s.cache.get,o=s.cache.set,c=f,f(m)}function f(m){const g=a(m);if(g)return g;const y=Oj(m,s);return o(m,y),y}return function(){return c(Pj.apply(null,arguments))}}const tn=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},b1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,x1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Bj=/^\d+\/\d+$/,qj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Uj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Vj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Hj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$j=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,lr=e=>Bj.test(e),$e=e=>!!e&&!Number.isNaN(Number(e)),Li=e=>!!e&&Number.isInteger(Number(e)),sh=e=>e.endsWith("%")&&$e(e.slice(0,-1)),si=e=>qj.test(e),Gj=()=>!0,Kj=e=>Uj.test(e)&&!Vj.test(e),w1=()=>!1,Fj=e=>Hj.test(e),Yj=e=>$j.test(e),Ij=e=>!be(e)&&!xe(e),Qj=e=>kr(e,k1,w1),be=e=>b1.test(e),fa=e=>kr(e,j1,Kj),ih=e=>kr(e,eN,$e),Qv=e=>kr(e,S1,w1),Xj=e=>kr(e,C1,Yj),Pc=e=>kr(e,N1,Fj),xe=e=>x1.test(e),Do=e=>jr(e,j1),Zj=e=>jr(e,tN),Xv=e=>jr(e,S1),Wj=e=>jr(e,k1),Jj=e=>jr(e,C1),zc=e=>jr(e,N1,!0),kr=(e,t,s)=>{const a=b1.exec(e);return a?a[1]?t(a[1]):s(a[2]):!1},jr=(e,t,s=!1)=>{const a=x1.exec(e);return a?a[1]?t(a[1]):s:!1},S1=e=>e==="position"||e==="percentage",C1=e=>e==="image"||e==="url",k1=e=>e==="length"||e==="size"||e==="bg-size",j1=e=>e==="length",eN=e=>e==="number",tN=e=>e==="family-name",N1=e=>e==="shadow",nN=()=>{const e=tn("color"),t=tn("font"),s=tn("text"),a=tn("font-weight"),o=tn("tracking"),c=tn("leading"),d=tn("breakpoint"),f=tn("container"),m=tn("spacing"),g=tn("radius"),y=tn("shadow"),b=tn("inset-shadow"),x=tn("text-shadow"),S=tn("drop-shadow"),j=tn("blur"),k=tn("perspective"),A=tn("aspect"),N=tn("ease"),T=tn("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[...P(),xe,be],K=()=>["auto","hidden","clip","visible","scroll"],Q=()=>["auto","contain","none"],L=()=>[xe,be,m],Z=()=>[lr,"full","auto",...L()],re=()=>[Li,"none","subgrid",xe,be],he=()=>["auto",{span:["full",Li,xe,be]},Li,xe,be],ne=()=>[Li,"auto",xe,be],ye=()=>["auto","min","max","fr",xe,be],le=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],me=()=>["start","end","center","stretch","center-safe","end-safe"],B=()=>["auto",...L()],V=()=>[lr,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...L()],X=()=>[e,xe,be],oe=()=>[...P(),Xv,Qv,{position:[xe,be]}],E=()=>["no-repeat",{repeat:["","x","y","space","round"]}],G=()=>["auto","cover","contain",Wj,Qj,{size:[xe,be]}],ae=()=>[sh,Do,fa],te=()=>["","none","full",g,xe,be],ue=()=>["",$e,Do,fa],pe=()=>["solid","dashed","dotted","double"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Te=()=>[$e,sh,Xv,Qv],Pe=()=>["","none",j,xe,be],ft=()=>["none",$e,xe,be],Ze=()=>["none",$e,xe,be],st=()=>[$e,xe,be],fe=()=>[lr,"full",...L()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[si],breakpoint:[si],color:[Gj],container:[si],"drop-shadow":[si],ease:["in","out","in-out"],font:[Ij],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[si],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[si],shadow:[si],spacing:["px",$e],text:[si],"text-shadow":[si],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",lr,be,xe,A]}],container:["container"],columns:[{columns:[$e,be,xe,f]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:Q()}],"overscroll-x":[{"overscroll-x":Q()}],"overscroll-y":[{"overscroll-y":Q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Z()}],"inset-x":[{"inset-x":Z()}],"inset-y":[{"inset-y":Z()}],start:[{start:Z()}],end:[{end:Z()}],top:[{top:Z()}],right:[{right:Z()}],bottom:[{bottom:Z()}],left:[{left:Z()}],visibility:["visible","invisible","collapse"],z:[{z:[Li,"auto",xe,be]}],basis:[{basis:[lr,"full","auto",f,...L()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[$e,lr,"auto","initial","none",be]}],grow:[{grow:["",$e,xe,be]}],shrink:[{shrink:["",$e,xe,be]}],order:[{order:[Li,"first","last","none",xe,be]}],"grid-cols":[{"grid-cols":re()}],"col-start-end":[{col:he()}],"col-start":[{"col-start":ne()}],"col-end":[{"col-end":ne()}],"grid-rows":[{"grid-rows":re()}],"row-start-end":[{row:he()}],"row-start":[{"row-start":ne()}],"row-end":[{"row-end":ne()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ye()}],"auto-rows":[{"auto-rows":ye()}],gap:[{gap:L()}],"gap-x":[{"gap-x":L()}],"gap-y":[{"gap-y":L()}],"justify-content":[{justify:[...le(),"normal"]}],"justify-items":[{"justify-items":[...me(),"normal"]}],"justify-self":[{"justify-self":["auto",...me()]}],"align-content":[{content:["normal",...le()]}],"align-items":[{items:[...me(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...me(),{baseline:["","last"]}]}],"place-content":[{"place-content":le()}],"place-items":[{"place-items":[...me(),"baseline"]}],"place-self":[{"place-self":["auto",...me()]}],p:[{p:L()}],px:[{px:L()}],py:[{py:L()}],ps:[{ps:L()}],pe:[{pe:L()}],pt:[{pt:L()}],pr:[{pr:L()}],pb:[{pb:L()}],pl:[{pl:L()}],m:[{m:B()}],mx:[{mx:B()}],my:[{my:B()}],ms:[{ms:B()}],me:[{me:B()}],mt:[{mt:B()}],mr:[{mr:B()}],mb:[{mb:B()}],ml:[{ml:B()}],"space-x":[{"space-x":L()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":L()}],"space-y-reverse":["space-y-reverse"],size:[{size:V()}],w:[{w:[f,"screen",...V()]}],"min-w":[{"min-w":[f,"screen","none",...V()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[d]},...V()]}],h:[{h:["screen","lh",...V()]}],"min-h":[{"min-h":["screen","lh","none",...V()]}],"max-h":[{"max-h":["screen","lh",...V()]}],"font-size":[{text:["base",s,Do,fa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,xe,ih]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",sh,be]}],"font-family":[{font:[Zj,be,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,xe,be]}],"line-clamp":[{"line-clamp":[$e,"none",xe,ih]}],leading:[{leading:[c,...L()]}],"list-image":[{"list-image":["none",xe,be]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",xe,be]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:X()}],"text-color":[{text:X()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...pe(),"wavy"]}],"text-decoration-thickness":[{decoration:[$e,"from-font","auto",xe,fa]}],"text-decoration-color":[{decoration:X()}],"underline-offset":[{"underline-offset":[$e,"auto",xe,be]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe,be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe,be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:oe()}],"bg-repeat":[{bg:E()}],"bg-size":[{bg:G()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Li,xe,be],radial:["",xe,be],conic:[Li,xe,be]},Jj,Xj]}],"bg-color":[{bg:X()}],"gradient-from-pos":[{from:ae()}],"gradient-via-pos":[{via:ae()}],"gradient-to-pos":[{to:ae()}],"gradient-from":[{from:X()}],"gradient-via":[{via:X()}],"gradient-to":[{to:X()}],rounded:[{rounded:te()}],"rounded-s":[{"rounded-s":te()}],"rounded-e":[{"rounded-e":te()}],"rounded-t":[{"rounded-t":te()}],"rounded-r":[{"rounded-r":te()}],"rounded-b":[{"rounded-b":te()}],"rounded-l":[{"rounded-l":te()}],"rounded-ss":[{"rounded-ss":te()}],"rounded-se":[{"rounded-se":te()}],"rounded-ee":[{"rounded-ee":te()}],"rounded-es":[{"rounded-es":te()}],"rounded-tl":[{"rounded-tl":te()}],"rounded-tr":[{"rounded-tr":te()}],"rounded-br":[{"rounded-br":te()}],"rounded-bl":[{"rounded-bl":te()}],"border-w":[{border:ue()}],"border-w-x":[{"border-x":ue()}],"border-w-y":[{"border-y":ue()}],"border-w-s":[{"border-s":ue()}],"border-w-e":[{"border-e":ue()}],"border-w-t":[{"border-t":ue()}],"border-w-r":[{"border-r":ue()}],"border-w-b":[{"border-b":ue()}],"border-w-l":[{"border-l":ue()}],"divide-x":[{"divide-x":ue()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ue()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...pe(),"hidden","none"]}],"divide-style":[{divide:[...pe(),"hidden","none"]}],"border-color":[{border:X()}],"border-color-x":[{"border-x":X()}],"border-color-y":[{"border-y":X()}],"border-color-s":[{"border-s":X()}],"border-color-e":[{"border-e":X()}],"border-color-t":[{"border-t":X()}],"border-color-r":[{"border-r":X()}],"border-color-b":[{"border-b":X()}],"border-color-l":[{"border-l":X()}],"divide-color":[{divide:X()}],"outline-style":[{outline:[...pe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[$e,xe,be]}],"outline-w":[{outline:["",$e,Do,fa]}],"outline-color":[{outline:X()}],shadow:[{shadow:["","none",y,zc,Pc]}],"shadow-color":[{shadow:X()}],"inset-shadow":[{"inset-shadow":["none",b,zc,Pc]}],"inset-shadow-color":[{"inset-shadow":X()}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:X()}],"ring-offset-w":[{"ring-offset":[$e,fa]}],"ring-offset-color":[{"ring-offset":X()}],"inset-ring-w":[{"inset-ring":ue()}],"inset-ring-color":[{"inset-ring":X()}],"text-shadow":[{"text-shadow":["none",x,zc,Pc]}],"text-shadow-color":[{"text-shadow":X()}],opacity:[{opacity:[$e,xe,be]}],"mix-blend":[{"mix-blend":[...ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[$e]}],"mask-image-linear-from-pos":[{"mask-linear-from":Te()}],"mask-image-linear-to-pos":[{"mask-linear-to":Te()}],"mask-image-linear-from-color":[{"mask-linear-from":X()}],"mask-image-linear-to-color":[{"mask-linear-to":X()}],"mask-image-t-from-pos":[{"mask-t-from":Te()}],"mask-image-t-to-pos":[{"mask-t-to":Te()}],"mask-image-t-from-color":[{"mask-t-from":X()}],"mask-image-t-to-color":[{"mask-t-to":X()}],"mask-image-r-from-pos":[{"mask-r-from":Te()}],"mask-image-r-to-pos":[{"mask-r-to":Te()}],"mask-image-r-from-color":[{"mask-r-from":X()}],"mask-image-r-to-color":[{"mask-r-to":X()}],"mask-image-b-from-pos":[{"mask-b-from":Te()}],"mask-image-b-to-pos":[{"mask-b-to":Te()}],"mask-image-b-from-color":[{"mask-b-from":X()}],"mask-image-b-to-color":[{"mask-b-to":X()}],"mask-image-l-from-pos":[{"mask-l-from":Te()}],"mask-image-l-to-pos":[{"mask-l-to":Te()}],"mask-image-l-from-color":[{"mask-l-from":X()}],"mask-image-l-to-color":[{"mask-l-to":X()}],"mask-image-x-from-pos":[{"mask-x-from":Te()}],"mask-image-x-to-pos":[{"mask-x-to":Te()}],"mask-image-x-from-color":[{"mask-x-from":X()}],"mask-image-x-to-color":[{"mask-x-to":X()}],"mask-image-y-from-pos":[{"mask-y-from":Te()}],"mask-image-y-to-pos":[{"mask-y-to":Te()}],"mask-image-y-from-color":[{"mask-y-from":X()}],"mask-image-y-to-color":[{"mask-y-to":X()}],"mask-image-radial":[{"mask-radial":[xe,be]}],"mask-image-radial-from-pos":[{"mask-radial-from":Te()}],"mask-image-radial-to-pos":[{"mask-radial-to":Te()}],"mask-image-radial-from-color":[{"mask-radial-from":X()}],"mask-image-radial-to-color":[{"mask-radial-to":X()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[$e]}],"mask-image-conic-from-pos":[{"mask-conic-from":Te()}],"mask-image-conic-to-pos":[{"mask-conic-to":Te()}],"mask-image-conic-from-color":[{"mask-conic-from":X()}],"mask-image-conic-to-color":[{"mask-conic-to":X()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:oe()}],"mask-repeat":[{mask:E()}],"mask-size":[{mask:G()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",xe,be]}],filter:[{filter:["","none",xe,be]}],blur:[{blur:Pe()}],brightness:[{brightness:[$e,xe,be]}],contrast:[{contrast:[$e,xe,be]}],"drop-shadow":[{"drop-shadow":["","none",S,zc,Pc]}],"drop-shadow-color":[{"drop-shadow":X()}],grayscale:[{grayscale:["",$e,xe,be]}],"hue-rotate":[{"hue-rotate":[$e,xe,be]}],invert:[{invert:["",$e,xe,be]}],saturate:[{saturate:[$e,xe,be]}],sepia:[{sepia:["",$e,xe,be]}],"backdrop-filter":[{"backdrop-filter":["","none",xe,be]}],"backdrop-blur":[{"backdrop-blur":Pe()}],"backdrop-brightness":[{"backdrop-brightness":[$e,xe,be]}],"backdrop-contrast":[{"backdrop-contrast":[$e,xe,be]}],"backdrop-grayscale":[{"backdrop-grayscale":["",$e,xe,be]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[$e,xe,be]}],"backdrop-invert":[{"backdrop-invert":["",$e,xe,be]}],"backdrop-opacity":[{"backdrop-opacity":[$e,xe,be]}],"backdrop-saturate":[{"backdrop-saturate":[$e,xe,be]}],"backdrop-sepia":[{"backdrop-sepia":["",$e,xe,be]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":L()}],"border-spacing-x":[{"border-spacing-x":L()}],"border-spacing-y":[{"border-spacing-y":L()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",xe,be]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[$e,"initial",xe,be]}],ease:[{ease:["linear","initial",N,xe,be]}],delay:[{delay:[$e,xe,be]}],animate:[{animate:["none",T,xe,be]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,xe,be]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:ft()}],"rotate-x":[{"rotate-x":ft()}],"rotate-y":[{"rotate-y":ft()}],"rotate-z":[{"rotate-z":ft()}],scale:[{scale:Ze()}],"scale-x":[{"scale-x":Ze()}],"scale-y":[{"scale-y":Ze()}],"scale-z":[{"scale-z":Ze()}],"scale-3d":["scale-3d"],skew:[{skew:st()}],"skew-x":[{"skew-x":st()}],"skew-y":[{"skew-y":st()}],transform:[{transform:[xe,be,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:fe()}],"translate-x":[{"translate-x":fe()}],"translate-y":[{"translate-y":fe()}],"translate-z":[{"translate-z":fe()}],"translate-none":["translate-none"],accent:[{accent:X()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:X()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe,be]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe,be]}],fill:[{fill:["none",...X()]}],"stroke-w":[{stroke:[$e,Do,fa,ih]}],stroke:[{stroke:["none",...X()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},sN=zj(nN);function ws(...e){return sN(p1(e))}const iN=g1("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ne=v.forwardRef(({className:e,variant:t,size:s,asChild:a=!1,...o},c)=>{const d=a?vj:"button";return u.jsx(d,{className:ws(iN({variant:t,size:s,className:e})),ref:c,...o})});Ne.displayName="Button";const aN=[{name:"Dashboard",href:"/dashboard",icon:_5},{name:"Lessons",href:"/lessons",icon:T5},{name:"Puzzles",href:"/puzzles",icon:Om},{name:"vs Computer",href:"/play",icon:u1},{name:"Multiplayer",href:"/multiplayer",icon:f1},{name:"Leaderboard",href:"/leaderboard",icon:Hi}],Zv=({isOpen:e,onClose:t})=>{const s=ui(),a=u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsx("div",{className:"p-4 border-b",children:u.jsxs(ja,{to:"/dashboard",className:"flex items-center space-x-2",onClick:t,children:[u.jsx(us,{className:"h-6 w-6 text-blue-600"}),u.jsx("span",{className:"font-bold text-xl text-gray-900",children:"Chess Academy"})]})}),u.jsx("nav",{className:"flex-1 p-4 space-y-1",children:aN.map(o=>{const c=o.icon,d=s.pathname===o.href;return u.jsx(Ne,{variant:d?"secondary":"ghost",className:ws("w-full justify-start space-x-2 h-10",d&&"bg-accent text-accent-foreground"),asChild:!0,children:u.jsxs(ja,{to:o.href,onClick:t,children:[u.jsx(c,{className:"h-4 w-4"}),u.jsx("span",{children:o.name})]})},o.name)})}),u.jsx("div",{className:"p-4 border-t",children:u.jsx("div",{className:"text-xs text-muted-foreground",children:u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("span",{children:"Current Rating"}),u.jsx("span",{className:"font-medium",children:"1200"})]})})})]});return u.jsxs(u.Fragment,{children:[e&&u.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:t}),u.jsx("aside",{className:ws("fixed left-0 top-14 z-50 h-[calc(100vh-3.5rem)] w-64 transform border-r bg-background transition-transform duration-200 ease-in-out md:relative md:top-0 md:h-full md:translate-x-0",e?"translate-x-0":"-translate-x-full"),children:a})]})},Rs=({children:e})=>{const[t,s]=v.useState(!1),a=()=>{s(!t)},o=()=>{s(!1)};return u.jsxs("div",{className:"flex h-screen bg-background",children:[u.jsx("div",{className:"hidden md:flex md:w-64 md:flex-col bg-white border-r border-gray-200",children:u.jsx(Zv,{isOpen:!0})}),t&&u.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:o}),u.jsx("div",{className:"relative flex w-64 h-full bg-white border-r border-gray-200",children:u.jsx(Zv,{isOpen:!0,onClose:o})})]}),u.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 bg-white border-b border-gray-200",children:[u.jsx(Ne,{variant:"ghost",size:"sm",onClick:a,className:"text-gray-600",children:t?u.jsx(Hh,{className:"h-5 w-5"}):u.jsx(Y5,{className:"h-5 w-5"})}),u.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Chess Academy"}),u.jsx("div",{className:"w-8"})," "]}),u.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50",children:e})]})]})},Bt=v.forwardRef(({className:e,...t},s)=>u.jsx("div",{ref:s,className:ws("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Bt.displayName="Card";const zn=v.forwardRef(({className:e,...t},s)=>u.jsx("div",{ref:s,className:ws("flex flex-col space-y-1.5 p-6",e),...t}));zn.displayName="CardHeader";const Bn=v.forwardRef(({className:e,...t},s)=>u.jsx("div",{ref:s,className:ws("text-2xl font-semibold leading-none tracking-tight",e),...t}));Bn.displayName="CardTitle";const $o=v.forwardRef(({className:e,...t},s)=>u.jsx("div",{ref:s,className:ws("text-sm text-muted-foreground",e),...t}));$o.displayName="CardDescription";const Qt=v.forwardRef(({className:e,...t},s)=>u.jsx("div",{ref:s,className:ws("p-6 pt-0",e),...t}));Qt.displayName="CardContent";const T1=v.forwardRef(({className:e,...t},s)=>u.jsx("div",{ref:s,className:ws("flex items-center p-6 pt-0",e),...t}));T1.displayName="CardFooter";function rN(e,t=[]){let s=[];function a(c,d){const f=v.createContext(d),m=s.length;s=[...s,d];const g=b=>{const{scope:x,children:S,...j}=b,k=x?.[e]?.[m]||f,A=v.useMemo(()=>j,Object.values(j));return u.jsx(k.Provider,{value:A,children:S})};g.displayName=c+"Provider";function y(b,x){const S=x?.[e]?.[m]||f,j=v.useContext(S);if(j)return j;if(d!==void 0)return d;throw new Error(`\`${b}\` must be used within \`${c}\``)}return[g,y]}const o=()=>{const c=s.map(d=>v.createContext(d));return function(f){const m=f?.[e]||c;return v.useMemo(()=>({[`__scope${e}`]:{...f,[e]:m}}),[f,m])}};return o.scopeName=e,[a,oN(o,...t)]}function oN(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const a=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const d=a.reduce((f,{useScope:m,scopeName:g})=>{const b=m(c)[`__scope${g}`];return{...f,...b}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return s.scopeName=t.scopeName,s}var lN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],A1=lN.reduce((e,t)=>{const s=h1(`Primitive.${t}`),a=v.forwardRef((o,c)=>{const{asChild:d,...f}=o,m=d?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(m,{...f,ref:c})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),zm="Progress",Bm=100,[cN,oD]=rN(zm),[uN,dN]=cN(zm),E1=v.forwardRef((e,t)=>{const{__scopeProgress:s,value:a=null,max:o,getValueLabel:c=fN,...d}=e;(o||o===0)&&!Wv(o)&&console.error(hN(`${o}`,"Progress"));const f=Wv(o)?o:Bm;a!==null&&!Jv(a,f)&&console.error(mN(`${a}`,"Progress"));const m=Jv(a,f)?a:null,g=du(m)?c(m,f):void 0;return u.jsx(uN,{scope:s,value:m,max:f,children:u.jsx(A1.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":du(m)?m:void 0,"aria-valuetext":g,role:"progressbar","data-state":R1(m,f),"data-value":m??void 0,"data-max":f,...d,ref:t})})});E1.displayName=zm;var M1="ProgressIndicator",_1=v.forwardRef((e,t)=>{const{__scopeProgress:s,...a}=e,o=dN(M1,s);return u.jsx(A1.div,{"data-state":R1(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...a,ref:t})});_1.displayName=M1;function fN(e,t){return`${Math.round(e/t*100)}%`}function R1(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function du(e){return typeof e=="number"}function Wv(e){return du(e)&&!isNaN(e)&&e>0}function Jv(e,t){return du(e)&&!isNaN(e)&&e<=t&&e>=0}function hN(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Bm}\`.`}function mN(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Bm} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var D1=E1,pN=_1;const qm=v.forwardRef(({className:e,value:t,...s},a)=>u.jsx(D1,{ref:a,className:ws("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:u.jsx(pN,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));qm.displayName=D1.displayName;const gN=g1("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-600",info:"border-transparent bg-blue-500 text-white hover:bg-blue-600"}},defaultVariants:{variant:"default"}});function Na({className:e,variant:t,...s}){return u.jsx("div",{className:ws(gN({variant:t}),e),...s})}const yN=({title:e,description:t,icon:s,to:a,cta:o,color:c})=>u.jsxs(Bt,{className:"h-full hover:shadow-md transition-shadow duration-200",children:[u.jsxs(zn,{className:"flex flex-row items-center gap-3",children:[u.jsx("div",{className:`p-3 rounded-xl ${c}`,children:s}),u.jsxs("div",{className:"flex-1",children:[u.jsx(Bn,{className:"text-lg",children:e}),u.jsx($o,{className:"text-sm",children:t})]})]}),u.jsx(Qt,{}),u.jsx(T1,{children:u.jsx(Ne,{asChild:!0,className:"w-full",children:u.jsx(ja,{to:a,children:o})})})]}),ah=({title:e,value:t,subtitle:s,progress:a,color:o})=>u.jsx(Bt,{children:u.jsxs(Qt,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h3",{className:"font-semibold text-gray-900",children:e}),a!==void 0&&u.jsxs(Na,{variant:"secondary",className:"ml-2",children:[a,"%"]})]}),u.jsx("div",{className:`text-3xl font-bold mb-1 ${o}`,children:t}),u.jsx("p",{className:"text-sm text-muted-foreground",children:s}),a!==void 0&&u.jsx("div",{className:"mt-3",children:u.jsx(qm,{value:a,className:"h-2"})})]})}),vN=()=>{const e=[{title:"Learn",description:"Start with fundamentals and strategy.",icon:u.jsx(va,{className:"h-6 w-6 text-white"}),to:"/lessons",cta:"Begin",color:"bg-blue-500"},{title:"Puzzles",description:"Sharpen tactics with themed sets.",icon:u.jsx(Om,{className:"h-6 w-6 text-white"}),to:"/puzzles",cta:"Solve",color:"bg-green-500"},{title:"vs Computer",description:"Practice games at your level.",icon:u.jsx(u1,{className:"h-6 w-6 text-white"}),to:"/play",cta:"Play",color:"bg-purple-500"},{title:"Leaderboard",description:"See top players and rankings.",icon:u.jsx(Hi,{className:"h-6 w-6 text-white"}),to:"/leaderboard",cta:"View",color:"bg-orange-500"}];return u.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("div",{className:"text-6xl mb-4",children:"♛"}),u.jsx("h1",{className:"text-4xl font-bold text-foreground mb-4",children:"Welcome to Chess Academy!"}),u.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:"Ready to improve your chess skills today? 🚀"}),u.jsx(Ne,{size:"lg",asChild:!0,children:u.jsx(ja,{to:"/lessons",children:"Start Course"})})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:e.map(t=>u.jsx(yN,{title:t.title,description:t.description,icon:t.icon,to:t.to,cta:t.cta,color:t.color},t.title))}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsx(ah,{title:"Lessons Completed",value:0,subtitle:"Start your first lesson",progress:0,color:"text-blue-600"}),u.jsx(ah,{title:"Puzzles Solved",value:0,subtitle:"Tactical problems solved",progress:0,color:"text-green-600"}),u.jsx(ah,{title:"Current Rating",value:1200,subtitle:"Keep playing to improve",color:"text-purple-600"})]})]})},bN=()=>u.jsx(vN,{}),cr=[{id:"1",title:"Chess Basics: How the Pieces Move",description:"Learn how each chess piece moves and captures. Perfect for absolute beginners!",difficulty:"beginner",duration:25,modules:["Welcome to Chess","Pawns","Rooks","Bishops","Knights","Queen & King"],completed:!1,progress:0},{id:"2",title:"Checkmate Patterns",description:"Learn essential checkmate patterns including back rank mates and basic endgames.",difficulty:"beginner",duration:30,modules:["What is Checkmate?","Back Rank Mate","Queen Checkmate","Smothered Mate"],completed:!1,progress:0},{id:"3",title:"Advanced Tactics",description:"Master tactical patterns like forks, pins, and skewers to win material.",difficulty:"intermediate",duration:40,modules:["Introduction to Tactics","Forks","Pins","Skewers","Discovery Attacks"],completed:!1,progress:0},{id:"4",title:"King and Pawn Endgames",description:"Master the most important endgame: King and Pawn vs King.",difficulty:"intermediate",duration:35,modules:["Endgame Fundamentals","Rule of the Square","Opposition","Winning Technique"],completed:!1,progress:0},{id:"5",title:"Opening Principles",description:"Learn the fundamental principles for playing strong chess openings.",difficulty:"advanced",duration:45,modules:["Opening Goals","Center Control","Piece Development","King Safety","Common Mistakes"],completed:!1,progress:0}],xN=()=>{const[e,t]=v.useState("all"),[s,a]=v.useState("title"),o=cr.filter(f=>e==="all"||f.difficulty===e).sort((f,m)=>{switch(s){case"difficulty":const g={beginner:0,intermediate:1,advanced:2};return g[f.difficulty]-g[m.difficulty];case"duration":return f.duration-m.duration;case"title":default:return f.title.localeCompare(m.title)}}),c=f=>{switch(f){case"beginner":return"text-green-600 bg-green-50 border-green-200";case"intermediate":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"advanced":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},d=f=>f===0?"bg-gray-200":f<50?"bg-yellow-400":f<100?"bg-blue-400":"bg-green-400";return u.jsx("div",{className:"py-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Chess Lessons"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Master chess through our interactive lessons. From basic piece movements to advanced strategies!"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-8",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700 self-center mr-2",children:"Filter:"}),["all","beginner","intermediate","advanced"].map(f=>u.jsx("button",{onClick:()=>t(f),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${e===f?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:f.charAt(0).toUpperCase()+f.slice(1)},f))]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700 self-center mr-2",children:"Sort by:"}),u.jsxs("select",{value:s,onChange:f=>a(f.target.value),className:"px-3 py-1 border border-gray-300 rounded text-sm",children:[u.jsx("option",{value:"title",children:"Title"}),u.jsx("option",{value:"difficulty",children:"Difficulty"}),u.jsx("option",{value:"duration",children:"Duration"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 mb-8",children:[u.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[u.jsx("div",{className:"text-2xl font-bold text-blue-600",children:cr.length}),u.jsx("div",{className:"text-sm text-gray-600",children:"Total Lessons"})]}),u.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[u.jsx("div",{className:"text-2xl font-bold text-green-600",children:cr.filter(f=>f.completed).length}),u.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]}),u.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[u.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:cr.filter(f=>f.progress>0&&!f.completed).length}),u.jsx("div",{className:"text-sm text-gray-600",children:"In Progress"})]}),u.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[u.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round(cr.reduce((f,m)=>f+m.progress,0)/cr.length),"%"]}),u.jsx("div",{className:"text-sm text-gray-600",children:"Overall Progress"})]})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(f=>u.jsx("div",{className:"bg-white rounded-lg border border-gray-200 hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2",children:f.title}),u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${c(f.difficulty)}`,children:f.difficulty})]}),u.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:f.description}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[u.jsx("span",{children:"Progress"}),u.jsxs("span",{children:[f.progress,"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${d(f.progress)}`,style:{width:`${f.progress}%`}})})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-4",children:[u.jsxs("span",{className:"flex items-center",children:[u.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.duration," min"]}),u.jsxs("span",{className:"flex items-center",children:[u.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),f.modules.length," modules"]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Modules:"}),u.jsxs("div",{className:"flex flex-wrap gap-1",children:[f.modules.slice(0,3).map((m,g)=>u.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:m},g)),f.modules.length>3&&u.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:["+",f.modules.length-3," more"]})]})]}),u.jsx(ja,{to:`/lessons/${f.id}`,className:`w-full flex items-center justify-center px-4 py-2 rounded-lg text-sm font-medium transition-colors ${f.progress===0?"bg-blue-600 text-white hover:bg-blue-700":f.progress<100?"bg-yellow-600 text-white hover:bg-yellow-700":"bg-green-600 text-white hover:bg-green-700"}`,children:f.progress===0?"Start Lesson":f.progress<100?"Continue":"Review"})]})},f.id))}),o.length===0&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"text-6xl mb-4",children:"📚"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No lessons found"}),u.jsx("p",{className:"text-gray-600",children:"Try adjusting your filters to see more lessons."})]})]})})},Nu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Nr(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Um(e){return"nodeType"in e}function _n(e){var t,s;return e?Nr(e)?e:Um(e)&&(t=(s=e.ownerDocument)==null?void 0:s.defaultView)!=null?t:window:window}function Vm(e){const{Document:t}=_n(e);return e instanceof t}function pl(e){return Nr(e)?!1:e instanceof _n(e).HTMLElement}function L1(e){return e instanceof _n(e).SVGElement}function Tr(e){return e?Nr(e)?e.document:Um(e)?Vm(e)?e:pl(e)||L1(e)?e.ownerDocument:document:document:document}const oi=Nu?v.useLayoutEffect:v.useEffect;function Tu(e){const t=v.useRef(e);return oi(()=>{t.current=e}),v.useCallback(function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return t.current==null?void 0:t.current(...a)},[])}function wN(){const e=v.useRef(null),t=v.useCallback((a,o)=>{e.current=setInterval(a,o)},[]),s=v.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,s]}function tl(e,t){t===void 0&&(t=[e]);const s=v.useRef(e);return oi(()=>{s.current!==e&&(s.current=e)},t),s}function gl(e,t){const s=v.useRef();return v.useMemo(()=>{const a=e(s.current);return s.current=a,a},[...t])}function fu(e){const t=Tu(e),s=v.useRef(null),a=v.useCallback(o=>{o!==s.current&&t?.(o,s.current),s.current=o},[]);return[s,a]}function hu(e){const t=v.useRef();return v.useEffect(()=>{t.current=e},[e]),t.current}let rh={};function Au(e,t){return v.useMemo(()=>{if(t)return t;const s=rh[e]==null?0:rh[e]+1;return rh[e]=s,e+"-"+s},[e,t])}function O1(e){return function(t){for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];return a.reduce((c,d)=>{const f=Object.entries(d);for(const[m,g]of f){const y=c[m];y!=null&&(c[m]=y+e*g)}return c},{...t})}}const gr=O1(1),mu=O1(-1);function SN(e){return"clientX"in e&&"clientY"in e}function Hm(e){if(!e)return!1;const{KeyboardEvent:t}=_n(e.target);return t&&e instanceof t}function CN(e){if(!e)return!1;const{TouchEvent:t}=_n(e.target);return t&&e instanceof t}function nl(e){if(CN(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:s}=e.touches[0];return{x:t,y:s}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:s}=e.changedTouches[0];return{x:t,y:s}}}return SN(e)?{x:e.clientX,y:e.clientY}:null}const sl=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:s}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(s?Math.round(s):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:s}=e;return"scaleX("+t+") scaleY("+s+")"}},Transform:{toString(e){if(e)return[sl.Translate.toString(e),sl.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:s,easing:a}=e;return t+" "+s+"ms "+a}}}),eb="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function kN(e){return e.matches(eb)?e:e.querySelector(eb)}const jN={display:"none"};function NN(e){let{id:t,value:s}=e;return Tt.createElement("div",{id:t,style:jN},s)}function TN(e){let{id:t,announcement:s,ariaLiveType:a="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Tt.createElement("div",{id:t,style:o,role:"status","aria-live":a,"aria-atomic":!0},s)}function AN(){const[e,t]=v.useState("");return{announce:v.useCallback(a=>{a!=null&&t(a)},[]),announcement:e}}const P1=v.createContext(null);function EN(e){const t=v.useContext(P1);v.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function MN(){const[e]=v.useState(()=>new Set),t=v.useCallback(a=>(e.add(a),()=>e.delete(a)),[e]);return[v.useCallback(a=>{let{type:o,event:c}=a;e.forEach(d=>{var f;return(f=d[o])==null?void 0:f.call(d,c)})},[e]),t]}const _N={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},RN={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:s}=e;return s?"Draggable item "+t.id+" was moved over droppable area "+s.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:s}=e;return s?"Draggable item "+t.id+" was dropped over droppable area "+s.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function DN(e){let{announcements:t=RN,container:s,hiddenTextDescribedById:a,screenReaderInstructions:o=_N}=e;const{announce:c,announcement:d}=AN(),f=Au("DndLiveRegion"),[m,g]=v.useState(!1);if(v.useEffect(()=>{g(!0)},[]),EN(v.useMemo(()=>({onDragStart(b){let{active:x}=b;c(t.onDragStart({active:x}))},onDragMove(b){let{active:x,over:S}=b;t.onDragMove&&c(t.onDragMove({active:x,over:S}))},onDragOver(b){let{active:x,over:S}=b;c(t.onDragOver({active:x,over:S}))},onDragEnd(b){let{active:x,over:S}=b;c(t.onDragEnd({active:x,over:S}))},onDragCancel(b){let{active:x,over:S}=b;c(t.onDragCancel({active:x,over:S}))}}),[c,t])),!m)return null;const y=Tt.createElement(Tt.Fragment,null,Tt.createElement(NN,{id:a,value:o.draggable}),Tt.createElement(TN,{id:f,announcement:d}));return s?Bo.createPortal(y,s):y}var sn;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(sn||(sn={}));function pu(){}function Bc(e,t){return v.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function LN(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return v.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const Ss=Object.freeze({x:0,y:0});function ON(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function PN(e,t){const s=nl(e);if(!s)return"0 0";const a={x:(s.x-t.left)/t.width*100,y:(s.y-t.top)/t.height*100};return a.x+"% "+a.y+"%"}function zN(e,t){let{data:{value:s}}=e,{data:{value:a}}=t;return s-a}function BN(e,t){let{data:{value:s}}=e,{data:{value:a}}=t;return a-s}function qN(e){let{left:t,top:s,height:a,width:o}=e;return[{x:t,y:s},{x:t+o,y:s},{x:t,y:s+a},{x:t+o,y:s+a}]}function UN(e,t){if(!e||e.length===0)return null;const[s]=e;return s[t]}function VN(e,t){const s=Math.max(t.top,e.top),a=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),c=Math.min(t.top+t.height,e.top+e.height),d=o-a,f=c-s;if(a<o&&s<c){const m=t.width*t.height,g=e.width*e.height,y=d*f,b=y/(m+g-y);return Number(b.toFixed(4))}return 0}const z1=e=>{let{collisionRect:t,droppableRects:s,droppableContainers:a}=e;const o=[];for(const c of a){const{id:d}=c,f=s.get(d);if(f){const m=VN(f,t);m>0&&o.push({id:d,data:{droppableContainer:c,value:m}})}}return o.sort(BN)};function HN(e,t){const{top:s,left:a,bottom:o,right:c}=t;return s<=e.y&&e.y<=o&&a<=e.x&&e.x<=c}const $N=e=>{let{droppableContainers:t,droppableRects:s,pointerCoordinates:a}=e;if(!a)return[];const o=[];for(const c of t){const{id:d}=c,f=s.get(d);if(f&&HN(a,f)){const g=qN(f).reduce((b,x)=>b+ON(a,x),0),y=Number((g/4).toFixed(4));o.push({id:d,data:{droppableContainer:c,value:y}})}}return o.sort(zN)};function GN(e,t,s){return{...e,scaleX:t&&s?t.width/s.width:1,scaleY:t&&s?t.height/s.height:1}}function B1(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ss}function KN(e){return function(s){for(var a=arguments.length,o=new Array(a>1?a-1:0),c=1;c<a;c++)o[c-1]=arguments[c];return o.reduce((d,f)=>({...d,top:d.top+e*f.y,bottom:d.bottom+e*f.y,left:d.left+e*f.x,right:d.right+e*f.x}),{...s})}}const FN=KN(1);function q1(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function YN(e,t,s){const a=q1(t);if(!a)return e;const{scaleX:o,scaleY:c,x:d,y:f}=a,m=e.left-d-(1-o)*parseFloat(s),g=e.top-f-(1-c)*parseFloat(s.slice(s.indexOf(" ")+1)),y=o?e.width/o:e.width,b=c?e.height/c:e.height;return{width:y,height:b,top:g,right:m+y,bottom:g+b,left:m}}const IN={ignoreTransform:!1};function yl(e,t){t===void 0&&(t=IN);let s=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:g,transformOrigin:y}=_n(e).getComputedStyle(e);g&&(s=YN(s,g,y))}const{top:a,left:o,width:c,height:d,bottom:f,right:m}=s;return{top:a,left:o,width:c,height:d,bottom:f,right:m}}function tb(e){return yl(e,{ignoreTransform:!0})}function QN(e){const t=e.innerWidth,s=e.innerHeight;return{top:0,left:0,right:t,bottom:s,width:t,height:s}}function XN(e,t){return t===void 0&&(t=_n(e).getComputedStyle(e)),t.position==="fixed"}function ZN(e,t){t===void 0&&(t=_n(e).getComputedStyle(e));const s=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const c=t[o];return typeof c=="string"?s.test(c):!1})}function $m(e,t){const s=[];function a(o){if(t!=null&&s.length>=t||!o)return s;if(Vm(o)&&o.scrollingElement!=null&&!s.includes(o.scrollingElement))return s.push(o.scrollingElement),s;if(!pl(o)||L1(o)||s.includes(o))return s;const c=_n(e).getComputedStyle(o);return o!==e&&ZN(o,c)&&s.push(o),XN(o,c)?s:a(o.parentNode)}return e?a(e):s}function U1(e){const[t]=$m(e,1);return t??null}function oh(e){return!Nu||!e?null:Nr(e)?e:Um(e)?Vm(e)||e===Tr(e).scrollingElement?window:pl(e)?e:null:null}function V1(e){return Nr(e)?e.scrollX:e.scrollLeft}function H1(e){return Nr(e)?e.scrollY:e.scrollTop}function Fh(e){return{x:V1(e),y:H1(e)}}var hn;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(hn||(hn={}));function $1(e){return!Nu||!e?!1:e===document.scrollingElement}function G1(e){const t={x:0,y:0},s=$1(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-s.width,y:e.scrollHeight-s.height},o=e.scrollTop<=t.y,c=e.scrollLeft<=t.x,d=e.scrollTop>=a.y,f=e.scrollLeft>=a.x;return{isTop:o,isLeft:c,isBottom:d,isRight:f,maxScroll:a,minScroll:t}}const WN={x:.2,y:.2};function JN(e,t,s,a,o){let{top:c,left:d,right:f,bottom:m}=s;a===void 0&&(a=10),o===void 0&&(o=WN);const{isTop:g,isBottom:y,isLeft:b,isRight:x}=G1(e),S={x:0,y:0},j={x:0,y:0},k={height:t.height*o.y,width:t.width*o.x};return!g&&c<=t.top+k.height?(S.y=hn.Backward,j.y=a*Math.abs((t.top+k.height-c)/k.height)):!y&&m>=t.bottom-k.height&&(S.y=hn.Forward,j.y=a*Math.abs((t.bottom-k.height-m)/k.height)),!x&&f>=t.right-k.width?(S.x=hn.Forward,j.x=a*Math.abs((t.right-k.width-f)/k.width)):!b&&d<=t.left+k.width&&(S.x=hn.Backward,j.x=a*Math.abs((t.left+k.width-d)/k.width)),{direction:S,speed:j}}function eT(e){if(e===document.scrollingElement){const{innerWidth:c,innerHeight:d}=window;return{top:0,left:0,right:c,bottom:d,width:c,height:d}}const{top:t,left:s,right:a,bottom:o}=e.getBoundingClientRect();return{top:t,left:s,right:a,bottom:o,width:e.clientWidth,height:e.clientHeight}}function K1(e){return e.reduce((t,s)=>gr(t,Fh(s)),Ss)}function tT(e){return e.reduce((t,s)=>t+V1(s),0)}function nT(e){return e.reduce((t,s)=>t+H1(s),0)}function F1(e,t){if(t===void 0&&(t=yl),!e)return;const{top:s,left:a,bottom:o,right:c}=t(e);U1(e)&&(o<=0||c<=0||s>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const sT=[["x",["left","right"],tT],["y",["top","bottom"],nT]];class Gm{constructor(t,s){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=$m(s),o=K1(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[c,d,f]of sT)for(const m of d)Object.defineProperty(this,m,{get:()=>{const g=f(a),y=o[c]-g;return this.rect[m]+y},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Go{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(s=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...s)})},this.target=t}add(t,s,a){var o;(o=this.target)==null||o.addEventListener(t,s,a),this.listeners.push([t,s,a])}}function iT(e){const{EventTarget:t}=_n(e);return e instanceof t?e:Tr(e)}function lh(e,t){const s=Math.abs(e.x),a=Math.abs(e.y);return typeof t=="number"?Math.sqrt(s**2+a**2)>t:"x"in t&&"y"in t?s>t.x&&a>t.y:"x"in t?s>t.x:"y"in t?a>t.y:!1}var cs;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(cs||(cs={}));function nb(e){e.preventDefault()}function aT(e){e.stopPropagation()}var xt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(xt||(xt={}));const Y1={start:[xt.Space,xt.Enter],cancel:[xt.Esc],end:[xt.Space,xt.Enter,xt.Tab]},rT=(e,t)=>{let{currentCoordinates:s}=t;switch(e.code){case xt.Right:return{...s,x:s.x+25};case xt.Left:return{...s,x:s.x-25};case xt.Down:return{...s,y:s.y+25};case xt.Up:return{...s,y:s.y-25}}};class Km{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:s}}=t;this.props=t,this.listeners=new Go(Tr(s)),this.windowListeners=new Go(_n(s)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(cs.Resize,this.handleCancel),this.windowListeners.add(cs.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(cs.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:s}=this.props,a=t.node.current;a&&F1(a),s(Ss)}handleKeyDown(t){if(Hm(t)){const{active:s,context:a,options:o}=this.props,{keyboardCodes:c=Y1,coordinateGetter:d=rT,scrollBehavior:f="smooth"}=o,{code:m}=t;if(c.end.includes(m)){this.handleEnd(t);return}if(c.cancel.includes(m)){this.handleCancel(t);return}const{collisionRect:g}=a.current,y=g?{x:g.left,y:g.top}:Ss;this.referenceCoordinates||(this.referenceCoordinates=y);const b=d(t,{active:s,context:a.current,currentCoordinates:y});if(b){const x=mu(b,y),S={x:0,y:0},{scrollableAncestors:j}=a.current;for(const k of j){const A=t.code,{isTop:N,isRight:T,isLeft:_,isBottom:P,maxScroll:R,minScroll:K}=G1(k),Q=eT(k),L={x:Math.min(A===xt.Right?Q.right-Q.width/2:Q.right,Math.max(A===xt.Right?Q.left:Q.left+Q.width/2,b.x)),y:Math.min(A===xt.Down?Q.bottom-Q.height/2:Q.bottom,Math.max(A===xt.Down?Q.top:Q.top+Q.height/2,b.y))},Z=A===xt.Right&&!T||A===xt.Left&&!_,re=A===xt.Down&&!P||A===xt.Up&&!N;if(Z&&L.x!==b.x){const he=k.scrollLeft+x.x,ne=A===xt.Right&&he<=R.x||A===xt.Left&&he>=K.x;if(ne&&!x.y){k.scrollTo({left:he,behavior:f});return}ne?S.x=k.scrollLeft-he:S.x=A===xt.Right?k.scrollLeft-R.x:k.scrollLeft-K.x,S.x&&k.scrollBy({left:-S.x,behavior:f});break}else if(re&&L.y!==b.y){const he=k.scrollTop+x.y,ne=A===xt.Down&&he<=R.y||A===xt.Up&&he>=K.y;if(ne&&!x.x){k.scrollTo({top:he,behavior:f});return}ne?S.y=k.scrollTop-he:S.y=A===xt.Down?k.scrollTop-R.y:k.scrollTop-K.y,S.y&&k.scrollBy({top:-S.y,behavior:f});break}}this.handleMove(t,gr(mu(b,this.referenceCoordinates),S))}}}handleMove(t,s){const{onMove:a}=this.props;t.preventDefault(),a(s)}handleEnd(t){const{onEnd:s}=this.props;t.preventDefault(),this.detach(),s()}handleCancel(t){const{onCancel:s}=this.props;t.preventDefault(),this.detach(),s()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Km.activators=[{eventName:"onKeyDown",handler:(e,t,s)=>{let{keyboardCodes:a=Y1,onActivation:o}=t,{active:c}=s;const{code:d}=e.nativeEvent;if(a.start.includes(d)){const f=c.activatorNode.current;return f&&e.target!==f?!1:(e.preventDefault(),o?.({event:e.nativeEvent}),!0)}return!1}}];function sb(e){return!!(e&&"distance"in e)}function ib(e){return!!(e&&"delay"in e)}class Fm{constructor(t,s,a){var o;a===void 0&&(a=iT(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=s;const{event:c}=t,{target:d}=c;this.props=t,this.events=s,this.document=Tr(d),this.documentListeners=new Go(this.document),this.listeners=new Go(a),this.windowListeners=new Go(_n(d)),this.initialCoordinates=(o=nl(c))!=null?o:Ss,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:s,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(cs.Resize,this.handleCancel),this.windowListeners.add(cs.DragStart,nb),this.windowListeners.add(cs.VisibilityChange,this.handleCancel),this.windowListeners.add(cs.ContextMenu,nb),this.documentListeners.add(cs.Keydown,this.handleKeydown),s){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(ib(s)){this.timeoutId=setTimeout(this.handleStart,s.delay),this.handlePending(s);return}if(sb(s)){this.handlePending(s);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,s){const{active:a,onPending:o}=this.props;o(a,t,this.initialCoordinates,s)}handleStart(){const{initialCoordinates:t}=this,{onStart:s}=this.props;t&&(this.activated=!0,this.documentListeners.add(cs.Click,aT,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(cs.SelectionChange,this.removeTextSelection),s(t))}handleMove(t){var s;const{activated:a,initialCoordinates:o,props:c}=this,{onMove:d,options:{activationConstraint:f}}=c;if(!o)return;const m=(s=nl(t))!=null?s:Ss,g=mu(o,m);if(!a&&f){if(sb(f)){if(f.tolerance!=null&&lh(g,f.tolerance))return this.handleCancel();if(lh(g,f.distance))return this.handleStart()}if(ib(f)&&lh(g,f.tolerance))return this.handleCancel();this.handlePending(f,g);return}t.cancelable&&t.preventDefault(),d(m)}handleEnd(){const{onAbort:t,onEnd:s}=this.props;this.detach(),this.activated||t(this.props.active),s()}handleCancel(){const{onAbort:t,onCancel:s}=this.props;this.detach(),this.activated||t(this.props.active),s()}handleKeydown(t){t.code===xt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const oT={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ym extends Fm{constructor(t){const{event:s}=t,a=Tr(s.target);super(t,oT,a)}}Ym.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:s}=e,{onActivation:a}=t;return!s.isPrimary||s.button!==0?!1:(a?.({event:s}),!0)}}];const lT={move:{name:"mousemove"},end:{name:"mouseup"}};var Yh;(function(e){e[e.RightClick=2]="RightClick"})(Yh||(Yh={}));class I1 extends Fm{constructor(t){super(t,lT,Tr(t.event.target))}}I1.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:s}=e,{onActivation:a}=t;return s.button===Yh.RightClick?!1:(a?.({event:s}),!0)}}];const ch={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Q1 extends Fm{constructor(t){super(t,ch)}static setup(){return window.addEventListener(ch.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(ch.move.name,t)};function t(){}}}Q1.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:s}=e,{onActivation:a}=t;const{touches:o}=s;return o.length>1?!1:(a?.({event:s}),!0)}}];var Ko;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Ko||(Ko={}));var gu;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(gu||(gu={}));function cT(e){let{acceleration:t,activator:s=Ko.Pointer,canScroll:a,draggingRect:o,enabled:c,interval:d=5,order:f=gu.TreeOrder,pointerCoordinates:m,scrollableAncestors:g,scrollableAncestorRects:y,delta:b,threshold:x}=e;const S=dT({delta:b,disabled:!c}),[j,k]=wN(),A=v.useRef({x:0,y:0}),N=v.useRef({x:0,y:0}),T=v.useMemo(()=>{switch(s){case Ko.Pointer:return m?{top:m.y,bottom:m.y,left:m.x,right:m.x}:null;case Ko.DraggableRect:return o}},[s,o,m]),_=v.useRef(null),P=v.useCallback(()=>{const K=_.current;if(!K)return;const Q=A.current.x*N.current.x,L=A.current.y*N.current.y;K.scrollBy(Q,L)},[]),R=v.useMemo(()=>f===gu.TreeOrder?[...g].reverse():g,[f,g]);v.useEffect(()=>{if(!c||!g.length||!T){k();return}for(const K of R){if(a?.(K)===!1)continue;const Q=g.indexOf(K),L=y[Q];if(!L)continue;const{direction:Z,speed:re}=JN(K,L,T,t,x);for(const he of["x","y"])S[he][Z[he]]||(re[he]=0,Z[he]=0);if(re.x>0||re.y>0){k(),_.current=K,j(P,d),A.current=re,N.current=Z;return}}A.current={x:0,y:0},N.current={x:0,y:0},k()},[t,P,a,k,c,d,JSON.stringify(T),JSON.stringify(S),j,g,R,y,JSON.stringify(x)])}const uT={x:{[hn.Backward]:!1,[hn.Forward]:!1},y:{[hn.Backward]:!1,[hn.Forward]:!1}};function dT(e){let{delta:t,disabled:s}=e;const a=hu(t);return gl(o=>{if(s||!a||!o)return uT;const c={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[hn.Backward]:o.x[hn.Backward]||c.x===-1,[hn.Forward]:o.x[hn.Forward]||c.x===1},y:{[hn.Backward]:o.y[hn.Backward]||c.y===-1,[hn.Forward]:o.y[hn.Forward]||c.y===1}}},[s,t,a])}function fT(e,t){const s=t!=null?e.get(t):void 0,a=s?s.node.current:null;return gl(o=>{var c;return t==null?null:(c=a??o)!=null?c:null},[a,t])}function hT(e,t){return v.useMemo(()=>e.reduce((s,a)=>{const{sensor:o}=a,c=o.activators.map(d=>({eventName:d.eventName,handler:t(d.handler,a)}));return[...s,...c]},[]),[e,t])}var il;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(il||(il={}));var Ih;(function(e){e.Optimized="optimized"})(Ih||(Ih={}));const ab=new Map;function mT(e,t){let{dragging:s,dependencies:a,config:o}=t;const[c,d]=v.useState(null),{frequency:f,measure:m,strategy:g}=o,y=v.useRef(e),b=A(),x=tl(b),S=v.useCallback(function(N){N===void 0&&(N=[]),!x.current&&d(T=>T===null?N:T.concat(N.filter(_=>!T.includes(_))))},[x]),j=v.useRef(null),k=gl(N=>{if(b&&!s)return ab;if(!N||N===ab||y.current!==e||c!=null){const T=new Map;for(let _ of e){if(!_)continue;if(c&&c.length>0&&!c.includes(_.id)&&_.rect.current){T.set(_.id,_.rect.current);continue}const P=_.node.current,R=P?new Gm(m(P),P):null;_.rect.current=R,R&&T.set(_.id,R)}return T}return N},[e,c,s,b,m]);return v.useEffect(()=>{y.current=e},[e]),v.useEffect(()=>{b||S()},[s,b]),v.useEffect(()=>{c&&c.length>0&&d(null)},[JSON.stringify(c)]),v.useEffect(()=>{b||typeof f!="number"||j.current!==null||(j.current=setTimeout(()=>{S(),j.current=null},f))},[f,b,S,...a]),{droppableRects:k,measureDroppableContainers:S,measuringScheduled:c!=null};function A(){switch(g){case il.Always:return!1;case il.BeforeDragging:return s;default:return!s}}}function Im(e,t){return gl(s=>e?s||(typeof t=="function"?t(e):e):null,[t,e])}function pT(e,t){return Im(e,t)}function gT(e){let{callback:t,disabled:s}=e;const a=Tu(t),o=v.useMemo(()=>{if(s||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:c}=window;return new c(a)},[a,s]);return v.useEffect(()=>()=>o?.disconnect(),[o]),o}function Eu(e){let{callback:t,disabled:s}=e;const a=Tu(t),o=v.useMemo(()=>{if(s||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:c}=window;return new c(a)},[s]);return v.useEffect(()=>()=>o?.disconnect(),[o]),o}function yT(e){return new Gm(yl(e),e)}function rb(e,t,s){t===void 0&&(t=yT);const[a,o]=v.useState(null);function c(){o(m=>{if(!e)return null;if(e.isConnected===!1){var g;return(g=m??s)!=null?g:null}const y=t(e);return JSON.stringify(m)===JSON.stringify(y)?m:y})}const d=gT({callback(m){if(e)for(const g of m){const{type:y,target:b}=g;if(y==="childList"&&b instanceof HTMLElement&&b.contains(e)){c();break}}}}),f=Eu({callback:c});return oi(()=>{c(),e?(f?.observe(e),d?.observe(document.body,{childList:!0,subtree:!0})):(f?.disconnect(),d?.disconnect())},[e]),a}function vT(e){const t=Im(e);return B1(e,t)}const ob=[];function bT(e){const t=v.useRef(e),s=gl(a=>e?a&&a!==ob&&e&&t.current&&e.parentNode===t.current.parentNode?a:$m(e):ob,[e]);return v.useEffect(()=>{t.current=e},[e]),s}function xT(e){const[t,s]=v.useState(null),a=v.useRef(e),o=v.useCallback(c=>{const d=oh(c.target);d&&s(f=>f?(f.set(d,Fh(d)),new Map(f)):null)},[]);return v.useEffect(()=>{const c=a.current;if(e!==c){d(c);const f=e.map(m=>{const g=oh(m);return g?(g.addEventListener("scroll",o,{passive:!0}),[g,Fh(g)]):null}).filter(m=>m!=null);s(f.length?new Map(f):null),a.current=e}return()=>{d(e),d(c)};function d(f){f.forEach(m=>{const g=oh(m);g?.removeEventListener("scroll",o)})}},[o,e]),v.useMemo(()=>e.length?t?Array.from(t.values()).reduce((c,d)=>gr(c,d),Ss):K1(e):Ss,[e,t])}function lb(e,t){t===void 0&&(t=[]);const s=v.useRef(null);return v.useEffect(()=>{s.current=null},t),v.useEffect(()=>{const a=e!==Ss;a&&!s.current&&(s.current=e),!a&&s.current&&(s.current=null)},[e]),s.current?mu(e,s.current):Ss}function wT(e){v.useEffect(()=>{if(!Nu)return;const t=e.map(s=>{let{sensor:a}=s;return a.setup==null?void 0:a.setup()});return()=>{for(const s of t)s?.()}},e.map(t=>{let{sensor:s}=t;return s}))}function ST(e,t){return v.useMemo(()=>e.reduce((s,a)=>{let{eventName:o,handler:c}=a;return s[o]=d=>{c(d,t)},s},{}),[e,t])}function X1(e){return v.useMemo(()=>e?QN(e):null,[e])}const cb=[];function CT(e,t){t===void 0&&(t=yl);const[s]=e,a=X1(s?_n(s):null),[o,c]=v.useState(cb);function d(){c(()=>e.length?e.map(m=>$1(m)?a:new Gm(t(m),m)):cb)}const f=Eu({callback:d});return oi(()=>{f?.disconnect(),d(),e.forEach(m=>f?.observe(m))},[e]),o}function Z1(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return pl(t)?t:e}function kT(e){let{measure:t}=e;const[s,a]=v.useState(null),o=v.useCallback(g=>{for(const{target:y}of g)if(pl(y)){a(b=>{const x=t(y);return b?{...b,width:x.width,height:x.height}:x});break}},[t]),c=Eu({callback:o}),d=v.useCallback(g=>{const y=Z1(g);c?.disconnect(),y&&c?.observe(y),a(y?t(y):null)},[t,c]),[f,m]=fu(d);return v.useMemo(()=>({nodeRef:f,rect:s,setRef:m}),[s,f,m])}const jT=[{sensor:Ym,options:{}},{sensor:Km,options:{}}],NT={current:{}},Zc={draggable:{measure:tb},droppable:{measure:tb,strategy:il.WhileDragging,frequency:Ih.Optimized},dragOverlay:{measure:yl}};class Fo extends Map{get(t){var s;return t!=null&&(s=super.get(t))!=null?s:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:s}=t;return!s})}getNodeFor(t){var s,a;return(s=(a=this.get(t))==null?void 0:a.node.current)!=null?s:void 0}}const TT={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Fo,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:pu},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Zc,measureDroppableContainers:pu,windowRect:null,measuringScheduled:!1},W1={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:pu,draggableNodes:new Map,over:null,measureDroppableContainers:pu},vl=v.createContext(W1),J1=v.createContext(TT);function AT(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Fo}}}function ET(e,t){switch(t.type){case sn.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case sn.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case sn.DragEnd:case sn.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case sn.RegisterDroppable:{const{element:s}=t,{id:a}=s,o=new Fo(e.droppable.containers);return o.set(a,s),{...e,droppable:{...e.droppable,containers:o}}}case sn.SetDroppableDisabled:{const{id:s,key:a,disabled:o}=t,c=e.droppable.containers.get(s);if(!c||a!==c.key)return e;const d=new Fo(e.droppable.containers);return d.set(s,{...c,disabled:o}),{...e,droppable:{...e.droppable,containers:d}}}case sn.UnregisterDroppable:{const{id:s,key:a}=t,o=e.droppable.containers.get(s);if(!o||a!==o.key)return e;const c=new Fo(e.droppable.containers);return c.delete(s),{...e,droppable:{...e.droppable,containers:c}}}default:return e}}function MT(e){let{disabled:t}=e;const{active:s,activatorEvent:a,draggableNodes:o}=v.useContext(vl),c=hu(a),d=hu(s?.id);return v.useEffect(()=>{if(!t&&!a&&c&&d!=null){if(!Hm(c)||document.activeElement===c.target)return;const f=o.get(d);if(!f)return;const{activatorNode:m,node:g}=f;if(!m.current&&!g.current)return;requestAnimationFrame(()=>{for(const y of[m.current,g.current]){if(!y)continue;const b=kN(y);if(b){b.focus();break}}})}},[a,t,o,d,c]),null}function ew(e,t){let{transform:s,...a}=t;return e!=null&&e.length?e.reduce((o,c)=>c({transform:o,...a}),s):s}function _T(e){return v.useMemo(()=>({draggable:{...Zc.draggable,...e?.draggable},droppable:{...Zc.droppable,...e?.droppable},dragOverlay:{...Zc.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function RT(e){let{activeNode:t,measure:s,initialRect:a,config:o=!0}=e;const c=v.useRef(!1),{x:d,y:f}=typeof o=="boolean"?{x:o,y:o}:o;oi(()=>{if(!d&&!f||!t){c.current=!1;return}if(c.current||!a)return;const g=t?.node.current;if(!g||g.isConnected===!1)return;const y=s(g),b=B1(y,a);if(d||(b.x=0),f||(b.y=0),c.current=!0,Math.abs(b.x)>0||Math.abs(b.y)>0){const x=U1(g);x&&x.scrollBy({top:b.y,left:b.x})}},[t,d,f,a,s])}const Mu=v.createContext({...Ss,scaleX:1,scaleY:1});var qi;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(qi||(qi={}));const DT=v.memo(function(t){var s,a,o,c;let{id:d,accessibility:f,autoScroll:m=!0,children:g,sensors:y=jT,collisionDetection:b=z1,measuring:x,modifiers:S,...j}=t;const k=v.useReducer(ET,void 0,AT),[A,N]=k,[T,_]=MN(),[P,R]=v.useState(qi.Uninitialized),K=P===qi.Initialized,{draggable:{active:Q,nodes:L,translate:Z},droppable:{containers:re}}=A,he=Q!=null?L.get(Q):null,ne=v.useRef({initial:null,translated:null}),ye=v.useMemo(()=>{var At;return Q!=null?{id:Q,data:(At=he?.data)!=null?At:NT,rect:ne}:null},[Q,he]),le=v.useRef(null),[me,B]=v.useState(null),[V,X]=v.useState(null),oe=tl(j,Object.values(j)),E=Au("DndDescribedBy",d),G=v.useMemo(()=>re.getEnabled(),[re]),ae=_T(x),{droppableRects:te,measureDroppableContainers:ue,measuringScheduled:pe}=mT(G,{dragging:K,dependencies:[Z.x,Z.y],config:ae.droppable}),ce=fT(L,Q),Te=v.useMemo(()=>V?nl(V):null,[V]),Pe=Yi(),ft=pT(ce,ae.draggable.measure);RT({activeNode:Q!=null?L.get(Q):null,config:Pe.layoutShiftCompensation,initialRect:ft,measure:ae.draggable.measure});const Ze=rb(ce,ae.draggable.measure,ft),st=rb(ce?ce.parentElement:null),fe=v.useRef({activatorEvent:null,active:null,activeNode:ce,collisionRect:null,collisions:null,droppableRects:te,draggableNodes:L,draggingNode:null,draggingNodeRect:null,droppableContainers:re,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ee=re.getNodeFor((s=fe.current.over)==null?void 0:s.id),qe=kT({measure:ae.dragOverlay.measure}),We=(a=qe.nodeRef.current)!=null?a:ce,ot=K?(o=qe.rect)!=null?o:Ze:null,Je=!!(qe.nodeRef.current&&qe.rect),vt=vT(Je?null:Ze),qt=X1(We?_n(We):null),de=bT(K?Ee??ce:null),Ce=CT(de),ut=ew(S,{transform:{x:Z.x-vt.x,y:Z.y-vt.y,scaleX:1,scaleY:1},activatorEvent:V,active:ye,activeNodeRect:Ze,containerNodeRect:st,draggingNodeRect:ot,over:fe.current.over,overlayNodeRect:qe.rect,scrollableAncestors:de,scrollableAncestorRects:Ce,windowRect:qt}),Ve=Te?gr(Te,Z):null,jt=xT(de),Nt=lb(jt),lt=lb(jt,[Ze]),Ge=gr(ut,Nt),ie=ot?FN(ot,ut):null,Me=ye&&ie?b({active:ye,collisionRect:ie,droppableRects:te,droppableContainers:G,pointerCoordinates:Ve}):null,wt=UN(Me,"id"),[ze,Qe]=v.useState(null),at=Je?ut:gr(ut,lt),jn=GN(at,(c=ze?.rect)!=null?c:null,Ze),St=v.useRef(null),an=v.useCallback((At,pn)=>{let{sensor:on,options:Vn}=pn;if(le.current==null)return;const ln=L.get(le.current);if(!ln)return;const Zt=At.nativeEvent,Nn=new on({active:le.current,activeNode:ln,event:Zt,options:Vn,context:fe,onAbort(it){if(!L.get(it))return;const{onDragAbort:dt}=oe.current,se={id:it};dt?.(se),T({type:"onDragAbort",event:se})},onPending(it,Fe,dt,se){if(!L.get(it))return;const{onDragPending:Ct}=oe.current,Ut={id:it,constraint:Fe,initialCoordinates:dt,offset:se};Ct?.(Ut),T({type:"onDragPending",event:Ut})},onStart(it){const Fe=le.current;if(Fe==null)return;const dt=L.get(Fe);if(!dt)return;const{onDragStart:se}=oe.current,Tn={activatorEvent:Zt,active:{id:Fe,data:dt.data,rect:ne}};Bo.unstable_batchedUpdates(()=>{se?.(Tn),R(qi.Initializing),N({type:sn.DragStart,initialCoordinates:it,active:Fe}),T({type:"onDragStart",event:Tn}),B(St.current),X(Zt)})},onMove(it){N({type:sn.DragMove,coordinates:it})},onEnd:F(sn.DragEnd),onCancel:F(sn.DragCancel)});St.current=Nn;function F(it){return async function(){const{active:dt,collisions:se,over:Tn,scrollAdjustedTranslate:Ct}=fe.current;let Ut=null;if(dt&&Ct){const{cancelDrop:js}=oe.current;Ut={activatorEvent:Zt,active:dt,collisions:se,delta:Ct,over:Tn},it===sn.DragEnd&&typeof js=="function"&&await Promise.resolve(js(Ut))&&(it=sn.DragCancel)}le.current=null,Bo.unstable_batchedUpdates(()=>{N({type:it}),R(qi.Uninitialized),Qe(null),B(null),X(null),St.current=null;const js=it===sn.DragEnd?"onDragEnd":"onDragCancel";if(Ut){const Lt=oe.current[js];Lt?.(Ut),T({type:js,event:Ut})}})}}},[L]),rn=v.useCallback((At,pn)=>(on,Vn)=>{const ln=on.nativeEvent,Zt=L.get(Vn);if(le.current!==null||!Zt||ln.dndKit||ln.defaultPrevented)return;const Nn={active:Zt};At(on,pn.options,Nn)===!0&&(ln.dndKit={capturedBy:pn.sensor},le.current=Vn,an(on,pn))},[L,an]),Wn=hT(y,rn);wT(y),oi(()=>{Ze&&P===qi.Initializing&&R(qi.Initialized)},[Ze,P]),v.useEffect(()=>{const{onDragMove:At}=oe.current,{active:pn,activatorEvent:on,collisions:Vn,over:ln}=fe.current;if(!pn||!on)return;const Zt={active:pn,activatorEvent:on,collisions:Vn,delta:{x:Ge.x,y:Ge.y},over:ln};Bo.unstable_batchedUpdates(()=>{At?.(Zt),T({type:"onDragMove",event:Zt})})},[Ge.x,Ge.y]),v.useEffect(()=>{const{active:At,activatorEvent:pn,collisions:on,droppableContainers:Vn,scrollAdjustedTranslate:ln}=fe.current;if(!At||le.current==null||!pn||!ln)return;const{onDragOver:Zt}=oe.current,Nn=Vn.get(wt),F=Nn&&Nn.rect.current?{id:Nn.id,rect:Nn.rect.current,data:Nn.data,disabled:Nn.disabled}:null,it={active:At,activatorEvent:pn,collisions:on,delta:{x:ln.x,y:ln.y},over:F};Bo.unstable_batchedUpdates(()=>{Qe(F),Zt?.(it),T({type:"onDragOver",event:it})})},[wt]),oi(()=>{fe.current={activatorEvent:V,active:ye,activeNode:ce,collisionRect:ie,collisions:Me,droppableRects:te,draggableNodes:L,draggingNode:We,draggingNodeRect:ot,droppableContainers:re,over:ze,scrollableAncestors:de,scrollAdjustedTranslate:Ge},ne.current={initial:ot,translated:ie}},[ye,ce,Me,ie,L,We,ot,te,re,ze,de,Ge]),cT({...Pe,delta:Z,draggingRect:ie,pointerCoordinates:Ve,scrollableAncestors:de,scrollableAncestorRects:Ce});const ge=v.useMemo(()=>({active:ye,activeNode:ce,activeNodeRect:Ze,activatorEvent:V,collisions:Me,containerNodeRect:st,dragOverlay:qe,draggableNodes:L,droppableContainers:re,droppableRects:te,over:ze,measureDroppableContainers:ue,scrollableAncestors:de,scrollableAncestorRects:Ce,measuringConfiguration:ae,measuringScheduled:pe,windowRect:qt}),[ye,ce,Ze,V,Me,st,qe,L,re,te,ze,ue,de,Ce,ae,pe,qt]),Un=v.useMemo(()=>({activatorEvent:V,activators:Wn,active:ye,activeNodeRect:Ze,ariaDescribedById:{draggable:E},dispatch:N,draggableNodes:L,over:ze,measureDroppableContainers:ue}),[V,Wn,ye,Ze,N,E,L,ze,ue]);return Tt.createElement(P1.Provider,{value:_},Tt.createElement(vl.Provider,{value:Un},Tt.createElement(J1.Provider,{value:ge},Tt.createElement(Mu.Provider,{value:jn},g)),Tt.createElement(MT,{disabled:f?.restoreFocus===!1})),Tt.createElement(DN,{...f,hiddenTextDescribedById:E}));function Yi(){const At=me?.autoScrollEnabled===!1,pn=typeof m=="object"?m.enabled===!1:m===!1,on=K&&!At&&!pn;return typeof m=="object"?{...m,enabled:on}:{enabled:on}}}),LT=v.createContext(null),ub="button",OT="Draggable";function PT(e){let{id:t,data:s,disabled:a=!1,attributes:o}=e;const c=Au(OT),{activators:d,activatorEvent:f,active:m,activeNodeRect:g,ariaDescribedById:y,draggableNodes:b,over:x}=v.useContext(vl),{role:S=ub,roleDescription:j="draggable",tabIndex:k=0}=o??{},A=m?.id===t,N=v.useContext(A?Mu:LT),[T,_]=fu(),[P,R]=fu(),K=ST(d,t),Q=tl(s);oi(()=>(b.set(t,{id:t,key:c,node:T,activatorNode:P,data:Q}),()=>{const Z=b.get(t);Z&&Z.key===c&&b.delete(t)}),[b,t]);const L=v.useMemo(()=>({role:S,tabIndex:k,"aria-disabled":a,"aria-pressed":A&&S===ub?!0:void 0,"aria-roledescription":j,"aria-describedby":y.draggable}),[a,S,k,A,j,y.draggable]);return{active:m,activatorEvent:f,activeNodeRect:g,attributes:L,isDragging:A,listeners:a?void 0:K,node:T,over:x,setNodeRef:_,setActivatorNodeRef:R,transform:N}}function zT(){return v.useContext(J1)}const BT="Droppable",qT={timeout:25};function UT(e){let{data:t,disabled:s=!1,id:a,resizeObserverConfig:o}=e;const c=Au(BT),{active:d,dispatch:f,over:m,measureDroppableContainers:g}=v.useContext(vl),y=v.useRef({disabled:s}),b=v.useRef(!1),x=v.useRef(null),S=v.useRef(null),{disabled:j,updateMeasurementsFor:k,timeout:A}={...qT,...o},N=tl(k??a),T=v.useCallback(()=>{if(!b.current){b.current=!0;return}S.current!=null&&clearTimeout(S.current),S.current=setTimeout(()=>{g(Array.isArray(N.current)?N.current:[N.current]),S.current=null},A)},[A]),_=Eu({callback:T,disabled:j||!d}),P=v.useCallback((L,Z)=>{_&&(Z&&(_.unobserve(Z),b.current=!1),L&&_.observe(L))},[_]),[R,K]=fu(P),Q=tl(t);return v.useEffect(()=>{!_||!R.current||(_.disconnect(),b.current=!1,_.observe(R.current))},[R,_]),v.useEffect(()=>(f({type:sn.RegisterDroppable,element:{id:a,key:c,disabled:s,node:R,rect:x,data:Q}}),()=>f({type:sn.UnregisterDroppable,key:c,id:a})),[a]),v.useEffect(()=>{s!==y.current.disabled&&(f({type:sn.SetDroppableDisabled,id:a,key:c,disabled:s}),y.current.disabled=s)},[a,c,s,f]),{active:d,rect:x,isOver:m?.id===a,node:R,over:m,setNodeRef:K}}function VT(e){let{animation:t,children:s}=e;const[a,o]=v.useState(null),[c,d]=v.useState(null),f=hu(s);return!s&&!a&&f&&o(f),oi(()=>{if(!c)return;const m=a?.key,g=a?.props.id;if(m==null||g==null){o(null);return}Promise.resolve(t(g,c)).then(()=>{o(null)})},[t,a,c]),Tt.createElement(Tt.Fragment,null,s,a?v.cloneElement(a,{ref:d}):null)}const HT={x:0,y:0,scaleX:1,scaleY:1};function $T(e){let{children:t}=e;return Tt.createElement(vl.Provider,{value:W1},Tt.createElement(Mu.Provider,{value:HT},t))}const GT={position:"fixed",touchAction:"none"},KT=e=>Hm(e)?"transform 250ms ease":void 0,FT=v.forwardRef((e,t)=>{let{as:s,activatorEvent:a,adjustScale:o,children:c,className:d,rect:f,style:m,transform:g,transition:y=KT}=e;if(!f)return null;const b=o?g:{...g,scaleX:1,scaleY:1},x={...GT,width:f.width,height:f.height,top:f.top,left:f.left,transform:sl.Transform.toString(b),transformOrigin:o&&a?PN(a,f):void 0,transition:typeof y=="function"?y(a):y,...m};return Tt.createElement(s,{className:d,style:x,ref:t},c)}),YT=e=>t=>{let{active:s,dragOverlay:a}=t;const o={},{styles:c,className:d}=e;if(c!=null&&c.active)for(const[f,m]of Object.entries(c.active))m!==void 0&&(o[f]=s.node.style.getPropertyValue(f),s.node.style.setProperty(f,m));if(c!=null&&c.dragOverlay)for(const[f,m]of Object.entries(c.dragOverlay))m!==void 0&&a.node.style.setProperty(f,m);return d!=null&&d.active&&s.node.classList.add(d.active),d!=null&&d.dragOverlay&&a.node.classList.add(d.dragOverlay),function(){for(const[m,g]of Object.entries(o))s.node.style.setProperty(m,g);d!=null&&d.active&&s.node.classList.remove(d.active)}},IT=e=>{let{transform:{initial:t,final:s}}=e;return[{transform:sl.Transform.toString(t)},{transform:sl.Transform.toString(s)}]},QT={duration:250,easing:"ease",keyframes:IT,sideEffects:YT({styles:{active:{opacity:"0"}}})};function XT(e){let{config:t,draggableNodes:s,droppableContainers:a,measuringConfiguration:o}=e;return Tu((c,d)=>{if(t===null)return;const f=s.get(c);if(!f)return;const m=f.node.current;if(!m)return;const g=Z1(d);if(!g)return;const{transform:y}=_n(d).getComputedStyle(d),b=q1(y);if(!b)return;const x=typeof t=="function"?t:ZT(t);return F1(m,o.draggable.measure),x({active:{id:c,data:f.data,node:m,rect:o.draggable.measure(m)},draggableNodes:s,dragOverlay:{node:d,rect:o.dragOverlay.measure(g)},droppableContainers:a,measuringConfiguration:o,transform:b})})}function ZT(e){const{duration:t,easing:s,sideEffects:a,keyframes:o}={...QT,...e};return c=>{let{active:d,dragOverlay:f,transform:m,...g}=c;if(!t)return;const y={x:f.rect.left-d.rect.left,y:f.rect.top-d.rect.top},b={scaleX:m.scaleX!==1?d.rect.width*m.scaleX/f.rect.width:1,scaleY:m.scaleY!==1?d.rect.height*m.scaleY/f.rect.height:1},x={x:m.x-y.x,y:m.y-y.y,...b},S=o({...g,active:d,dragOverlay:f,transform:{initial:m,final:x}}),[j]=S,k=S[S.length-1];if(JSON.stringify(j)===JSON.stringify(k))return;const A=a?.({active:d,dragOverlay:f,...g}),N=f.node.animate(S,{duration:t,easing:s,fill:"forwards"});return new Promise(T=>{N.onfinish=()=>{A?.(),T()}})}}let db=0;function WT(e){return v.useMemo(()=>{if(e!=null)return db++,db},[e])}const JT=Tt.memo(e=>{let{adjustScale:t=!1,children:s,dropAnimation:a,style:o,transition:c,modifiers:d,wrapperElement:f="div",className:m,zIndex:g=999}=e;const{activatorEvent:y,active:b,activeNodeRect:x,containerNodeRect:S,draggableNodes:j,droppableContainers:k,dragOverlay:A,over:N,measuringConfiguration:T,scrollableAncestors:_,scrollableAncestorRects:P,windowRect:R}=zT(),K=v.useContext(Mu),Q=WT(b?.id),L=ew(d,{activatorEvent:y,active:b,activeNodeRect:x,containerNodeRect:S,draggingNodeRect:A.rect,over:N,overlayNodeRect:A.rect,scrollableAncestors:_,scrollableAncestorRects:P,transform:K,windowRect:R}),Z=Im(x),re=XT({config:a,draggableNodes:j,droppableContainers:k,measuringConfiguration:T}),he=Z?A.setRef:void 0;return Tt.createElement($T,null,Tt.createElement(VT,{animation:re},b&&Q?Tt.createElement(FT,{key:Q,id:b.id,ref:he,as:f,activatorEvent:y,adjustScale:t,className:m,transition:c,rect:Z,style:{zIndex:g,...o},transform:L},s):null))}),eA=e=>{let{activatorEvent:t,draggingNodeRect:s,transform:a}=e;if(s&&t){const o=nl(t);if(!o)return a;const c=o.x-s.left,d=o.y-s.top;return{...a,x:a.x+c-s.width/2,y:a.y+d-s.height/2}}return a};function tA(e,t,s){const a=Array.from(Array(e),()=>new Array(t));for(let o=0;o<e;o++)for(let c=0;c<t;c++)a[o][c]={squareId:`${Qm(c,t,s)}${tw(o,e,s)}`,isLightSquare:(o+c)%2===0};return a}function tw(e,t,s){return s==="white"?(t-e).toString():(e+1).toString()}function Qm(e,t,s){return s==="white"?String.fromCharCode(97+e):String.fromCharCode(97+t-e-1)}function qo(e,t,s){return s==="white"?e.charCodeAt(0)-97:t-(e.charCodeAt(0)-97)-1}function nA(e,t,s){return s==="white"?t-Number(e):Number(e)-1}function uh(e,t,s){const a={},o=e.split(" ")[0].split("/");for(let c=0;c<o.length;c++){let d=0;for(const f of o[c])if(isNaN(Number(f))){const m=`${Qm(d,s,"white")}${tw(c,t,"white")}`;a[m]={pieceType:sA(f)},d++}else d+=Number(f)}return a}function sA(e){return e.toLowerCase()===e?"b"+e.toUpperCase():"w"+e.toUpperCase()}function iA(e,t,s,a){const o={};for(const c in t){const d=[];if(e[c]?.pieceType!==t[c].pieceType){for(const f in e)e[f].pieceType===t[c].pieceType&&f!==c&&e[f].pieceType!==t[f]?.pieceType&&d.push(f);if(d.length===1)o[d[0]]=c;else{for(const f of d){const m=e[f].pieceType[1],g=Math.abs(qo(f.match(/^[a-z]+/)?.[0]??"",s,a)-qo(c.match(/^[a-z]+/)?.[0]??"",s,a)),y=Math.abs(Number(f.match(/\d+$/)?.[0]??"")-Number(c.match(/\d+$/)?.[0]??"")),b=(qo(f.match(/^[a-z]+/)?.[0]??"",s,a)+Number(f.match(/\d+$/)?.[0]??""))%2===0,x=(qo(c.match(/^[a-z]+/)?.[0]??"",s,a)+Number(c.match(/\d+$/)?.[0]??""))%2===0;if(m==="P"&&f.match(/^[a-z]+/)?.[0]===c.match(/^[a-z]+/)?.[0]){o[f]=c;break}if(m==="N"&&(g===2&&y===1||g===1&&y===2)){o[f]=c;break}if(m==="B"&&g===y&&b===x){o[f]=c;break}if(m==="R"&&(g===0||y===0)){o[f]=c;break}if(m==="Q"&&(g===0||y===0||g===y)){o[f]=c;break}if(m==="K"&&g<=1&&y<=1){o[f]=c;break}}if(!Object.values(o).includes(c)&&d.length>0){for(const f of d)if(!Object.keys(o).includes(f)){o[f]=c;break}}}}}return o}function fb(e,t,s,a,o){const c=t/s,d=qo(o.match(/^[a-z]+/)?.[0]??"",s,e)*c+c/2,f=nA(o.match(/\d+$/)?.[0]??"",a,e)*c+c/2;return{x:d,y:f}}const aA={wP:e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:u.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:e?.fill??"#ffffff",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})}),wR:e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:u.jsxs("g",{style:{opacity:"1",fill:e?.fill??"#ffffff",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[u.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),u.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),u.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14",style:{strokeLinecap:"butt"}}),u.jsx("path",{d:"M 34,14 L 31,17 L 14,17 L 11,14"}),u.jsx("path",{d:"M 31,17 L 31,29.5 L 14,29.5 L 14,17",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),u.jsx("path",{d:"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5"}),u.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]})}),wN:e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:u.jsxs("g",{style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[u.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:e?.fill??"#ffffff",stroke:"#000000"}}),u.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:e?.fill??"#ffffff",stroke:"#000000"}}),u.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#000000",stroke:"#000000"}}),u.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#000000",stroke:"#000000"}})]})}),wB:e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:u.jsxs("g",{style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[u.jsxs("g",{style:{fill:e?.fill??"#ffffff",stroke:"#000000",strokeLinecap:"butt"},children:[u.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),u.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),u.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]}),u.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]})}),wQ:e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:u.jsxs("g",{style:{fill:e?.fill??"#ffffff",stroke:"#000000",strokeWidth:"1.5",strokeLinejoin:"round"},children:[u.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"}),u.jsx("path",{d:"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"}),u.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30",style:{fill:"none"}}),u.jsx("path",{d:"M 12,33.5 C 18,32.5 27,32.5 33,33.5",style:{fill:"none"}}),u.jsx("circle",{cx:"6",cy:"12",r:"2"}),u.jsx("circle",{cx:"14",cy:"9",r:"2"}),u.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),u.jsx("circle",{cx:"31",cy:"9",r:"2"}),u.jsx("circle",{cx:"39",cy:"12",r:"2"})]})}),wK:e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:u.jsxs("g",{style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[u.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),u.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),u.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:e?.fill??"#ffffff",stroke:"#000000",strokeLinecap:"butt",strokeLinejoin:"miter"}}),u.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:e?.fill??"#ffffff",stroke:"#000000"}}),u.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30",style:{fill:"none",stroke:"#000000"}}),u.jsx("path",{d:"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5",style:{fill:"none",stroke:"#000000"}}),u.jsx("path",{d:"M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#000000"}})]})}),bP:e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:u.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:e?.fill??"#000000",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})}),bR:e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:u.jsxs("g",{style:{opacity:"1",fill:e?.fill??"#000000",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[u.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),u.jsx("path",{d:"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z ",style:{strokeLinecap:"butt"}}),u.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),u.jsx("path",{d:"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z ",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),u.jsx("path",{d:"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z ",style:{strokeLinecap:"butt"}}),u.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z ",style:{strokeLinecap:"butt"}}),u.jsx("path",{d:"M 12,35.5 L 33,35.5 L 33,35.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),u.jsx("path",{d:"M 13,31.5 L 32,31.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),u.jsx("path",{d:"M 14,29.5 L 31,29.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),u.jsx("path",{d:"M 14,16.5 L 31,16.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),u.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}})]})}),bN:e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:u.jsxs("g",{style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[u.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:e?.fill??"#000000",stroke:"#000000"}}),u.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:e?.fill??"#000000",stroke:"#000000"}}),u.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#ffffff",stroke:"#ffffff"}}),u.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#ffffff",stroke:"#ffffff"}}),u.jsx("path",{d:"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z ",style:{fill:"#ffffff",stroke:"none"}})]})}),bB:e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:u.jsxs("g",{style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[u.jsxs("g",{style:{fill:e?.fill??"#000000",stroke:"#000000",strokeLinecap:"butt"},children:[u.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),u.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),u.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]}),u.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#ffffff",strokeLinejoin:"miter"}})]})}),bQ:e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:u.jsxs("g",{style:{fill:e?.fill??"#000000",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},children:[u.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z",style:{strokeLinecap:"butt",fill:e?.fill??"#000000"}}),u.jsx("path",{d:"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z"}),u.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30"}),u.jsx("path",{d:"m 12,33.5 c 6,-1 15,-1 21,0"}),u.jsx("circle",{cx:"6",cy:"12",r:"2"}),u.jsx("circle",{cx:"14",cy:"9",r:"2"}),u.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),u.jsx("circle",{cx:"31",cy:"9",r:"2"}),u.jsx("circle",{cx:"39",cy:"12",r:"2"}),u.jsx("path",{d:"M 11,38.5 A 35,35 1 0 0 34,38.5",style:{fill:"none",stroke:"#000000",strokeLinecap:"butt"}}),u.jsxs("g",{style:{fill:"none",stroke:"#ffffff"},children:[u.jsx("path",{d:"M 11,29 A 35,35 1 0 1 34,29"}),u.jsx("path",{d:"M 12.5,31.5 L 32.5,31.5"}),u.jsx("path",{d:"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"}),u.jsx("path",{d:"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"})]})]})}),bK:e=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:u.jsxs("g",{style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[u.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"},id:"path6570"}),u.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:e?.fill??"#000000",fillOpacity:"1",strokeLinecap:"butt",strokeLinejoin:"miter"}}),u.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:e?.fill??"#000000",stroke:"#000000"}}),u.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),u.jsx("path",{d:"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5",style:{fill:"none",stroke:"#ffffff"}}),u.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#ffffff"}})]})})};function nw(e){return{display:"grid",gridTemplateColumns:`repeat(${e}, 1fr)`,overflow:"hidden",width:"100%",height:"100%",position:"relative"}}const sw={aspectRatio:"1/1",display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},iw={backgroundColor:"#B58863"},aw={backgroundColor:"#F0D9B5"},rw={boxShadow:"inset 0px 0px 0px 1px black"},ow={color:"#F0D9B5"},lw={color:"#B58863"},cw={fontSize:"13px",position:"absolute",bottom:1,right:4,userSelect:"none"},uw={fontSize:"13px",position:"absolute",top:2,left:2,userSelect:"none"},dw={transform:"scale(1.2)"},fw={opacity:.5},rA={color:"#ffaa00",secondaryColor:"#4caf50",tertiaryColor:"#f44336",arrowLengthReducerDenominator:8,sameTargetArrowLengthReducerDenominator:4,arrowWidthDenominator:5,activeArrowWidthMultiplier:.9,opacity:.65,activeOpacity:.5},hw=v.createContext(null),Ar=()=>v.use(hw);function oA({children:e,options:t}){const{id:s="chessboard",pieces:a=aA,position:o="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR",boardOrientation:c="white",chessboardRows:d=8,chessboardColumns:f=8,boardStyle:m=nw(f),squareStyle:g=sw,squareStyles:y={},darkSquareStyle:b=iw,lightSquareStyle:x=aw,dropSquareStyle:S=rw,draggingPieceStyle:j=dw,draggingPieceGhostStyle:k=fw,darkSquareNotationStyle:A=ow,lightSquareNotationStyle:N=lw,alphaNotationStyle:T=cw,numericNotationStyle:_=uw,showNotation:P=!0,animationDurationInMs:R=300,showAnimations:K=!0,allowDragging:Q=!0,allowDragOffBoard:L=!0,allowAutoScroll:Z=!1,dragActivationDistance:re=1,allowDrawingArrows:he=!0,arrows:ne=[],arrowOptions:ye=rA,clearArrowsOnClick:le=!0,canDragPiece:me,onArrowsChange:B,onMouseOutSquare:V,onMouseOverSquare:X,onPieceClick:oe,onPieceDrag:E,onPieceDrop:G,onSquareClick:ae,onSquareRightClick:te,squareRenderer:ue}=t||{},[pe,ce]=v.useState(null),[Te,Pe]=v.useState(typeof o=="string"?uh(o,d,f):o),[ft,Ze]=v.useState({}),[st,fe]=v.useState(null),[Ee,qe]=v.useState(null),[We,ot]=v.useState(null),[Je,vt]=v.useState([]),[qt,de]=v.useState(null),Ce=v.useRef(null);v.useEffect(()=>{const ze=typeof o=="string"?uh(o,d,f):o;if(!K){Pe(ze);return}const Qe=qt;Qe&&(Pe(Qe),de(null));const at=iA(Qe??Te,ze,f,c),jn=Object.keys(at).length>1;if(st&&jn){const an={...Te};delete an[st.sourceSquare],an[st.targetSquare]={pieceType:st.piece},Pe(an);const rn={...at};delete rn[st.sourceSquare],Ze(rn);const Wn=setTimeout(()=>{Pe(ze),Ze({}),fe(null)},R);Ce.current=Wn;return}if(st){Pe(ze),fe(null);return}Ze(at),de(ze);const St=setTimeout(()=>{Pe(ze),Ze({}),de(null)},R);return Ce.current=St,()=>{Ce.current&&clearTimeout(Ce.current)}},[o]),v.useEffect(()=>{Pe(typeof o=="string"?uh(o,d,f):o)},[d,f,c]),v.useEffect(()=>{B?.({arrows:Je})},[Je]);const ut=v.useMemo(()=>tA(d,f,c),[d,f,c]),Ve=v.useCallback((ze,Qe)=>{if(!he)return;const at=Je.findIndex(St=>St.startSquare===Ee&&St.endSquare===ze);if(ne.some(St=>St.startSquare===Ee&&St.endSquare===ze)){qe(null),ot(null);return}if(Ee&&Ee!==ze){const St=Qe?.shiftKey?ye.secondaryColor:Qe?.ctrlKey?ye.tertiaryColor:ye.color;vt(an=>at===-1?[...an,{startSquare:Ee,endSquare:ze,color:St}]:an.filter((rn,Wn)=>Wn!==at)),qe(null),ot(null)}},[he,ne,ye.color,ye.secondaryColor,ye.tertiaryColor,Je,Ee,We]),jt=v.useCallback(()=>{le&&(vt([]),qe(null),ot(null))},[le]),Nt=v.useCallback((ze,Qe)=>{const at=Qe?.shiftKey?ye.secondaryColor:Qe?.ctrlKey?ye.tertiaryColor:ye.color;ot({square:ze,color:at})},[ye]),lt=v.useCallback(()=>{ce(null)},[]),Ge=v.useCallback(function(Qe){if(!pe)return;const at=Qe.over?.id.toString();if(!at){G?.({piece:pe,sourceSquare:pe.position,targetSquare:null}),fe({piece:pe.pieceType,sourceSquare:pe.position,targetSquare:""}),ce(null);return}Qe.over&&(G?.({piece:pe,sourceSquare:pe.position,targetSquare:at})&&fe({piece:pe.pieceType,sourceSquare:pe.position,targetSquare:at}),ce(null))},[pe]),ie=v.useCallback(function({active:Qe}){const at=Qe.data.current?.isSparePiece;E?.({isSparePiece:at,piece:at?{pieceType:Qe.id}:Te[Qe.id],square:at?null:Qe.id}),ce({isSparePiece:at,position:Qe.id,pieceType:at?Qe.id:Te[Qe.id].pieceType})},[Te]),Me=LN(Bc(Ym,{activationConstraint:re>0?{distance:re}:void 0}),Bc(Km),Bc(Q1),Bc(I1));function wt(ze){const Qe=$N(ze);return Qe.length>0?Qe:z1(ze)}return u.jsx(hw.Provider,{value:{id:s,pieces:a,boardOrientation:c,chessboardRows:d,chessboardColumns:f,boardStyle:m,squareStyle:g,squareStyles:y,darkSquareStyle:b,lightSquareStyle:x,dropSquareStyle:S,draggingPieceStyle:j,draggingPieceGhostStyle:k,darkSquareNotationStyle:A,lightSquareNotationStyle:N,alphaNotationStyle:T,numericNotationStyle:_,showNotation:P,animationDurationInMs:R,showAnimations:K,allowDragging:Q,allowDragOffBoard:L,allowDrawingArrows:he,arrows:ne,arrowOptions:ye,canDragPiece:me,onMouseOutSquare:V,onMouseOverSquare:X,onPieceClick:oe,onSquareClick:ae,onSquareRightClick:te,squareRenderer:ue,board:ut,isWrapped:!0,draggingPiece:pe,currentPosition:Te,positionDifferences:ft,newArrowStartSquare:Ee,newArrowOverSquare:We,setNewArrowStartSquare:qe,setNewArrowOverSquare:Nt,internalArrows:Je,drawArrow:Ve,clearArrows:jt},children:u.jsx(DT,{autoScroll:Z,collisionDetection:wt,onDragStart:ie,onDragEnd:Ge,onDragCancel:lt,sensors:Me,children:e})})}function lA(){const{id:e,arrows:t,arrowOptions:s,boardOrientation:a,chessboardColumns:o,chessboardRows:c,internalArrows:d,newArrowStartSquare:f,newArrowOverSquare:m}=Ar(),g=2048,y=g*(c/o),b=f&&m&&f!==m.square?{startSquare:f,endSquare:m.square,color:m.color}:null,x=b?[...t,...d,b]:[...t,...d];return u.jsx("svg",{viewBox:`0 0 ${g} ${y}`,style:{position:"absolute",top:"0",right:"0",bottom:"0",left:"0",pointerEvents:"none",zIndex:"20"},children:x.map((S,j)=>{const k=fb(a,g,o,c,S.startSquare),A=fb(a,g,o,c,S.endSquare),N=g/o;let T=N/s.arrowLengthReducerDenominator;const _=b&&j===x.length-1;x.some(L=>L.startSquare!==S.startSquare&&L.endSquare===S.endSquare)&&!_&&(T=N/s.sameTargetArrowLengthReducerDenominator);const P=A.x-k.x,R=A.y-k.y,K=Math.hypot(R,P);let Q;if(K===Math.hypot(1,2)*N){const L=Math.abs(P)<Math.abs(R)?{x:k.x,y:A.y}:{x:A.x,y:k.y},Z=A.x-L.x,re=A.y-L.y,he=N,ne={x:L.x+Z*(he-T)/he,y:L.y+re*(he-T)/he};Q=`M${k.x},${k.y} L${L.x},${L.y} L${ne.x},${ne.y}`}else{const L={x:k.x+P*(K-T)/K,y:k.y+R*(K-T)/K};Q=`M${k.x},${k.y} L${L.x},${L.y}`}return u.jsxs(v.Fragment,{children:[u.jsx("marker",{id:`${e}-arrowhead-${j}-${S.startSquare}-${S.endSquare}`,markerWidth:"2",markerHeight:"2.5",refX:"1.25",refY:"1.25",orient:"auto",children:u.jsx("polygon",{points:"0.3 0, 2 1.25, 0.3 2.5",fill:S.color})}),u.jsx("path",{d:Q,fill:"none",opacity:_?s.activeOpacity:s.opacity,stroke:S.color,strokeWidth:_?s.activeArrowWidthMultiplier*(N/s.arrowWidthDenominator):N/s.arrowWidthDenominator,markerEnd:`url(#${e}-arrowhead-${j}-${S.startSquare}-${S.endSquare})`})]},`${e}-arrow-${S.startSquare}-${S.endSquare}${_?"-active":""}`)})})}function cA({children:e,isSparePiece:t=!1,pieceType:s,position:a}){const{allowDragging:o,canDragPiece:c}=Ar(),{setNodeRef:d,attributes:f,listeners:m}=PT({id:a,data:{isSparePiece:t,pieceType:s},disabled:!o||c&&!c({piece:{pieceType:s},isSparePiece:t,square:a})});return u.jsx("div",{ref:d,...f,...m,children:e})}function uA({children:e,squareId:t}){const{isOver:s,setNodeRef:a}=UT({id:t});return u.jsx("div",{ref:a,children:e({isOver:s})})}const hb=v.memo(function({clone:t,isSparePiece:s=!1,position:a,pieceType:o}){const{id:c,allowDragging:d,animationDurationInMs:f,boardOrientation:m,canDragPiece:g,draggingPiece:y,draggingPieceStyle:b,draggingPieceGhostStyle:x,pieces:S,positionDifferences:j,onPieceClick:k}=Ar(),[A,N]=v.useState({});let T=t?"grabbing":"grab";(!d||g&&!g({piece:{pieceType:o},isSparePiece:s,square:a}))&&(T="pointer"),v.useEffect(()=>{if(j[a]){const P=a,R=j[a],K=document.querySelector(`#${c}-square-${P}`)?.getBoundingClientRect().width;if(!K)throw new Error("Square width not found");N({transform:`translate(${(m==="black"?-1:1)*(R.charCodeAt(0)-P.charCodeAt(0))*K}px, ${(m==="black"?-1:1)*(Number(P[1])-Number(R[1]))*K}px)`,transition:`transform ${f}ms`,position:"relative",zIndex:10})}else N({})},[j]);const _=S[o];return u.jsx("div",{id:`${c}-piece-${o}-${a}`,"data-piece":o,style:{...A,...t?{...dw,...b}:{},...!t&&y?.position===a?{...fw,...x}:{},width:"100%",height:"100%",cursor:T,touchAction:"none"},onClick:()=>k?.({isSparePiece:s,piece:{pieceType:o},square:a}),children:u.jsx(_,{})})}),dA=v.memo(function({children:t,squareId:s,isLightSquare:a,isOver:o}){const{id:c,allowDrawingArrows:d,boardOrientation:f,chessboardColumns:m,chessboardRows:g,currentPosition:y,squareStyle:b,squareStyles:x,darkSquareStyle:S,lightSquareStyle:j,dropSquareStyle:k,darkSquareNotationStyle:A,lightSquareNotationStyle:N,alphaNotationStyle:T,numericNotationStyle:_,showNotation:P,onMouseOutSquare:R,onMouseOverSquare:K,onSquareClick:Q,onSquareRightClick:L,squareRenderer:Z,newArrowStartSquare:re,setNewArrowStartSquare:he,setNewArrowOverSquare:ne,drawArrow:ye,clearArrows:le}=Ar(),me=s.match(/^[a-z]+/)?.[0],B=s.match(/\d+$/)?.[0];return u.jsxs("div",{id:`${c}-square-${s}`,style:{...sw,...b,...a?{...aw,...j}:{...iw,...S},...o?{...rw,...k}:{}},"data-column":me,"data-row":B,"data-square":s,onClick:V=>{V.button===0&&Q?.({piece:y[s]??null,square:s})},onTouchEnd:V=>{V.preventDefault(),Q?.({piece:y[s]??null,square:s})},onContextMenu:V=>{V.preventDefault(),L?.({piece:y[s]??null,square:s})},onMouseDown:V=>{V.button===0&&le(),V.button===2&&d&&he(s)},onMouseUp:V=>{V.button===2&&re&&ye(s,{shiftKey:V.shiftKey,ctrlKey:V.ctrlKey})},onMouseOver:V=>{V.buttons===2&&re&&ne(s,{shiftKey:V.shiftKey,ctrlKey:V.ctrlKey}),K?.({piece:y[s]??null,square:s})},onMouseLeave:()=>R?.({piece:y[s]??null,square:s}),children:[P?u.jsxs("span",{style:a?{...lw,...N}:{...ow,...A},children:[B===(f==="white"?"1":g.toString())&&u.jsx("span",{style:{...cw,...T},children:me}),me===(f==="white"?"a":Qm(0,m,f))&&u.jsx("span",{style:{...uw,..._},children:B})]}):null,Z?.({piece:y[s]??null,square:s,children:t})||u.jsx("div",{style:{width:"100%",height:"100%",...x[s]},children:t})]})}),fA=(e,t)=>({transform:s})=>{const a=typeof document<"u"?document.getElementById(`${e}-board`):null;if(!a)return s;const o=a.getBoundingClientRect(),c=a.querySelector('[data-column="a"][data-row="1"]');if(!c)return s;const f=c.getBoundingClientRect().width/2,m=t.match(/^([a-zA-Z]+)(\d+)$/);if(!m)return s;const[,g,y]=m,b=a.querySelector(`[data-column="${g}"][data-row="${y}"]`);if(!b)return s;const x=b.getBoundingClientRect(),S=x.left+f-o.left,j=x.top+f-o.top,k=-S,A=o.width-S,N=-j,T=o.height-j,_=Math.min(Math.max(s.x,k),A),P=Math.min(Math.max(s.y,N),T);return{...s,x:_,y:P}};function mb(){const{allowDragOffBoard:e,board:t,boardStyle:s,chessboardColumns:a,currentPosition:o,draggingPiece:c,id:d}=Ar();return u.jsxs(u.Fragment,{children:[u.jsxs("div",{id:`${d}-board`,style:{...nw(a),...s},children:[t.map(f=>f.map(m=>{const g=o[m.squareId];return u.jsx(uA,{squareId:m.squareId,children:({isOver:y})=>u.jsx(dA,{isOver:y,...m,children:g?u.jsx(cA,{isSparePiece:!1,position:m.squareId,pieceType:g.pieceType,children:u.jsx(hb,{...g,position:m.squareId})}):null})},m.squareId)})),u.jsx(lA,{})]}),u.jsx(JT,{dropAnimation:null,modifiers:[eA,...e?[]:[fA(d,c?.position||"")]],children:c?u.jsx(hb,{clone:!0,position:c.position,pieceType:c.pieceType}):null})]})}function hA({options:e}){const{isWrapped:t}=Ar()??{isWrapped:!1};return t?u.jsx(mb,{}):u.jsx(oA,{options:e,children:u.jsx(mb,{})})}function mA(e){return e!==null?{comment:e,variations:[]}:{variations:[]}}function pA(e,t,s,a,o){const c={move:e,variations:o};return t&&(c.suffix=t),s&&(c.nag=s),a!==null&&(c.comment=a),c}function gA(...e){const[t,...s]=e;let a=t;for(const o of s)o!==null&&(a.variations=[o,...o.variations],o.variations=[],a=o);return t}function yA(e,t){if(t.marker&&t.marker.comment){let s=t.root;for(;;){const a=s.variations[0];if(!a){s.comment=t.marker.comment;break}s=a}}return{headers:e,root:t.root,result:(t.marker&&t.marker.result)??void 0}}function vA(e,t){function s(){this.constructor=e}s.prototype=t.prototype,e.prototype=new s}function vr(e,t,s,a){var o=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(o,vr.prototype),o.expected=t,o.found=s,o.location=a,o.name="SyntaxError",o}vA(vr,Error);function dh(e,t,s){return s=s||" ",e.length>t?e:(t-=e.length,s+=s.repeat(t),e+s.slice(0,t))}vr.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var s=null,a;for(a=0;a<e.length;a++)if(e[a].source===this.location.source){s=e[a].text.split(/\r\n|\n|\r/g);break}var o=this.location.start,c=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(o):o,d=this.location.source+":"+c.line+":"+c.column;if(s){var f=this.location.end,m=dh("",c.line.toString().length," "),g=s[o.line-1],y=o.line===f.line?f.column:g.length+1,b=y-o.column||1;t+=`
 --> `+d+`
`+m+` |
`+c.line+" | "+g+`
`+m+" | "+dh("",o.column-1," ")+dh("",b,"^")}else t+=`
 at `+d}return t};vr.buildMessage=function(e,t){var s={literal:function(g){return'"'+o(g.text)+'"'},class:function(g){var y=g.parts.map(function(b){return Array.isArray(b)?c(b[0])+"-"+c(b[1]):c(b)});return"["+(g.inverted?"^":"")+y.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(g){return g.description}};function a(g){return g.charCodeAt(0).toString(16).toUpperCase()}function o(g){return g.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(y){return"\\x0"+a(y)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(y){return"\\x"+a(y)})}function c(g){return g.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(y){return"\\x0"+a(y)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(y){return"\\x"+a(y)})}function d(g){return s[g.type](g)}function f(g){var y=g.map(d),b,x;if(y.sort(),y.length>0){for(b=1,x=1;b<y.length;b++)y[b-1]!==y[b]&&(y[x]=y[b],x++);y.length=x}switch(y.length){case 1:return y[0];case 2:return y[0]+" or "+y[1];default:return y.slice(0,-1).join(", ")+", or "+y[y.length-1]}}function m(g){return g?'"'+o(g)+'"':"end of input"}return"Expected "+f(e)+" but "+m(t)+" found."};function bA(e,t){t=t!==void 0?t:{};var s={},a=t.grammarSource,o={pgn:qs},c=qs,d="[",f='"',m="]",g=".",y="O-O-O",b="O-O",x="0-0-0",S="0-0",j="$",k="{",A="}",N=";",T="(",_=")",P="1-0",R="0-1",K="1/2-1/2",Q="*",L=/^[a-zA-Z]/,Z=/^[^"]/,re=/^[0-9]/,he=/^[.]/,ne=/^[a-zA-Z1-8\-=]/,ye=/^[+#]/,le=/^[!?]/,me=/^[^}]/,B=/^[^\r\n]/,V=/^[ \t\r\n]/,X=Lt("tag pair"),oe=Ct("[",!1),E=Ct('"',!1),G=Ct("]",!1),ae=Lt("tag name"),te=Ut([["a","z"],["A","Z"]],!1,!1),ue=Lt("tag value"),pe=Ut(['"'],!0,!1),ce=Lt("move number"),Te=Ut([["0","9"]],!1,!1),Pe=Ct(".",!1),ft=Ut(["."],!1,!1),Ze=Lt("standard algebraic notation"),st=Ct("O-O-O",!1),fe=Ct("O-O",!1),Ee=Ct("0-0-0",!1),qe=Ct("0-0",!1),We=Ut([["a","z"],["A","Z"],["1","8"],"-","="],!1,!1),ot=Ut(["+","#"],!1,!1),Je=Lt("suffix annotation"),vt=Ut(["!","?"],!1,!1),qt=Lt("NAG"),de=Ct("$",!1),Ce=Lt("brace comment"),ut=Ct("{",!1),Ve=Ut(["}"],!0,!1),jt=Ct("}",!1),Nt=Lt("rest of line comment"),lt=Ct(";",!1),Ge=Ut(["\r",`
`],!0,!1),ie=Lt("variation"),Me=Ct("(",!1),wt=Ct(")",!1),ze=Lt("game termination marker"),Qe=Ct("1-0",!1),at=Ct("0-1",!1),jn=Ct("1/2-1/2",!1),St=Ct("*",!1),an=Lt("whitespace"),rn=Ut([" ","	","\r",`
`],!1,!1),Wn=function(z,I){return yA(z,I)},ge=function(z){return Object.fromEntries(z)},Un=function(z,I){return[z,I]},Yi=function(z,I){return{root:z,marker:I}},At=function(z,I){return gA(mA(z),...I.flat())},pn=function(z,I,Y,je,Ae){return pA(z,I,Y,je,Ae)},on=function(z){return z},Vn=function(z){return z.replace(/[\r\n]+/g," ")},ln=function(z){return z.trim()},Zt=function(z){return z},Nn=function(z,I){return{result:z,comment:I}},F=t.peg$currPos|0,it=[{line:1,column:1}],Fe=F,dt=t.peg$maxFailExpected||[],se=t.peg$silentFails|0,Tn;if(t.startRule){if(!(t.startRule in o))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');c=o[t.startRule]}function Ct(z,I){return{type:"literal",text:z,ignoreCase:I}}function Ut(z,I,Y){return{type:"class",parts:z,inverted:I,ignoreCase:Y}}function js(){return{type:"end"}}function Lt(z){return{type:"other",description:z}}function Ta(z){var I=it[z],Y;if(I)return I;if(z>=it.length)Y=it.length-1;else for(Y=z;!it[--Y];);for(I=it[Y],I={line:I.line,column:I.column};Y<z;)e.charCodeAt(Y)===10?(I.line++,I.column=1):I.column++,Y++;return it[z]=I,I}function Bs(z,I,Y){var je=Ta(z),Ae=Ta(I),tt={source:a,start:{offset:z,line:je.line,column:je.column},end:{offset:I,line:Ae.line,column:Ae.column}};return tt}function we(z){F<Fe||(F>Fe&&(Fe=F,dt=[]),dt.push(z))}function Ii(z,I,Y){return new vr(vr.buildMessage(z,I),z,I,Y)}function qs(){var z,I,Y;return z=F,I=Gt(),Y=di(),z=Wn(I,Y),z}function Gt(){var z,I,Y;for(z=F,I=[],Y=Dr();Y!==s;)I.push(Y),Y=Dr();return Y=Wt(),z=ge(I),z}function Dr(){var z,I,Y,je,Ae,tt,Ns;return se++,z=F,Wt(),e.charCodeAt(F)===91?(I=d,F++):(I=s,se===0&&we(oe)),I!==s?(Wt(),Y=Cl(),Y!==s?(Wt(),e.charCodeAt(F)===34?(je=f,F++):(je=s,se===0&&we(E)),je!==s?(Ae=Us(),e.charCodeAt(F)===34?(tt=f,F++):(tt=s,se===0&&we(E)),tt!==s?(Wt(),e.charCodeAt(F)===93?(Ns=m,F++):(Ns=s,se===0&&we(G)),Ns!==s?z=Un(Y,Ae):(F=z,z=s)):(F=z,z=s)):(F=z,z=s)):(F=z,z=s)):(F=z,z=s),se--,z===s&&se===0&&we(X),z}function Cl(){var z,I,Y;if(se++,z=F,I=[],Y=e.charAt(F),L.test(Y)?F++:(Y=s,se===0&&we(te)),Y!==s)for(;Y!==s;)I.push(Y),Y=e.charAt(F),L.test(Y)?F++:(Y=s,se===0&&we(te));else I=s;return I!==s?z=e.substring(z,F):z=I,se--,z===s&&(I=s,se===0&&we(ae)),z}function Us(){var z,I,Y;for(se++,z=F,I=[],Y=e.charAt(F),Z.test(Y)?F++:(Y=s,se===0&&we(pe));Y!==s;)I.push(Y),Y=e.charAt(F),Z.test(Y)?F++:(Y=s,se===0&&we(pe));return z=e.substring(z,F),se--,I=s,se===0&&we(ue),z}function di(){var z,I,Y;return z=F,I=kl(),Wt(),Y=Pr(),Y===s&&(Y=null),Wt(),z=Yi(I,Y),z}function kl(){var z,I,Y,je;for(z=F,I=Hn(),I===s&&(I=null),Y=[],je=Lr();je!==s;)Y.push(je),je=Lr();return z=At(I,Y),z}function Lr(){var z,I,Y,je,Ae,tt,Ns,Hs;if(z=F,Wt(),jl(),Wt(),I=Uu(),I!==s){for(Y=Aa(),Y===s&&(Y=null),je=[],Ae=Qi();Ae!==s;)je.push(Ae),Ae=Qi();for(Ae=Wt(),tt=Hn(),tt===s&&(tt=null),Ns=[],Hs=Vs();Hs!==s;)Ns.push(Hs),Hs=Vs();z=pn(I,Y,je,tt,Ns)}else F=z,z=s;return z}function jl(){var z,I,Y,je,Ae,tt;for(se++,z=F,I=[],Y=e.charAt(F),re.test(Y)?F++:(Y=s,se===0&&we(Te));Y!==s;)I.push(Y),Y=e.charAt(F),re.test(Y)?F++:(Y=s,se===0&&we(Te));if(e.charCodeAt(F)===46?(Y=g,F++):(Y=s,se===0&&we(Pe)),Y!==s){for(je=Wt(),Ae=[],tt=e.charAt(F),he.test(tt)?F++:(tt=s,se===0&&we(ft));tt!==s;)Ae.push(tt),tt=e.charAt(F),he.test(tt)?F++:(tt=s,se===0&&we(ft));I=[I,Y,je,Ae],z=I}else F=z,z=s;return se--,z===s&&(I=s,se===0&&we(ce)),z}function Uu(){var z,I,Y,je,Ae,tt;if(se++,z=F,I=F,e.substr(F,5)===y?(Y=y,F+=5):(Y=s,se===0&&we(st)),Y===s&&(e.substr(F,3)===b?(Y=b,F+=3):(Y=s,se===0&&we(fe)),Y===s&&(e.substr(F,5)===x?(Y=x,F+=5):(Y=s,se===0&&we(Ee)),Y===s&&(e.substr(F,3)===S?(Y=S,F+=3):(Y=s,se===0&&we(qe)),Y===s))))if(Y=F,je=e.charAt(F),L.test(je)?F++:(je=s,se===0&&we(te)),je!==s){if(Ae=[],tt=e.charAt(F),ne.test(tt)?F++:(tt=s,se===0&&we(We)),tt!==s)for(;tt!==s;)Ae.push(tt),tt=e.charAt(F),ne.test(tt)?F++:(tt=s,se===0&&we(We));else Ae=s;Ae!==s?(je=[je,Ae],Y=je):(F=Y,Y=s)}else F=Y,Y=s;return Y!==s?(je=e.charAt(F),ye.test(je)?F++:(je=s,se===0&&we(ot)),je===s&&(je=null),Y=[Y,je],I=Y):(F=I,I=s),I!==s?z=e.substring(z,F):z=I,se--,z===s&&(I=s,se===0&&we(Ze)),z}function Aa(){var z,I,Y;for(se++,z=F,I=[],Y=e.charAt(F),le.test(Y)?F++:(Y=s,se===0&&we(vt));Y!==s;)I.push(Y),I.length>=2?Y=s:(Y=e.charAt(F),le.test(Y)?F++:(Y=s,se===0&&we(vt)));return I.length<1?(F=z,z=s):z=I,se--,z===s&&(I=s,se===0&&we(Je)),z}function Qi(){var z,I,Y,je,Ae;if(se++,z=F,Wt(),e.charCodeAt(F)===36?(I=j,F++):(I=s,se===0&&we(de)),I!==s){if(Y=F,je=[],Ae=e.charAt(F),re.test(Ae)?F++:(Ae=s,se===0&&we(Te)),Ae!==s)for(;Ae!==s;)je.push(Ae),Ae=e.charAt(F),re.test(Ae)?F++:(Ae=s,se===0&&we(Te));else je=s;je!==s?Y=e.substring(Y,F):Y=je,Y!==s?z=on(Y):(F=z,z=s)}else F=z,z=s;return se--,z===s&&se===0&&we(qt),z}function Hn(){var z;return z=Or(),z===s&&(z=Nl()),z}function Or(){var z,I,Y,je,Ae;if(se++,z=F,e.charCodeAt(F)===123?(I=k,F++):(I=s,se===0&&we(ut)),I!==s){for(Y=F,je=[],Ae=e.charAt(F),me.test(Ae)?F++:(Ae=s,se===0&&we(Ve));Ae!==s;)je.push(Ae),Ae=e.charAt(F),me.test(Ae)?F++:(Ae=s,se===0&&we(Ve));Y=e.substring(Y,F),e.charCodeAt(F)===125?(je=A,F++):(je=s,se===0&&we(jt)),je!==s?z=Vn(Y):(F=z,z=s)}else F=z,z=s;return se--,z===s&&(I=s,se===0&&we(Ce)),z}function Nl(){var z,I,Y,je,Ae;if(se++,z=F,e.charCodeAt(F)===59?(I=N,F++):(I=s,se===0&&we(lt)),I!==s){for(Y=F,je=[],Ae=e.charAt(F),B.test(Ae)?F++:(Ae=s,se===0&&we(Ge));Ae!==s;)je.push(Ae),Ae=e.charAt(F),B.test(Ae)?F++:(Ae=s,se===0&&we(Ge));Y=e.substring(Y,F),z=ln(Y)}else F=z,z=s;return se--,z===s&&(I=s,se===0&&we(Nt)),z}function Vs(){var z,I,Y,je;return se++,z=F,Wt(),e.charCodeAt(F)===40?(I=T,F++):(I=s,se===0&&we(Me)),I!==s?(Y=kl(),Y!==s?(Wt(),e.charCodeAt(F)===41?(je=_,F++):(je=s,se===0&&we(wt)),je!==s?z=Zt(Y):(F=z,z=s)):(F=z,z=s)):(F=z,z=s),se--,z===s&&se===0&&we(ie),z}function Pr(){var z,I,Y;return se++,z=F,e.substr(F,3)===P?(I=P,F+=3):(I=s,se===0&&we(Qe)),I===s&&(e.substr(F,3)===R?(I=R,F+=3):(I=s,se===0&&we(at)),I===s&&(e.substr(F,7)===K?(I=K,F+=7):(I=s,se===0&&we(jn)),I===s&&(e.charCodeAt(F)===42?(I=Q,F++):(I=s,se===0&&we(St))))),I!==s?(Wt(),Y=Hn(),Y===s&&(Y=null),z=Nn(I,Y)):(F=z,z=s),se--,z===s&&(I=s,se===0&&we(ze)),z}function Wt(){var z,I;for(se++,z=[],I=e.charAt(F),V.test(I)?F++:(I=s,se===0&&we(rn));I!==s;)z.push(I),I=e.charAt(F),V.test(I)?F++:(I=s,se===0&&we(rn));return se--,I=s,se===0&&we(an),z}if(Tn=c(),t.peg$library)return{peg$result:Tn,peg$currPos:F,peg$FAILED:s,peg$maxFailExpected:dt,peg$maxFailPos:Fe};if(Tn!==s&&F===e.length)return Tn;throw Tn!==s&&F<e.length&&we(js()),Ii(dt,Fe<e.length?e.charAt(Fe):null,Fe<e.length?Bs(Fe,Fe+1):Bs(Fe,Fe))}/**
 * @license
 * Copyright (c) 2025, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const Wc=0xffffffffffffffffn;function fh(e,t){return(e<<t|e>>64n-t)&0xffffffffffffffffn}function pb(e,t){return e*t&Wc}function xA(e){return function(){let t=BigInt(e&Wc),s=BigInt(e>>64n&Wc);const a=pb(fh(pb(t,5n),7n),9n);return s^=t,t=(fh(t,24n)^s^s<<16n)&Wc,s=fh(s,37n),e=s<<64n|t,a}}const _u=xA(0xa187eb39cdcaed8f31c4b365b102e01en),wA=Array.from({length:2},()=>Array.from({length:6},()=>Array.from({length:128},()=>_u()))),SA=Array.from({length:8},()=>_u()),CA=Array.from({length:16},()=>_u()),hh=_u(),Cn="w",Xn="b",Yt="p",Qh="n",Jc="b",Uo="r",Ui="q",nn="k",mh="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class qc{color;from;to;piece;captured;promotion;flags;san;lan;before;after;constructor(t,s){const{color:a,piece:o,from:c,to:d,flags:f,captured:m,promotion:g}=s,y=fn(c),b=fn(d);this.color=a,this.piece=o,this.from=y,this.to=b,this.san=t._moveToSan(s,t._moves({legal:!0})),this.lan=y+b,this.before=t.fen(),t._makeMove(s),this.after=t.fen(),t._undoMove(),this.flags="";for(const x in Be)Be[x]&f&&(this.flags+=ha[x]);m&&(this.captured=m),g&&(this.promotion=g,this.lan+=g)}isCapture(){return this.flags.indexOf(ha.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(ha.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(ha.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(ha.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(ha.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(ha.BIG_PAWN)>-1}}const bn=-1,ha={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q",NULL_MOVE:"-"},Be={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64,NULL_MOVE:128},Xh={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},kA={WhiteTitle:null,BlackTitle:null,WhiteElo:null,BlackElo:null,WhiteUSCF:null,BlackUSCF:null,WhiteNA:null,BlackNA:null,WhiteType:null,BlackType:null,EventDate:null,EventSponsor:null,Section:null,Stage:null,Board:null,Opening:null,Variation:null,SubVariation:null,ECO:null,NIC:null,Time:null,UTCTime:null,UTCDate:null,TimeControl:null,SetUp:null,FEN:null,Termination:null,Annotator:null,Mode:null,PlyCount:null},jA={...Xh,...kA},Le={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},ph={b:[16,32,17,15],w:[-16,-32,-17,-15]},gb={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},NA=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],TA=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],AA={p:1,n:2,b:4,r:8,q:16,k:32},EA="pnbrqkPNBRQK",yb=[Qh,Jc,Uo,Ui],MA=7,_A=6,RA=1,DA=0,Uc={[nn]:Be.KSIDE_CASTLE,[Ui]:Be.QSIDE_CASTLE},Oi={w:[{square:Le.a1,flag:Be.QSIDE_CASTLE},{square:Le.h1,flag:Be.KSIDE_CASTLE}],b:[{square:Le.a8,flag:Be.QSIDE_CASTLE},{square:Le.h8,flag:Be.KSIDE_CASTLE}]},LA={b:RA,w:_A},gh="--";function Sa(e){return e>>4}function al(e){return e&15}function mw(e){return"0123456789".indexOf(e)!==-1}function fn(e){const t=al(e),s=Sa(e);return"abcdefgh".substring(t,t+1)+"87654321".substring(s,s+1)}function Lo(e){return e===Cn?Xn:Cn}function OA(e){const t=e.split(/\s+/);if(t.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const s=parseInt(t[5],10);if(isNaN(s)||s<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const a=parseInt(t[4],10);if(isNaN(a)||a<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(t[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(t[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(t[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const o=t[0].split("/");if(o.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let d=0;d<o.length;d++){let f=0,m=!1;for(let g=0;g<o[d].length;g++)if(mw(o[d][g])){if(m)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};f+=parseInt(o[d][g],10),m=!0}else{if(!/^[prnbqkPRNBQK]$/.test(o[d][g]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};f+=1,m=!1}if(f!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(t[3][1]=="3"&&t[1]=="w"||t[3][1]=="6"&&t[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const c=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:d,regex:f}of c){if(!f.test(t[0]))return{ok:!1,error:`Invalid FEN: missing ${d} king`};if((t[0].match(f)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${d} kings`}}return Array.from(o[0]+o[7]).some(d=>d.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function PA(e,t){const s=e.from,a=e.to,o=e.piece;let c=0,d=0,f=0;for(let m=0,g=t.length;m<g;m++){const y=t[m].from,b=t[m].to,x=t[m].piece;o===x&&s!==y&&a===b&&(c++,Sa(s)===Sa(y)&&d++,al(s)===al(y)&&f++)}return c>0?d>0&&f>0?fn(s):f>0?fn(s).charAt(1):fn(s).charAt(0):""}function Pi(e,t,s,a,o,c=void 0,d=Be.NORMAL){const f=Sa(a);if(o===Yt&&(f===MA||f===DA))for(let m=0;m<yb.length;m++){const g=yb[m];e.push({color:t,from:s,to:a,piece:o,captured:c,promotion:g,flags:d|Be.PROMOTION})}else e.push({color:t,from:s,to:a,piece:o,captured:c,flags:d})}function vb(e){let t=e.charAt(0);return t>="a"&&t<="h"?e.match(/[a-h]\d.*[a-h]\d/)?void 0:Yt:(t=t.toLowerCase(),t==="o"?nn:t)}function yh(e){return e.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class ba{_board=new Array(128);_turn=Cn;_header={};_kings={w:bn,b:bn};_epSquare=-1;_halfMoves=0;_moveNumber=0;_history=[];_comments={};_castling={w:0,b:0};_hash=0n;_positionCount=new Map;constructor(t=mh,{skipValidation:s=!1}={}){this.load(t,{skipValidation:s})}clear({preserveHeaders:t=!1}={}){this._board=new Array(128),this._kings={w:bn,b:bn},this._turn=Cn,this._castling={w:0,b:0},this._epSquare=bn,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=t?this._header:{...jA},this._hash=this._computeHash(),this._positionCount=new Map,this._header.SetUp=null,this._header.FEN=null}load(t,{skipValidation:s=!1,preserveHeaders:a=!1}={}){let o=t.split(/\s+/);if(o.length>=2&&o.length<6){const f=["-","-","0","1"];t=o.concat(f.slice(-(6-o.length))).join(" ")}if(o=t.split(/\s+/),!s){const{ok:f,error:m}=OA(t);if(!f)throw new Error(m)}const c=o[0];let d=0;this.clear({preserveHeaders:a});for(let f=0;f<c.length;f++){const m=c.charAt(f);if(m==="/")d+=8;else if(mw(m))d+=parseInt(m,10);else{const g=m<"a"?Cn:Xn;this._put({type:m.toLowerCase(),color:g},fn(d)),d++}}this._turn=o[1],o[2].indexOf("K")>-1&&(this._castling.w|=Be.KSIDE_CASTLE),o[2].indexOf("Q")>-1&&(this._castling.w|=Be.QSIDE_CASTLE),o[2].indexOf("k")>-1&&(this._castling.b|=Be.KSIDE_CASTLE),o[2].indexOf("q")>-1&&(this._castling.b|=Be.QSIDE_CASTLE),this._epSquare=o[3]==="-"?bn:Le[o[3]],this._halfMoves=parseInt(o[4],10),this._moveNumber=parseInt(o[5],10),this._hash=this._computeHash(),this._updateSetup(t),this._incPositionCount()}fen({forceEnpassantSquare:t=!1}={}){let s=0,a="";for(let d=Le.a8;d<=Le.h1;d++){if(this._board[d]){s>0&&(a+=s,s=0);const{color:f,type:m}=this._board[d];a+=f===Cn?m.toUpperCase():m.toLowerCase()}else s++;d+1&136&&(s>0&&(a+=s),d!==Le.h1&&(a+="/"),s=0,d+=8)}let o="";this._castling[Cn]&Be.KSIDE_CASTLE&&(o+="K"),this._castling[Cn]&Be.QSIDE_CASTLE&&(o+="Q"),this._castling[Xn]&Be.KSIDE_CASTLE&&(o+="k"),this._castling[Xn]&Be.QSIDE_CASTLE&&(o+="q"),o=o||"-";let c="-";if(this._epSquare!==bn)if(t)c=fn(this._epSquare);else{const d=this._epSquare+(this._turn===Cn?16:-16),f=[d+1,d-1];for(const m of f){if(m&136)continue;const g=this._turn;if(this._board[m]?.color===g&&this._board[m]?.type===Yt){this._makeMove({color:g,from:m,to:this._epSquare,piece:Yt,captured:Yt,flags:Be.EP_CAPTURE});const y=!this._isKingAttacked(g);if(this._undoMove(),y){c=fn(this._epSquare);break}}}}return[a,this._turn,o,c,this._halfMoves,this._moveNumber].join(" ")}_pieceKey(t){if(!this._board[t])return 0n;const{color:s,type:a}=this._board[t],o={w:0,b:1}[s],c={p:0,n:1,b:2,r:3,q:4,k:5}[a];return wA[o][c][t]}_epKey(){return this._epSquare===bn?0n:SA[this._epSquare&7]}_castlingKey(){const t=this._castling.w>>5|this._castling.b>>3;return CA[t]}_computeHash(){let t=0n;for(let s=Le.a8;s<=Le.h1;s++){if(s&136){s+=7;continue}this._board[s]&&(t^=this._pieceKey(s))}return t^=this._epKey(),t^=this._castlingKey(),this._turn==="b"&&(t^=hh),t}_updateSetup(t){this._history.length>0||(t!==mh?(this._header.SetUp="1",this._header.FEN=t):(this._header.SetUp=null,this._header.FEN=null))}reset(){this.load(mh)}get(t){return this._board[Le[t]]}findPiece(t){const s=[];for(let a=Le.a8;a<=Le.h1;a++){if(a&136){a+=7;continue}!this._board[a]||this._board[a]?.color!==t.color||this._board[a].color===t.color&&this._board[a].type===t.type&&s.push(fn(a))}return s}put({type:t,color:s},a){return this._put({type:t,color:s},a)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_set(t,s){this._hash^=this._pieceKey(t),this._board[t]=s,this._hash^=this._pieceKey(t)}_put({type:t,color:s},a){if(EA.indexOf(t.toLowerCase())===-1||!(a in Le))return!1;const o=Le[a];if(t==nn&&!(this._kings[s]==bn||this._kings[s]==o))return!1;const c=this._board[o];return c&&c.type===nn&&(this._kings[c.color]=bn),this._set(o,{type:t,color:s}),t===nn&&(this._kings[s]=o),!0}_clear(t){this._hash^=this._pieceKey(t),delete this._board[t]}remove(t){const s=this.get(t);return this._clear(Le[t]),s&&s.type===nn&&(this._kings[s.color]=bn),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),s}_updateCastlingRights(){this._hash^=this._castlingKey();const t=this._board[Le.e1]?.type===nn&&this._board[Le.e1]?.color===Cn,s=this._board[Le.e8]?.type===nn&&this._board[Le.e8]?.color===Xn;(!t||this._board[Le.a1]?.type!==Uo||this._board[Le.a1]?.color!==Cn)&&(this._castling.w&=-65),(!t||this._board[Le.h1]?.type!==Uo||this._board[Le.h1]?.color!==Cn)&&(this._castling.w&=-33),(!s||this._board[Le.a8]?.type!==Uo||this._board[Le.a8]?.color!==Xn)&&(this._castling.b&=-65),(!s||this._board[Le.h8]?.type!==Uo||this._board[Le.h8]?.color!==Xn)&&(this._castling.b&=-33),this._hash^=this._castlingKey()}_updateEnPassantSquare(){if(this._epSquare===bn)return;const t=this._epSquare+(this._turn===Cn?-16:16),s=this._epSquare+(this._turn===Cn?16:-16),a=[s+1,s-1];if(this._board[t]!==null||this._board[this._epSquare]!==null||this._board[s]?.color!==Lo(this._turn)||this._board[s]?.type!==Yt){this._hash^=this._epKey(),this._epSquare=bn;return}const o=c=>!(c&136)&&this._board[c]?.color===this._turn&&this._board[c]?.type===Yt;a.some(o)||(this._hash^=this._epKey(),this._epSquare=bn)}_attacked(t,s,a){const o=[];for(let c=Le.a8;c<=Le.h1;c++){if(c&136){c+=7;continue}if(this._board[c]===void 0||this._board[c].color!==t)continue;const d=this._board[c],f=c-s;if(f===0)continue;const m=f+119;if(NA[m]&AA[d.type]){if(d.type===Yt){if(f>0&&d.color===Cn||f<=0&&d.color===Xn)if(a)o.push(fn(c));else return!0;continue}if(d.type==="n"||d.type==="k")if(a){o.push(fn(c));continue}else return!0;const g=TA[m];let y=c+g,b=!1;for(;y!==s;){if(this._board[y]!=null){b=!0;break}y+=g}if(!b)if(a){o.push(fn(c));continue}else return!0}}return a?o:!1}attackers(t,s){return s?this._attacked(s,Le[t],!0):this._attacked(this._turn,Le[t],!0)}_isKingAttacked(t){const s=this._kings[t];return s===-1?!1:this._attacked(Lo(t),s)}hash(){return this._hash.toString(16)}isAttacked(t,s){return this._attacked(s,Le[t])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const t={b:0,n:0,r:0,q:0,k:0,p:0},s=[];let a=0,o=0;for(let c=Le.a8;c<=Le.h1;c++){if(o=(o+1)%2,c&136){c+=7;continue}const d=this._board[c];d&&(t[d.type]=d.type in t?t[d.type]+1:1,d.type===Jc&&s.push(o),a++)}if(a===2)return!0;if(a===3&&(t[Jc]===1||t[Qh]===1))return!0;if(a===t[Jc]+2){let c=0;const d=s.length;for(let f=0;f<d;f++)c+=s[f];if(c===0||c===d)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this._hash)>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isDraw()}moves({verbose:t=!1,square:s=void 0,piece:a=void 0}={}){const o=this._moves({square:s,piece:a});return t?o.map(c=>new qc(this,c)):o.map(c=>this._moveToSan(c,o))}_moves({legal:t=!0,piece:s=void 0,square:a=void 0}={}){const o=a?a.toLowerCase():void 0,c=s?.toLowerCase(),d=[],f=this._turn,m=Lo(f);let g=Le.a8,y=Le.h1,b=!1;if(o)if(o in Le)g=y=Le[o],b=!0;else return[];for(let S=g;S<=y;S++){if(S&136){S+=7;continue}if(!this._board[S]||this._board[S].color===m)continue;const{type:j}=this._board[S];let k;if(j===Yt){if(c&&c!==j)continue;k=S+ph[f][0],this._board[k]||(Pi(d,f,S,k,Yt),k=S+ph[f][1],LA[f]===Sa(S)&&!this._board[k]&&Pi(d,f,S,k,Yt,void 0,Be.BIG_PAWN));for(let A=2;A<4;A++)k=S+ph[f][A],!(k&136)&&(this._board[k]?.color===m?Pi(d,f,S,k,Yt,this._board[k].type,Be.CAPTURE):k===this._epSquare&&Pi(d,f,S,k,Yt,Yt,Be.EP_CAPTURE))}else{if(c&&c!==j)continue;for(let A=0,N=gb[j].length;A<N;A++){const T=gb[j][A];for(k=S;k+=T,!(k&136);){if(!this._board[k])Pi(d,f,S,k,j);else{if(this._board[k].color===f)break;Pi(d,f,S,k,j,this._board[k].type,Be.CAPTURE);break}if(j===Qh||j===nn)break}}}}if((c===void 0||c===nn)&&(!b||y===this._kings[f])){if(this._castling[f]&Be.KSIDE_CASTLE){const S=this._kings[f],j=S+2;!this._board[S+1]&&!this._board[j]&&!this._attacked(m,this._kings[f])&&!this._attacked(m,S+1)&&!this._attacked(m,j)&&Pi(d,f,this._kings[f],j,nn,void 0,Be.KSIDE_CASTLE)}if(this._castling[f]&Be.QSIDE_CASTLE){const S=this._kings[f],j=S-2;!this._board[S-1]&&!this._board[S-2]&&!this._board[S-3]&&!this._attacked(m,this._kings[f])&&!this._attacked(m,S-1)&&!this._attacked(m,j)&&Pi(d,f,this._kings[f],j,nn,void 0,Be.QSIDE_CASTLE)}}if(!t||this._kings[f]===-1)return d;const x=[];for(let S=0,j=d.length;S<j;S++)this._makeMove(d[S]),this._isKingAttacked(f)||x.push(d[S]),this._undoMove();return x}move(t,{strict:s=!1}={}){let a=null;if(typeof t=="string")a=this._moveFromSan(t,s);else if(t===null)a=this._moveFromSan(gh,s);else if(typeof t=="object"){const c=this._moves();for(let d=0,f=c.length;d<f;d++)if(t.from===fn(c[d].from)&&t.to===fn(c[d].to)&&(!("promotion"in c[d])||t.promotion===c[d].promotion)){a=c[d];break}}if(!a)throw typeof t=="string"?new Error(`Invalid move: ${t}`):new Error(`Invalid move: ${JSON.stringify(t)}`);if(this.isCheck()&&a.flags&Be.NULL_MOVE)throw new Error("Null move not allowed when in check");const o=new qc(this,a);return this._makeMove(a),this._incPositionCount(),o}_push(t){this._history.push({move:t,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_movePiece(t,s){this._hash^=this._pieceKey(t),this._board[s]=this._board[t],delete this._board[t],this._hash^=this._pieceKey(s)}_makeMove(t){const s=this._turn,a=Lo(s);if(this._push(t),t.flags&Be.NULL_MOVE){s===Xn&&this._moveNumber++,this._halfMoves++,this._turn=a,this._epSquare=bn;return}if(this._hash^=this._epKey(),this._hash^=this._castlingKey(),t.captured&&(this._hash^=this._pieceKey(t.to)),this._movePiece(t.from,t.to),t.flags&Be.EP_CAPTURE&&(this._turn===Xn?this._clear(t.to-16):this._clear(t.to+16)),t.promotion&&(this._clear(t.to),this._set(t.to,{type:t.promotion,color:s})),this._board[t.to].type===nn){if(this._kings[s]=t.to,t.flags&Be.KSIDE_CASTLE){const o=t.to-1,c=t.to+1;this._movePiece(c,o)}else if(t.flags&Be.QSIDE_CASTLE){const o=t.to+1,c=t.to-2;this._movePiece(c,o)}this._castling[s]=0}if(this._castling[s]){for(let o=0,c=Oi[s].length;o<c;o++)if(t.from===Oi[s][o].square&&this._castling[s]&Oi[s][o].flag){this._castling[s]^=Oi[s][o].flag;break}}if(this._castling[a]){for(let o=0,c=Oi[a].length;o<c;o++)if(t.to===Oi[a][o].square&&this._castling[a]&Oi[a][o].flag){this._castling[a]^=Oi[a][o].flag;break}}if(this._hash^=this._castlingKey(),t.flags&Be.BIG_PAWN){let o;s===Xn?o=t.to-16:o=t.to+16,!(t.to-1&136)&&this._board[t.to-1]?.type===Yt&&this._board[t.to-1]?.color===a||!(t.to+1&136)&&this._board[t.to+1]?.type===Yt&&this._board[t.to+1]?.color===a?(this._epSquare=o,this._hash^=this._epKey()):this._epSquare=bn}else this._epSquare=bn;t.piece===Yt?this._halfMoves=0:t.flags&(Be.CAPTURE|Be.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,s===Xn&&this._moveNumber++,this._turn=a,this._hash^=hh}undo(){const t=this._hash,s=this._undoMove();if(s){const a=new qc(this,s);return this._decPositionCount(t),a}return null}_undoMove(){const t=this._history.pop();if(t===void 0)return null;this._hash^=this._epKey(),this._hash^=this._castlingKey();const s=t.move;this._kings=t.kings,this._turn=t.turn,this._castling=t.castling,this._epSquare=t.epSquare,this._halfMoves=t.halfMoves,this._moveNumber=t.moveNumber,this._hash^=this._epKey(),this._hash^=this._castlingKey(),this._hash^=hh;const a=this._turn,o=Lo(a);if(s.flags&Be.NULL_MOVE)return s;if(this._movePiece(s.to,s.from),s.piece&&(this._clear(s.from),this._set(s.from,{type:s.piece,color:a})),s.captured)if(s.flags&Be.EP_CAPTURE){let c;a===Xn?c=s.to-16:c=s.to+16,this._set(c,{type:Yt,color:o})}else this._set(s.to,{type:s.captured,color:o});if(s.flags&(Be.KSIDE_CASTLE|Be.QSIDE_CASTLE)){let c,d;s.flags&Be.KSIDE_CASTLE?(c=s.to+1,d=s.to-1):(c=s.to-2,d=s.to+1),this._movePiece(d,c)}return s}pgn({newline:t=`
`,maxWidth:s=0}={}){const a=[];let o=!1;for(const x in this._header)this._header[x]&&a.push(`[${x} "${this._header[x]}"]`+t),o=!0;o&&this._history.length&&a.push(t);const c=x=>{const S=this._comments[this.fen()];if(typeof S<"u"){const j=x.length>0?" ":"";x=`${x}${j}{${S}}`}return x},d=[];for(;this._history.length>0;)d.push(this._undoMove());const f=[];let m="";for(d.length===0&&f.push(c(""));d.length>0;){m=c(m);const x=d.pop();if(!x)break;if(!this._history.length&&x.color==="b"){const S=`${this._moveNumber}. ...`;m=m?`${m} ${S}`:S}else x.color==="w"&&(m.length&&f.push(m),m=this._moveNumber+".");m=m+" "+this._moveToSan(x,this._moves({legal:!0})),this._makeMove(x)}if(m.length&&f.push(c(m)),f.push(this._header.Result||"*"),s===0)return a.join("")+f.join(" ");const g=function(){return a.length>0&&a[a.length-1]===" "?(a.pop(),!0):!1},y=function(x,S){for(const j of S.split(" "))if(j){if(x+j.length>s){for(;g();)x--;a.push(t),x=0}a.push(j),x+=j.length,a.push(" "),x++}return g()&&x--,x};let b=0;for(let x=0;x<f.length;x++){if(b+f[x].length>s&&f[x].includes("{")){b=y(b,f[x]);continue}b+f[x].length>s&&x!==0?(a[a.length-1]===" "&&a.pop(),a.push(t),b=0):x!==0&&(a.push(" "),b++),a.push(f[x]),b+=f[x].length}return a.join("")}header(...t){for(let s=0;s<t.length;s+=2)typeof t[s]=="string"&&typeof t[s+1]=="string"&&(this._header[t[s]]=t[s+1]);return this._header}setHeader(t,s){return this._header[t]=s??Xh[t]??null,this.getHeaders()}removeHeader(t){return t in this._header?(this._header[t]=Xh[t]||null,!0):!1}getHeaders(){const t={};for(const[s,a]of Object.entries(this._header))a!==null&&(t[s]=a);return t}loadPgn(t,{strict:s=!1,newlineChar:a=`\r?
`}={}){a!==`\r?
`&&(t=t.replace(new RegExp(a,"g"),`
`));const o=bA(t);this.reset();const c=o.headers;let d="";for(const g in c)g.toLowerCase()==="fen"&&(d=c[g]),this.header(g,c[g]);if(!s)d&&this.load(d,{preserveHeaders:!0});else if(c.SetUp==="1"){if(!("FEN"in c))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(c.FEN,{preserveHeaders:!0})}let f=o.root;for(;f;){if(f.move){const g=this._moveFromSan(f.move,s);if(g==null)throw new Error(`Invalid move in PGN: ${f.move}`);this._makeMove(g),this._incPositionCount()}f.comment!==void 0&&(this._comments[this.fen()]=f.comment),f=f.variations[0]}const m=o.result;m&&Object.keys(this._header).length&&this._header.Result!==m&&this.setHeader("Result",m)}_moveToSan(t,s){let a="";if(t.flags&Be.KSIDE_CASTLE)a="O-O";else if(t.flags&Be.QSIDE_CASTLE)a="O-O-O";else{if(t.flags&Be.NULL_MOVE)return gh;if(t.piece!==Yt){const o=PA(t,s);a+=t.piece.toUpperCase()+o}t.flags&(Be.CAPTURE|Be.EP_CAPTURE)&&(t.piece===Yt&&(a+=fn(t.from)[0]),a+="x"),a+=fn(t.to),t.promotion&&(a+="="+t.promotion.toUpperCase())}return this._makeMove(t),this.isCheck()&&(this.isCheckmate()?a+="#":a+="+"),this._undoMove(),a}_moveFromSan(t,s=!1){let a=yh(t);if(s||(a==="0-0"?a="O-O":a==="0-0-0"&&(a="O-O-O")),a==gh)return{color:this._turn,from:0,to:0,piece:"k",flags:Be.NULL_MOVE};let o=vb(a),c=this._moves({legal:!0,piece:o});for(let x=0,S=c.length;x<S;x++)if(a===yh(this._moveToSan(c[x],c)))return c[x];if(s)return null;let d,f,m,g,y,b=!1;if(f=a.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),f?(d=f[1],m=f[2],g=f[3],y=f[4],m.length==1&&(b=!0)):(f=a.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),f&&(d=f[1],m=f[2],g=f[3],y=f[4],m.length==1&&(b=!0))),o=vb(a),c=this._moves({legal:!0,piece:d||o}),!g)return null;for(let x=0,S=c.length;x<S;x++)if(m){if((!d||d.toLowerCase()==c[x].piece)&&Le[m]==c[x].from&&Le[g]==c[x].to&&(!y||y.toLowerCase()==c[x].promotion))return c[x];if(b){const j=fn(c[x].from);if((!d||d.toLowerCase()==c[x].piece)&&Le[g]==c[x].to&&(m==j[0]||m==j[1])&&(!y||y.toLowerCase()==c[x].promotion))return c[x]}}else if(a===yh(this._moveToSan(c[x],c)).replace("x",""))return c[x];return null}ascii(){let t=`   +------------------------+
`;for(let s=Le.a8;s<=Le.h1;s++){if(al(s)===0&&(t+=" "+"87654321"[Sa(s)]+" |"),this._board[s]){const a=this._board[s].type,c=this._board[s].color===Cn?a.toUpperCase():a.toLowerCase();t+=" "+c+" "}else t+=" . ";s+1&136&&(t+=`|
`,s+=8)}return t+=`   +------------------------+
`,t+="     a  b  c  d  e  f  g  h",t}perft(t){const s=this._moves({legal:!1});let a=0;const o=this._turn;for(let c=0,d=s.length;c<d;c++)this._makeMove(s[c]),this._isKingAttacked(o)||(t-1>0?a+=this.perft(t-1):a++),this._undoMove();return a}setTurn(t){return this._turn==t?!1:(this.move("--"),!0)}turn(){return this._turn}board(){const t=[];let s=[];for(let a=Le.a8;a<=Le.h1;a++)this._board[a]==null?s.push(null):s.push({square:fn(a),type:this._board[a].type,color:this._board[a].color}),a+1&136&&(t.push(s),s=[],a+=8);return t}squareColor(t){if(t in Le){const s=Le[t];return(Sa(s)+al(s))%2===0?"light":"dark"}return null}history({verbose:t=!1}={}){const s=[],a=[];for(;this._history.length>0;)s.push(this._undoMove());for(;;){const o=s.pop();if(!o)break;t?a.push(new qc(this,o)):a.push(this._moveToSan(o,this._moves())),this._makeMove(o)}return a}_getPositionCount(t){return this._positionCount.get(t)??0}_incPositionCount(){this._positionCount.set(this._hash,(this._positionCount.get(this._hash)??0)+1)}_decPositionCount(t){const s=this._positionCount.get(t)??0;s===1?this._positionCount.delete(t):this._positionCount.set(t,s-1)}_pruneComments(){const t=[],s={},a=o=>{o in this._comments&&(s[o]=this._comments[o])};for(;this._history.length>0;)t.push(this._undoMove());for(a(this.fen());;){const o=t.pop();if(!o)break;this._makeMove(o),a(this.fen())}this._comments=s}getComment(){return this._comments[this.fen()]}setComment(t){this._comments[this.fen()]=t.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const t=this._comments[this.fen()];return delete this._comments[this.fen()],t}getComments(){return this._pruneComments(),Object.keys(this._comments).map(t=>({fen:t,comment:this._comments[t]}))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map(t=>{const s=this._comments[t];return delete this._comments[t],{fen:t,comment:s}})}setCastlingRights(t,s){for(const o of[nn,Ui])s[o]!==void 0&&(s[o]?this._castling[t]|=Uc[o]:this._castling[t]&=~Uc[o]);this._updateCastlingRights();const a=this.getCastlingRights(t);return(s[nn]===void 0||s[nn]===a[nn])&&(s[Ui]===void 0||s[Ui]===a[Ui])}getCastlingRights(t){return{[nn]:(this._castling[t]&Uc[nn])!==0,[Ui]:(this._castling[t]&Uc[Ui])!==0}}moveNumber(){return this._moveNumber}}class zA{sounds=new Map;enabled=!0;masterVolume=.7;soundConfig={};constructor(){this.initializeSounds(),this.loadUserPreferences()}initializeSounds(){const t={move:this.createTone(200,.1,"sine"),capture:this.createTone(150,.15,"square"),check:this.createTone(400,.2,"triangle"),checkmate:this.createTone(100,.5,"sawtooth"),gameStart:this.createChord([262,330,392],.3),gameWin:this.createChord([523,659,784],.4),gameLose:this.createTone(100,.4,"sawtooth"),buttonClick:this.createTone(800,.05,"square"),buttonHover:this.createTone(1e3,.03,"sine"),levelUp:this.createChord([523,659,784,1047],.6),achievement:this.createChord([392,494,587,698],.5),puzzleSolved:this.createChord([523,659,784],.3),puzzleError:this.createTone(150,.2,"square"),lessonComplete:this.createChord([440,554,659],.4),xpGain:this.createTone(600,.1,"sine"),streakBonus:this.createChord([659,784,988],.3),notification:this.createTone(800,.1,"triangle"),success:this.createChord([523,659],.2),error:this.createTone(200,.3,"square"),whoosh:this.createNoise(.1),pop:this.createTone(400,.05,"sine"),ding:this.createTone(1200,.1,"triangle")};Object.entries(t).forEach(([s,a])=>{this.soundConfig[s]=a})}createTone(t,s,a="sine"){return`data:audio/wav;base64,${this.generateToneDataURL(t,s,a)}`}createChord(t,s){return`data:audio/wav;base64,${this.generateChordDataURL(t,s)}`}createNoise(t){return`data:audio/wav;base64,${this.generateNoiseDataURL(t)}`}generateToneDataURL(t,s,a){return"UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA="}generateChordDataURL(t,s){return"UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA="}generateNoiseDataURL(t){return"UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA="}loadUserPreferences(){const t=localStorage.getItem("chess-audio-enabled"),s=localStorage.getItem("chess-audio-volume");t!==null&&(this.enabled=JSON.parse(t)),s!==null&&(this.masterVolume=parseFloat(s))}saveUserPreferences(){localStorage.setItem("chess-audio-enabled",JSON.stringify(this.enabled)),localStorage.setItem("chess-audio-volume",this.masterVolume.toString())}async playSound(t,s=1){if(!this.enabled){console.log("AudioService: Audio disabled, skipping sound:",t);return}try{console.log("AudioService: Playing sound:",t);const a=new(window.AudioContext||window.webkitAudioContext);a.state==="suspended"&&await a.resume();const o=a.createOscillator(),c=a.createGain();o.connect(c),c.connect(a.destination);const d=this.getSoundConfig(t);o.frequency.setValueAtTime(d.frequency,a.currentTime),o.type=d.type,c.gain.setValueAtTime(0,a.currentTime),c.gain.linearRampToValueAtTime(this.masterVolume*s*d.volume,a.currentTime+.01),c.gain.exponentialRampToValueAtTime(.01,a.currentTime+d.duration),o.start(a.currentTime),o.stop(a.currentTime+d.duration)}catch(a){console.warn("Audio playback failed:",a)}}getSoundConfig(t){const s={move:{frequency:200,type:"sine",duration:.1,volume:.3},capture:{frequency:150,type:"square",duration:.15,volume:.4},check:{frequency:400,type:"triangle",duration:.2,volume:.5},checkmate:{frequency:100,type:"sawtooth",duration:.5,volume:.6},gameStart:{frequency:330,type:"sine",duration:.3,volume:.4},gameWin:{frequency:523,type:"sine",duration:.4,volume:.5},gameLose:{frequency:100,type:"sawtooth",duration:.4,volume:.4},buttonClick:{frequency:800,type:"square",duration:.05,volume:.2},buttonHover:{frequency:1e3,type:"sine",duration:.03,volume:.1},levelUp:{frequency:523,type:"sine",duration:.6,volume:.6},achievement:{frequency:392,type:"triangle",duration:.5,volume:.5},puzzleSolved:{frequency:523,type:"sine",duration:.3,volume:.4},puzzleError:{frequency:150,type:"square",duration:.2,volume:.3},lessonComplete:{frequency:440,type:"sine",duration:.4,volume:.4},xpGain:{frequency:600,type:"sine",duration:.1,volume:.3},streakBonus:{frequency:659,type:"triangle",duration:.3,volume:.4},notification:{frequency:800,type:"triangle",duration:.1,volume:.3},success:{frequency:523,type:"sine",duration:.2,volume:.3},error:{frequency:200,type:"square",duration:.3,volume:.4},whoosh:{frequency:300,type:"sawtooth",duration:.1,volume:.2},pop:{frequency:400,type:"sine",duration:.05,volume:.2},ding:{frequency:1200,type:"triangle",duration:.1,volume:.3}};return s[t]||s.buttonClick}playMoveSound(t=!1){this.playSound(t?"capture":"move")}playGameStateSound(t){this.playSound(t==="start"?"gameStart":t==="win"?"gameWin":t==="lose"?"gameLose":t==="checkmate"?"checkmate":"check")}playUISound(t){const s={click:"buttonClick",hover:"buttonHover",success:"success",error:"error",notification:"notification"};this.playSound(s[t])}playGamificationSound(t){const s={xp:"xpGain",levelUp:"levelUp",achievement:"achievement",puzzleSolved:"puzzleSolved",lessonComplete:"lessonComplete",streak:"streakBonus"};this.playSound(s[t])}setEnabled(t){this.enabled=t,this.saveUserPreferences()}setMasterVolume(t){this.masterVolume=Math.max(0,Math.min(1,t)),this.saveUserPreferences()}isEnabled(){return this.enabled}getMasterVolume(){return this.masterVolume}async playSequence(t){for(const{sound:s,delay:a,volume:o}of t)setTimeout(()=>this.playSound(s,o),a)}playCelebration(){this.playSequence([{sound:"success",delay:0},{sound:"ding",delay:200},{sound:"achievement",delay:400}])}}const mn=new zA,BA={p:"Pawn",r:"Rook",n:"Knight",b:"Bishop",q:"Queen",k:"King"},qA={p:["The only piece that captures differently than it moves!","Can promote to any piece except King when reaching the end","En passant is a special pawn capture rule","Pawns are the soul of chess - Philidor"],r:["Worth about 5 points in material value","Most powerful on open files and ranks","Can castle with the King for safety","Rook and King vs King is a basic checkmate"],n:["The only piece that can jump over others","Always lands on opposite colored squares","Worth about 3 points in material value","Knights on the rim are dim!"],b:["Each player starts with one light and one dark-squared bishop","Worth about 3 points in material value","Long diagonal bishops can be very powerful","Bishop pair advantage in open positions"],q:["The most powerful piece, worth about 9 points","Combines the power of Rook and Bishop","Don't bring your Queen out too early!","Queen sacrifices can lead to brilliant combinations"],k:["The most important piece - must be protected","Can move one square in any direction","Castling helps keep the King safe","In endgames, the King becomes an active piece"]},UA={f7:"This is the weakest square in Black's position!",h7:"A common target for mating attacks",g7:"The fianchetto square for Black's bishop",b7:"The fianchetto square for Black's bishop",f2:"This is the weakest square in White's position!",h2:"A common target for mating attacks",g2:"The fianchetto square for White's bishop",b2:"The fianchetto square for White's bishop",e4:"Best by test - Bobby Fischer's favorite!",d4:"The Queen's Gambit starts here",e5:"The most popular response to 1.e4",d5:"Challenging the center immediately",c4:"The English Opening - flexible and strategic",f4:"The King's Gambit - aggressive and romantic",c5:"The Sicilian Defense - Black's most ambitious reply"},VA=({piece:e,color:t,square:s,show:a,position:o,classicFact:c})=>{if(!a)return null;const d=BA[e],f=t==="w"?"White":"Black",m=qA[e],g=m[Math.floor(Math.random()*m.length)],y=UA[s];return u.jsxs("div",{className:"absolute z-50 bg-gray-900 text-white text-xs rounded-lg p-3 shadow-xl border border-gray-700 max-w-xs pointer-events-none",style:{left:o.x+10,top:o.y-10,transform:"translateY(-100%)"},children:[u.jsxs("div",{className:"font-bold text-yellow-300 mb-1",children:[f," ",d]}),u.jsxs("div",{className:"text-gray-300 mb-2",children:["Square: ",u.jsx("span",{className:"font-mono font-bold",children:s.toUpperCase()})]}),u.jsxs("div",{className:"text-blue-200 text-xs mb-1",children:["💡 ",g]}),y&&u.jsxs("div",{className:"text-green-200 text-xs border-t border-gray-600 pt-1",children:["🏰 ",y]}),c&&u.jsxs("div",{className:"text-purple-200 text-xs border-t border-gray-600 pt-1",children:["⭐ ",c]}),u.jsx("div",{className:"absolute top-full left-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-900"})]})},HA=({game:e,onHighlightSquare:t,onShowHint:s,disabled:a=!1,maxAttempts:o=5})=>{const[c,d]=v.useState(0),[f,m]=v.useState(!1),[g,y]=v.useState(0),[b,x]=v.useState(!1);v.useEffect(()=>{if(a)return;let N;return(()=>{m(!0),y(10),N=window.setInterval(()=>{y(_=>_<=1?(m(!1),x(!0),0):_-1)},1e3)})(),()=>{N&&clearInterval(N),m(!1)}},[e.fen(),a]),v.useEffect(()=>{d(0),x(!1)},[e.fen()]);const S=()=>{const N=e.moves({verbose:!0});return N.length===0?null:N.sort((_,P)=>{let R=0,K=0;_.captured&&(R+=10),P.captured&&(K+=10),_.san.includes("+")&&(R+=8),P.san.includes("+")&&(K+=8);const Q=["e4","e5","d4","d5","f4","f5","c4","c5"];return Q.includes(_.to)&&(R+=5),Q.includes(P.to)&&(K+=5),(_.piece==="n"||_.piece==="b")&&(R+=3),(P.piece==="n"||P.piece==="b")&&(K+=3),K-R})[0]},j=N=>{const T=S();if(!T)return"No moves available!";const _=[`Look for moves with your ${T.piece==="p"?"pawn":T.piece==="n"?"knight":T.piece==="b"?"bishop":T.piece==="r"?"rook":T.piece==="q"?"queen":"king"}`,`Consider the ${T.from} square`,`Try moving from ${T.from}`,`Move your piece to ${T.to}`,`The best move is ${T.san}!`];return _[Math.min(N,_.length-1)]},k=()=>{if(c>=o||a)return;const N=c+1;d(N);const T=S();T&&(N<=2?(t(T.from),s(j(N-1))):N<=4?(t(T.from),setTimeout(()=>t(T.to),500),s(j(N-1))):(t(T.from),setTimeout(()=>t(T.to),500),s(j(4))))},A=c<o&&!a;return u.jsxs("div",{className:"relative",children:[f&&!b&&u.jsx("div",{className:"fixed top-4 right-4 z-50 bg-yellow-100 border border-yellow-400 rounded-lg p-3 shadow-lg",children:u.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[u.jsx(G5,{className:"h-4 w-4"}),u.jsxs("span",{className:"text-sm",children:["Need help? Auto-hint in ",u.jsxs("span",{className:"font-bold",children:[g,"s"]})]})]})}),b&&A&&u.jsx("div",{className:"fixed top-4 right-4 z-50 bg-blue-100 border border-blue-400 rounded-lg p-3 shadow-lg animate-pulse",children:u.jsxs("div",{className:"flex items-center gap-2 text-blue-800",children:[u.jsx(q5,{className:"h-4 w-4"}),u.jsx("span",{className:"text-sm font-medium",children:"Help is available!"})]})}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(Ne,{onClick:k,disabled:!A,variant:b?"default":"outline",size:"sm",className:`${b?"animate-bounce":""} ${A?"":"opacity-50 cursor-not-allowed"}`,children:[u.jsx(d1,{className:"h-4 w-4 mr-1"}),"Help (",o-c," left)"]}),c>0&&u.jsxs("div",{className:"text-xs text-gray-600",children:["Hints used: ",c,"/",o]})]})]})},Xm=v.createContext({});function Zm(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const Wm=typeof window<"u",pw=Wm?v.useLayoutEffect:v.useEffect,Ru=v.createContext(null);function Jm(e,t){e.indexOf(t)===-1&&e.push(t)}function ep(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const li=(e,t,s)=>s>t?t:s<e?e:s;let tp=()=>{};const ci={},gw=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function yw(e){return typeof e=="object"&&e!==null}const vw=e=>/^0[^.\s]+$/u.test(e);function np(e){let t;return()=>(t===void 0&&(t=e()),t)}const fs=e=>e,$A=(e,t)=>s=>t(e(s)),bl=(...e)=>e.reduce($A),rl=(e,t,s)=>{const a=t-e;return a===0?1:(s-e)/a};class sp{constructor(){this.subscriptions=[]}add(t){return Jm(this.subscriptions,t),()=>ep(this.subscriptions,t)}notify(t,s,a){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,s,a);else for(let c=0;c<o;c++){const d=this.subscriptions[c];d&&d(t,s,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ds=e=>e*1e3,Ls=e=>e/1e3;function bw(e,t){return t?e*(1e3/t):0}const xw=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,GA=1e-7,KA=12;function FA(e,t,s,a,o){let c,d,f=0;do d=t+(s-t)/2,c=xw(d,a,o)-e,c>0?s=d:t=d;while(Math.abs(c)>GA&&++f<KA);return d}function xl(e,t,s,a){if(e===t&&s===a)return fs;const o=c=>FA(c,0,1,e,s);return c=>c===0||c===1?c:xw(o(c),t,a)}const ww=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Sw=e=>t=>1-e(1-t),Cw=xl(.33,1.53,.69,.99),ip=Sw(Cw),kw=ww(ip),jw=e=>(e*=2)<1?.5*ip(e):.5*(2-Math.pow(2,-10*(e-1))),ap=e=>1-Math.sin(Math.acos(e)),Nw=Sw(ap),Tw=ww(ap),YA=xl(.42,0,1,1),IA=xl(0,0,.58,1),Aw=xl(.42,0,.58,1),QA=e=>Array.isArray(e)&&typeof e[0]!="number",Ew=e=>Array.isArray(e)&&typeof e[0]=="number",XA={linear:fs,easeIn:YA,easeInOut:Aw,easeOut:IA,circIn:ap,circInOut:Tw,circOut:Nw,backIn:ip,backInOut:kw,backOut:Cw,anticipate:jw},ZA=e=>typeof e=="string",bb=e=>{if(Ew(e)){tp(e.length===4);const[t,s,a,o]=e;return xl(t,s,a,o)}else if(ZA(e))return XA[e];return e},Vc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function WA(e,t){let s=new Set,a=new Set,o=!1,c=!1;const d=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(y){d.has(y)&&(g.schedule(y),e()),y(f)}const g={schedule:(y,b=!1,x=!1)=>{const j=x&&o?s:a;return b&&d.add(y),j.has(y)||j.add(y),y},cancel:y=>{a.delete(y),d.delete(y)},process:y=>{if(f=y,o){c=!0;return}o=!0,[s,a]=[a,s],s.forEach(m),s.clear(),o=!1,c&&(c=!1,g.process(y))}};return g}const JA=40;function Mw(e,t){let s=!1,a=!0;const o={delta:0,timestamp:0,isProcessing:!1},c=()=>s=!0,d=Vc.reduce((_,P)=>(_[P]=WA(c),_),{}),{setup:f,read:m,resolveKeyframes:g,preUpdate:y,update:b,preRender:x,render:S,postRender:j}=d,k=()=>{const _=ci.useManualTiming?o.timestamp:performance.now();s=!1,ci.useManualTiming||(o.delta=a?1e3/60:Math.max(Math.min(_-o.timestamp,JA),1)),o.timestamp=_,o.isProcessing=!0,f.process(o),m.process(o),g.process(o),y.process(o),b.process(o),x.process(o),S.process(o),j.process(o),o.isProcessing=!1,s&&t&&(a=!1,e(k))},A=()=>{s=!0,a=!0,o.isProcessing||e(k)};return{schedule:Vc.reduce((_,P)=>{const R=d[P];return _[P]=(K,Q=!1,L=!1)=>(s||A(),R.schedule(K,Q,L)),_},{}),cancel:_=>{for(let P=0;P<Vc.length;P++)d[Vc[P]].cancel(_)},state:o,steps:d}}const{schedule:Mt,cancel:Gi,state:xn,steps:vh}=Mw(typeof requestAnimationFrame<"u"?requestAnimationFrame:fs,!0);let eu;function eE(){eu=void 0}const qn={now:()=>(eu===void 0&&qn.set(xn.isProcessing||ci.useManualTiming?xn.timestamp:performance.now()),eu),set:e=>{eu=e,queueMicrotask(eE)}},_w=e=>t=>typeof t=="string"&&t.startsWith(e),rp=_w("--"),tE=_w("var(--"),op=e=>tE(e)?nE.test(e.split("/*")[0].trim()):!1,nE=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Er={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ol={...Er,transform:e=>li(0,1,e)},Hc={...Er,default:1},Yo=e=>Math.round(e*1e5)/1e5,lp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function sE(e){return e==null}const iE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,cp=(e,t)=>s=>!!(typeof s=="string"&&iE.test(s)&&s.startsWith(e)||t&&!sE(s)&&Object.prototype.hasOwnProperty.call(s,t)),Rw=(e,t,s)=>a=>{if(typeof a!="string")return a;const[o,c,d,f]=a.match(lp);return{[e]:parseFloat(o),[t]:parseFloat(c),[s]:parseFloat(d),alpha:f!==void 0?parseFloat(f):1}},aE=e=>li(0,255,e),bh={...Er,transform:e=>Math.round(aE(e))},xa={test:cp("rgb","red"),parse:Rw("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:a=1})=>"rgba("+bh.transform(e)+", "+bh.transform(t)+", "+bh.transform(s)+", "+Yo(ol.transform(a))+")"};function rE(e){let t="",s="",a="",o="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),a=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),a=e.substring(3,4),o=e.substring(4,5),t+=t,s+=s,a+=a,o+=o),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(a,16),alpha:o?parseInt(o,16)/255:1}}const Zh={test:cp("#"),parse:rE,transform:xa.transform},wl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Bi=wl("deg"),Os=wl("%"),Oe=wl("px"),oE=wl("vh"),lE=wl("vw"),xb={...Os,parse:e=>Os.parse(e)/100,transform:e=>Os.transform(e*100)},dr={test:cp("hsl","hue"),parse:Rw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:a=1})=>"hsla("+Math.round(e)+", "+Os.transform(Yo(t))+", "+Os.transform(Yo(s))+", "+Yo(ol.transform(a))+")"},It={test:e=>xa.test(e)||Zh.test(e)||dr.test(e),parse:e=>xa.test(e)?xa.parse(e):dr.test(e)?dr.parse(e):Zh.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?xa.transform(e):dr.transform(e),getAnimatableNone:e=>{const t=It.parse(e);return t.alpha=0,It.transform(t)}},cE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function uE(e){return isNaN(e)&&typeof e=="string"&&(e.match(lp)?.length||0)+(e.match(cE)?.length||0)>0}const Dw="number",Lw="color",dE="var",fE="var(",wb="${}",hE=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ll(e){const t=e.toString(),s=[],a={color:[],number:[],var:[]},o=[];let c=0;const f=t.replace(hE,m=>(It.test(m)?(a.color.push(c),o.push(Lw),s.push(It.parse(m))):m.startsWith(fE)?(a.var.push(c),o.push(dE),s.push(m)):(a.number.push(c),o.push(Dw),s.push(parseFloat(m))),++c,wb)).split(wb);return{values:s,split:f,indexes:a,types:o}}function Ow(e){return ll(e).values}function Pw(e){const{split:t,types:s}=ll(e),a=t.length;return o=>{let c="";for(let d=0;d<a;d++)if(c+=t[d],o[d]!==void 0){const f=s[d];f===Dw?c+=Yo(o[d]):f===Lw?c+=It.transform(o[d]):c+=o[d]}return c}}const mE=e=>typeof e=="number"?0:It.test(e)?It.getAnimatableNone(e):e;function pE(e){const t=Ow(e);return Pw(e)(t.map(mE))}const Ki={test:uE,parse:Ow,createTransformer:Pw,getAnimatableNone:pE};function xh(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function gE({hue:e,saturation:t,lightness:s,alpha:a}){e/=360,t/=100,s/=100;let o=0,c=0,d=0;if(!t)o=c=d=s;else{const f=s<.5?s*(1+t):s+t-s*t,m=2*s-f;o=xh(m,f,e+1/3),c=xh(m,f,e),d=xh(m,f,e-1/3)}return{red:Math.round(o*255),green:Math.round(c*255),blue:Math.round(d*255),alpha:a}}function yu(e,t){return s=>s>0?t:e}const Dt=(e,t,s)=>e+(t-e)*s,wh=(e,t,s)=>{const a=e*e,o=s*(t*t-a)+a;return o<0?0:Math.sqrt(o)},yE=[Zh,xa,dr],vE=e=>yE.find(t=>t.test(e));function Sb(e){const t=vE(e);if(!t)return!1;let s=t.parse(e);return t===dr&&(s=gE(s)),s}const Cb=(e,t)=>{const s=Sb(e),a=Sb(t);if(!s||!a)return yu(e,t);const o={...s};return c=>(o.red=wh(s.red,a.red,c),o.green=wh(s.green,a.green,c),o.blue=wh(s.blue,a.blue,c),o.alpha=Dt(s.alpha,a.alpha,c),xa.transform(o))},Wh=new Set(["none","hidden"]);function bE(e,t){return Wh.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function xE(e,t){return s=>Dt(e,t,s)}function up(e){return typeof e=="number"?xE:typeof e=="string"?op(e)?yu:It.test(e)?Cb:CE:Array.isArray(e)?zw:typeof e=="object"?It.test(e)?Cb:wE:yu}function zw(e,t){const s=[...e],a=s.length,o=e.map((c,d)=>up(c)(c,t[d]));return c=>{for(let d=0;d<a;d++)s[d]=o[d](c);return s}}function wE(e,t){const s={...e,...t},a={};for(const o in s)e[o]!==void 0&&t[o]!==void 0&&(a[o]=up(e[o])(e[o],t[o]));return o=>{for(const c in a)s[c]=a[c](o);return s}}function SE(e,t){const s=[],a={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const c=t.types[o],d=e.indexes[c][a[c]],f=e.values[d]??0;s[o]=f,a[c]++}return s}const CE=(e,t)=>{const s=Ki.createTransformer(t),a=ll(e),o=ll(t);return a.indexes.var.length===o.indexes.var.length&&a.indexes.color.length===o.indexes.color.length&&a.indexes.number.length>=o.indexes.number.length?Wh.has(e)&&!o.values.length||Wh.has(t)&&!a.values.length?bE(e,t):bl(zw(SE(a,o),o.values),s):yu(e,t)};function Bw(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?Dt(e,t,s):up(e)(e,t)}const kE=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>Mt.update(t,s),stop:()=>Gi(t),now:()=>xn.isProcessing?xn.timestamp:qn.now()}},qw=(e,t,s=10)=>{let a="";const o=Math.max(Math.round(t/s),2);for(let c=0;c<o;c++)a+=Math.round(e(c/(o-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},vu=2e4;function dp(e){let t=0;const s=50;let a=e.next(t);for(;!a.done&&t<vu;)t+=s,a=e.next(t);return t>=vu?1/0:t}function jE(e,t=100,s){const a=s({...e,keyframes:[0,t]}),o=Math.min(dp(a),vu);return{type:"keyframes",ease:c=>a.next(o*c).value/t,duration:Ls(o)}}const NE=5;function Uw(e,t,s){const a=Math.max(t-NE,0);return bw(s-e(a),t-a)}const zt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sh=.001;function TE({duration:e=zt.duration,bounce:t=zt.bounce,velocity:s=zt.velocity,mass:a=zt.mass}){let o,c,d=1-t;d=li(zt.minDamping,zt.maxDamping,d),e=li(zt.minDuration,zt.maxDuration,Ls(e)),d<1?(o=g=>{const y=g*d,b=y*e,x=y-s,S=Jh(g,d),j=Math.exp(-b);return Sh-x/S*j},c=g=>{const b=g*d*e,x=b*s+s,S=Math.pow(d,2)*Math.pow(g,2)*e,j=Math.exp(-b),k=Jh(Math.pow(g,2),d);return(-o(g)+Sh>0?-1:1)*((x-S)*j)/k}):(o=g=>{const y=Math.exp(-g*e),b=(g-s)*e+1;return-Sh+y*b},c=g=>{const y=Math.exp(-g*e),b=(s-g)*(e*e);return y*b});const f=5/e,m=EE(o,c,f);if(e=Ds(e),isNaN(m))return{stiffness:zt.stiffness,damping:zt.damping,duration:e};{const g=Math.pow(m,2)*a;return{stiffness:g,damping:d*2*Math.sqrt(a*g),duration:e}}}const AE=12;function EE(e,t,s){let a=s;for(let o=1;o<AE;o++)a=a-e(a)/t(a);return a}function Jh(e,t){return e*Math.sqrt(1-t*t)}const ME=["duration","bounce"],_E=["stiffness","damping","mass"];function kb(e,t){return t.some(s=>e[s]!==void 0)}function RE(e){let t={velocity:zt.velocity,stiffness:zt.stiffness,damping:zt.damping,mass:zt.mass,isResolvedFromDuration:!1,...e};if(!kb(e,_E)&&kb(e,ME))if(e.visualDuration){const s=e.visualDuration,a=2*Math.PI/(s*1.2),o=a*a,c=2*li(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:zt.mass,stiffness:o,damping:c}}else{const s=TE(e);t={...t,...s,mass:zt.mass},t.isResolvedFromDuration=!0}return t}function bu(e=zt.visualDuration,t=zt.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:a,restDelta:o}=s;const c=s.keyframes[0],d=s.keyframes[s.keyframes.length-1],f={done:!1,value:c},{stiffness:m,damping:g,mass:y,duration:b,velocity:x,isResolvedFromDuration:S}=RE({...s,velocity:-Ls(s.velocity||0)}),j=x||0,k=g/(2*Math.sqrt(m*y)),A=d-c,N=Ls(Math.sqrt(m/y)),T=Math.abs(A)<5;a||(a=T?zt.restSpeed.granular:zt.restSpeed.default),o||(o=T?zt.restDelta.granular:zt.restDelta.default);let _;if(k<1){const R=Jh(N,k);_=K=>{const Q=Math.exp(-k*N*K);return d-Q*((j+k*N*A)/R*Math.sin(R*K)+A*Math.cos(R*K))}}else if(k===1)_=R=>d-Math.exp(-N*R)*(A+(j+N*A)*R);else{const R=N*Math.sqrt(k*k-1);_=K=>{const Q=Math.exp(-k*N*K),L=Math.min(R*K,300);return d-Q*((j+k*N*A)*Math.sinh(L)+R*A*Math.cosh(L))/R}}const P={calculatedDuration:S&&b||null,next:R=>{const K=_(R);if(S)f.done=R>=b;else{let Q=R===0?j:0;k<1&&(Q=R===0?Ds(j):Uw(_,R,K));const L=Math.abs(Q)<=a,Z=Math.abs(d-K)<=o;f.done=L&&Z}return f.value=f.done?d:K,f},toString:()=>{const R=Math.min(dp(P),vu),K=qw(Q=>P.next(R*Q).value,R,30);return R+"ms "+K},toTransition:()=>{}};return P}bu.applyToOptions=e=>{const t=jE(e,100,bu);return e.ease=t.ease,e.duration=Ds(t.duration),e.type="keyframes",e};function em({keyframes:e,velocity:t=0,power:s=.8,timeConstant:a=325,bounceDamping:o=10,bounceStiffness:c=500,modifyTarget:d,min:f,max:m,restDelta:g=.5,restSpeed:y}){const b=e[0],x={done:!1,value:b},S=L=>f!==void 0&&L<f||m!==void 0&&L>m,j=L=>f===void 0?m:m===void 0||Math.abs(f-L)<Math.abs(m-L)?f:m;let k=s*t;const A=b+k,N=d===void 0?A:d(A);N!==A&&(k=N-b);const T=L=>-k*Math.exp(-L/a),_=L=>N+T(L),P=L=>{const Z=T(L),re=_(L);x.done=Math.abs(Z)<=g,x.value=x.done?N:re};let R,K;const Q=L=>{S(x.value)&&(R=L,K=bu({keyframes:[x.value,j(x.value)],velocity:Uw(_,L,x.value),damping:o,stiffness:c,restDelta:g,restSpeed:y}))};return Q(0),{calculatedDuration:null,next:L=>{let Z=!1;return!K&&R===void 0&&(Z=!0,P(L),Q(L)),R!==void 0&&L>=R?K.next(L-R):(!Z&&P(L),x)}}}function DE(e,t,s){const a=[],o=s||ci.mix||Bw,c=e.length-1;for(let d=0;d<c;d++){let f=o(e[d],e[d+1]);if(t){const m=Array.isArray(t)?t[d]||fs:t;f=bl(m,f)}a.push(f)}return a}function LE(e,t,{clamp:s=!0,ease:a,mixer:o}={}){const c=e.length;if(tp(c===t.length),c===1)return()=>t[0];if(c===2&&t[0]===t[1])return()=>t[1];const d=e[0]===e[1];e[0]>e[c-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=DE(t,a,o),m=f.length,g=y=>{if(d&&y<e[0])return t[0];let b=0;if(m>1)for(;b<e.length-2&&!(y<e[b+1]);b++);const x=rl(e[b],e[b+1],y);return f[b](x)};return s?y=>g(li(e[0],e[c-1],y)):g}function OE(e,t){const s=e[e.length-1];for(let a=1;a<=t;a++){const o=rl(0,t,a);e.push(Dt(s,1,o))}}function PE(e){const t=[0];return OE(t,e.length-1),t}function zE(e,t){return e.map(s=>s*t)}function BE(e,t){return e.map(()=>t||Aw).splice(0,e.length-1)}function Io({duration:e=300,keyframes:t,times:s,ease:a="easeInOut"}){const o=QA(a)?a.map(bb):bb(a),c={done:!1,value:t[0]},d=zE(s&&s.length===t.length?s:PE(t),e),f=LE(d,t,{ease:Array.isArray(o)?o:BE(t,o)});return{calculatedDuration:e,next:m=>(c.value=f(m),c.done=m>=e,c)}}const qE=e=>e!==null;function fp(e,{repeat:t,repeatType:s="loop"},a,o=1){const c=e.filter(qE),f=o<0||t&&s!=="loop"&&t%2===1?0:c.length-1;return!f||a===void 0?c[f]:a}const UE={decay:em,inertia:em,tween:Io,keyframes:Io,spring:bu};function Vw(e){typeof e.type=="string"&&(e.type=UE[e.type])}class hp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const VE=e=>e/100;class mp extends hp{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==qn.now()&&this.tick(qn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Vw(t);const{type:s=Io,repeat:a=0,repeatDelay:o=0,repeatType:c,velocity:d=0}=t;let{keyframes:f}=t;const m=s||Io;m!==Io&&typeof f[0]!="number"&&(this.mixKeyframes=bl(VE,Bw(f[0],f[1])),f=[0,100]);const g=m({...t,keyframes:f});c==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...f].reverse(),velocity:-d})),g.calculatedDuration===null&&(g.calculatedDuration=dp(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+o,this.totalDuration=this.resolvedDuration*(a+1)-o,this.generator=g}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:a,totalDuration:o,mixKeyframes:c,mirroredGenerator:d,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return a.next(0);const{delay:g=0,keyframes:y,repeat:b,repeatType:x,repeatDelay:S,type:j,onUpdate:k,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const N=this.currentTime-g*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?N<0:N>o;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let _=this.currentTime,P=a;if(b){const L=Math.min(this.currentTime,o)/f;let Z=Math.floor(L),re=L%1;!re&&L>=1&&(re=1),re===1&&Z--,Z=Math.min(Z,b+1),!!(Z%2)&&(x==="reverse"?(re=1-re,S&&(re-=S/f)):x==="mirror"&&(P=d)),_=li(0,1,re)*f}const R=T?{done:!1,value:y[0]}:P.next(_);c&&(R.value=c(R.value));let{done:K}=R;!T&&m!==null&&(K=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const Q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&K);return Q&&j!==em&&(R.value=fp(y,this.options,A,this.speed)),k&&k(R.value),Q&&this.finish(),R}then(t,s){return this.finished.then(t,s)}get duration(){return Ls(this.calculatedDuration)}get time(){return Ls(this.currentTime)}set time(t){t=Ds(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(qn.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=Ls(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=kE,startTime:s}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=s??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(qn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function HE(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const wa=e=>e*180/Math.PI,tm=e=>{const t=wa(Math.atan2(e[1],e[0]));return nm(t)},$E={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:tm,rotateZ:tm,skewX:e=>wa(Math.atan(e[1])),skewY:e=>wa(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},nm=e=>(e=e%360,e<0&&(e+=360),e),jb=tm,Nb=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Tb=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),GE={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Nb,scaleY:Tb,scale:e=>(Nb(e)+Tb(e))/2,rotateX:e=>nm(wa(Math.atan2(e[6],e[5]))),rotateY:e=>nm(wa(Math.atan2(-e[2],e[0]))),rotateZ:jb,rotate:jb,skewX:e=>wa(Math.atan(e[4])),skewY:e=>wa(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function sm(e){return e.includes("scale")?1:0}function im(e,t){if(!e||e==="none")return sm(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,o;if(s)a=GE,o=s;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=$E,o=f}if(!o)return sm(t);const c=a[t],d=o[1].split(",").map(FE);return typeof c=="function"?c(d):d[c]}const KE=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return im(s,t)};function FE(e){return parseFloat(e.trim())}const Mr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_r=new Set(Mr),Ab=e=>e===Er||e===Oe,YE=new Set(["x","y","z"]),IE=Mr.filter(e=>!YE.has(e));function QE(e){const t=[];return IE.forEach(s=>{const a=e.getValue(s);a!==void 0&&(t.push([s,a.get()]),a.set(s.startsWith("scale")?1:0))}),t}const Ca={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>im(t,"x"),y:(e,{transform:t})=>im(t,"y")};Ca.translateX=Ca.x;Ca.translateY=Ca.y;const ka=new Set;let am=!1,rm=!1,om=!1;function Hw(){if(rm){const e=Array.from(ka).filter(a=>a.needsMeasurement),t=new Set(e.map(a=>a.element)),s=new Map;t.forEach(a=>{const o=QE(a);o.length&&(s.set(a,o),a.render())}),e.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const o=s.get(a);o&&o.forEach(([c,d])=>{a.getValue(c)?.set(d)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}rm=!1,am=!1,ka.forEach(e=>e.complete(om)),ka.clear()}function $w(){ka.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(rm=!0)})}function XE(){om=!0,$w(),Hw(),om=!1}class pp{constructor(t,s,a,o,c,d=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=a,this.motionValue=o,this.element=c,this.isAsync=d}scheduleResolve(){this.state="scheduled",this.isAsync?(ka.add(this),am||(am=!0,Mt.read($w),Mt.resolveKeyframes(Hw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:a,motionValue:o}=this;if(t[0]===null){const c=o?.get(),d=t[t.length-1];if(c!==void 0)t[0]=c;else if(a&&s){const f=a.readValue(s,d);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=d),o&&c===void 0&&o.set(t[0])}HE(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ka.delete(this)}cancel(){this.state==="scheduled"&&(ka.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const ZE=e=>e.startsWith("--");function WE(e,t,s){ZE(t)?e.style.setProperty(t,s):e.style[t]=s}const JE=np(()=>window.ScrollTimeline!==void 0),e4={};function t4(e,t){const s=np(e);return()=>e4[t]??s()}const Gw=t4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Vo=([e,t,s,a])=>`cubic-bezier(${e}, ${t}, ${s}, ${a})`,Eb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vo([0,.65,.55,1]),circOut:Vo([.55,0,1,.45]),backIn:Vo([.31,.01,.66,-.59]),backOut:Vo([.33,1.53,.69,.99])};function Kw(e,t){if(e)return typeof e=="function"?Gw()?qw(e,t):"ease-out":Ew(e)?Vo(e):Array.isArray(e)?e.map(s=>Kw(s,t)||Eb.easeOut):Eb[e]}function n4(e,t,s,{delay:a=0,duration:o=300,repeat:c=0,repeatType:d="loop",ease:f="easeOut",times:m}={},g=void 0){const y={[t]:s};m&&(y.offset=m);const b=Kw(f,o);Array.isArray(b)&&(y.easing=b);const x={delay:a,duration:o,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:c+1,direction:d==="reverse"?"alternate":"normal"};return g&&(x.pseudoElement=g),e.animate(y,x)}function Fw(e){return typeof e=="function"&&"applyToOptions"in e}function s4({type:e,...t}){return Fw(e)&&Gw()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class i4 extends hp{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:a,keyframes:o,pseudoElement:c,allowFlatten:d=!1,finalKeyframe:f,onComplete:m}=t;this.isPseudoElement=!!c,this.allowFlatten=d,this.options=t,tp(typeof t.type!="string");const g=s4(t);this.animation=n4(s,a,o,g,c),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const y=fp(o,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):WE(s,a,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Ls(Number(t))}get time(){return Ls(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ds(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&JE()?(this.animation.timeline=t,fs):s(this)}}const Yw={anticipate:jw,backInOut:kw,circInOut:Tw};function a4(e){return e in Yw}function r4(e){typeof e.ease=="string"&&a4(e.ease)&&(e.ease=Yw[e.ease])}const Mb=10;class o4 extends i4{constructor(t){r4(t),Vw(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:a,onComplete:o,element:c,...d}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const f=new mp({...d,autoplay:!1}),m=Ds(this.finishedTime??this.time);s.setWithVelocity(f.sample(m-Mb).value,f.sample(m).value,Mb),f.stop()}}const _b=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ki.test(e)||e==="0")&&!e.startsWith("url("));function l4(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function c4(e,t,s,a){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const c=e[e.length-1],d=_b(o,t),f=_b(c,t);return!d||!f?!1:l4(e)||(s==="spring"||Fw(s))&&a}function lm(e){e.duration=0,e.type}const u4=new Set(["opacity","clipPath","filter","transform"]),d4=np(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function f4(e){const{motionValue:t,name:s,repeatDelay:a,repeatType:o,damping:c,type:d}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=t.owner.getProps();return d4()&&s&&u4.has(s)&&(s!=="transform"||!g)&&!m&&!a&&o!=="mirror"&&c!==0&&d!=="inertia"}const h4=40;class m4 extends hp{constructor({autoplay:t=!0,delay:s=0,type:a="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:d="loop",keyframes:f,name:m,motionValue:g,element:y,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=qn.now();const x={autoplay:t,delay:s,type:a,repeat:o,repeatDelay:c,repeatType:d,name:m,motionValue:g,element:y,...b},S=y?.KeyframeResolver||pp;this.keyframeResolver=new S(f,(j,k,A)=>this.onKeyframesResolved(j,k,x,!A),m,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,s,a,o){this.keyframeResolver=void 0;const{name:c,type:d,velocity:f,delay:m,isHandoff:g,onUpdate:y}=a;this.resolvedAt=qn.now(),c4(t,c,d,f)||((ci.instantAnimations||!m)&&y?.(fp(t,a,s)),t[0]=t[t.length-1],lm(a),a.repeat=0);const x={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>h4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...a,keyframes:t},S=!g&&f4(x)?new o4({...x,element:x.motionValue.owner.current}):new mp(x);S.finished.then(()=>this.notifyFinished()).catch(fs),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),XE()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const p4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function g4(e){const t=p4.exec(e);if(!t)return[,];const[,s,a,o]=t;return[`--${s??a}`,o]}function Iw(e,t,s=1){const[a,o]=g4(e);if(!a)return;const c=window.getComputedStyle(t).getPropertyValue(a);if(c){const d=c.trim();return gw(d)?parseFloat(d):d}return op(o)?Iw(o,t,s+1):o}function gp(e,t){return e?.[t]??e?.default??e}const Qw=new Set(["width","height","top","left","right","bottom",...Mr]),y4={test:e=>e==="auto",parse:e=>e},Xw=e=>t=>t.test(e),Zw=[Er,Oe,Os,Bi,lE,oE,y4],Rb=e=>Zw.find(Xw(e));function v4(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||vw(e):!0}const b4=new Set(["brightness","contrast","saturate","opacity"]);function x4(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=s.match(lp)||[];if(!a)return e;const o=s.replace(a,"");let c=b4.has(t)?1:0;return a!==s&&(c*=100),t+"("+c+o+")"}const w4=/\b([a-z-]*)\(.*?\)/gu,cm={...Ki,getAnimatableNone:e=>{const t=e.match(w4);return t?t.map(x4).join(" "):e}},Db={...Er,transform:Math.round},S4={rotate:Bi,rotateX:Bi,rotateY:Bi,rotateZ:Bi,scale:Hc,scaleX:Hc,scaleY:Hc,scaleZ:Hc,skew:Bi,skewX:Bi,skewY:Bi,distance:Oe,translateX:Oe,translateY:Oe,translateZ:Oe,x:Oe,y:Oe,z:Oe,perspective:Oe,transformPerspective:Oe,opacity:ol,originX:xb,originY:xb,originZ:Oe},yp={borderWidth:Oe,borderTopWidth:Oe,borderRightWidth:Oe,borderBottomWidth:Oe,borderLeftWidth:Oe,borderRadius:Oe,radius:Oe,borderTopLeftRadius:Oe,borderTopRightRadius:Oe,borderBottomRightRadius:Oe,borderBottomLeftRadius:Oe,width:Oe,maxWidth:Oe,height:Oe,maxHeight:Oe,top:Oe,right:Oe,bottom:Oe,left:Oe,padding:Oe,paddingTop:Oe,paddingRight:Oe,paddingBottom:Oe,paddingLeft:Oe,margin:Oe,marginTop:Oe,marginRight:Oe,marginBottom:Oe,marginLeft:Oe,backgroundPositionX:Oe,backgroundPositionY:Oe,...S4,zIndex:Db,fillOpacity:ol,strokeOpacity:ol,numOctaves:Db},C4={...yp,color:It,backgroundColor:It,outlineColor:It,fill:It,stroke:It,borderColor:It,borderTopColor:It,borderRightColor:It,borderBottomColor:It,borderLeftColor:It,filter:cm,WebkitFilter:cm},Ww=e=>C4[e];function Jw(e,t){let s=Ww(e);return s!==cm&&(s=Ki),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const k4=new Set(["auto","none","0"]);function j4(e,t,s){let a=0,o;for(;a<e.length&&!o;){const c=e[a];typeof c=="string"&&!k4.has(c)&&ll(c).values.length&&(o=e[a]),a++}if(o&&s)for(const c of t)e[c]=Jw(s,o)}class N4 extends pp{constructor(t,s,a,o,c){super(t,s,a,o,c,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:a}=this;if(!s||!s.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let g=t[m];if(typeof g=="string"&&(g=g.trim(),op(g))){const y=Iw(g,s.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Qw.has(a)||t.length!==2)return;const[o,c]=t,d=Rb(o),f=Rb(c);if(d!==f)if(Ab(d)&&Ab(f))for(let m=0;m<t.length;m++){const g=t[m];typeof g=="string"&&(t[m]=parseFloat(g))}else Ca[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,a=[];for(let o=0;o<t.length;o++)(t[o]===null||v4(t[o]))&&a.push(o);a.length&&j4(t,a,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ca[a](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const o=s[s.length-1];o!==void 0&&t.getValue(a,o).jump(o,!1)}measureEndState(){const{element:t,name:s,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const o=t.getValue(s);o&&o.jump(this.measuredOrigin,!1);const c=a.length-1,d=a[c];a[c]=Ca[s](t.measureViewportBox(),window.getComputedStyle(t.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{t.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function T4(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let a=document;const o=s?.[e]??a.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const e2=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function t2(e){return yw(e)&&"offsetHeight"in e}const Lb=30,A4=e=>!isNaN(parseFloat(e));class E4{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{const o=qn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=qn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=A4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new sp);const a=this.events[t].add(s);return t==="change"?()=>{a(),Mt.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,s,a){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=qn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Lb)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Lb);return bw(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function br(e,t){return new E4(e,t)}const{schedule:vp}=Mw(queueMicrotask,!1),ys={x:!1,y:!1};function n2(){return ys.x||ys.y}function M4(e){return e==="x"||e==="y"?ys[e]?null:(ys[e]=!0,()=>{ys[e]=!1}):ys.x||ys.y?null:(ys.x=ys.y=!0,()=>{ys.x=ys.y=!1})}function s2(e,t){const s=T4(e),a=new AbortController,o={passive:!0,...t,signal:a.signal};return[s,o,()=>a.abort()]}function Ob(e){return!(e.pointerType==="touch"||n2())}function _4(e,t,s={}){const[a,o,c]=s2(e,s),d=f=>{if(!Ob(f))return;const{target:m}=f,g=t(m,f);if(typeof g!="function"||!m)return;const y=b=>{Ob(b)&&(g(b),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,o)};return a.forEach(f=>{f.addEventListener("pointerenter",d,o)}),c}const i2=(e,t)=>t?e===t?!0:i2(e,t.parentElement):!1,bp=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,R4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function D4(e){return R4.has(e.tagName)||e.tabIndex!==-1}const tu=new WeakSet;function Pb(e){return t=>{t.key==="Enter"&&e(t)}}function Ch(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const L4=(e,t)=>{const s=e.currentTarget;if(!s)return;const a=Pb(()=>{if(tu.has(s))return;Ch(s,"down");const o=Pb(()=>{Ch(s,"up")}),c=()=>Ch(s,"cancel");s.addEventListener("keyup",o,t),s.addEventListener("blur",c,t)});s.addEventListener("keydown",a,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",a),t)};function zb(e){return bp(e)&&!n2()}function O4(e,t,s={}){const[a,o,c]=s2(e,s),d=f=>{const m=f.currentTarget;if(!zb(f))return;tu.add(m);const g=t(m,f),y=(S,j)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",x),tu.has(m)&&tu.delete(m),zb(S)&&typeof g=="function"&&g(S,{success:j})},b=S=>{y(S,m===window||m===document||s.useGlobalTarget||i2(m,S.target))},x=S=>{y(S,!1)};window.addEventListener("pointerup",b,o),window.addEventListener("pointercancel",x,o)};return a.forEach(f=>{(s.useGlobalTarget?window:f).addEventListener("pointerdown",d,o),t2(f)&&(f.addEventListener("focus",g=>L4(g,o)),!D4(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),c}function a2(e){return yw(e)&&"ownerSVGElement"in e}function P4(e){return a2(e)&&e.tagName==="svg"}const kn=e=>!!(e&&e.getVelocity),z4=[...Zw,It,Ki],B4=e=>z4.find(Xw(e)),xp=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class q4 extends v.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const a=s.offsetParent,o=t2(a)&&a.offsetWidth||0,c=this.props.sizeRef.current;c.height=s.offsetHeight||0,c.width=s.offsetWidth||0,c.top=s.offsetTop,c.left=s.offsetLeft,c.right=o-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function U4({children:e,isPresent:t,anchorX:s,root:a}){const o=v.useId(),c=v.useRef(null),d=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=v.useContext(xp);return v.useInsertionEffect(()=>{const{width:m,height:g,top:y,left:b,right:x}=d.current;if(t||!c.current||!m||!g)return;const S=s==="left"?`left: ${b}`:`right: ${x}`;c.current.dataset.motionPopId=o;const j=document.createElement("style");f&&(j.nonce=f);const k=a??document.head;return k.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${g}px !important;
            ${S}px !important;
            top: ${y}px !important;
          }
        `),()=>{k.contains(j)&&k.removeChild(j)}},[t]),u.jsx(q4,{isPresent:t,childRef:c,sizeRef:d,children:v.cloneElement(e,{ref:c})})}const V4=({children:e,initial:t,isPresent:s,onExitComplete:a,custom:o,presenceAffectsLayout:c,mode:d,anchorX:f,root:m})=>{const g=Zm(H4),y=v.useId();let b=!0,x=v.useMemo(()=>(b=!1,{id:y,initial:t,isPresent:s,custom:o,onExitComplete:S=>{g.set(S,!0);for(const j of g.values())if(!j)return;a&&a()},register:S=>(g.set(S,!1),()=>g.delete(S))}),[s,g,a]);return c&&b&&(x={...x}),v.useMemo(()=>{g.forEach((S,j)=>g.set(j,!1))},[s]),v.useEffect(()=>{!s&&!g.size&&a&&a()},[s]),d==="popLayout"&&(e=u.jsx(U4,{isPresent:s,anchorX:f,root:m,children:e})),u.jsx(Ru.Provider,{value:x,children:e})};function H4(){return new Map}function r2(e=!0){const t=v.useContext(Ru);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:a,register:o}=t,c=v.useId();v.useEffect(()=>{if(e)return o(c)},[e]);const d=v.useCallback(()=>e&&a&&a(c),[c,a,e]);return!s&&a?[!1,d]:[!0]}const $c=e=>e.key||"";function Bb(e){const t=[];return v.Children.forEach(e,s=>{v.isValidElement(s)&&t.push(s)}),t}const Du=({children:e,custom:t,initial:s=!0,onExitComplete:a,presenceAffectsLayout:o=!0,mode:c="sync",propagate:d=!1,anchorX:f="left",root:m})=>{const[g,y]=r2(d),b=v.useMemo(()=>Bb(e),[e]),x=d&&!g?[]:b.map($c),S=v.useRef(!0),j=v.useRef(b),k=Zm(()=>new Map),[A,N]=v.useState(b),[T,_]=v.useState(b);pw(()=>{S.current=!1,j.current=b;for(let K=0;K<T.length;K++){const Q=$c(T[K]);x.includes(Q)?k.delete(Q):k.get(Q)!==!0&&k.set(Q,!1)}},[T,x.length,x.join("-")]);const P=[];if(b!==A){let K=[...b];for(let Q=0;Q<T.length;Q++){const L=T[Q],Z=$c(L);x.includes(Z)||(K.splice(Q,0,L),P.push(L))}return c==="wait"&&P.length&&(K=P),_(Bb(K)),N(b),null}const{forceRender:R}=v.useContext(Xm);return u.jsx(u.Fragment,{children:T.map(K=>{const Q=$c(K),L=d&&!g?!1:b===T||x.includes(Q),Z=()=>{if(k.has(Q))k.set(Q,!0);else return;let re=!0;k.forEach(he=>{he||(re=!1)}),re&&(R?.(),_(j.current),d&&y?.(),a&&a())};return u.jsx(V4,{isPresent:L,initial:!S.current||s?void 0:!1,custom:t,presenceAffectsLayout:o,mode:c,root:m,onExitComplete:L?void 0:Z,anchorX:f,children:K},Q)})})},o2=v.createContext({strict:!1}),qb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xr={};for(const e in qb)xr[e]={isEnabled:t=>qb[e].some(s=>!!t[s])};function $4(e){for(const t in e)xr[t]={...xr[t],...e[t]}}const G4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||G4.has(e)}let l2=e=>!xu(e);function K4(e){typeof e=="function"&&(l2=t=>t.startsWith("on")?!xu(t):e(t))}try{K4(require("@emotion/is-prop-valid").default)}catch{}function F4(e,t,s){const a={};for(const o in e)o==="values"&&typeof e.values=="object"||(l2(o)||s===!0&&xu(o)||!t&&!xu(o)||e.draggable&&o.startsWith("onDrag"))&&(a[o]=e[o]);return a}const Lu=v.createContext({});function Ou(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function cl(e){return typeof e=="string"||Array.isArray(e)}const wp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Sp=["initial",...wp];function Pu(e){return Ou(e.animate)||Sp.some(t=>cl(e[t]))}function c2(e){return!!(Pu(e)||e.variants)}function Y4(e,t){if(Pu(e)){const{initial:s,animate:a}=e;return{initial:s===!1||cl(s)?s:void 0,animate:cl(a)?a:void 0}}return e.inherit!==!1?t:{}}function I4(e){const{initial:t,animate:s}=Y4(e,v.useContext(Lu));return v.useMemo(()=>({initial:t,animate:s}),[Ub(t),Ub(s)])}function Ub(e){return Array.isArray(e)?e.join(" "):e}const ul={};function Q4(e){for(const t in e)ul[t]=e[t],rp(t)&&(ul[t].isCSSVariable=!0)}function u2(e,{layout:t,layoutId:s}){return _r.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!ul[e]||e==="opacity")}const X4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Z4=Mr.length;function W4(e,t,s){let a="",o=!0;for(let c=0;c<Z4;c++){const d=Mr[c],f=e[d];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(d.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||s){const g=e2(f,yp[d]);if(!m){o=!1;const y=X4[d]||d;a+=`${y}(${g}) `}s&&(t[d]=g)}}return a=a.trim(),s?a=s(t,o?"":a):o&&(a="none"),a}function Cp(e,t,s){const{style:a,vars:o,transformOrigin:c}=e;let d=!1,f=!1;for(const m in t){const g=t[m];if(_r.has(m)){d=!0;continue}else if(rp(m)){o[m]=g;continue}else{const y=e2(g,yp[m]);m.startsWith("origin")?(f=!0,c[m]=y):a[m]=y}}if(t.transform||(d||s?a.transform=W4(t,e.transform,s):a.transform&&(a.transform="none")),f){const{originX:m="50%",originY:g="50%",originZ:y=0}=c;a.transformOrigin=`${m} ${g} ${y}`}}const kp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function d2(e,t,s){for(const a in t)!kn(t[a])&&!u2(a,s)&&(e[a]=t[a])}function J4({transformTemplate:e},t){return v.useMemo(()=>{const s=kp();return Cp(s,t,e),Object.assign({},s.vars,s.style)},[t])}function eM(e,t){const s=e.style||{},a={};return d2(a,s,e),Object.assign(a,J4(e,t)),a}function tM(e,t){const s={},a=eM(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=a,s}const nM={offset:"stroke-dashoffset",array:"stroke-dasharray"},sM={offset:"strokeDashoffset",array:"strokeDasharray"};function iM(e,t,s=1,a=0,o=!0){e.pathLength=1;const c=o?nM:sM;e[c.offset]=Oe.transform(-a);const d=Oe.transform(t),f=Oe.transform(s);e[c.array]=`${d} ${f}`}function f2(e,{attrX:t,attrY:s,attrScale:a,pathLength:o,pathSpacing:c=1,pathOffset:d=0,...f},m,g,y){if(Cp(e,f,g),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:b,style:x}=e;b.transform&&(x.transform=b.transform,delete b.transform),(x.transform||b.transformOrigin)&&(x.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),x.transform&&(x.transformBox=y?.transformBox??"fill-box",delete b.transformBox),t!==void 0&&(b.x=t),s!==void 0&&(b.y=s),a!==void 0&&(b.scale=a),o!==void 0&&iM(b,o,c,d,!1)}const h2=()=>({...kp(),attrs:{}}),m2=e=>typeof e=="string"&&e.toLowerCase()==="svg";function aM(e,t,s,a){const o=v.useMemo(()=>{const c=h2();return f2(c,t,m2(a),e.transformTemplate,e.style),{...c.attrs,style:{...c.style}}},[t]);if(e.style){const c={};d2(c,e.style,e),o.style={...c,...o.style}}return o}const rM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jp(e){return typeof e!="string"||e.includes("-")?!1:!!(rM.indexOf(e)>-1||/[A-Z]/u.test(e))}function oM(e,t,s,{latestValues:a},o,c=!1){const f=(jp(e)?aM:tM)(t,a,o,e),m=F4(t,typeof e=="string",c),g=e!==v.Fragment?{...m,...f,ref:s}:{},{children:y}=t,b=v.useMemo(()=>kn(y)?y.get():y,[y]);return v.createElement(e,{...g,children:b})}function Vb(e){const t=[{},{}];return e?.values.forEach((s,a)=>{t[0][a]=s.get(),t[1][a]=s.getVelocity()}),t}function Np(e,t,s,a){if(typeof t=="function"){const[o,c]=Vb(a);t=t(s!==void 0?s:e.custom,o,c)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,c]=Vb(a);t=t(s!==void 0?s:e.custom,o,c)}return t}function nu(e){return kn(e)?e.get():e}function lM({scrapeMotionValuesFromProps:e,createRenderState:t},s,a,o){return{latestValues:cM(s,a,o,e),renderState:t()}}function cM(e,t,s,a){const o={},c=a(e,{});for(const x in c)o[x]=nu(c[x]);let{initial:d,animate:f}=e;const m=Pu(e),g=c2(e);t&&g&&!m&&e.inherit!==!1&&(d===void 0&&(d=t.initial),f===void 0&&(f=t.animate));let y=s?s.initial===!1:!1;y=y||d===!1;const b=y?f:d;if(b&&typeof b!="boolean"&&!Ou(b)){const x=Array.isArray(b)?b:[b];for(let S=0;S<x.length;S++){const j=Np(e,x[S]);if(j){const{transitionEnd:k,transition:A,...N}=j;for(const T in N){let _=N[T];if(Array.isArray(_)){const P=y?_.length-1:0;_=_[P]}_!==null&&(o[T]=_)}for(const T in k)o[T]=k[T]}}}return o}const p2=e=>(t,s)=>{const a=v.useContext(Lu),o=v.useContext(Ru),c=()=>lM(e,t,a,o);return s?c():Zm(c)};function Tp(e,t,s){const{style:a}=e,o={};for(const c in a)(kn(a[c])||t.style&&kn(t.style[c])||u2(c,e)||s?.getValue(c)?.liveStyle!==void 0)&&(o[c]=a[c]);return o}const uM=p2({scrapeMotionValuesFromProps:Tp,createRenderState:kp});function g2(e,t,s){const a=Tp(e,t,s);for(const o in e)if(kn(e[o])||kn(t[o])){const c=Mr.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;a[c]=e[o]}return a}const dM=p2({scrapeMotionValuesFromProps:g2,createRenderState:h2}),fM=Symbol.for("motionComponentSymbol");function fr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function hM(e,t,s){return v.useCallback(a=>{a&&e.onMount&&e.onMount(a),t&&(a?t.mount(a):t.unmount()),s&&(typeof s=="function"?s(a):fr(s)&&(s.current=a))},[t])}const Ap=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),mM="framerAppearId",y2="data-"+Ap(mM),v2=v.createContext({});function pM(e,t,s,a,o){const{visualElement:c}=v.useContext(Lu),d=v.useContext(o2),f=v.useContext(Ru),m=v.useContext(xp).reducedMotion,g=v.useRef(null);a=a||d.renderer,!g.current&&a&&(g.current=a(e,{visualState:t,parent:c,props:s,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const y=g.current,b=v.useContext(v2);y&&!y.projection&&o&&(y.type==="html"||y.type==="svg")&&gM(g.current,s,o,b);const x=v.useRef(!1);v.useInsertionEffect(()=>{y&&x.current&&y.update(s,f)});const S=s[y2],j=v.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return pw(()=>{y&&(x.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),j.current&&y.animationState&&y.animationState.animateChanges())}),v.useEffect(()=>{y&&(!j.current&&y.animationState&&y.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),j.current=!1),y.enteringChildren=void 0)}),y}function gM(e,t,s,a){const{layoutId:o,layout:c,drag:d,dragConstraints:f,layoutScroll:m,layoutRoot:g,layoutCrossfade:y}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:b2(e.parent)),e.projection.setOptions({layoutId:o,layout:c,alwaysMeasureLayout:!!d||f&&fr(f),visualElement:e,animationType:typeof c=="string"?c:"both",initialPromotionConfig:a,crossfade:y,layoutScroll:m,layoutRoot:g})}function b2(e){if(e)return e.options.allowProjection!==!1?e.projection:b2(e.parent)}function kh(e,{forwardMotionProps:t=!1}={},s,a){s&&$4(s);const o=jp(e)?dM:uM;function c(f,m){let g;const y={...v.useContext(xp),...f,layoutId:yM(f)},{isStatic:b}=y,x=I4(f),S=o(f,b);if(!b&&Wm){vM();const j=bM(y);g=j.MeasureLayout,x.visualElement=pM(e,S,y,a,j.ProjectionNode)}return u.jsxs(Lu.Provider,{value:x,children:[g&&x.visualElement?u.jsx(g,{visualElement:x.visualElement,...y}):null,oM(e,f,hM(S,x.visualElement,m),S,b,t)]})}c.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const d=v.forwardRef(c);return d[fM]=e,d}function yM({layoutId:e}){const t=v.useContext(Xm).id;return t&&e!==void 0?t+"-"+e:e}function vM(e,t){v.useContext(o2).strict}function bM(e){const{drag:t,layout:s}=xr;if(!t&&!s)return{};const a={...t,...s};return{MeasureLayout:t?.isEnabled(e)||s?.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function xM(e,t){if(typeof Proxy>"u")return kh;const s=new Map,a=(c,d)=>kh(c,d,e,t),o=(c,d)=>a(c,d);return new Proxy(o,{get:(c,d)=>d==="create"?a:(s.has(d)||s.set(d,kh(d,void 0,e,t)),s.get(d))})}function x2({top:e,left:t,right:s,bottom:a}){return{x:{min:t,max:s},y:{min:e,max:a}}}function wM({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function SM(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:a.y,right:a.x}}function jh(e){return e===void 0||e===1}function um({scale:e,scaleX:t,scaleY:s}){return!jh(e)||!jh(t)||!jh(s)}function ya(e){return um(e)||w2(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function w2(e){return Hb(e.x)||Hb(e.y)}function Hb(e){return e&&e!=="0%"}function wu(e,t,s){const a=e-s,o=t*a;return s+o}function $b(e,t,s,a,o){return o!==void 0&&(e=wu(e,o,a)),wu(e,s,a)+t}function dm(e,t=0,s=1,a,o){e.min=$b(e.min,t,s,a,o),e.max=$b(e.max,t,s,a,o)}function S2(e,{x:t,y:s}){dm(e.x,t.translate,t.scale,t.originPoint),dm(e.y,s.translate,s.scale,s.originPoint)}const Gb=.999999999999,Kb=1.0000000000001;function CM(e,t,s,a=!1){const o=s.length;if(!o)return;t.x=t.y=1;let c,d;for(let f=0;f<o;f++){c=s[f],d=c.projectionDelta;const{visualElement:m}=c.options;m&&m.props.style&&m.props.style.display==="contents"||(a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&mr(e,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),d&&(t.x*=d.x.scale,t.y*=d.y.scale,S2(e,d)),a&&ya(c.latestValues)&&mr(e,c.latestValues))}t.x<Kb&&t.x>Gb&&(t.x=1),t.y<Kb&&t.y>Gb&&(t.y=1)}function hr(e,t){e.min=e.min+t,e.max=e.max+t}function Fb(e,t,s,a,o=.5){const c=Dt(e.min,e.max,o);dm(e,t,s,c,a)}function mr(e,t){Fb(e.x,t.x,t.scaleX,t.scale,t.originX),Fb(e.y,t.y,t.scaleY,t.scale,t.originY)}function C2(e,t){return x2(SM(e.getBoundingClientRect(),t))}function kM(e,t,s){const a=C2(e,s),{scroll:o}=t;return o&&(hr(a.x,o.offset.x),hr(a.y,o.offset.y)),a}const Yb=()=>({translate:0,scale:1,origin:0,originPoint:0}),pr=()=>({x:Yb(),y:Yb()}),Ib=()=>({min:0,max:0}),$t=()=>({x:Ib(),y:Ib()}),fm={current:null},k2={current:!1};function jM(){if(k2.current=!0,!!Wm)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>fm.current=e.matches;e.addEventListener("change",t),t()}else fm.current=!1}const NM=new WeakMap;function TM(e,t,s){for(const a in t){const o=t[a],c=s[a];if(kn(o))e.addValue(a,o);else if(kn(c))e.addValue(a,br(o,{owner:e}));else if(c!==o)if(e.hasValue(a)){const d=e.getValue(a);d.liveStyle===!0?d.jump(o):d.hasAnimated||d.set(o)}else{const d=e.getStaticValue(a);e.addValue(a,br(d!==void 0?d:o,{owner:e}))}}for(const a in s)t[a]===void 0&&e.removeValue(a);return t}const Qb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class AM{scrapeMotionValuesFromProps(t,s,a){return{}}constructor({parent:t,props:s,presenceContext:a,reducedMotionConfig:o,blockInitialAnimation:c,visualState:d},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=pp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=qn.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Mt.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=d;this.latestValues=m,this.baseTarget={...m},this.initialValues=s.initial?{...m}:{},this.renderState=g,this.parent=t,this.props=s,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!c,this.isControllingVariants=Pu(s),this.isVariantNode=c2(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...b}=this.scrapeMotionValuesFromProps(s,{},this);for(const x in b){const S=b[x];m[x]!==void 0&&kn(S)&&S.set(m[x])}}mount(t){this.current=t,NM.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),k2.current||jM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fm.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Gi(this.notifyUpdate),Gi(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=_r.has(t);a&&this.onBindTransform&&this.onBindTransform();const o=s.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&Mt.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{o(),c&&c(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in xr){const s=xr[t];if(!s)continue;const{isEnabled:a,Feature:o}=s;if(!this.features[t]&&o&&a(this.props)&&(this.features[t]=new o(this)),this.features[t]){const c=this.features[t];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$t()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let a=0;a<Qb.length;a++){const o=Qb[a];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const c="on"+o,d=t[c];d&&(this.propEventSubscriptions[o]=this.on(o,d))}this.prevMotionValues=TM(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const a=this.values.get(t);s!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&s!==void 0&&(a=br(s===null?void 0:s,{owner:this}),this.addValue(t,a)),a}readValue(t,s){let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(gw(a)||vw(a))?a=parseFloat(a):!B4(a)&&Ki.test(s)&&(a=Jw(t,s)),this.setBaseTarget(t,kn(a)?a.get():a)),kn(a)?a.get():a}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const c=Np(this.props,s,this.presenceContext?.custom);c&&(a=c[t])}if(s&&a!==void 0)return a;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!kn(o)?o:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new sp),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){vp.render(this.render)}}class j2 extends AM{constructor(){super(...arguments),this.KeyframeResolver=N4}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:a}){delete s[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;kn(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function N2(e,{style:t,vars:s},a,o){const c=e.style;let d;for(d in t)c[d]=t[d];o?.applyProjectionStyles(c,a);for(d in s)c.setProperty(d,s[d])}function EM(e){return window.getComputedStyle(e)}class MM extends j2{constructor(){super(...arguments),this.type="html",this.renderInstance=N2}readValueFromInstance(t,s){if(_r.has(s))return this.projection?.isProjecting?sm(s):KE(t,s);{const a=EM(t),o=(rp(s)?a.getPropertyValue(s):a[s])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:s}){return C2(t,s)}build(t,s,a){Cp(t,s,a.transformTemplate)}scrapeMotionValuesFromProps(t,s,a){return Tp(t,s,a)}}const T2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _M(e,t,s,a){N2(e,t,void 0,a);for(const o in t.attrs)e.setAttribute(T2.has(o)?o:Ap(o),t.attrs[o])}class RM extends j2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$t}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(_r.has(s)){const a=Ww(s);return a&&a.default||0}return s=T2.has(s)?s:Ap(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,a){return g2(t,s,a)}build(t,s,a){f2(t,s,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(t,s,a,o){_M(t,s,a,o)}mount(t){this.isSVGTag=m2(t.tagName),super.mount(t)}}const DM=(e,t)=>jp(e)?new RM(t):new MM(t,{allowProjection:e!==v.Fragment});function yr(e,t,s){const a=e.getProps();return Np(a,t,s!==void 0?s:a.custom,e)}const hm=e=>Array.isArray(e);function LM(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,br(s))}function OM(e){return hm(e)?e[e.length-1]||0:e}function PM(e,t){const s=yr(e,t);let{transitionEnd:a={},transition:o={},...c}=s||{};c={...c,...a};for(const d in c){const f=OM(c[d]);LM(e,d,f)}}function zM(e){return!!(kn(e)&&e.add)}function mm(e,t){const s=e.getValue("willChange");if(zM(s))return s.add(t);if(!s&&ci.WillChange){const a=new ci.WillChange("auto");e.addValue("willChange",a),a.add(t)}}function A2(e){return e.props[y2]}const BM=e=>e!==null;function qM(e,{repeat:t,repeatType:s="loop"},a){const o=e.filter(BM),c=t&&s!=="loop"&&t%2===1?0:o.length-1;return o[c]}const UM={type:"spring",stiffness:500,damping:25,restSpeed:10},VM=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),HM={type:"keyframes",duration:.8},$M={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},GM=(e,{keyframes:t})=>t.length>2?HM:_r.has(e)?e.startsWith("scale")?VM(t[1]):UM:$M;function KM({when:e,delay:t,delayChildren:s,staggerChildren:a,staggerDirection:o,repeat:c,repeatType:d,repeatDelay:f,from:m,elapsed:g,...y}){return!!Object.keys(y).length}const Ep=(e,t,s,a={},o,c)=>d=>{const f=gp(a,e)||{},m=f.delay||a.delay||0;let{elapsed:g=0}=a;g=g-Ds(m);const y={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-g,onUpdate:x=>{t.set(x),f.onUpdate&&f.onUpdate(x)},onComplete:()=>{d(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:c?void 0:o};KM(f)||Object.assign(y,GM(e,y)),y.duration&&(y.duration=Ds(y.duration)),y.repeatDelay&&(y.repeatDelay=Ds(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let b=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(lm(y),y.delay===0&&(b=!0)),(ci.instantAnimations||ci.skipAnimations)&&(b=!0,lm(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,b&&!c&&t.get()!==void 0){const x=qM(y.keyframes,f);if(x!==void 0){Mt.update(()=>{y.onUpdate(x),y.onComplete()});return}}return f.isSync?new mp(y):new m4(y)};function FM({protectedKeys:e,needsAnimating:t},s){const a=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,a}function E2(e,t,{delay:s=0,transitionOverride:a,type:o}={}){let{transition:c=e.getDefaultTransition(),transitionEnd:d,...f}=t;a&&(c=a);const m=[],g=o&&e.animationState&&e.animationState.getState()[o];for(const y in f){const b=e.getValue(y,e.latestValues[y]??null),x=f[y];if(x===void 0||g&&FM(g,y))continue;const S={delay:s,...gp(c||{},y)},j=b.get();if(j!==void 0&&!b.isAnimating&&!Array.isArray(x)&&x===j&&!S.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const N=A2(e);if(N){const T=window.MotionHandoffAnimation(N,y,Mt);T!==null&&(S.startTime=T,k=!0)}}mm(e,y),b.start(Ep(y,b,x,e.shouldReduceMotion&&Qw.has(y)?{type:!1}:S,e,k));const A=b.animation;A&&m.push(A)}return d&&Promise.all(m).then(()=>{Mt.update(()=>{d&&PM(e,d)})}),m}function M2(e,t,s,a=0,o=1){const c=Array.from(e).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),d=e.size,f=(d-1)*a;return typeof s=="function"?s(c,d):o===1?c*a:f-c*a}function pm(e,t,s={}){const a=yr(e,t,s.type==="exit"?e.presenceContext?.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=a||{};s.transitionOverride&&(o=s.transitionOverride);const c=a?()=>Promise.all(E2(e,a,s)):()=>Promise.resolve(),d=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:b}=o;return YM(e,t,m,g,y,b,s)}:()=>Promise.resolve(),{when:f}=o;if(f){const[m,g]=f==="beforeChildren"?[c,d]:[d,c];return m().then(()=>g())}else return Promise.all([c(),d(s.delay)])}function YM(e,t,s=0,a=0,o=0,c=1,d){const f=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),f.push(pm(m,t,{...d,delay:s+(typeof a=="function"?0:a)+M2(e.variantChildren,m,a,o,c)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(f)}function IM(e,t,s={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const o=t.map(c=>pm(e,c,s));a=Promise.all(o)}else if(typeof t=="string")a=pm(e,t,s);else{const o=typeof t=="function"?yr(e,t,s.custom):t;a=Promise.all(E2(e,o,s))}return a.then(()=>{e.notify("AnimationComplete",t)})}function _2(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let a=0;a<s;a++)if(t[a]!==e[a])return!1;return!0}const QM=Sp.length;function R2(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?R2(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<QM;s++){const a=Sp[s],o=e.props[a];(cl(o)||o===!1)&&(t[a]=o)}return t}const XM=[...wp].reverse(),ZM=wp.length;function WM(e){return t=>Promise.all(t.map(({animation:s,options:a})=>IM(e,s,a)))}function JM(e){let t=WM(e),s=Xb(),a=!0;const o=m=>(g,y)=>{const b=yr(e,y,m==="exit"?e.presenceContext?.custom:void 0);if(b){const{transition:x,transitionEnd:S,...j}=b;g={...g,...j,...S}}return g};function c(m){t=m(e)}function d(m){const{props:g}=e,y=R2(e.parent)||{},b=[],x=new Set;let S={},j=1/0;for(let A=0;A<ZM;A++){const N=XM[A],T=s[N],_=g[N]!==void 0?g[N]:y[N],P=cl(_),R=N===m?T.isActive:null;R===!1&&(j=A);let K=_===y[N]&&_!==g[N]&&P;if(K&&a&&e.manuallyAnimateOnMount&&(K=!1),T.protectedKeys={...S},!T.isActive&&R===null||!_&&!T.prevProp||Ou(_)||typeof _=="boolean")continue;const Q=e_(T.prevProp,_);let L=Q||N===m&&T.isActive&&!K&&P||A>j&&P,Z=!1;const re=Array.isArray(_)?_:[_];let he=re.reduce(o(N),{});R===!1&&(he={});const{prevResolvedValues:ne={}}=T,ye={...ne,...he},le=V=>{L=!0,x.has(V)&&(Z=!0,x.delete(V)),T.needsAnimating[V]=!0;const X=e.getValue(V);X&&(X.liveStyle=!1)};for(const V in ye){const X=he[V],oe=ne[V];if(S.hasOwnProperty(V))continue;let E=!1;hm(X)&&hm(oe)?E=!_2(X,oe):E=X!==oe,E?X!=null?le(V):x.add(V):X!==void 0&&x.has(V)?le(V):T.protectedKeys[V]=!0}T.prevProp=_,T.prevResolvedValues=he,T.isActive&&(S={...S,...he}),a&&e.blockInitialAnimation&&(L=!1);const me=K&&Q;L&&(!me||Z)&&b.push(...re.map(V=>{const X={type:N};if(typeof V=="string"&&a&&!me&&e.manuallyAnimateOnMount&&e.parent){const{parent:oe}=e,E=yr(oe,V);if(oe.enteringChildren&&E){const{delayChildren:G}=E.transition||{};X.delay=M2(oe.enteringChildren,e,G)}}return{animation:V,options:X}}))}if(x.size){const A={};if(typeof g.initial!="boolean"){const N=yr(e,Array.isArray(g.initial)?g.initial[0]:g.initial);N&&N.transition&&(A.transition=N.transition)}x.forEach(N=>{const T=e.getBaseTarget(N),_=e.getValue(N);_&&(_.liveStyle=!0),A[N]=T??null}),b.push({animation:A})}let k=!!b.length;return a&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(k=!1),a=!1,k?t(b):Promise.resolve()}function f(m,g){if(s[m].isActive===g)return Promise.resolve();e.variantChildren?.forEach(b=>b.animationState?.setActive(m,g)),s[m].isActive=g;const y=d(m);for(const b in s)s[b].protectedKeys={};return y}return{animateChanges:d,setActive:f,setAnimateFunction:c,getState:()=>s,reset:()=>{s=Xb(),a=!0}}}function e_(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!_2(t,e):!1}function ma(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Xb(){return{animate:ma(!0),whileInView:ma(),whileHover:ma(),whileTap:ma(),whileDrag:ma(),whileFocus:ma(),exit:ma()}}class Fi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class t_ extends Fi{constructor(t){super(t),t.animationState||(t.animationState=JM(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ou(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let n_=0;class s_ extends Fi{constructor(){super(...arguments),this.id=n_++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const o=this.node.animationState.setActive("exit",!t);s&&!t&&o.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const i_={animation:{Feature:t_},exit:{Feature:s_}};function dl(e,t,s,a={passive:!0}){return e.addEventListener(t,s,a),()=>e.removeEventListener(t,s)}function Sl(e){return{point:{x:e.pageX,y:e.pageY}}}const a_=e=>t=>bp(t)&&e(t,Sl(t));function Qo(e,t,s,a){return dl(e,t,a_(s),a)}const D2=1e-4,r_=1-D2,o_=1+D2,L2=.01,l_=0-L2,c_=0+L2;function Mn(e){return e.max-e.min}function u_(e,t,s){return Math.abs(e-t)<=s}function Zb(e,t,s,a=.5){e.origin=a,e.originPoint=Dt(t.min,t.max,e.origin),e.scale=Mn(s)/Mn(t),e.translate=Dt(s.min,s.max,e.origin)-e.originPoint,(e.scale>=r_&&e.scale<=o_||isNaN(e.scale))&&(e.scale=1),(e.translate>=l_&&e.translate<=c_||isNaN(e.translate))&&(e.translate=0)}function Xo(e,t,s,a){Zb(e.x,t.x,s.x,a?a.originX:void 0),Zb(e.y,t.y,s.y,a?a.originY:void 0)}function Wb(e,t,s){e.min=s.min+t.min,e.max=e.min+Mn(t)}function d_(e,t,s){Wb(e.x,t.x,s.x),Wb(e.y,t.y,s.y)}function Jb(e,t,s){e.min=t.min-s.min,e.max=e.min+Mn(t)}function Zo(e,t,s){Jb(e.x,t.x,s.x),Jb(e.y,t.y,s.y)}function ls(e){return[e("x"),e("y")]}const O2=({current:e})=>e?e.ownerDocument.defaultView:null,ex=(e,t)=>Math.abs(e-t);function f_(e,t){const s=ex(e.x,t.x),a=ex(e.y,t.y);return Math.sqrt(s**2+a**2)}class P2{constructor(t,s,{transformPagePoint:a,contextWindow:o=window,dragSnapToOrigin:c=!1,distanceThreshold:d=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Th(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,j=f_(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!j)return;const{point:k}=x,{timestamp:A}=xn;this.history.push({...k,timestamp:A});const{onStart:N,onMove:T}=this.handlers;S||(N&&N(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,x)},this.handlePointerMove=(x,S)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Nh(S,this.transformPagePoint),Mt.update(this.updatePoint,!0)},this.handlePointerUp=(x,S)=>{this.end();const{onEnd:j,onSessionEnd:k,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Th(x.type==="pointercancel"?this.lastMoveEventInfo:Nh(S,this.transformPagePoint),this.history);this.startEvent&&j&&j(x,N),k&&k(x,N)},!bp(t))return;this.dragSnapToOrigin=c,this.handlers=s,this.transformPagePoint=a,this.distanceThreshold=d,this.contextWindow=o||window;const f=Sl(t),m=Nh(f,this.transformPagePoint),{point:g}=m,{timestamp:y}=xn;this.history=[{...g,timestamp:y}];const{onSessionStart:b}=s;b&&b(t,Th(m,this.history)),this.removeListeners=bl(Qo(this.contextWindow,"pointermove",this.handlePointerMove),Qo(this.contextWindow,"pointerup",this.handlePointerUp),Qo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Gi(this.updatePoint)}}function Nh(e,t){return t?{point:t(e.point)}:e}function tx(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Th({point:e},t){return{point:e,delta:tx(e,z2(t)),offset:tx(e,h_(t)),velocity:m_(t,.1)}}function h_(e){return e[0]}function z2(e){return e[e.length-1]}function m_(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,a=null;const o=z2(e);for(;s>=0&&(a=e[s],!(o.timestamp-a.timestamp>Ds(t)));)s--;if(!a)return{x:0,y:0};const c=Ls(o.timestamp-a.timestamp);if(c===0)return{x:0,y:0};const d={x:(o.x-a.x)/c,y:(o.y-a.y)/c};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function p_(e,{min:t,max:s},a){return t!==void 0&&e<t?e=a?Dt(t,e,a.min):Math.max(e,t):s!==void 0&&e>s&&(e=a?Dt(s,e,a.max):Math.min(e,s)),e}function nx(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function g_(e,{top:t,left:s,bottom:a,right:o}){return{x:nx(e.x,s,o),y:nx(e.y,t,a)}}function sx(e,t){let s=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,a]=[a,s]),{min:s,max:a}}function y_(e,t){return{x:sx(e.x,t.x),y:sx(e.y,t.y)}}function v_(e,t){let s=.5;const a=Mn(e),o=Mn(t);return o>a?s=rl(t.min,t.max-a,e.min):a>o&&(s=rl(e.min,e.max-o,t.min)),li(0,1,s)}function b_(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const gm=.35;function x_(e=gm){return e===!1?e=0:e===!0&&(e=gm),{x:ix(e,"left","right"),y:ix(e,"top","bottom")}}function ix(e,t,s){return{min:ax(e,t),max:ax(e,s)}}function ax(e,t){return typeof e=="number"?e:e[t]||0}const w_=new WeakMap;class S_{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$t(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:a}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const c=b=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Sl(b).point)},d=(b,x)=>{const{drag:S,dragPropagation:j,onDragStart:k}=this.getProps();if(S&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=M4(S),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ls(N=>{let T=this.getAxisMotionValue(N).get()||0;if(Os.test(T)){const{projection:_}=this.visualElement;if(_&&_.layout){const P=_.layout.layoutBox[N];P&&(T=Mn(P)*(parseFloat(T)/100))}}this.originPoint[N]=T}),k&&Mt.postRender(()=>k(b,x)),mm(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},f=(b,x)=>{this.latestPointerEvent=b,this.latestPanInfo=x;const{dragPropagation:S,dragDirectionLock:j,onDirectionLock:k,onDrag:A}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:N}=x;if(j&&this.currentDirection===null){this.currentDirection=C_(N),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",x.point,N),this.updateAxis("y",x.point,N),this.visualElement.render(),A&&A(b,x)},m=(b,x)=>{this.latestPointerEvent=b,this.latestPanInfo=x,this.stop(b,x),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>ls(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new P2(t,{onSessionStart:c,onStart:d,onMove:f,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:a,contextWindow:O2(this.visualElement)})}stop(t,s){const a=t||this.latestPointerEvent,o=s||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!o||!a)return;const{velocity:d}=o;this.startAnimation(d);const{onDragEnd:f}=this.getProps();f&&Mt.postRender(()=>f(a,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,a){const{drag:o}=this.getProps();if(!a||!Gc(t,o,this.currentDirection))return;const c=this.getAxisMotionValue(t);let d=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(d=p_(d,this.constraints[t],this.elastic[t])),c.set(d)}resolveConstraints(){const{dragConstraints:t,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&fr(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=g_(a.layoutBox,t):this.constraints=!1,this.elastic=x_(s),o!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&ls(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=b_(a.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!fr(t))return!1;const a=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=kM(a,o.root,this.visualElement.getTransformPagePoint());let d=y_(o.layout.layoutBox,c);if(s){const f=s(wM(d));this.hasMutatedConstraints=!!f,f&&(d=x2(f))}return d}startAnimation(t){const{drag:s,dragMomentum:a,dragElastic:o,dragTransition:c,dragSnapToOrigin:d,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},g=ls(y=>{if(!Gc(y,s,this.currentDirection))return;let b=m&&m[y]||{};d&&(b={min:0,max:0});const x=o?200:1e6,S=o?40:1e7,j={type:"inertia",velocity:a?t[y]:0,bounceStiffness:x,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...c,...b};return this.startAxisValueAnimation(y,j)});return Promise.all(g).then(f)}startAxisValueAnimation(t,s){const a=this.getAxisMotionValue(t);return mm(this.visualElement,t),a.start(Ep(t,a,0,s,this.visualElement,!1))}stopAnimation(){ls(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ls(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),o=a[s];return o||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){ls(s=>{const{drag:a}=this.getProps();if(!Gc(s,a,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(s);if(o&&o.layout){const{min:d,max:f}=o.layout.layoutBox[s];c.set(t[s]-Dt(d,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:a}=this.visualElement;if(!fr(s)||!a||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};ls(d=>{const f=this.getAxisMotionValue(d);if(f&&this.constraints!==!1){const m=f.get();o[d]=v_({min:m,max:m},this.constraints[d])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),ls(d=>{if(!Gc(d,t,null))return;const f=this.getAxisMotionValue(d),{min:m,max:g}=this.constraints[d];f.set(Dt(m,g,o[d]))})}addListeners(){if(!this.visualElement.current)return;w_.set(this.visualElement,this);const t=this.visualElement.current,s=Qo(t,"pointerdown",m=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(m)}),a=()=>{const{dragConstraints:m}=this.getProps();fr(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,c=o.addEventListener("measure",a);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Mt.read(a);const d=dl(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(ls(y=>{const b=this.getAxisMotionValue(y);b&&(this.originPoint[y]+=m[y].translate,b.set(b.get()+m[y].translate))}),this.visualElement.render())}));return()=>{d(),s(),c(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:a=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:d=gm,dragMomentum:f=!0}=t;return{...t,drag:s,dragDirectionLock:a,dragPropagation:o,dragConstraints:c,dragElastic:d,dragMomentum:f}}}function Gc(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function C_(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class k_ extends Fi{constructor(t){super(t),this.removeGroupControls=fs,this.removeListeners=fs,this.controls=new S_(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fs}unmount(){this.removeGroupControls(),this.removeListeners()}}const rx=e=>(t,s)=>{e&&Mt.postRender(()=>e(t,s))};class j_ extends Fi{constructor(){super(...arguments),this.removePointerDownListener=fs}onPointerDown(t){this.session=new P2(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:O2(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:a,onPanEnd:o}=this.node.getProps();return{onSessionStart:rx(t),onStart:rx(s),onMove:a,onEnd:(c,d)=>{delete this.session,o&&Mt.postRender(()=>o(c,d))}}}mount(){this.removePointerDownListener=Qo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const su={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ox(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Oo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Oe.test(e))e=parseFloat(e);else return e;const s=ox(e,t.target.x),a=ox(e,t.target.y);return`${s}% ${a}%`}},N_={correct:(e,{treeScale:t,projectionDelta:s})=>{const a=e,o=Ki.parse(e);if(o.length>5)return a;const c=Ki.createTransformer(e),d=typeof o[0]!="number"?1:0,f=s.x.scale*t.x,m=s.y.scale*t.y;o[0+d]/=f,o[1+d]/=m;const g=Dt(f,m,.5);return typeof o[2+d]=="number"&&(o[2+d]/=g),typeof o[3+d]=="number"&&(o[3+d]/=g),c(o)}};let Ah=!1;class T_ extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:a,layoutId:o}=this.props,{projection:c}=t;Q4(A_),c&&(s.group&&s.group.add(c),a&&a.register&&o&&a.register(c),Ah&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),su.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:a,drag:o,isPresent:c}=this.props,{projection:d}=a;return d&&(d.isPresent=c,Ah=!0,o||t.layoutDependency!==s||s===void 0||t.isPresent!==c?d.willUpdate():this.safeToRemove(),t.isPresent!==c&&(c?d.promote():d.relegate()||Mt.postRender(()=>{const f=d.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),vp.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:a}=this.props,{projection:o}=t;Ah=!0,o&&(o.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(o),a&&a.deregister&&a.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function B2(e){const[t,s]=r2(),a=v.useContext(Xm);return u.jsx(T_,{...e,layoutGroup:a,switchLayoutGroup:v.useContext(v2),isPresent:t,safeToRemove:s})}const A_={borderRadius:{...Oo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Oo,borderTopRightRadius:Oo,borderBottomLeftRadius:Oo,borderBottomRightRadius:Oo,boxShadow:N_};function E_(e,t,s){const a=kn(e)?e:br(e);return a.start(Ep("",a,t,s)),a.animation}const M_=(e,t)=>e.depth-t.depth;class __{constructor(){this.children=[],this.isDirty=!1}add(t){Jm(this.children,t),this.isDirty=!0}remove(t){ep(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(M_),this.isDirty=!1,this.children.forEach(t)}}function R_(e,t){const s=qn.now(),a=({timestamp:o})=>{const c=o-s;c>=t&&(Gi(a),e(c-t))};return Mt.setup(a,!0),()=>Gi(a)}const q2=["TopLeft","TopRight","BottomLeft","BottomRight"],D_=q2.length,lx=e=>typeof e=="string"?parseFloat(e):e,cx=e=>typeof e=="number"||Oe.test(e);function L_(e,t,s,a,o,c){o?(e.opacity=Dt(0,s.opacity??1,O_(a)),e.opacityExit=Dt(t.opacity??1,0,P_(a))):c&&(e.opacity=Dt(t.opacity??1,s.opacity??1,a));for(let d=0;d<D_;d++){const f=`border${q2[d]}Radius`;let m=ux(t,f),g=ux(s,f);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||cx(m)===cx(g)?(e[f]=Math.max(Dt(lx(m),lx(g),a),0),(Os.test(g)||Os.test(m))&&(e[f]+="%")):e[f]=g}(t.rotate||s.rotate)&&(e.rotate=Dt(t.rotate||0,s.rotate||0,a))}function ux(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const O_=U2(0,.5,Nw),P_=U2(.5,.95,fs);function U2(e,t,s){return a=>a<e?0:a>t?1:s(rl(e,t,a))}function dx(e,t){e.min=t.min,e.max=t.max}function os(e,t){dx(e.x,t.x),dx(e.y,t.y)}function fx(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function hx(e,t,s,a,o){return e-=t,e=wu(e,1/s,a),o!==void 0&&(e=wu(e,1/o,a)),e}function z_(e,t=0,s=1,a=.5,o,c=e,d=e){if(Os.test(t)&&(t=parseFloat(t),t=Dt(d.min,d.max,t/100)-d.min),typeof t!="number")return;let f=Dt(c.min,c.max,a);e===c&&(f-=t),e.min=hx(e.min,t,s,f,o),e.max=hx(e.max,t,s,f,o)}function mx(e,t,[s,a,o],c,d){z_(e,t[s],t[a],t[o],t.scale,c,d)}const B_=["x","scaleX","originX"],q_=["y","scaleY","originY"];function px(e,t,s,a){mx(e.x,t,B_,s?s.x:void 0,a?a.x:void 0),mx(e.y,t,q_,s?s.y:void 0,a?a.y:void 0)}function gx(e){return e.translate===0&&e.scale===1}function V2(e){return gx(e.x)&&gx(e.y)}function yx(e,t){return e.min===t.min&&e.max===t.max}function U_(e,t){return yx(e.x,t.x)&&yx(e.y,t.y)}function vx(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function H2(e,t){return vx(e.x,t.x)&&vx(e.y,t.y)}function bx(e){return Mn(e.x)/Mn(e.y)}function xx(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class V_{constructor(){this.members=[]}add(t){Jm(this.members,t),t.scheduleRender()}remove(t){if(ep(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(o=>t===o);if(s===0)return!1;let a;for(let o=s;o>=0;o--){const c=this.members[o];if(c.isPresent!==!1){a=c;break}}return a?(this.promote(a),!0):!1}promote(t,s){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,s&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:a}=t;s.onExitComplete&&s.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function H_(e,t,s){let a="";const o=e.x.translate/t.x,c=e.y.translate/t.y,d=s?.z||0;if((o||c||d)&&(a=`translate3d(${o}px, ${c}px, ${d}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:g,rotate:y,rotateX:b,rotateY:x,skewX:S,skewY:j}=s;g&&(a=`perspective(${g}px) ${a}`),y&&(a+=`rotate(${y}deg) `),b&&(a+=`rotateX(${b}deg) `),x&&(a+=`rotateY(${x}deg) `),S&&(a+=`skewX(${S}deg) `),j&&(a+=`skewY(${j}deg) `)}const f=e.x.scale*t.x,m=e.y.scale*t.y;return(f!==1||m!==1)&&(a+=`scale(${f}, ${m})`),a||"none"}const Eh=["","X","Y","Z"],$_=1e3;let G_=0;function Mh(e,t,s,a){const{latestValues:o}=t;o[e]&&(s[e]=o[e],t.setStaticValue(e,0),a&&(a[e]=0))}function $2(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=A2(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:o,layoutId:c}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",Mt,!(o||c))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&$2(a)}function G2({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:a,resetTransform:o}){return class{constructor(d={},f=t?.()){this.id=G_++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Y_),this.nodes.forEach(Z_),this.nodes.forEach(W_),this.nodes.forEach(I_)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new __)}addEventListener(d,f){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new sp),this.eventHandlers.get(d).add(f)}notifyListeners(d,...f){const m=this.eventHandlers.get(d);m&&m.notify(...f)}hasListeners(d){return this.eventHandlers.has(d)}mount(d){if(this.instance)return;this.isSVG=a2(d)&&!P4(d),this.instance=d;const{layoutId:f,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),e){let y,b=0;const x=()=>this.root.updateBlockedByResize=!1;Mt.read(()=>{b=window.innerWidth}),e(d,()=>{const S=window.innerWidth;S!==b&&(b=S,this.root.updateBlockedByResize=!0,y&&y(),y=R_(x,250),su.hasAnimatedSinceResize&&(su.hasAnimatedSinceResize=!1,this.nodes.forEach(Cx)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:b,hasRelativeLayoutChanged:x,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||g.getDefaultTransition()||sR,{onLayoutAnimationStart:k,onLayoutAnimationComplete:A}=g.getProps(),N=!this.targetLayout||!H2(this.targetLayout,S),T=!b&&x;if(this.options.layoutRoot||this.resumeFrom||T||b&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...gp(j,"layout"),onPlay:k,onComplete:A};(g.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(y,T)}else b||Cx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Gi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(J_),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const b=this.path[y];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(wx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Sx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(X_),this.nodes.forEach(K_),this.nodes.forEach(F_)):this.nodes.forEach(Sx),this.clearAllSnapshots();const f=qn.now();xn.delta=li(0,1e3/60,f-xn.timestamp),xn.timestamp=f,xn.isProcessing=!0,vh.update.process(xn),vh.preRender.process(xn),vh.render.process(xn),xn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Q_),this.sharedNodes.forEach(eR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Mt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Mt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Mn(this.snapshot.measuredBox.x)&&!Mn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$t(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(f=!1),f&&this.instance){const m=a(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:m,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!o)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!V2(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;d&&this.instance&&(f||ya(this.latestValues)||y)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return d&&(m=this.removeTransform(m)),iR(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:d}=this.options;if(!d)return $t();const f=d.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(aR))){const{scroll:g}=this.root;g&&(hr(f.x,g.offset.x),hr(f.y,g.offset.y))}return f}removeElementScroll(d){const f=$t();if(os(f,d),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:b}=g;g!==this.root&&y&&b.layoutScroll&&(y.wasRoot&&os(f,d),hr(f.x,y.offset.x),hr(f.y,y.offset.y))}return f}applyTransform(d,f=!1){const m=$t();os(m,d);for(let g=0;g<this.path.length;g++){const y=this.path[g];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&mr(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ya(y.latestValues)&&mr(m,y.latestValues)}return ya(this.latestValues)&&mr(m,this.latestValues),m}removeTransform(d){const f=$t();os(f,d);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!ya(g.latestValues))continue;um(g.latestValues)&&g.updateSnapshot();const y=$t(),b=g.measurePageBox();os(y,b),px(f,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return ya(this.latestValues)&&px(f,this.latestValues),f}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(d||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:b}=this.options;if(!(!this.layout||!(y||b))){if(this.resolvedRelativeTargetAt=xn.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$t(),this.relativeTargetOrigin=$t(),Zo(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),os(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=$t(),this.targetWithTransforms=$t()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),d_(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):os(this.target,this.layout.layoutBox),S2(this.target,this.targetDelta)):os(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$t(),this.relativeTargetOrigin=$t(),Zo(this.relativeTargetOrigin,this.target,x.target),os(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||um(this.parent.latestValues)||w2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const d=this.getLead(),f=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===xn.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;os(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,x=this.treeScale.y;CM(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=$t());const{target:S}=d;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(fx(this.prevProjectionDelta.x,this.projectionDelta.x),fx(this.prevProjectionDelta.y,this.projectionDelta.y)),Xo(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==x||!xx(this.projectionDelta.x,this.prevProjectionDelta.x)||!xx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){if(this.options.visualElement?.scheduleRender(),d){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=pr(),this.projectionDelta=pr(),this.projectionDeltaWithTransform=pr()}setAnimationOrigin(d,f=!1){const m=this.snapshot,g=m?m.latestValues:{},y={...this.latestValues},b=pr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const x=$t(),S=m?m.source:void 0,j=this.layout?this.layout.source:void 0,k=S!==j,A=this.getStack(),N=!A||A.members.length<=1,T=!!(k&&!N&&this.options.crossfade===!0&&!this.path.some(nR));this.animationProgress=0;let _;this.mixTargetDelta=P=>{const R=P/1e3;kx(b.x,d.x,R),kx(b.y,d.y,R),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zo(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tR(this.relativeTarget,this.relativeTargetOrigin,x,R),_&&U_(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=$t()),os(_,this.relativeTarget)),k&&(this.animationValues=y,L_(y,g,this.latestValues,R,T,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Gi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Mt.update(()=>{su.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=br(0)),this.currentAnimation=E_(this.motionValue,[0,1e3],{...d,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),d.onUpdate&&d.onUpdate(f)},onStop:()=>{},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:f,target:m,layout:g,latestValues:y}=d;if(!(!f||!m||!g)){if(this!==d&&this.layout&&g&&K2(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||$t();const b=Mn(this.layout.layoutBox.x);m.x.min=d.target.x.min,m.x.max=m.x.min+b;const x=Mn(this.layout.layoutBox.y);m.y.min=d.target.y.min,m.y.max=m.y.min+x}os(f,m),mr(f,y),Xo(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(d,f){this.sharedNodes.has(d)||this.sharedNodes.set(d,new V_),this.sharedNodes.get(d).add(f);const g=f.options.initialPromotionConfig;f.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(f):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){const{layoutId:d}=this.options;return d?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:d}=this.options;return d?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:f,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),d&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let f=!1;const{latestValues:m}=d;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const g={};m.z&&Mh("z",d,g,this.animationValues);for(let y=0;y<Eh.length;y++)Mh(`rotate${Eh[y]}`,d,g,this.animationValues),Mh(`skew${Eh[y]}`,d,g,this.animationValues);d.render();for(const y in g)d.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);d.scheduleRender()}applyProjectionStyles(d,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){d.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,d.visibility="",d.opacity="",d.pointerEvents=nu(f?.pointerEvents)||"",d.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=nu(f?.pointerEvents)||""),this.hasProjected&&!ya(this.latestValues)&&(d.transform=m?m({},""):"none",this.hasProjected=!1);return}d.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let b=H_(this.projectionDeltaWithTransform,this.treeScale,y);m&&(b=m(y,b)),d.transform=b;const{x,y:S}=this.projectionDelta;d.transformOrigin=`${x.origin*100}% ${S.origin*100}% 0`,g.animationValues?d.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:d.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const j in ul){if(y[j]===void 0)continue;const{correct:k,applyTo:A,isCSSVariable:N}=ul[j],T=b==="none"?y[j]:k(y[j],g);if(A){const _=A.length;for(let P=0;P<_;P++)d[A[P]]=T}else N?this.options.visualElement.renderState.vars[j]=T:d[j]=T}this.options.layoutId&&(d.pointerEvents=g===this?nu(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>d.currentAnimation?.stop()),this.root.nodes.forEach(wx),this.root.sharedNodes.clear()}}}function K_(e){e.updateLayout()}function F_(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=e.layout,{animationType:o}=e.options,c=t.source!==e.layout.source;o==="size"?ls(y=>{const b=c?t.measuredBox[y]:t.layoutBox[y],x=Mn(b);b.min=s[y].min,b.max=b.min+x}):K2(o,t.layoutBox,s)&&ls(y=>{const b=c?t.measuredBox[y]:t.layoutBox[y],x=Mn(s[y]);b.max=b.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+x)});const d=pr();Xo(d,s,t.layoutBox);const f=pr();c?Xo(f,e.applyTransform(a,!0),t.measuredBox):Xo(f,s,t.layoutBox);const m=!V2(d);let g=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:b,layout:x}=y;if(b&&x){const S=$t();Zo(S,t.layoutBox,b.layoutBox);const j=$t();Zo(j,s,x.layoutBox),H2(S,j)||(g=!0),y.options.layoutRoot&&(e.relativeTarget=j,e.relativeTargetOrigin=S,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:f,layoutDelta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function Y_(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function I_(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Q_(e){e.clearSnapshot()}function wx(e){e.clearMeasurements()}function Sx(e){e.isLayoutDirty=!1}function X_(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Cx(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Z_(e){e.resolveTargetDelta()}function W_(e){e.calcProjection()}function J_(e){e.resetSkewAndRotation()}function eR(e){e.removeLeadSnapshot()}function kx(e,t,s){e.translate=Dt(t.translate,0,s),e.scale=Dt(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function jx(e,t,s,a){e.min=Dt(t.min,s.min,a),e.max=Dt(t.max,s.max,a)}function tR(e,t,s,a){jx(e.x,t.x,s.x,a),jx(e.y,t.y,s.y,a)}function nR(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const sR={duration:.45,ease:[.4,0,.1,1]},Nx=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Tx=Nx("applewebkit/")&&!Nx("chrome/")?Math.round:fs;function Ax(e){e.min=Tx(e.min),e.max=Tx(e.max)}function iR(e){Ax(e.x),Ax(e.y)}function K2(e,t,s){return e==="position"||e==="preserve-aspect"&&!u_(bx(t),bx(s),.2)}function aR(e){return e!==e.root&&e.scroll?.wasRoot}const rR=G2({attachResizeListener:(e,t)=>dl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_h={current:void 0},F2=G2({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!_h.current){const e=new rR({});e.mount(window),e.setOptions({layoutScroll:!0}),_h.current=e}return _h.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),oR={pan:{Feature:j_},drag:{Feature:k_,ProjectionNode:F2,MeasureLayout:B2}};function Ex(e,t,s){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",s==="Start");const o="onHover"+s,c=a[o];c&&Mt.postRender(()=>c(t,Sl(t)))}class lR extends Fi{mount(){const{current:t}=this.node;t&&(this.unmount=_4(t,(s,a)=>(Ex(this.node,a,"Start"),o=>Ex(this.node,o,"End"))))}unmount(){}}class cR extends Fi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bl(dl(this.node.current,"focus",()=>this.onFocus()),dl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Mx(e,t,s){const{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",s==="Start");const o="onTap"+(s==="End"?"":s),c=a[o];c&&Mt.postRender(()=>c(t,Sl(t)))}class uR extends Fi{mount(){const{current:t}=this.node;t&&(this.unmount=O4(t,(s,a)=>(Mx(this.node,a,"Start"),(o,{success:c})=>Mx(this.node,o,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ym=new WeakMap,Rh=new WeakMap,dR=e=>{const t=ym.get(e.target);t&&t(e)},fR=e=>{e.forEach(dR)};function hR({root:e,...t}){const s=e||document;Rh.has(s)||Rh.set(s,{});const a=Rh.get(s),o=JSON.stringify(t);return a[o]||(a[o]=new IntersectionObserver(fR,{root:e,...t})),a[o]}function mR(e,t,s){const a=hR(t);return ym.set(e,s),a.observe(e),()=>{ym.delete(e),a.unobserve(e)}}const pR={some:0,all:1};class gR extends Fi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:a,amount:o="some",once:c}=t,d={root:s?s.current:void 0,rootMargin:a,threshold:typeof o=="number"?o:pR[o]},f=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,c&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:b}=this.node.getProps(),x=g?y:b;x&&x(m)};return mR(this.node.current,d,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(yR(t,s))&&this.startObserver()}unmount(){}}function yR({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const vR={inView:{Feature:gR},tap:{Feature:uR},focus:{Feature:cR},hover:{Feature:lR}},bR={layout:{ProjectionNode:F2,MeasureLayout:B2}},xR={...i_,...vR,...oR,...bR},Vi=xM(xR,DM),Y2=({show:e,onComplete:t})=>{const[s]=v.useState(()=>Array.from({length:50},(a,o)=>({id:o,x:Math.random()*100,y:Math.random()*100,rotation:Math.random()*360,scale:.5+Math.random()*.5,color:["#FFD700","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7"][Math.floor(Math.random()*6)]})));return v.useEffect(()=>{if(e){const a=setTimeout(()=>{t?.()},3e3);return()=>clearTimeout(a)}},[e,t]),u.jsx(Du,{children:e&&u.jsx("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",children:s.map(a=>u.jsx(Vi.div,{className:"absolute w-2 h-2 rounded",style:{left:`${a.x}%`,backgroundColor:a.color},initial:{y:-20,rotate:0,scale:0},animate:{y:window.innerHeight+20,rotate:a.rotation*4,scale:a.scale},transition:{duration:2+Math.random()*2,ease:"easeOut"}},a.id))})})},I2=({show:e,message:t,type:s,onComplete:a})=>{const o=()=>{switch(s){case"brilliant":return{bg:"bg-gradient-to-r from-purple-500 to-pink-500",text:"text-white",emoji:"🎯",animation:"animate-bounce"};case"excellent":return{bg:"bg-gradient-to-r from-green-500 to-emerald-500",text:"text-white",emoji:"⭐",animation:"animate-pulse"};case"great":return{bg:"bg-gradient-to-r from-blue-500 to-cyan-500",text:"text-white",emoji:"🎉",animation:"animate-bounce"};case"good":return{bg:"bg-gradient-to-r from-yellow-500 to-orange-500",text:"text-white",emoji:"👏",animation:"animate-pulse"};case"win":return{bg:"bg-gradient-to-r from-yellow-400 via-yellow-500 to-yellow-600",text:"text-black",emoji:"🏆",animation:"animate-bounce"};default:return{bg:"bg-blue-500",text:"text-white",emoji:"🎯",animation:"animate-pulse"}}};v.useEffect(()=>{if(e){const d=setTimeout(()=>{a?.()},2e3);return()=>clearTimeout(d)}},[e,a]);const c=o();return u.jsx(Du,{children:e&&u.jsx(Vi.div,{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:300,damping:25},children:u.jsx("div",{className:`${c.bg} ${c.text} px-6 py-4 rounded-xl shadow-2xl ${c.animation}`,children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-2xl",children:c.emoji}),u.jsx("span",{className:"font-bold text-lg",children:t})]})})})})},wR=({show:e,children:t})=>(v.useEffect(()=>{e&&"vibrate"in navigator&&navigator.vibrate([100,50,100])},[e]),u.jsx(Vi.div,{animate:e?{x:[-5,5,-5,5,0]}:{},transition:{duration:.4},children:t})),SR=({show:e,message:t})=>u.jsx(Du,{children:e&&u.jsx(Vi.div,{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-40",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:u.jsxs("div",{className:"bg-gray-800 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2",children:[u.jsxs("div",{className:"flex gap-1",children:[u.jsx(Vi.div,{className:"w-2 h-2 bg-blue-400 rounded-full",animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0,delay:0}}),u.jsx(Vi.div,{className:"w-2 h-2 bg-blue-400 rounded-full",animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0,delay:.3}}),u.jsx(Vi.div,{className:"w-2 h-2 bg-blue-400 rounded-full",animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0,delay:.6}})]}),u.jsx("span",{className:"text-sm",children:t})]})})}),CR=({show:e,message:t="Move not allowed!"})=>u.jsx(Du,{children:e&&u.jsx(Vi.div,{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:500,damping:30},children:u.jsxs("div",{className:"bg-red-500 text-white px-6 py-3 rounded-lg shadow-xl flex items-center gap-2",children:[u.jsx("span",{className:"text-xl",children:"⚠️"}),u.jsx("span",{className:"font-medium",children:t})]})})}),zu=({fen:e,orientation:t="white",allowAllMoves:s=!0,onMove:a,onGameOver:o,highlightMoves:c=!0,showCoordinates:d=!0,disabled:f=!1,puzzleMode:m=!1,correctMoves:g=[],onCorrectMove:y,onIncorrectMove:b,showHelp:x=!1,highlightSquare:S,showPieceTooltips:j=!0,enableGamification:k=!0,lessonMode:A=!1})=>{const N=v.useMemo(()=>new ba(e||void 0),[e]),[T,_]=v.useState(null),[P,R]=v.useState(null),[K,Q]=v.useState(!1),[L,Z]=v.useState({}),[re,he]=v.useState({show:!1,position:{x:0,y:0}}),[ne,ye]=v.useState(""),[le,me]=v.useState(!1),[B,V]=v.useState(""),[X,oe]=v.useState("good"),[E,G]=v.useState(!1),[ae,te]=v.useState(!1),[ue,pe]=v.useState({show:!1,quality:"good"}),ce=v.useCallback(()=>{_(null),R(null),Q(!1),Z({})},[]);v.useEffect(()=>{console.log("ChessBoard: Parent FEN changed to:",e),ce()},[e,ce]),v.useCallback((fe,Ee)=>{if(!j)return;const qe=N.get(Ee);qe&&he({show:!0,piece:qe.type,color:qe.color,square:Ee,position:{x:fe.clientX,y:fe.clientY}})},[N,j]),v.useCallback(()=>{he(fe=>({...fe,show:!1}))},[]),v.useCallback((fe,Ee)=>{const We=N.moves({verbose:!0}).find(ot=>ot.from===fe&&ot.to===Ee);return We?We.captured&&We.piece!=="p"?"excellent":We.san.includes("+")?"good":We.san.includes("#")?"brilliant":(We.captured||["e4","e5","d4","d5"].includes(Ee),"good"):"illegal"},[N]),v.useCallback(fe=>{if(k)switch(fe){case"brilliant":V("Brilliant move!"),oe("brilliant"),me(!0),te(!0);break;case"excellent":V("Excellent move!"),oe("excellent"),me(!0);break;case"good":V("Good move!"),oe("good"),me(!0);break}},[k]);const Te=v.useCallback(fe=>{Z(Ee=>({...Ee,[fe]:{background:"rgba(255, 255, 0, 0.6)",border:"3px solid #FFD700"}})),setTimeout(()=>{Z(Ee=>{const qe={...Ee};return delete qe[fe],qe})},2e3)},[]),Pe=v.useCallback(fe=>{ye(fe),setTimeout(()=>ye(""),3e3)},[]),ft=v.useCallback(({square:fe})=>{if(console.log("ChessBoard: Square clicked:",fe),f){console.log("ChessBoard: Board disabled, ignoring click");return}if(!T){const Ee=N.moves({square:fe,verbose:!0});if(Ee.length>0){if(console.log("ChessBoard: Selected piece at",fe,"with",Ee.length,"moves"),_(fe),c){const qe={};Ee.forEach(We=>{qe[We.to]={background:`
                radial-gradient(circle, #10B981 25%, transparent 25%),
                radial-gradient(circle, rgba(0,0,0,.1) 85%, transparent 85%)
              `,borderRadius:"50%"}}),qe[fe]={background:"rgba(255, 255, 0, 0.4)",border:"2px solid #FFD700",boxShadow:"0 0 10px rgba(255, 215, 0, 0.5)"},Z(qe)}}else console.log("ChessBoard: No moves available from",fe);return}if(T===fe){console.log("ChessBoard: Deselecting piece"),ce();return}console.log("ChessBoard: Attempting move:",T,"→",fe),st(T,fe)},[N,T,f,c,ce]),Ze=v.useCallback(({sourceSquare:fe,targetSquare:Ee})=>{if(console.log("ChessBoard: Piece dropped:",fe,"→",Ee),f)return console.log("ChessBoard: Board disabled, move rejected"),!1;const qe=st(fe,Ee);return console.log("ChessBoard: Drag move",qe?"successful":"failed"),qe},[f]),st=v.useCallback((fe,Ee,qe="q")=>{try{console.log("ChessBoard: Validating move",fe,Ee,qe);const We=N.moves({square:fe,verbose:!0}),ot=We.find(vt=>vt.from===fe&&vt.to===Ee);if(ot&&ot.flags.includes("p"))return console.log("ChessBoard: Promotion move detected"),_(fe),R(Ee),Q(!0),!0;if(!We.find(vt=>vt.from===fe&&vt.to===Ee))return console.log("ChessBoard: Invalid move"),k&&(G(!0),setTimeout(()=>G(!1),1500)),ce(),!1;if(console.log("ChessBoard: Valid move, notifying parent"),ce(),m&&g.length>0){const vt=`${fe}${Ee}${qe}`,qt=`${fe}${Ee}`;g.includes(vt)||g.includes(qt)?(console.log("ChessBoard: Correct puzzle move!"),mn.playGamificationSound("puzzleSolved"),y?.()):(console.log("ChessBoard: Incorrect puzzle move"),mn.playUISound("error"),b?.())}return a?.({from:fe,to:Ee,promotion:qe}),!0}catch(We){return console.error("ChessBoard: Move validation error:",We),ce(),!1}},[N,ce,m,g,y,b,a]);return v.useCallback(fe=>{if(console.log("ChessBoard: Promotion piece selected:",fe),fe&&T&&P){const Ee=fe[1]?.toLowerCase()||"q";st(T,P,Ee)}else console.log("ChessBoard: Promotion cancelled"),ce();return!0},[T,P,st,ce]),console.log("ChessBoard render:",{position:N.fen(),disabled:f,orientation:t,allowDragging:!f,hasOnMove:!!a}),u.jsx(wR,{show:E,children:u.jsxs("div",{className:"chess-board-container relative w-full",children:[u.jsxs("div",{className:"relative w-full max-w-full",style:{background:"linear-gradient(145deg, #f0f0f0, #e0e0e0)",borderRadius:"12px",padding:"8px",boxShadow:`
              0 8px 32px rgba(0, 0, 0, 0.1),
              inset 0 2px 4px rgba(255, 255, 255, 0.3)
            `,aspectRatio:"1"},children:[u.jsx("div",{className:"w-full",onMouseMove:fe=>{if(!j)return;const Ee=fe.currentTarget.getBoundingClientRect(),qe=fe.clientX-Ee.left,We=fe.clientY-Ee.top,ot=Ee.width/8,Je=Ee.height/8,vt=Math.floor(qe/ot),qt=t==="white"?7-Math.floor(We/Je):Math.floor(We/Je);if(vt>=0&&vt<8&&qt>=0&&qt<8){const de=`${String.fromCharCode(97+vt)}${qt+1}`,Ce=N.get(de);he(Ce?{show:!0,piece:Ce.type,color:Ce.color,square:de,position:{x:fe.clientX,y:fe.clientY-50}}:ut=>({...ut,show:!1}))}},onMouseLeave:()=>he(fe=>({...fe,show:!1})),children:u.jsx(hA,{options:{position:N.fen(),onSquareClick:ft,onPieceDrop:Ze,boardOrientation:t,squareStyles:L,allowDragging:!f,animationDurationInMs:200,boardStyle:{borderRadius:"8px",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.2)"}}})}),d&&u.jsx("div",{className:"absolute -bottom-8 left-0 right-0 text-center",children:u.jsxs("div",{className:"text-sm text-gray-600",children:["Turn: ",N.turn()==="w"?"White":"Black",N.isCheck()&&" | Check!",N.isGameOver()&&" | Game Over!"]})}),ne&&u.jsx("div",{className:"absolute -top-12 left-0 right-0 text-center",children:u.jsxs("div",{className:"bg-blue-500 text-white px-4 py-2 rounded-lg text-sm font-medium",children:["💡 ",ne]})}),A&&S&&u.jsx("div",{className:"absolute inset-0 pointer-events-none",children:u.jsx("div",{className:"absolute w-12 h-12 border-4 border-yellow-400 bg-yellow-200 bg-opacity-30 rounded animate-pulse",style:{transform:`translate(${(S.charCodeAt(0)-97)*50}px, ${(8-parseInt(S[1]))*50}px)`}})})]}),x&&u.jsx("div",{className:"mt-4",children:u.jsx(HA,{game:N,onHighlightSquare:Te,onShowHint:Pe,disabled:f})}),u.jsx(VA,{piece:re.piece,color:re.color,square:re.square,show:re.show,position:re.position}),u.jsx(Y2,{show:ae,onComplete:()=>te(!1)}),u.jsx(I2,{show:le,message:B,type:X,onComplete:()=>me(!1)}),u.jsx(CR,{show:E,message:"That move is not allowed!"})]})})},_x={1:{id:"1",title:"Chess Basics: How the Pieces Move",description:"Learn how each chess piece moves and captures. Perfect for beginners!",steps:[{id:"1-1",title:"Welcome to Chess Basics",instruction:"Welcome! In this lesson, you'll learn how each chess piece moves. Let's start with the fundamentals of chess.",type:"instruction"},{id:"1-2",title:"The Pawn",instruction:"Pawns are the foot soldiers of chess. They move forward one square, but capture diagonally. On their first move, they can advance two squares. Let's see a pawn on the board.",fen:"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",type:"instruction"},{id:"1-3",title:"Practice: Move a Pawn",instruction:"Now it's your turn! Try moving the pawn in front of the king (the e2 pawn) forward one or two squares.",fen:"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",correctMoves:["e2e3","e2e4"],explanation:"Excellent! You moved the pawn correctly. Pawns are unique - they can move two squares on their first move, which helps develop your position quickly.",type:"practice"},{id:"1-4",title:"The Rook",instruction:"Rooks are powerful pieces that move horizontally or vertically any number of squares, as long as the path is clear. They're like towers defending your kingdom.",fen:"8/8/8/8/8/8/8/R7 w - - 0 1",type:"instruction"},{id:"1-5",title:"Practice: Move the Rook",instruction:"Move the white rook to any valid square. Remember: rooks move in straight lines along ranks (horizontal) and files (vertical)!",fen:"8/8/8/8/8/8/8/R7 w - - 0 1",correctMoves:["a1a2","a1a3","a1a4","a1a5","a1a6","a1a7","a1a8","a1b1","a1c1","a1d1","a1e1","a1f1","a1g1","a1h1"],explanation:"Perfect! The rook can move to any square in its rank (horizontal row) or file (vertical column). Rooks are most powerful on open files.",type:"practice"},{id:"1-6",title:"The Bishop",instruction:"Bishops move diagonally any number of squares. Each player has two bishops - one that moves on light squares and one on dark squares.",fen:"8/8/8/8/8/8/8/2B5 w - - 0 1",type:"instruction"},{id:"1-7",title:"Practice: Move the Bishop",instruction:"Move the white bishop diagonally. Notice how it can only move to squares of the same color.",fen:"8/8/8/8/8/8/8/2B5 w - - 0 1",correctMoves:["c1d2","c1e3","c1f4","c1g5","c1h6","c1b2","c1a3"],explanation:"Great! Bishops are restricted to squares of one color throughout the entire game. This bishop can only move on dark squares.",type:"practice"},{id:"1-8",title:"The Knight",instruction:"Knights move in an L-shape: two squares in one direction and one square perpendicular. They're the only pieces that can jump over other pieces.",fen:"8/8/8/8/8/8/8/1N6 w - - 0 1",type:"instruction"},{id:"1-9",title:"Practice: Move the Knight",instruction:"Move the white knight to any valid square. Remember the L-shape pattern!",fen:"8/8/8/8/8/8/8/1N6 w - - 0 1",correctMoves:["b1a3","b1c3","b1d2"],explanation:"Excellent! The knight's L-shaped move makes it a tricky piece to master, but very powerful for surprising attacks.",type:"practice"},{id:"1-10",title:"Congratulations!",instruction:"You've learned the basic piece movements! Practice makes perfect. Ready to move on to more advanced lessons?",type:"instruction"}]},2:{id:"2",title:"Checkmate Patterns",description:"Learn essential checkmate patterns. Great for intermediate players.",steps:[{id:"2-1",title:"What is Checkmate?",instruction:"Checkmate is the ultimate goal in chess. It occurs when the king is under attack (in check) and has no legal moves to escape capture.",type:"instruction"},{id:"2-2",title:"Back Rank Mate Setup",instruction:"One of the most common checkmate patterns is the back rank mate. Here, the enemy king is trapped on the back rank by its own pawns.",fen:"6k1/5ppp/8/8/8/8/8/R7 w - - 0 1",type:"instruction"},{id:"2-3",title:"Practice: Deliver Back Rank Mate!",instruction:"Move your white rook to deliver checkmate in one move! Look for the square that attacks the black king with no escape.",fen:"6k1/5ppp/8/8/8/8/8/R7 w - - 0 1",correctMoves:["a1a8"],explanation:"Brilliant! Ra8# is checkmate because the king is attacked and cannot escape - the pawns block its retreat and no piece can block or capture the rook.",type:"practice"},{id:"2-4",title:"Queen and King vs King",instruction:"With a queen and king, you can force checkmate against a lone king. The key is to restrict the enemy king's movement.",fen:"7k/6Q1/6K1/8/8/8/8/8 w - - 0 1",type:"instruction"},{id:"2-5",title:"Practice: Queen Checkmate",instruction:"Deliver checkmate with your queen. The black king has no escape squares.",fen:"7k/6Q1/6K1/8/8/8/8/8 w - - 0 1",correctMoves:["g7g8"],explanation:"Perfect! Qg8# is checkmate. The queen attacks the king, and with your king supporting, the black king has no legal moves.",type:"practice"},{id:"2-6",title:"Smothered Mate",instruction:"A smothered mate occurs when the king is surrounded by its own pieces and gets checkmated by a knight.",fen:"6rk/6pp/8/8/8/8/8/5N2 w - - 0 1",type:"instruction"},{id:"2-7",title:"Practice: Smothered Mate",instruction:"Use the white knight to deliver a smothered mate! The black king is trapped by its own pieces.",fen:"6rk/6pp/8/8/8/8/8/5N2 w - - 0 1",correctMoves:["f1g3","f1e3"],explanation:"Well done! You've learned about smothered mate - one of the most beautiful checkmate patterns in chess.",type:"practice"}]},3:{id:"3",title:"Advanced Tactics",description:"Master advanced tactical patterns including forks, pins, and skewers.",steps:[{id:"3-1",title:"Introduction to Tactics",instruction:"Chess tactics are short-term combinations that win material or deliver checkmate. Mastering tactics is crucial for improvement.",type:"instruction"},{id:"3-2",title:"The Fork",instruction:"A fork is when one piece attacks two or more enemy pieces simultaneously. Knights are especially good at creating forks.",fen:"r1bqkb1r/pppp1ppp/2n2n2/4p3/2B1P3/3P1N2/PPP2PPP/RNBQK2R w KQkq - 0 4",type:"instruction"},{id:"3-3",title:"Practice: Knight Fork",instruction:"Find the knight move that forks the black king and queen! Look for a square where your knight attacks both pieces.",fen:"r1bqkb1r/pppp1ppp/2n2n2/4p3/2B1P3/3P1N2/PPP2PPP/RNBQK2R w KQkq - 0 4",correctMoves:["f3g5"],explanation:"Brilliant! Ng5+ forks the king and queen. Black must move the king, and then you can capture the queen on the next move.",type:"practice"},{id:"3-4",title:"The Pin",instruction:"A pin occurs when a piece cannot move because it would expose a more valuable piece behind it to attack.",fen:"rnbqkbnr/ppp2ppp/8/3pp3/4P3/8/PPPP1PPP/RNBQKBNR w KQkq - 0 3",type:"instruction"},{id:"3-5",title:"Practice: Create a Pin",instruction:"Move your bishop to create a pin on the black knight, preventing it from moving.",fen:"rnbqkbnr/ppp2ppp/8/3pp3/4P3/8/PPPP1PPP/RNBQKBNR w KQkq - 0 3",correctMoves:["f1b5"],explanation:"Excellent! Bb5+ pins the knight to the king. The knight cannot move because it would expose the king to check.",type:"practice"},{id:"3-6",title:"The Skewer",instruction:"A skewer forces a valuable piece to move, exposing a less valuable piece behind it. It's like a reverse pin.",fen:"8/8/8/3k4/8/8/3R4/3K4 w - - 0 1",type:"instruction"},{id:"3-7",title:"Practice: Execute a Skewer",instruction:"Use your rook to skewer the black king, forcing it to move and win material.",fen:"8/8/8/3k4/8/8/3R4/3K4 w - - 0 1",correctMoves:["d2d5"],explanation:"Perfect! Rd5+ skewers the king. The king must move, and you can capture whatever piece was behind it.",type:"practice"},{id:"3-8",title:"Discovery Attack",instruction:"A discovery attack occurs when moving one piece unveils an attack from another piece behind it.",fen:"8/8/8/8/3k4/8/3BP3/3K4 w - - 0 1",type:"instruction"},{id:"3-9",title:"Tactics Mastery Complete!",instruction:"Congratulations! You've mastered the fundamental chess tactics. These patterns will serve you well in your games. Keep practicing!",type:"instruction"}]},4:{id:"4",title:"King and Pawn Endgames",description:"Master the most important endgame: King and Pawn vs King.",steps:[{id:"4-1",title:"Endgame Fundamentals",instruction:"King and pawn endgames are the foundation of all endgame study. Understanding these positions is crucial for chess improvement.",type:"instruction"},{id:"4-2",title:"The Rule of the Square",instruction:"The rule of the square helps you determine if a king can catch a passed pawn. Draw an imaginary square from the pawn to the promotion square.",fen:"8/8/8/8/8/8/4P3/4K1k1 w - - 0 1",type:"instruction"},{id:"4-3",title:"Opposition Concept",instruction:"Opposition is when the two kings face each other with one square between them. The player NOT to move has the opposition.",fen:"8/8/8/3k4/8/3K4/8/8 w - - 0 1",type:"instruction"},{id:"4-4",title:"Practice: Win with Opposition",instruction:"Use the opposition to help your pawn promote. Move your king to gain the opposition.",fen:"8/8/8/3k4/3P4/3K4/8/8 w - - 0 1",correctMoves:["d3e3","d3c3"],explanation:"Good! By gaining the opposition, you can support your pawn's advance to promotion.",type:"practice"}]},5:{id:"5",title:"Opening Principles",description:"Learn the fundamental principles of chess openings for advanced play.",steps:[{id:"5-1",title:"Opening Goals",instruction:"The opening phase has three main goals: develop your pieces, control the center, and ensure king safety.",type:"instruction"},{id:"5-2",title:"Control the Center",instruction:"The center squares (e4, e5, d4, d5) are the most important. Pieces in the center have maximum influence.",fen:"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",type:"instruction"},{id:"5-3",title:"Practice: Open with Center Control",instruction:"Start the game by occupying the center with a pawn move.",fen:"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",correctMoves:["e2e4","d2d4"],explanation:"Excellent! 1.e4 or 1.d4 are the most popular first moves because they immediately stake a claim in the center.",type:"practice"},{id:"5-4",title:"Piece Development",instruction:"Develop your pieces (knights before bishops) toward the center. Don't move the same piece twice in the opening.",fen:"rnbqkbnr/pppp1ppp/8/4p3/4P3/8/PPPP1PPP/RNBQKBNR w KQkq - 0 2",type:"instruction"},{id:"5-5",title:"Practice: Develop Knights First",instruction:"Develop your knight toward the center. Knights should generally be developed before bishops.",fen:"rnbqkbnr/pppp1ppp/8/4p3/4P3/8/PPPP1PPP/RNBQKBNR w KQkq - 0 2",correctMoves:["g1f3","b1c3"],explanation:"Perfect! Developing knights early gives you good central control and prepares for castling.",type:"practice"}]}},kR=()=>{const{lessonId:e}=Qx(),t=hl(),[s,a]=v.useState(0),[o,c]=v.useState(new Set),[d,f]=v.useState(!1),[m,g]=v.useState(0),[y,b]=v.useState(!1),x=e?_x[e]:null,S=x?.steps[s];v.useEffect(()=>{if(!x&&e){console.log("Lesson not found for ID:",e),console.log("Available lessons:",Object.keys(_x)),setTimeout(()=>t("/lessons"),100);return}x&&(console.log("Lesson loaded:",x.title),mn.playGamificationSound("lessonComplete"))},[x,t,e]);const j=v.useCallback(()=>{S&&(console.log("InteractiveLesson: Correct move made"),mn.playGamificationSound("puzzleSolved"),c(R=>new Set([...R,S.id])),f(!1),g(0),S.explanation?setTimeout(()=>{A()},3e3):A())},[S]),k=v.useCallback(()=>{console.log("InteractiveLesson: Incorrect move made"),mn.playUISound("error"),g(R=>R+1),m>=1&&f(!0)},[m]),A=v.useCallback(()=>{console.log("handleNextStep called",{lesson:!!x,currentStepIndex:s,totalSteps:x?.steps.length}),x&&(s<x.steps.length-1?(console.log("Moving to next step"),a(R=>R+1),f(!1),g(0)):(console.log("Lesson completed"),b(!0),mn.playGamificationSound("lessonComplete")))},[x,s]),N=v.useCallback(()=>{s>0&&(a(R=>R-1),f(!1),g(0))},[s]),T=v.useCallback(()=>{a(0),c(new Set),f(!1),g(0),b(!1)},[]),_=v.useCallback(()=>{console.log("Navigating back to lessons"),t("/lessons")},[t]);if(!x&&e)return u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Loading lesson..."}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Please wait while we load the lesson."}),u.jsxs(Ne,{onClick:_,children:[u.jsx(Oc,{className:"h-4 w-4 mr-2"}),"Back to Lessons"]})]})});if(!x)return u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx(O5,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Lesson Not Found"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"The requested lesson could not be loaded."}),u.jsxs(Ne,{onClick:_,children:[u.jsx(Oc,{className:"h-4 w-4 mr-2"}),"Back to Lessons"]})]})});if(y)return u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:u.jsx(Bt,{className:"text-center",children:u.jsxs(Qt,{className:"p-12",children:[u.jsx(z5,{className:"h-16 w-16 text-green-500 mx-auto mb-6"}),u.jsx("h1",{className:"text-3xl font-bold text-green-600 mb-4",children:"Lesson Completed! 🎉"}),u.jsxs("p",{className:"text-lg text-gray-600 mb-6",children:[`Congratulations! You've successfully completed "`,x?.title||"this lesson",'".']}),u.jsxs("div",{className:"flex gap-4 justify-center",children:[u.jsxs(Ne,{onClick:T,variant:"outline",children:[u.jsx(uu,{className:"h-4 w-4 mr-2"}),"Restart Lesson"]}),u.jsxs(Ne,{onClick:_,children:[u.jsx(Lv,{className:"h-4 w-4 mr-2"}),"More Lessons"]})]})]})})});const P=(s+1)/x.steps.length*100;return u.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs(Ne,{variant:"ghost",onClick:_,className:"text-gray-600 hover:text-gray-900",children:[u.jsx(Oc,{className:"h-4 w-4 mr-2"}),"Back to Lessons"]}),u.jsxs(Na,{variant:"secondary",children:["Step ",s+1," of ",x.steps.length]})]}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:x.title}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[u.jsx("span",{children:"Progress"}),u.jsxs("span",{children:[Math.round(P),"%"]})]}),u.jsx(qm,{value:P,className:"h-2"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs(Bt,{children:[u.jsx(zn,{children:u.jsxs(Bn,{className:"flex items-center gap-2",children:[u.jsx(Lv,{className:"h-5 w-5"}),S?.title]})}),u.jsxs(Qt,{children:[u.jsx("p",{className:"text-gray-700 leading-relaxed",children:S?.instruction}),d&&S?.correctMoves&&u.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:u.jsxs("p",{className:"text-yellow-800 text-sm",children:["💡 ",u.jsx("strong",{children:"Hint:"})," Try moving to one of these squares: ",S.correctMoves.join(", ")]})}),o.has(S?.id||"")&&S?.explanation&&u.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:u.jsxs("p",{className:"text-green-800 text-sm",children:["✅ ",u.jsx("strong",{children:"Well done!"})," ",S.explanation]})}),S?.type==="instruction"&&u.jsx("div",{className:"mt-6",children:u.jsxs(Ne,{onClick:A,className:"w-full",children:["Continue",u.jsx(Ov,{className:"h-4 w-4 ml-2"})]})})]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsxs(Ne,{variant:"outline",onClick:N,disabled:s===0,children:[u.jsx(Oc,{className:"h-4 w-4 mr-2"}),"Previous"]}),u.jsxs(Ne,{variant:"outline",onClick:A,disabled:S?.type==="practice"&&!o.has(S?.id||""),children:["Next",u.jsx(Ov,{className:"h-4 w-4 ml-2"})]})]})]}),u.jsx("div",{className:"flex justify-center",children:S?.fen&&u.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:[u.jsx(zu,{fen:S.fen,orientation:"white",puzzleMode:S.type==="practice",correctMoves:S.correctMoves,onCorrectMove:j,onIncorrectMove:k,disabled:o.has(S.id),highlightMoves:!0,showCoordinates:!0,showHelp:S.type==="practice",showPieceTooltips:!0,enableGamification:!0,lessonMode:!0}),S.type==="practice"&&u.jsx("div",{className:"mt-4 text-center",children:u.jsx("p",{className:"text-sm text-gray-600",children:o.has(S.id)?"✅ Step completed!":"Make your move on the board"})})]})})]})]})},jR=()=>u.jsx(kR,{}),Rx=e=>{let t;const s=new Set,a=(g,y)=>{const b=typeof g=="function"?g(t):g;if(!Object.is(b,t)){const x=t;t=y??(typeof b!="object"||b===null)?b:Object.assign({},t,b),s.forEach(S=>S(t,x))}},o=()=>t,f={setState:a,getState:o,getInitialState:()=>m,subscribe:g=>(s.add(g),()=>s.delete(g))},m=t=e(a,o,f);return f},NR=(e=>e?Rx(e):Rx),TR=e=>e;function AR(e,t=TR){const s=Tt.useSyncExternalStore(e.subscribe,Tt.useCallback(()=>t(e.getState()),[e,t]),Tt.useCallback(()=>t(e.getInitialState()),[e,t]));return Tt.useDebugValue(s),s}const ER=e=>{const t=NR(e),s=a=>AR(t,a);return Object.assign(s,t),s},Q2=(e=>ER);function MR(e,t){let s;try{s=e()}catch{return}return{getItem:o=>{var c;const d=m=>m===null?null:JSON.parse(m,void 0),f=(c=s.getItem(o))!=null?c:null;return f instanceof Promise?f.then(d):d(f)},setItem:(o,c)=>s.setItem(o,JSON.stringify(c,void 0)),removeItem:o=>s.removeItem(o)}}const vm=e=>t=>{try{const s=e(t);return s instanceof Promise?s:{then(a){return vm(a)(s)},catch(a){return this}}}catch(s){return{then(a){return this},catch(a){return vm(a)(s)}}}},_R=(e,t)=>(s,a,o)=>{let c={storage:MR(()=>localStorage),partialize:k=>k,version:0,merge:(k,A)=>({...A,...k}),...t},d=!1;const f=new Set,m=new Set;let g=c.storage;if(!g)return e((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),s(...k)},a,o);const y=()=>{const k=c.partialize({...a()});return g.setItem(c.name,{state:k,version:c.version})},b=o.setState;o.setState=(k,A)=>(b(k,A),y());const x=e((...k)=>(s(...k),y()),a,o);o.getInitialState=()=>x;let S;const j=()=>{var k,A;if(!g)return;d=!1,f.forEach(T=>{var _;return T((_=a())!=null?_:x)});const N=((A=c.onRehydrateStorage)==null?void 0:A.call(c,(k=a())!=null?k:x))||void 0;return vm(g.getItem.bind(g))(c.name).then(T=>{if(T)if(typeof T.version=="number"&&T.version!==c.version){if(c.migrate){const _=c.migrate(T.state,T.version);return _ instanceof Promise?_.then(P=>[!0,P]):[!0,_]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,T.state];return[!1,void 0]}).then(T=>{var _;const[P,R]=T;if(S=c.merge(R,(_=a())!=null?_:x),s(S,!0),P)return y()}).then(()=>{N?.(S,void 0),S=a(),d=!0,m.forEach(T=>T(S))}).catch(T=>{N?.(void 0,T)})};return o.persist={setOptions:k=>{c={...c,...k},k.storage&&(g=k.storage)},clearStorage:()=>{g?.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>j(),hasHydrated:()=>d,onHydrate:k=>(f.add(k),()=>{f.delete(k)}),onFinishHydration:k=>(m.add(k),()=>{m.delete(k)})},c.skipHydration||j(),S||x},X2=_R,ur=[0,100,250,450,700,1e3,1350,1750,2200,2700,3250,3850,4500,5200,5950,6750,7600,8500,9450,10450],Dh=e=>e<ur.length?ur[e]:ur[ur.length-1]+(e-ur.length+1)*1e3,RR=e=>{let t=0;for(;t<ur.length-1&&e>=Dh(t+1);)t++;const s=Dh(t),a=Dh(t+1);return{level:t,xpInLevel:e-s,xpForNext:a-e}},DR=()=>[{id:"first_lesson",title:"First Steps",description:"Complete your first chess lesson",icon:"🎓",requirement:1,currentProgress:0,unlocked:!1,category:"lessons"},{id:"lesson_graduate",title:"Chess Scholar",description:"Complete 10 chess lessons",icon:"📚",requirement:10,currentProgress:0,unlocked:!1,category:"lessons"},{id:"first_puzzle",title:"Puzzle Solver",description:"Solve your first chess puzzle",icon:"🧩",requirement:1,currentProgress:0,unlocked:!1,category:"puzzles"},{id:"puzzle_master",title:"Tactical Genius",description:"Solve 50 chess puzzles",icon:"🎯",requirement:50,currentProgress:0,unlocked:!1,category:"puzzles"},{id:"first_win",title:"Victory!",description:"Win your first game against the computer",icon:"🏆",requirement:1,currentProgress:0,unlocked:!1,category:"games"},{id:"chess_warrior",title:"Chess Warrior",description:"Win 10 games against the computer",icon:"⚔️",requirement:10,currentProgress:0,unlocked:!1,category:"games"},{id:"streak_3",title:"Consistency",description:"Maintain a 3-day learning streak",icon:"🔥",requirement:3,currentProgress:0,unlocked:!1,category:"streaks"},{id:"streak_7",title:"Dedication",description:"Maintain a 7-day learning streak",icon:"💪",requirement:7,currentProgress:0,unlocked:!1,category:"streaks"},{id:"speed_demon",title:"Speed Demon",description:"Solve a puzzle in under 30 seconds",icon:"⚡",requirement:1,currentProgress:0,unlocked:!1,category:"special"},{id:"perfectionist",title:"Perfectionist",description:"Complete a lesson with 100% accuracy",icon:"💎",requirement:1,currentProgress:0,unlocked:!1,category:"special"}],Mp=Q2()(X2((e,t)=>({totalXP:0,currentLevel:0,xpForNextLevel:100,xpInCurrentLevel:0,currentStreak:0,longestStreak:0,lastActivityDate:null,lessonsCompleted:0,puzzlesSolved:0,gamesPlayed:0,gamesWon:0,achievements:DR(),totalTimeSpent:0,averageAccuracy:0,addXP:(s,a)=>{const c=t().totalXP+s,d=RR(c);console.log(`+${s} XP from ${a}! Total: ${c}`),e({totalXP:c,currentLevel:d.level,xpInCurrentLevel:d.xpInLevel,xpForNextLevel:d.xpForNext}),t().checkAchievements()},completeLesson:(s,a,o)=>{const c=t(),d=c.lessonsCompleted+1;let f=50;o>=90&&(f+=20),o===100&&(f+=30),e({lessonsCompleted:d,totalTimeSpent:c.totalTimeSpent+a,averageAccuracy:(c.averageAccuracy*(d-1)+o)/d}),t().addXP(f,"lesson completion"),t().updateStreak(),t().checkAchievements()},solvePuzzle:(s,a,o)=>{const c=t(),d=c.puzzlesSolved+1;let f=30;a===1&&(f+=20),o<30&&(f+=15),e({puzzlesSolved:d,totalTimeSpent:c.totalTimeSpent+Math.floor(o/6e4)}),t().addXP(f,"puzzle solved"),t().updateStreak(),t().checkAchievements()},completeGame:(s,a)=>{const o=t();e({gamesPlayed:o.gamesPlayed+1,gamesWon:s?o.gamesWon+1:o.gamesWon,totalTimeSpent:o.totalTimeSpent+Math.floor(a/6e4)});const c=s?100:25;t().addXP(c,s?"game won":"game played"),t().updateStreak(),t().checkAchievements()},updateStreak:()=>{const s=t(),a=new Date().toDateString(),o=new Date(Date.now()-864e5).toDateString();if(s.lastActivityDate!==a)if(s.lastActivityDate===o){const c=s.currentStreak+1;e({currentStreak:c,longestStreak:Math.max(s.longestStreak,c),lastActivityDate:a})}else s.lastActivityDate===null?e({currentStreak:1,longestStreak:Math.max(s.longestStreak,1),lastActivityDate:a}):e({currentStreak:1,lastActivityDate:a})},checkAchievements:()=>{const s=t(),a=[...s.achievements];let o=!1;a.forEach(c=>{if(c.unlocked)return;let d=0,f=!1;switch(c.id){case"first_lesson":case"lesson_graduate":d=s.lessonsCompleted;break;case"first_puzzle":case"puzzle_master":d=s.puzzlesSolved;break;case"first_win":case"chess_warrior":d=s.gamesWon;break;case"streak_3":case"streak_7":d=s.longestStreak;break;case"perfectionist":d=s.averageAccuracy===100?1:0;break}d!==c.currentProgress&&(c.currentProgress=d,o=!0),d>=c.requirement&&!c.unlocked&&(c.unlocked=!0,c.unlockedAt=new Date,f=!0,o=!0),f&&(console.log(`🎉 Achievement Unlocked: ${c.title}!`),t().addXP(100,`achievement: ${c.title}`))}),o&&e({achievements:a})},unlockAchievement:s=>{const a=t(),o=a.achievements.find(c=>c.id===s);o&&!o.unlocked&&(o.unlocked=!0,o.unlockedAt=new Date,e({achievements:[...a.achievements]}))}}),{name:"chess-academy-gamification",partialize:e=>({totalXP:e.totalXP,currentLevel:e.currentLevel,xpForNextLevel:e.xpForNextLevel,xpInCurrentLevel:e.xpInCurrentLevel,currentStreak:e.currentStreak,longestStreak:e.longestStreak,lastActivityDate:e.lastActivityDate,lessonsCompleted:e.lessonsCompleted,puzzlesSolved:e.puzzlesSolved,gamesPlayed:e.gamesPlayed,gamesWon:e.gamesWon,achievements:e.achievements,totalTimeSpent:e.totalTimeSpent,averageAccuracy:e.averageAccuracy})}));class LR{apiKey=null;baseUrl="https://api.anthropic.com/v1";constructor(){this.apiKey=null}setApiKey(t){this.apiKey=t}async getCoaching(t){if(!this.apiKey)return this.getMockCoaching(t);try{const s=this.buildCoachingPrompt(t),a=await fetch(`${this.baseUrl}/messages`,{method:"POST",headers:{"x-api-key":this.apiKey,"Content-Type":"application/json","anthropic-version":"2023-06-01"},body:JSON.stringify({model:"claude-3-sonnet-20240229",max_tokens:200,temperature:.7,system:"You are a friendly and encouraging chess coach. Provide helpful, personalized coaching based on the student's level and situation. Keep responses concise but supportive. Use encouraging emojis and maintain a positive tone.",messages:[{role:"user",content:s}]})});if(!a.ok)throw new Error(`Claude API error: ${a.status}`);return{message:(await a.json()).content[0].text,type:this.determineResponseType(t),confidence:.9}}catch(s){return console.error("AI Coach API error:",s),this.getMockCoaching(t)}}async getPuzzleHint(t,s){if(!this.apiKey)return this.getMockPuzzleHint(t,s);try{const a=`Chess position: ${t.position}
Player level: ${t.playerLevel}
Attempts made: ${s}
Puzzle type: ${t.puzzleType}

The player is struggling with this chess puzzle. Please provide a helpful hint that's appropriate for their skill level and attempt count. For fewer attempts, give gentler hints. For more attempts, be more specific.

Respond with just the hint text, keep it concise and encouraging.`,o=await fetch(`${this.baseUrl}/messages`,{method:"POST",headers:{"x-api-key":this.apiKey,"Content-Type":"application/json","anthropic-version":"2023-06-01"},body:JSON.stringify({model:"claude-3-sonnet-20240229",max_tokens:150,temperature:.7,system:"You are a chess coach providing hints for puzzles. Give helpful, progressive hints that encourage learning.",messages:[{role:"user",content:a}]})});if(!o.ok)throw new Error(`Claude API error: ${o.status}`);const c=await o.json(),d=s<=2?"gentle":s<=4?"specific":"direct";return{hint:c.content[0].text,level:d,suggestedSquares:s>5?["e4","f7","d5"]:void 0}}catch(a){return console.error("AI Coach hint error:",a),this.getMockPuzzleHint(t,s)}}async analyzeGame(t){if(!this.apiKey)return this.getMockGameAnalysis(t);try{const s=`Please analyze this chess game:

Final position: ${t.position}
Player level: ${t.playerLevel}
Move history: ${t.moveHistory.join(" ")}

Provide a brief analysis focusing on:
1. Overall evaluation of the player's performance
2. 2-3 key strengths they showed
3. 1-2 areas for improvement
4. Reasoning for the assessment

Keep it encouraging and educational for a ${t.difficulty} level player.`,a=await fetch(`${this.baseUrl}/messages`,{method:"POST",headers:{"x-api-key":this.apiKey,"Content-Type":"application/json","anthropic-version":"2023-06-01"},body:JSON.stringify({model:"claude-3-sonnet-20240229",max_tokens:300,temperature:.7,system:"You are a chess coach analyzing games. Provide constructive feedback that helps players improve while staying encouraging.",messages:[{role:"user",content:s}]})});if(!a.ok)throw new Error(`Claude API error: ${a.status}`);const c=(await a.json()).content[0].text,d=this.getMockGameAnalysis(t);return{evaluation:c.split(`
`)[0]||d.evaluation,reasoning:"Based on Claude's analysis of your game performance",playerStrengths:d.playerStrengths,areasForImprovement:d.areasForImprovement}}catch(s){return console.error("AI Coach analysis error:",s),this.getMockGameAnalysis(t)}}buildCoachingPrompt(t){let s=`Chess position: ${t.position}
`;return s+=`Player level: ${t.playerLevel}
`,s+=`Difficulty: ${t.difficulty}
`,t.lastMove&&(s+=`Last move: ${t.lastMove}
`),t.isCorrectMove!==void 0&&(s+=`Move was ${t.isCorrectMove?"correct":"incorrect"}
`),t.puzzleType&&(s+=`Puzzle type: ${t.puzzleType}
`),t.lessonTopic&&(s+=`Lesson topic: ${t.lessonTopic}
`),s+="Provide coaching appropriate for this situation.",s}determineResponseType(t){return t.isCorrectMove===!0?"celebration":t.isCorrectMove===!1?"correction":t.puzzleType?"hint":"encouragement"}getMockCoaching(t){const s={celebration:["Excellent move! You're really getting the hang of this! 🎉","Perfect! That was exactly the right idea! ⭐","Brilliant! You spotted that tactic beautifully! 👏","Great job! Your chess vision is improving! 🔥"],correction:["Not quite right, but you're thinking in the right direction! 🤔","That's a reasonable idea, but let's look for something stronger! 💪","Good attempt! Try to look for forcing moves like checks and captures! 🎯","Almost there! Consider what your opponent's threats are first! 🛡️"],hint:["Look for a move that attacks two pieces at once! 👀","Sometimes the best move is the most forcing one! ⚡","What would happen if you moved your most active piece? 🚀","Try to find a move that improves your worst-placed piece! 📈"],encouragement:["Take your time and look for the best move! You've got this! 💫","Remember the basic principles: develop pieces, control the center! 🎯","You're doing great! Each game makes you stronger! 🌟","Think about what your opponent is planning next! 🧠"],analysis:["This position has some interesting tactical possibilities! 🔍","The key here is improving piece coordination! 🤝","Focus on controlling the most important squares! 🎯","This is a great learning position - lots of candidate moves! 📚"]},a=this.determineResponseType(t),o=s[a]||s.encouragement;return{message:o[Math.floor(Math.random()*o.length)],type:a,confidence:.8}}getMockPuzzleHint(t,s){const a={gentle:["Look for moves that create immediate threats!","What pieces can you activate with tempo?","Sometimes the solution involves a sacrifice!","Check if there are any pins or forks available!"],specific:["Focus on the center of the board - there might be a tactic there!","Look at your opponent's king safety - is there a weakness?","Your pieces need to work together - which combination is strongest?","Sometimes retreating a piece can set up a powerful follow-up!"],direct:["Try moving your most active piece to create multiple threats!","Look for a move that attacks the king AND another piece!","The solution probably involves your strongest piece!","Count the attackers and defenders around the key squares!"]},o=s<=2?"gentle":s<=4?"specific":"direct",c=a[o];return{hint:c[Math.floor(Math.random()*c.length)],level:o,suggestedSquares:s>5?["e4","f7","d5"]:void 0}}getMockGameAnalysis(t){const s=["You played a solid opening, focusing on development!","Your tactical awareness was strong in the middlegame!","You handled the endgame with good technique!","Your positional understanding is improving!"],a=["Good piece development","Strong tactical vision","Solid pawn structure","Active piece play","Good time management"],o=["Look for more forcing moves","Improve king safety earlier","Consider pawn structure more","Calculate deeper variations","Work on endgame technique"];return{evaluation:s[Math.floor(Math.random()*s.length)],reasoning:"Based on your recent performance and the moves you made in this game.",playerStrengths:a.slice(0,Math.floor(Math.random()*3)+2),areasForImprovement:o.slice(0,Math.floor(Math.random()*2)+1)}}isApiKeyConfigured(){return this.apiKey!==null}isClaudeApiEnabled(){return this.apiKey!==null}getCoachingForMove(t,s,a,o){return this.getCoaching({position:a,moveHistory:[],playerLevel:o,difficulty:o<5?"beginner":o<15?"intermediate":"advanced",lastMove:t,isCorrectMove:s})}getHintForPuzzle(t,s,a="tactical"){return this.getPuzzleHint({position:t,moveHistory:[],playerLevel:5,difficulty:"intermediate",puzzleType:a},s)}}const Zn=new LR,OR=({isOpen:e,onClose:t})=>{const[s,a]=v.useState(""),[o,c]=v.useState(!1),[d,f]=v.useState(""),m=()=>{if(!s.trim()){f("Please enter a Claude API key");return}if(!s.startsWith("sk-ant-")){f('Claude API keys should start with "sk-ant-"');return}Zn.setApiKey(s.trim()),c(!0),f(""),setTimeout(()=>{c(!1),t()},2e3)},g=()=>{Zn.setApiKey(""),a(""),c(!1),f("")};return e?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"🤖 Claude Coach Settings"}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Enter your Claude API key to enable real AI coaching. Without an API key, you'll see demo responses."}),u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-3 mb-4",children:u.jsxs("p",{className:"text-xs text-blue-800",children:[u.jsx("strong",{children:"How to get a Claude API key:"}),u.jsx("br",{}),"1. Visit ",u.jsx("a",{href:"https://console.anthropic.com",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"console.anthropic.com"}),u.jsx("br",{}),"2. Sign up or log in to your account",u.jsx("br",{}),"3. Navigate to API Keys section",u.jsx("br",{}),"4. Create a new API key",u.jsx("br",{}),"5. Copy and paste it here"]})}),u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Claude API Key"}),u.jsx("input",{type:"password",value:s,onChange:y=>{a(y.target.value),f(""),c(!1)},placeholder:"sk-ant-...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),d&&u.jsx("p",{className:"text-red-600 text-xs mt-1",children:d}),o&&u.jsx("p",{className:"text-green-600 text-xs mt-1",children:"✓ API key saved successfully!"})]}),u.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-3",children:u.jsxs("p",{className:"text-xs text-yellow-800",children:[u.jsx("strong",{children:"Privacy Note:"})," Your API key is stored locally in your browser and never sent to our servers. It's only used to make direct requests to Claude's API."]})}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:m,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",children:"Save API Key"}),Zn.isApiKeyConfigured()&&u.jsx("button",{onClick:g,className:"px-4 py-2 text-red-600 border border-red-200 rounded-md hover:bg-red-50 transition-colors",children:"Remove Key"})]}),u.jsx("div",{className:"text-center",children:u.jsx("button",{onClick:t,className:"text-sm text-gray-500 hover:text-gray-700",children:"Continue with Demo Mode"})})]})]})}):null},PR=({position:e="",playerLevel:t=5,isVisible:s=!0,onClose:a,mode:o="general",context:c={}})=>{const[d,f]=v.useState(null),[m,g]=v.useState(null),[y,b]=v.useState(null),[x,S]=v.useState(!1),[j,k]=v.useState(null),[A,N]=v.useState(!1);v.useEffect(()=>{s&&e&&T()},[s,e,c,o]);const T=async()=>{S(!0),k(null);try{const R=t<5?"beginner":t<15?"intermediate":"advanced",K={position:e,moveHistory:[],playerLevel:t,difficulty:R,...c};switch(o){case"puzzle":if(c.attemptCount!==void 0){const Z=await Zn.getPuzzleHint(K,c.attemptCount);g(Z)}else{const Z=await Zn.getCoaching(K);f(Z)}break;case"game":const Q=await Zn.analyzeGame(K);b(Q);break;default:const L=await Zn.getCoaching(K);f(L);break}}catch(R){k("Failed to get coaching advice. Please try again."),console.error("Coaching error:",R)}finally{S(!1)}},_=R=>{switch(R){case"celebration":return"🎉";case"correction":return"🤔";case"hint":return"💡";case"encouragement":return"💪";case"analysis":return"🔍";default:return"🤖"}},P=R=>{switch(R){case"celebration":return"border-green-200 bg-green-50 text-green-800";case"correction":return"border-orange-200 bg-orange-50 text-orange-800";case"hint":return"border-blue-200 bg-blue-50 text-blue-800";case"encouragement":return"border-purple-200 bg-purple-50 text-purple-800";case"analysis":return"border-gray-200 bg-gray-50 text-gray-800";default:return"border-blue-200 bg-blue-50 text-blue-800"}};return s?u.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4 mb-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-2xl",children:"🤖"}),u.jsx("h3",{className:"font-semibold text-gray-900",children:"Claude Chess Coach"}),!Zn.isApiKeyConfigured()&&u.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded-full",children:"Demo Mode"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>N(!0),className:"text-gray-400 hover:text-gray-600 transition-colors p-1",title:"Configure Claude API Key",children:u.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),a&&u.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),x&&u.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),u.jsx("span",{className:"text-sm",children:"Analyzing your position..."})]}),j&&u.jsx("div",{className:"text-red-600 text-sm bg-red-50 border border-red-200 rounded p-2 mb-3",children:j}),d&&u.jsx("div",{className:`p-3 rounded-lg border ${P(d.type)} mb-3`,children:u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-lg",children:_(d.type)}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium mb-1",children:d.message}),d.explanation&&u.jsx("p",{className:"text-xs opacity-90",children:d.explanation}),d.suggestedMove&&u.jsx("div",{className:"mt-2 text-xs",children:u.jsxs("span",{className:"font-mono bg-white bg-opacity-50 px-2 py-1 rounded",children:["Suggested: ",d.suggestedMove]})})]})]})}),m&&u.jsx("div",{className:`p-3 rounded-lg border ${P("hint")} mb-3`,children:u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-lg",children:"💡"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium mb-1",children:m.hint}),u.jsxs("div",{className:"text-xs opacity-75",children:[u.jsx("span",{className:"capitalize",children:m.level})," hint"]}),m.suggestedSquares&&u.jsxs("div",{className:"mt-2 flex gap-1",children:[u.jsx("span",{className:"text-xs",children:"Focus on squares:"}),m.suggestedSquares.map((R,K)=>u.jsx("span",{className:"text-xs font-mono bg-white bg-opacity-50 px-1 rounded",children:R},K))]})]})]})}),y&&u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:`p-3 rounded-lg border ${P("analysis")}`,children:u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-lg",children:"🔍"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium mb-1",children:y.evaluation}),u.jsx("p",{className:"text-xs opacity-90",children:y.reasoning})]})]})}),y.playerStrengths.length>0&&u.jsxs("div",{className:"p-3 rounded-lg border border-green-200 bg-green-50",children:[u.jsxs("h4",{className:"text-sm font-medium text-green-800 mb-2 flex items-center gap-1",children:[u.jsx("span",{children:"⭐"})," Your Strengths"]}),u.jsx("ul",{className:"text-xs text-green-700 space-y-1",children:y.playerStrengths.map((R,K)=>u.jsxs("li",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-green-500",children:"•"}),R]},K))})]}),y.areasForImprovement.length>0&&u.jsxs("div",{className:"p-3 rounded-lg border border-orange-200 bg-orange-50",children:[u.jsxs("h4",{className:"text-sm font-medium text-orange-800 mb-2 flex items-center gap-1",children:[u.jsx("span",{children:"📈"})," Areas to Improve"]}),u.jsx("ul",{className:"text-xs text-orange-700 space-y-1",children:y.areasForImprovement.map((R,K)=>u.jsxs("li",{className:"flex items-center gap-1",children:[u.jsx("span",{className:"text-orange-500",children:"•"}),R]},K))})]})]}),u.jsxs("div",{className:"flex gap-2 mt-3",children:[u.jsx("button",{onClick:T,disabled:x,className:"text-xs bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 disabled:opacity-50 transition-colors",children:x?"Thinking...":"New Advice"}),o==="puzzle"&&u.jsx("button",{onClick:async()=>{if(c.attemptCount!==void 0){S(!0);try{const R=await Zn.getHintForPuzzle(e,c.attemptCount+1);g(R)}catch{k("Failed to get hint")}finally{S(!1)}}},disabled:x,className:"text-xs bg-yellow-600 text-white px-3 py-1 rounded hover:bg-yellow-700 disabled:opacity-50 transition-colors",children:"More Specific Hint"})]}),u.jsx(OR,{isOpen:A,onClose:()=>N(!1)})]}):null},zR=(e={})=>{const{autoCoach:t=!0,enableHints:s=!0,playerLevel:a}=e,{currentLevel:o}=Mp(),c=a??o,[d,f]=v.useState(null),[m,g]=v.useState(null),[y,b]=v.useState(null),[x,S]=v.useState(!1),[j,k]=v.useState(null),[A,N]=v.useState(!1),[T,_]=v.useState(0),P=()=>k(null),R=v.useCallback(()=>{f(null),g(null),b(null),k(null)},[]),K=v.useCallback(async(le,me={})=>{S(!0),P();try{const B=c<5?"beginner":c<15?"intermediate":"advanced",V={position:le,moveHistory:[],playerLevel:c,difficulty:B,...me},X=await Zn.getCoaching(V);f(X),N(!0)}catch(B){k("Failed to get coaching advice"),console.error("Coaching error:",B)}finally{S(!1)}},[c]),Q=v.useCallback(async(le,me,B="tactical")=>{if(s){S(!0),P();try{const V=await Zn.getHintForPuzzle(le,me,B);g(V),_(X=>X+1),N(!0)}catch(V){k("Failed to get hint"),console.error("Hint error:",V)}finally{S(!1)}}},[s]),L=v.useCallback(async(le,me)=>{S(!0),P();try{const B=c<5?"beginner":c<15?"intermediate":"advanced",V={position:le,moveHistory:me,playerLevel:c,difficulty:B},X=await Zn.analyzeGame(V);b(X),N(!0)}catch(B){k("Failed to analyze game"),console.error("Analysis error:",B)}finally{S(!1)}},[c]),Z=v.useCallback(async(le,me,B)=>{if(t&&!(me&&Math.random()>.3)){S(!0),P();try{const V=await Zn.getCoachingForMove(le,me,B,c);f(V),N(!0)}catch(V){k("Failed to get move analysis"),console.error("Move analysis error:",V)}finally{S(!1)}}},[t,c]),re=v.useCallback(()=>N(!0),[]),he=v.useCallback(()=>N(!1),[]),ne=v.useCallback(()=>N(le=>!le),[]),ye=s&&T<3;return{coaching:d,puzzleHint:m,gameAnalysis:y,isLoading:x,error:j,isVisible:A,getCoaching:K,getHint:Q,analyzeGame:L,onMoveAnalysis:Z,showCoach:re,hideCoach:he,toggleCoach:ne,clearCoaching:R,canRequestHint:ye,hintCount:T}},BR=e=>zR({autoCoach:!0,enableHints:!0}),qR=({children:e,className:t="",maxWidth:s="lg",padding:a="md",centerContent:o=!1})=>{const c=()=>({sm:"max-w-sm",md:"max-w-md",lg:"max-w-4xl",xl:"max-w-6xl","2xl":"max-w-7xl",full:"max-w-full"})[s],d=()=>({none:"",sm:"px-2 sm:px-4",md:"px-4 sm:px-6 lg:px-8",lg:"px-6 sm:px-8 lg:px-12",xl:"px-8 sm:px-12 lg:px-16"})[a];return u.jsx("div",{className:`
      w-full ${c()} ${d()}
      ${o?"mx-auto":""}
      ${t}
    `,children:e})},zi=({children:e,className:t="",direction:s="row",wrap:a=!1,justify:o="start",align:c="start",gap:d="md",responsive:f={}})=>{const m=()=>{const g=["flex"];g.push(`flex-${s}`),a&&g.push("flex-wrap"),g.push(`justify-${o}`),g.push(`items-${c}`);const y={sm:"gap-2",md:"gap-4",lg:"gap-6",xl:"gap-8"};return g.push(y[d]),Object.entries(f).forEach(([b,x])=>{x.direction&&g.push(`${b}:flex-${x.direction}`),x.justify&&g.push(`${b}:justify-${x.justify}`),x.align&&g.push(`${b}:items-${x.align}`)}),g.join(" ")};return u.jsx("div",{className:`${m()} ${t}`,children:e})},Kc=({variant:e="primary",size:t="md",loading:s=!1,soundEffect:a=!0,ripple:o=!0,icon:c,iconPosition:d="left",pulse:f=!1,glow:m=!1,children:g,className:y="",onClick:b,onMouseEnter:x,onMouseLeave:S,disabled:j,...k})=>{const[A,N]=v.useState(!1),[T,_]=v.useState([]),P=()=>({primary:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white shadow-lg hover:shadow-xl border-0",secondary:"bg-gradient-to-r from-gray-100 to-gray-200 hover:from-gray-200 hover:to-gray-300 text-gray-800 border border-gray-300 shadow-md hover:shadow-lg",success:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white shadow-lg hover:shadow-xl border-0",warning:"bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700 text-white shadow-lg hover:shadow-xl border-0",danger:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white shadow-lg hover:shadow-xl border-0",ghost:"bg-transparent hover:bg-gray-100 text-gray-700 border border-gray-300 hover:border-gray-400"})[e],R=()=>({sm:"px-3 py-1.5 text-sm font-medium",md:"px-4 py-2 text-sm font-semibold",lg:"px-6 py-3 text-base font-semibold",xl:"px-8 py-4 text-lg font-bold"})[t],K=()=>m?`shadow-2xl ${{primary:"shadow-blue-500/25",secondary:"shadow-gray-500/25",success:"shadow-green-500/25",warning:"shadow-yellow-500/25",danger:"shadow-red-500/25",ghost:"shadow-gray-500/25"}[e]}`:"",Q=Z=>{if(!(j||s)){if(a&&mn.playUISound("click"),o){const re=Z.currentTarget.getBoundingClientRect(),he=Z.clientX-re.left,ne=Z.clientY-re.top,ye={id:Date.now(),x:he,y:ne};_(le=>[...le,ye]),setTimeout(()=>{_(le=>le.filter(me=>me.id!==ye.id))},600)}N(!0),setTimeout(()=>N(!1),150),b?.(Z)}},L=Z=>{a&&!j&&mn.playUISound("hover"),x?.(Z)};return u.jsxs("button",{className:`
        relative overflow-hidden rounded-lg transition-all duration-200 
        transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed
        focus:outline-none focus:ring-4 focus:ring-opacity-50
        ${P()}
        ${R()}
        ${K()}
        ${f?"animate-pulse":""}
        ${A?"scale-95":"hover:scale-105"}
        ${j?"cursor-not-allowed":"cursor-pointer"}
        ${y}
      `,onClick:Q,onMouseEnter:L,onMouseLeave:S,disabled:j||s,...k,children:[T.map(Z=>u.jsx("span",{className:"absolute animate-ping bg-white bg-opacity-25 rounded-full",style:{left:Z.x-10,top:Z.y-10,width:20,height:20,animationDuration:"600ms"}},Z.id)),s&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"})}),u.jsxs("div",{className:`flex items-center justify-center gap-2 ${s?"opacity-0":"opacity-100"}`,children:[c&&d==="left"&&u.jsx("span",{className:"flex-shrink-0 transition-transform duration-200 group-hover:scale-110",children:c}),u.jsx("span",{className:"flex-1",children:g}),c&&d==="right"&&u.jsx("span",{className:"flex-shrink-0 transition-transform duration-200 group-hover:scale-110",children:c})]}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700 ease-out"})]})},ii=({children:e,delay:t=0,duration:s=600,direction:a="up",className:o=""})=>{const[c,d]=v.useState(!1),f=v.useRef(null);v.useEffect(()=>{const g=setTimeout(()=>d(!0),t);return()=>clearTimeout(g)},[t]);const m=()=>`transition-all ease-out ${{up:c?"translate-y-0 opacity-100":"translate-y-8 opacity-0",down:c?"translate-y-0 opacity-100":"-translate-y-8 opacity-0",left:c?"translate-x-0 opacity-100":"translate-x-8 opacity-0",right:c?"translate-x-0 opacity-100":"-translate-x-8 opacity-0",scale:c?"scale-100 opacity-100":"scale-95 opacity-0"}[a]}`;return u.jsx("div",{ref:f,className:`${m()} ${o}`,style:{transitionDuration:`${s}ms`},children:e})},Dx=({children:e,trigger:t,className:s=""})=>u.jsx("div",{className:`${t?"animate-bounce":""} ${s}`,children:e}),UR=({children:e,active:t,className:s=""})=>u.jsx("div",{className:`${t?"animate-pulse":""} ${s}`,children:e}),VR=({progress:e,height:t="md",color:s="blue",showLabel:a=!0,label:o,animate:c=!0,className:d=""})=>{const[f,m]=v.useState(0);v.useEffect(()=>{if(c){const b=setTimeout(()=>m(e),100);return()=>clearTimeout(b)}else m(e)},[e,c]);const g=()=>({sm:"h-2",md:"h-3",lg:"h-4"})[t],y=()=>({blue:"bg-blue-600",green:"bg-green-600",yellow:"bg-yellow-600",red:"bg-red-600",purple:"bg-purple-600"})[s];return u.jsxs("div",{className:d,children:[a&&u.jsx("div",{className:"flex justify-between items-center mb-1",children:u.jsx("span",{className:"text-sm font-medium text-gray-700",children:o||`Progress: ${Math.round(e)}%`})}),u.jsx("div",{className:`w-full bg-gray-200 rounded-full ${g()}`,children:u.jsx("div",{className:`${g()} ${y()} rounded-full transition-all duration-1000 ease-out`,style:{width:`${f}%`}})})]})},HR=({message:e,type:t,isVisible:s,onClose:a,autoClose:o=!0,duration:c=4e3})=>{v.useEffect(()=>{if(s&&o){const m=setTimeout(a,c);return()=>clearTimeout(m)}},[s,o,c,a]);const d=()=>({success:{icon:"🎉",bgColor:"bg-green-100 border-green-300",textColor:"text-green-800",iconBg:"bg-green-500"},achievement:{icon:"🏆",bgColor:"bg-yellow-100 border-yellow-300",textColor:"text-yellow-800",iconBg:"bg-yellow-500"},streak:{icon:"🔥",bgColor:"bg-orange-100 border-orange-300",textColor:"text-orange-800",iconBg:"bg-orange-500"},level:{icon:"⚡",bgColor:"bg-blue-100 border-blue-300",textColor:"text-blue-800",iconBg:"bg-blue-500"},encouragement:{icon:"💪",bgColor:"bg-purple-100 border-purple-300",textColor:"text-purple-800",iconBg:"bg-purple-500"}})[t];if(!s)return null;const f=d();return u.jsx("div",{className:"fixed top-4 right-4 z-50",children:u.jsx(ii,{direction:"right",children:u.jsxs("div",{className:`
          flex items-start gap-3 p-4 rounded-lg border-2 shadow-lg max-w-sm
          ${f.bgColor}
          animate-slideInFromRight
        `,children:[u.jsx(UR,{active:!0,children:u.jsx("div",{className:`
              w-8 h-8 rounded-full flex items-center justify-center text-white text-lg
              ${f.iconBg}
            `,children:f.icon})}),u.jsx("div",{className:"flex-1 min-w-0",children:u.jsx("p",{className:`text-sm font-medium ${f.textColor}`,children:e})}),u.jsx("button",{onClick:a,className:`${f.textColor} hover:opacity-75 transition-opacity`,children:u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})})},$R=({puzzle:e,onSolved:t,onSkip:s,showHints:a=!0})=>{const[o,c]=v.useState(0),[d,f]=v.useState(0),[m,g]=v.useState(Date.now()),[y,b]=v.useState(!1),[x,S]=v.useState({type:null,message:""}),[j,k]=v.useState(!1),[A,N]=v.useState(0),[T,_]=v.useState(!1),[P,R]=v.useState({message:"",type:"success",isVisible:!1}),{solvePuzzle:K}=Mp(),Q=BR();v.useEffect(()=>{g(Date.now()),c(0),f(0),b(!1),S({type:null,message:""}),k(!1),N(0)},[e.id]);const L=()=>{const ne=o+1;if(c(ne),ne>=e.solution.length){b(!0);const ye=Date.now()-m;let le=30;const me=[];d===0&&(le+=20,me.push("Perfect!")),ye<3e4&&(le+=15,me.push("Speed Bonus!")),N(le),K(e.id,d+1,ye),mn.playCelebration(),R({message:`Puzzle Solved! +${le} XP${me.length>0?" ("+me.join(", ")+")":""}`,type:"achievement",isVisible:!0}),S({type:"success",message:"🎉 Puzzle solved!"}),t?.(e.id,d+1,ye)}else mn.playUISound("success"),S({type:"success",message:"Correct! Keep going..."}),ne===1&&R({message:"Great start! You found the right move!",type:"encouragement",isVisible:!0})},Z=()=>{const ne=d+1;f(ne),mn.playUISound("error"),Q.onMoveAnalysis("",!1,e.fen);let ye="Not quite right. Try again!";if(ne>=3&&a){const le=e.solution[o];if(le){const me=le.slice(0,2),B=le.slice(2,4);ye=`💡 Hint: Try moving from ${me} to ${B}`,mn.playUISound("notification")}}else ne===2?ye="Don't give up! Think about the position...":ne>=5&&(ye="Keep trying! Every attempt makes you stronger 💪");S({type:ne>=3?"hint":"error",message:ye}),ne===3&&R({message:"Hang in there! Learning takes practice.",type:"encouragement",isVisible:!0})},re=()=>{s?.(e.id),k(!0)},he=()=>{c(0),f(0),g(Date.now()),b(!1),S({type:null,message:""}),k(!1),N(0)};return u.jsxs(qR,{maxWidth:"xl",className:"chess-puzzle",children:[u.jsx(HR,{message:P.message,type:P.type,isVisible:P.isVisible,onClose:()=>R({...P,isVisible:!1})}),u.jsxs(zi,{direction:"col",gap:"lg",responsive:{lg:{direction:"row",justify:"between"}},className:"min-h-screen",children:[u.jsxs("div",{className:"flex flex-col items-center lg:w-1/2",children:[u.jsx(ii,{direction:"up",children:u.jsxs("div",{className:"relative",children:[u.jsx(zu,{fen:e.fen,puzzleMode:!0,correctMoves:e.solution,onCorrectMove:L,onIncorrectMove:Z,disabled:y||j,highlightMoves:!0,showCoordinates:!0}),y&&u.jsx("div",{className:"absolute inset-0 bg-green-100 bg-opacity-90 rounded-lg flex items-center justify-center",children:u.jsx(Dx,{trigger:!0,children:u.jsx("div",{className:"text-4xl",children:"🎉"})})})]})}),u.jsx(ii,{direction:"up",delay:200,children:u.jsxs(zi,{gap:"sm",wrap:!0,className:"mt-6",children:[u.jsx(Kc,{onClick:he,variant:"secondary",size:"md",icon:u.jsx("span",{children:"🔄"}),children:"Reset"}),u.jsx(Kc,{onClick:re,variant:"warning",size:"md",disabled:y,icon:u.jsx("span",{children:"💡"}),children:"Show Solution"}),u.jsx(Kc,{onClick:()=>_(!T),variant:"primary",size:"md",icon:u.jsx("span",{children:"🤖"}),pulse:Q.isVisible,children:"Coach"}),Q.canRequestHint&&!y&&u.jsx(Kc,{onClick:()=>Q.getHint(e.fen,d,"tactical"),variant:"ghost",size:"md",icon:u.jsx("span",{children:"💭"}),children:"Hint"})]})})]}),u.jsxs("div",{className:"flex flex-col gap-6 lg:w-1/2",children:[(T||Q.isVisible)&&u.jsx(ii,{direction:"left",children:u.jsx(PR,{position:e.fen,playerLevel:e.rating/100,isVisible:T||Q.isVisible,onClose:()=>{_(!1),Q.hideCoach()},mode:"puzzle",context:{attemptCount:d,puzzleType:"tactical",isCorrectMove:x.type==="success"}})}),u.jsx(ii,{direction:"right",delay:100,children:u.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:e.title}),u.jsx("p",{className:"text-gray-600 mb-4",children:e.description}),u.jsxs(zi,{gap:"sm",wrap:!0,children:[u.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:["Rating: ",e.rating]}),e.tags.map(ne=>u.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm hover-lift",children:ne},ne))]})]})}),x.type&&u.jsx(ii,{direction:"right",delay:150,children:u.jsx("div",{className:`p-4 rounded-lg border-l-4 shadow-sm ${x.type==="success"?"bg-green-50 text-green-800 border-green-400":x.type==="error"?"bg-red-50 text-red-800 border-red-400":"bg-yellow-50 text-yellow-800 border-yellow-400"}`,children:u.jsxs("p",{className:"font-medium flex items-center gap-2",children:[x.type==="success"&&u.jsx("span",{children:"✅"}),x.type==="error"&&u.jsx("span",{children:"❌"}),x.type==="hint"&&u.jsx("span",{children:"💡"}),x.message]})})}),u.jsx(ii,{direction:"right",delay:200,children:u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-6 rounded-xl border border-blue-100",children:[u.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[u.jsx("span",{children:"📊"})," Progress"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(VR,{progress:o/e.solution.length*100,color:"blue",label:`Moves completed: ${o} / ${e.solution.length}`,animate:!0}),u.jsxs(zi,{justify:"between",className:"text-sm text-gray-600",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{children:"🎯"}),u.jsxs("span",{children:["Attempts: ",d]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{children:"⏱️"}),u.jsxs("span",{children:["Time: ",Math.floor((Date.now()-m)/1e3),"s"]})]})]})]})]})}),j&&u.jsx(ii,{direction:"right",delay:250,children:u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-xl border border-blue-200 shadow-sm",children:[u.jsxs("h3",{className:"font-semibold text-blue-900 mb-4 flex items-center gap-2",children:[u.jsx("span",{children:"🔍"})," Solution"]}),u.jsx("div",{className:"space-y-2 text-sm text-blue-800",children:e.solution.map((ne,ye)=>u.jsxs("div",{className:"flex justify-between py-2 px-3 bg-white bg-opacity-50 rounded-lg hover-lift",children:[u.jsxs("span",{className:"font-medium",children:["Move ",ye+1,":"]}),u.jsx("span",{className:"font-mono text-blue-900 font-bold",children:ne})]},ye))})]})}),y&&u.jsx(ii,{direction:"scale",delay:300,children:u.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-100 p-6 rounded-xl border border-green-200 shadow-lg",children:[u.jsx(Dx,{trigger:!0,children:u.jsxs("h3",{className:"font-bold text-green-900 mb-4 text-xl flex items-center gap-2",children:[u.jsx("span",{children:"🎉"})," Puzzle Solved!"]})}),u.jsxs(zi,{direction:"col",gap:"sm",className:"text-sm text-green-800",children:[u.jsxs(zi,{justify:"between",className:"p-3 bg-white bg-opacity-50 rounded-lg",children:[u.jsx("span",{children:"🎯 Attempts:"}),u.jsx("span",{className:"font-bold",children:d+1})]}),u.jsxs(zi,{justify:"between",className:"p-3 bg-white bg-opacity-50 rounded-lg",children:[u.jsx("span",{children:"⏱️ Time:"}),u.jsxs("span",{className:"font-bold",children:[Math.floor((Date.now()-m)/1e3),"s"]})]}),u.jsxs("div",{className:"p-3 bg-gradient-to-r from-yellow-100 to-yellow-200 rounded-lg text-center",children:[u.jsxs("div",{className:"text-2xl font-bold text-green-900 mb-2",children:["+",A," XP"]}),u.jsxs(zi,{gap:"sm",justify:"center",wrap:!0,children:[d===0&&u.jsx("span",{className:"text-xs bg-yellow-200 text-yellow-800 px-3 py-1 rounded-full font-medium",children:"🌟 Perfect!"}),Date.now()-m<3e4&&u.jsx("span",{className:"text-xs bg-blue-200 text-blue-800 px-3 py-1 rounded-full font-medium",children:"⚡ Speed Bonus!"})]})]})]})]})})]})]})]})},pa=[{id:"1",title:"Mate in 2",description:"White to move and checkmate in 2 moves. This is a classic back-rank mate pattern.",fen:"6k1/5ppp/8/8/8/8/5PPP/R3R1K1 w - - 0 1",solution:["a1a8","e1e8"],rating:1200,tags:["checkmate","back-rank","beginner"]},{id:"2",title:"Fork the King and Queen",description:"White to move and win material by forking the black king and queen.",fen:"r1bqkb1r/pppp1ppp/2n2n2/4p3/2B1P3/3P1N2/PPP2PPP/RNBQK2R w KQkq - 0 4",solution:["f3g5"],rating:800,tags:["tactics","fork","beginner"]},{id:"3",title:"Pin and Win",description:"Use a pin to win material. Black cannot move the knight without losing the queen.",fen:"r1bqkb1r/ppp2ppp/2n2n2/3pp3/2B1P3/3P1N2/PPP2PPP/RNBQ1RK1 w kq - 0 6",solution:["c1g5"],rating:1e3,tags:["tactics","pin","beginner"]}],GR=()=>{const[e,t]=v.useState(0),[s,a]=v.useState(new Set),o=pa[e],c=(m,g,y)=>{a(b=>new Set(b).add(m)),console.log(`Puzzle ${m} solved in ${g} attempts and ${y}ms`),setTimeout(()=>{e<pa.length-1&&t(e+1)},2e3)},d=m=>{console.log(`Puzzle ${m} skipped`),e<pa.length-1&&t(e+1)},f=m=>{t(m)};return u.jsx("div",{className:"py-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Chess Puzzles"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Sharpen your tactical skills with these chess puzzles. Look for checkmates, forks, pins, and other tactical motifs!"}),u.jsxs("div",{className:"flex gap-2 mb-6",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700 self-center mr-2",children:"Puzzles:"}),pa.map((m,g)=>u.jsx("button",{onClick:()=>f(g),className:`w-10 h-10 rounded-full text-sm font-medium transition-colors ${g===e?"bg-blue-600 text-white":s.has(m.id)?"bg-green-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:g+1},m.id))]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8",children:[u.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[u.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e+1}),u.jsx("div",{className:"text-sm text-gray-600",children:"Current Puzzle"})]}),u.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[u.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.size}),u.jsx("div",{className:"text-sm text-gray-600",children:"Solved"})]}),u.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[u.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round(s.size/pa.length*100),"%"]}),u.jsx("div",{className:"text-sm text-gray-600",children:"Completion"})]})]})]}),o&&u.jsx($R,{puzzle:o,onSolved:c,onSkip:d,showHints:!0}),e>=pa.length&&u.jsxs("div",{className:"text-center bg-green-50 border border-green-200 rounded-lg p-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-green-800 mb-2",children:"🎉 All Puzzles Complete!"}),u.jsxs("p",{className:"text-green-700 mb-4",children:["Congratulations! You've solved ",s.size," out of ",pa.length," puzzles."]}),u.jsx("button",{onClick:()=>t(0),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Start Over"})]})]})})};class KR{engine=null;isReady=!1;callbacks={};currentPosition="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";constructor(){this.initEngine()}async initEngine(){console.log("StockfishEngine: Starting initialization..."),this.initMockEngine()}async initRealEngine(){try{const t=`
        // Load Stockfish from CDN
        importScripts('https://cdn.jsdelivr.net/npm/stockfish@17/src/stockfish.js');
        
        let stockfish = null;
        
        self.onmessage = function(e) {
          const command = e.data;
          
          if (command === 'init') {
            if (typeof Stockfish === 'function') {
              stockfish = Stockfish();
              stockfish.onmessage = function(message) {
                self.postMessage(message);
              };
              self.postMessage('stockfish_ready');
            } else {
              self.postMessage('stockfish_error: Stockfish not loaded');
            }
          } else if (stockfish) {
            stockfish.postMessage(command);
          }
        };
      `,s=new Blob([t],{type:"application/javascript"}),a=URL.createObjectURL(s);this.engine=new Worker(a),console.log("Real Stockfish web worker created"),this.engine.onmessage=o=>{const c=o.data;if(console.log("Stockfish:",c),c==="stockfish_ready")this.engine.postMessage("uci");else if(c.includes("uciok"))this.emit("uciok");else if(c.includes("readyok"))this.isReady=!0,this.emit("ready");else if(c.startsWith("bestmove"))this.emit("bestmove",c);else if(c.startsWith("info"))this.emit("info",c);else if(c.startsWith("stockfish_error"))throw console.error("Stockfish error:",c),new Error(c)},this.engine.onerror=o=>{throw console.error("Stockfish worker error:",o),o},this.engine.postMessage("init")}catch(t){throw console.error("Failed to initialize real Stockfish:",t),t}}initMockEngine(){console.log("StockfishEngine: Initializing mock engine..."),this.isReady=!0,setTimeout(()=>{console.log("StockfishEngine: Emitting ready event"),this.emit("ready")},10),setTimeout(()=>{console.log("StockfishEngine: Emitting backup ready event"),this.emit("ready")},100),this.engine={postMessage:t=>{t.includes("position fen")&&(this.currentPosition=t.split("position fen ")[1]),setTimeout(()=>{if(t.includes("go")){const s=this.generateValidMove(this.currentPosition);this.handleEngineMessage(`bestmove ${s}`)}},Math.random()*1500+300)},terminate:()=>{console.log("Mock engine terminated")}}}generateValidMove(t){try{const s=new ba(t||this.currentPosition),a=s.moves({verbose:!0});if(a.length===0)return"a1a1";const o=a.filter(g=>g.captured),c=a.filter(g=>g.flags.includes("c")),d=a.filter(g=>(g.piece==="n"||g.piece==="b")&&(g.from.includes("1")||g.from.includes("8")));let f=a;o.length>0&&Math.random()<.3?f=o:c.length>0&&Math.random()<.2?f=c:d.length>0&&s.history().length<10&&Math.random()<.25&&(f=d);const m=f[Math.floor(Math.random()*f.length)];return`${m.from}${m.to}${m.promotion||""}`}catch(s){console.error("Error generating move:",s);const a=["e2e4","d2d4","g1f3","b1c3","f1c4"];return a[Math.floor(Math.random()*a.length)]}}handleEngineMessage(t){if(console.log("Stockfish:",t),t.includes("uciok"))this.send("isready");else if(t.includes("readyok"))this.isReady=!0,this.emit("ready");else if(t.includes("bestmove")){const s=t.match(/bestmove (\w+)/);s&&this.emit("bestmove",s[1])}else t.includes("info")&&t.includes("score")&&this.emit("evaluation",t)}send(t){this.engine?this.engine.postMessage(t):this.handleMockCommand(t)}handleMockCommand(t){t==="isready"?setTimeout(()=>this.handleEngineMessage("readyok"),100):t.startsWith("position")&&setTimeout(()=>{const s=["e2e4","e7e5","g1f3","b8c6","d2d4","f7f6"],a=s[Math.floor(Math.random()*s.length)];this.handleEngineMessage(`bestmove ${a}`)},1e3)}emit(t,s){(this.callbacks[t]||[]).forEach(o=>o(s||""))}on(t,s){this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(s)}off(t,s){this.callbacks[t]&&(this.callbacks[t]=this.callbacks[t].filter(a=>a!==s))}async getBestMove(t,s=10){return new Promise((a,o)=>{if(!this.isReady){o(new Error("Engine not ready"));return}const c=setTimeout(()=>{o(new Error("Engine timeout"))},1e4),d=f=>{clearTimeout(c),this.off("bestmove",d),a(f)};this.on("bestmove",d),this.send(`position fen ${t}`),this.send(`go depth ${s}`)})}async getEvaluation(t,s=15){return new Promise((a,o)=>{if(!this.isReady){o(new Error("Engine not ready"));return}const c=setTimeout(()=>{a({score:0})},5e3);let d={score:0};const f=g=>{const y=g.match(/score cp (-?\d+)/),b=g.match(/score mate (-?\d+)/);b?d={score:0,mate:parseInt(b[1])}:y&&(d={score:parseInt(y[1])})},m=g=>{clearTimeout(c),this.off("evaluation",f),this.off("bestmove",m),a({...d,bestMove:g})};this.on("evaluation",f),this.on("bestmove",m),this.send(`position fen ${t}`),this.send(`go depth ${s}`)})}get ready(){return this.isReady}setDifficulty(t){const s={easy:5,medium:10,hard:15,expert:20},a={easy:5,medium:10,hard:15,expert:20};return this.send(`setoption name Skill Level value ${a[t]}`),s[t]}quit(){this.engine&&(this.send("quit"),this.engine.terminate?.(),this.engine=null),this.isReady=!1}}const Lx=new KR,ga=[{id:1,name:"First Steps",botName:"Bobby Beginner",botPersonality:"friendly",difficulty:"beginner",description:"Learn the basics with a very gentle opponent",thinkingMessages:["Hmm, let me think...","What's a good move?","Maybe this piece?"],skillLevel:1,icon:u.jsx(us,{className:"h-4 w-4"}),color:"bg-green-100 text-green-800"},{id:2,name:"Baby Steps",botName:"Anna Amateur",botPersonality:"encouraging",difficulty:"beginner",description:"Simple tactics and basic piece development",thinkingMessages:["Looking for simple moves...","Hmm, development first!","Let's see..."],skillLevel:2,icon:u.jsx(eh,{className:"h-4 w-4"}),color:"bg-green-100 text-green-800"},{id:3,name:"Learning Mode",botName:"Carl Casual",botPersonality:"patient",difficulty:"beginner",description:"Focus on piece safety and simple combinations",thinkingMessages:["Checking piece safety...","Any tactics here?","Simple is good..."],skillLevel:3,icon:u.jsx(Vv,{className:"h-4 w-4"}),color:"bg-green-100 text-green-800"},{id:4,name:"Rookie Challenge",botName:"Rita Rookie",botPersonality:"helpful",difficulty:"beginner",description:"Basic tactics and endgame patterns",thinkingMessages:["Looking for tactics...","Can I win material?","Endgame principles..."],skillLevel:4,icon:u.jsx(d1,{className:"h-4 w-4"}),color:"bg-green-100 text-green-800"},{id:5,name:"Novice Level",botName:"Nick Novice",botPersonality:"steady",difficulty:"beginner",description:"Improved tactical awareness",thinkingMessages:["Analyzing position...","What about this move?","Tactical opportunities..."],skillLevel:5,icon:u.jsx(nh,{className:"h-4 w-4"}),color:"bg-green-100 text-green-800"},{id:6,name:"Student Stage",botName:"Sally Student",botPersonality:"studious",difficulty:"beginner",description:"Better position understanding",thinkingMessages:["Studying the position...","Piece coordination...","Strategic planning..."],skillLevel:6,icon:u.jsx(va,{className:"h-4 w-4"}),color:"bg-green-100 text-green-800"},{id:7,name:"Rising Player",botName:"Ryan Rising",botPersonality:"ambitious",difficulty:"beginner",description:"More complex tactical patterns",thinkingMessages:["Complex tactics ahead...","Multiple threats!","Strategic depth..."],skillLevel:7,icon:u.jsx(th,{className:"h-4 w-4"}),color:"bg-green-100 text-green-800"},{id:8,name:"Promising Talent",botName:"Tina Talent",botPersonality:"confident",difficulty:"beginner",description:"Good tactical and positional play",thinkingMessages:["Calculating variations...","Positional considerations...","Time to strike!"],skillLevel:8,icon:u.jsx(Hi,{className:"h-4 w-4"}),color:"bg-green-100 text-green-800"},{id:9,name:"Club Player",botName:"Charlie Club",botPersonality:"competitive",difficulty:"intermediate",description:"Solid club-level play with good tactics",thinkingMessages:["Deep calculation...","Strategic planning...","Tactical combinations..."],skillLevel:9,icon:u.jsx(us,{className:"h-4 w-4"}),color:"bg-yellow-100 text-yellow-800"},{id:10,name:"Tournament Ready",botName:"Terry Tournament",botPersonality:"focused",difficulty:"intermediate",description:"Tournament-level tactical awareness",thinkingMessages:["Tournament mindset...","Calculating deeply...","No blunders allowed..."],skillLevel:10,timeLimit:30,icon:u.jsx(eh,{className:"h-4 w-4"}),color:"bg-yellow-100 text-yellow-800"},{id:11,name:"Tactical Fighter",botName:"Felix Fighter",botPersonality:"aggressive",difficulty:"intermediate",description:"Sharp tactical battles and combinations",thinkingMessages:["Looking for attacks...","Tactical storm brewing...","Time to fight!"],skillLevel:11,timeLimit:25,icon:u.jsx(th,{className:"h-4 w-4"}),color:"bg-yellow-100 text-yellow-800"},{id:12,name:"Positional Player",botName:"Pete Positional",botPersonality:"strategic",difficulty:"intermediate",description:"Strong positional understanding",thinkingMessages:["Positional evaluation...","Long-term planning...","Structural advantages..."],skillLevel:12,timeLimit:20,icon:u.jsx(va,{className:"h-4 w-4"}),color:"bg-yellow-100 text-yellow-800"},{id:13,name:"Balanced Expert",botName:"Bella Balanced",botPersonality:"versatile",difficulty:"intermediate",description:"Well-rounded tactical and positional play",thinkingMessages:["Balanced approach...","All factors considered...","Optimal choice..."],skillLevel:13,timeLimit:18,icon:u.jsx(Vv,{className:"h-4 w-4"}),color:"bg-yellow-100 text-yellow-800"},{id:14,name:"Rising Expert",botName:"Rex Rising",botPersonality:"determined",difficulty:"intermediate",description:"Strong player with few weaknesses",thinkingMessages:["Expert analysis...","No weaknesses here...","Precise calculation..."],skillLevel:14,timeLimit:15,icon:u.jsx(nh,{className:"h-4 w-4"}),color:"bg-yellow-100 text-yellow-800"},{id:15,name:"Near Master",botName:"Nora Near-Master",botPersonality:"serious",difficulty:"intermediate",description:"Very strong play approaching master level",thinkingMessages:["Master-level thinking...","Deep understanding...","Excellent technique..."],skillLevel:15,timeLimit:12,icon:u.jsx(us,{className:"h-4 w-4"}),color:"bg-yellow-100 text-yellow-800"},{id:16,name:"Candidate Master",botName:"Max Candidate",botPersonality:"ambitious",difficulty:"intermediate",description:"Candidate Master strength with excellent tactics",thinkingMessages:["Candidate Master level...","Complex calculations...","Mastery emerging..."],skillLevel:16,timeLimit:10,icon:u.jsx(Hi,{className:"h-4 w-4"}),color:"bg-yellow-100 text-yellow-800"},{id:17,name:"Master Level",botName:"Magnus Master",botPersonality:"masterful",difficulty:"advanced",description:"True master strength with deep understanding",thinkingMessages:["Master-level analysis...","Profound understanding...","Chess artistry..."],skillLevel:17,timeLimit:8,icon:u.jsx(us,{className:"h-4 w-4"}),color:"bg-red-100 text-red-800"},{id:18,name:"International Master",botName:"Igor International",botPersonality:"worldly",difficulty:"advanced",description:"International Master level play",thinkingMessages:["International standard...","World-class thinking...","IM-level precision..."],skillLevel:18,timeLimit:6,icon:u.jsx(eh,{className:"h-4 w-4"}),color:"bg-red-100 text-red-800"},{id:19,name:"Grandmaster Track",botName:"Gary Grandmaster",botPersonality:"legendary",difficulty:"advanced",description:"Approaching Grandmaster strength",thinkingMessages:["GM-level calculation...","Legendary precision...","Championship thinking..."],skillLevel:19,timeLimit:5,icon:u.jsx(va,{className:"h-4 w-4"}),color:"bg-red-100 text-red-800"},{id:20,name:"Super Grandmaster",botName:"Sophia Super-GM",botPersonality:"elite",difficulty:"advanced",description:"Super Grandmaster level - elite play",thinkingMessages:["Elite-level thinking...","Superhuman calculation...","Chess perfection..."],skillLevel:20,timeLimit:4,icon:u.jsx(th,{className:"h-4 w-4"}),color:"bg-red-100 text-red-800"},{id:21,name:"World Championship",botName:"Wesley World Champion",botPersonality:"champion",difficulty:"expert",description:"World Championship level strength",thinkingMessages:["World Champion analysis...","Championship precision...","Ultimate chess..."],skillLevel:20,timeLimit:3,icon:u.jsx(us,{className:"h-4 w-4"}),color:"bg-purple-100 text-purple-800"},{id:22,name:"Computer Challenger",botName:"Cypher Computer",botPersonality:"computational",difficulty:"expert",description:"Computer-level calculation and precision",thinkingMessages:["Computing optimal moves...","Analyzing millions of positions...","Mechanical precision..."],skillLevel:20,timeLimit:2,icon:u.jsx(va,{className:"h-4 w-4"}),color:"bg-purple-100 text-purple-800"},{id:23,name:"Chess Engine",botName:"Alpha Engine",botPersonality:"mechanical",difficulty:"expert",description:"Chess engine strength - nearly perfect play",thinkingMessages:["Engine analysis...","Perfect calculation...","Optimal play engaged..."],skillLevel:20,timeLimit:1,icon:u.jsx(nh,{className:"h-4 w-4"}),color:"bg-purple-100 text-purple-800"},{id:24,name:"Stockfish Mode",botName:"Stockfish Supreme",botPersonality:"supreme",difficulty:"master",description:"Top engine level - extremely challenging",thinkingMessages:["Supreme analysis...","Stockfish precision...","Chess mastery..."],skillLevel:20,timeLimit:.5,icon:u.jsx(Hi,{className:"h-4 w-4"}),color:"bg-black text-white"},{id:25,name:"Chess God",botName:"Divinity Chess God",botPersonality:"divine",difficulty:"master",description:"The ultimate chess challenge - near perfect play",thinkingMessages:["Divine calculation...","Perfect chess...","Ultimate mastery..."],skillLevel:20,timeLimit:0,icon:u.jsx(us,{className:"h-4 w-4"}),color:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white"}],FR=({level:e,isActive:t=!1,onClick:s})=>u.jsxs("div",{onClick:s,className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${t?"border-blue-500 bg-blue-50 shadow-lg transform scale-105":"border-gray-200 hover:border-gray-300 hover:shadow-md"}`,children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsxs(Na,{className:e.color,children:[e.icon,u.jsxs("span",{className:"ml-1",children:["Level ",e.id]})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-bold text-gray-900",children:e.name}),u.jsx("p",{className:"text-sm text-gray-600",children:e.botName})]})]}),u.jsx("p",{className:"text-sm text-gray-700 mb-2",children:e.description}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[u.jsxs("span",{children:["Difficulty: ",e.difficulty]}),e.timeLimit&&u.jsxs("span",{children:["• Time: ",e.timeLimit,"s per move"]})]})]}),Ox={1:25,2:28,3:30,4:32,5:35,6:38,7:40,8:42,9:45,10:48,11:50,12:52,13:55,14:58,15:60,16:62,17:65,18:68,19:70,20:72,21:75,22:78,23:80,24:82,25:85},YR=({initialLevel:e=1})=>{const[t,s]=v.useState(new ba),[a,o]=v.useState(t.fen()),[c,d]=v.useState("white"),[f,m]=v.useState(e),[g,y]=v.useState(!1),[b,x]=v.useState(!0),[S,j]=v.useState(!1),[k,A]=v.useState(!1),[N,T]=v.useState(""),[_,P]=v.useState(null),[R,K]=v.useState(!1),[Q,L]=v.useState(!1),[Z,re]=v.useState(!1),[he,ne]=v.useState(!1),[ye,le]=v.useState(0),[me,B]=v.useState(0),[V,X]=v.useState(Date.now()),[oe,E]=v.useState(ga[0]),[G,ae]=v.useState(null),[te,ue]=v.useState(Date.now()),[pe,ce]=v.useState(()=>{const de=localStorage.getItem("chessPlayerStats");return de?JSON.parse(de):{gamesPlayed:0,wins:0,losses:0,draws:0,totalMoves:0,bestLevel:1,points:0}}),[Te,Pe]=v.useState(()=>[...ga.slice(0,10).map(Ce=>({name:Ce.botName,points:Math.floor(Math.random()*500)+Ce.id*50,level:Ce.id,gamesPlayed:Math.floor(Math.random()*100)+50})),{name:"You",points:pe.points,level:pe.bestLevel,gamesPlayed:pe.gamesPlayed}].sort((Ce,ut)=>ut.points-Ce.points)),{completeGame:ft}=Mp();v.useEffect(()=>{f>=1&&f<=ga.length&&E(ga[f-1])},[f]),v.useEffect(()=>{f>=1&&f<=ga.length&&E(ga[f-1])},[]),v.useEffect(()=>{let de;return g&&_===null&&(de=window.setInterval(()=>{ue(Date.now())},1e3)),()=>{de&&clearInterval(de)}},[g,_]);const Ze=de=>{console.log("Starting new game with color:",de),d(de),j(!1),x(!1),st(de)},st=de=>{console.log("Starting new game:",de,"vs",oe.botName);const Ce=new ba;s(Ce),o(Ce.fen()),d(de),y(!0),P(null),le(0),B(0),X(Date.now()),Lx.setDifficulty(oe.difficulty==="beginner"?"easy":oe.difficulty==="intermediate"?"medium":oe.difficulty==="advanced"?"hard":"expert"),mn.playGameStateSound("start"),de==="black"&&(console.log("Player is black, computer will move first"),setTimeout(()=>fe(Ce),500))},fe=async de=>{A(!0);const Ce=oe.thinkingMessages,ut=Ce[Math.floor(Math.random()*Ce.length)];T(`${oe.botName}: ${ut}`);try{const Ve=oe.timeLimit?oe.timeLimit*1e3:Math.random()*2e3+1e3;await new Promise(Nt=>setTimeout(Nt,Math.max(Ve,500)));const jt=await Lx.getBestMove(de.fen(),oe.skillLevel);if(console.log("Computer received move from engine:",jt),jt&&jt!=="a1a1")try{const Nt=de.move(jt);Nt?(console.log("Computer move successful:",Nt.san),s(new ba(de.fen())),o(de.fen()),le(lt=>lt+1),mn.playMoveSound(!!Nt.captured),qe(de)):console.error("Computer move failed - invalid move:",jt)}catch(Nt){console.error("Computer move error:",Nt,"Move:",jt)}else console.warn("No valid computer move generated")}catch(Ve){console.error("Computer move error:",Ve)}finally{A(!1),T("")}},Ee=de=>{console.log("Player move attempt:",de,"from position:",a);const Ce=new ba(a),ut=Ce.move(de);if(ut){if(console.log("Player move successful:",ut.san,"new position:",Ce.fen()),s(Ce),o(Ce.fen()),le(Ve=>Ve+1),B(Ve=>Ve+1),qe(Ce))return;setTimeout(()=>{console.log("Triggering computer move..."),fe(Ce)},300)}else console.error("Player move failed - invalid move:",de)},qe=de=>{if(de.isGameOver()){const Ce=Date.now()-V;let ut;return de.isCheckmate()?(de.turn()==="w"?"black":"white")===c?(ut="win",P("win"),K(!0),L(!0),mn.playGameStateSound("win")):(ut="lose",P("lose"),mn.playGameStateSound("lose")):(ut="draw",P("draw"),mn.playUISound("notification")),We(ut,me,Ce),!0}return!1},We=(de,Ce,ut)=>{const Ve=Ox[f]||50,jt=Ce/Ve;let Nt,lt=0,Ge=[];de==="win"?(lt=f*10,jt<=1.2?(Nt="excellent",lt+=20,Ge=["Outstanding efficiency!","You played like a pro!","Try the next level!"]):jt<=1.5?(Nt="good",lt+=10,Ge=["Good game!","Work on tactical patterns","Consider endgame studies"]):(Nt="average",Ge=["Victory achieved!","Focus on piece activity","Study opening principles"])):de==="draw"?(lt=f*3,Nt="average",Ge=["Draw achieved!","Look for winning chances","Practice tactics daily"]):(lt=f,Nt="needs_improvement",Ge=["Keep practicing!","Review basic tactics","Study endgame fundamentals"]),ae({result:de,playerMoves:Ce,proMoves:Ve,timeTaken:ut,level:f,performance:Nt,tips:Ge,pointsEarned:lt}),ot(de,Ce,lt),setTimeout(()=>re(!0),1e3)},ot=(de,Ce,ut)=>{const Ve={...pe};Ve.gamesPlayed+=1,Ve.totalMoves+=Ce,Ve.points+=ut,de==="win"?(Ve.wins+=1,f>Ve.bestLevel&&(Ve.bestLevel=f)):de==="lose"?Ve.losses+=1:Ve.draws+=1,ce(Ve),localStorage.setItem("chessPlayerStats",JSON.stringify(Ve)),Pe(jt=>jt.map(lt=>lt.name==="You"?{...lt,points:Ve.points,level:Ve.bestLevel,gamesPlayed:Ve.gamesPlayed}:lt).sort((lt,Ge)=>Ge.points-lt.points))},Je=()=>{y(!1),x(!0),j(!1),P(null),K(!1),L(!1),re(!1),B(0),ae(null)},vt=()=>{window.confirm("Are you sure you want to quit this game?")&&Je()},qt=()=>{window.confirm("Are you sure you want to forfeit this game?")&&(P("lose"),We("lose",me,Date.now()-V),mn.playGameStateSound("lose"))};return g&&!b&&!S&&console.log("Game screen rendered - Game state:",{gameStarted:g,gamePosition:a.substring(0,20)+"...",playerColor:c,isComputerThinking:k,disabled:k||_!==null}),he?u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:u.jsxs(Bt,{children:[u.jsx(zn,{children:u.jsxs(Bn,{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Hi,{className:"h-6 w-6"}),"Leaderboard"]}),u.jsx(Ne,{onClick:()=>ne(!1),variant:"outline",children:u.jsx(Hh,{className:"h-4 w-4"})})]})}),u.jsxs(Qt,{children:[u.jsx("div",{className:"space-y-3",children:Te.map((de,Ce)=>u.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${de.name==="You"?"bg-blue-50 border-2 border-blue-200":"bg-gray-50 border border-gray-200"}`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${Ce===0?"bg-yellow-400 text-yellow-900":Ce===1?"bg-gray-400 text-gray-900":Ce===2?"bg-orange-400 text-orange-900":"bg-gray-200 text-gray-700"}`,children:Ce+1}),u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold",children:de.name}),u.jsxs("p",{className:"text-sm text-gray-600",children:["Level ",de.level," • ",de.gamesPlayed," games"]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"font-bold text-lg",children:de.points}),u.jsx("p",{className:"text-sm text-gray-600",children:"points"})]})]},de.name))}),u.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[u.jsx("h3",{className:"font-semibold mb-2",children:"Your Statistics"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{children:["Games: ",pe.gamesPlayed]}),u.jsxs("div",{children:["Wins: ",pe.wins]}),u.jsxs("div",{children:["Best Level: ",pe.bestLevel]}),u.jsxs("div",{children:["Win Rate: ",pe.gamesPlayed>0?Math.round(pe.wins/pe.gamesPlayed*100):0,"%"]})]})]})]})]})}):Z&&G?u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:u.jsxs(Bt,{className:G.result==="win"?"border-green-500 bg-green-50":G.result==="lose"?"border-red-500 bg-red-50":"border-yellow-500 bg-yellow-50",children:[u.jsx(zn,{children:u.jsx(Bn,{className:"text-center",children:G.result==="win"?"🏆 Victory!":G.result==="lose"?"😔 Defeat":"🤝 Draw"})}),u.jsxs(Qt,{children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsxs("div",{className:"text-4xl mb-2",children:["+",G.pointsEarned," points"]}),u.jsx(Na,{className:`text-lg px-4 py-2 ${G.performance==="excellent"?"bg-green-100 text-green-800":G.performance==="good"?"bg-blue-100 text-blue-800":G.performance==="average"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:G.performance.replace("_"," ").toUpperCase()})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[u.jsxs(Bt,{className:"p-4",children:[u.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[u.jsx(f1,{className:"h-4 w-4"})," Performance Comparison"]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Your moves:"}),u.jsx("span",{className:"font-bold",children:G.playerMoves})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Pro moves:"}),u.jsx("span",{className:"font-bold",children:G.proMoves})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Efficiency:"}),u.jsxs("span",{className:`font-bold ${G.playerMoves<=G.proMoves*1.2?"text-green-600":G.playerMoves<=G.proMoves*1.5?"text-yellow-600":"text-red-600"}`,children:[Math.round(G.proMoves/G.playerMoves*100),"%"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Time taken:"}),u.jsxs("span",{className:"font-bold",children:[Math.floor(G.timeTaken/6e4),":",String(Math.floor(G.timeTaken%6e4/1e3)).padStart(2,"0")]})]})]})]}),u.jsxs(Bt,{className:"p-4",children:[u.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[u.jsx(dj,{className:"h-4 w-4"})," Tips & Improvement"]}),u.jsx("ul",{className:"space-y-1 text-sm",children:G.tips.map((de,Ce)=>u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-green-500 mt-0.5",children:"•"}),de]},Ce))})]})]}),u.jsxs("div",{className:"flex justify-center gap-4",children:[u.jsxs(Ne,{onClick:Je,size:"lg",children:[u.jsx(uu,{className:"h-4 w-4 mr-2"}),"Play Again"]}),G.result==="win"&&f<25&&u.jsxs(Ne,{onClick:()=>{m(de=>de+1),re(!1),j(!0)},size:"lg",className:"bg-green-600 hover:bg-green-700",children:[u.jsx(j5,{className:"h-4 w-4 mr-2"}),"Next Level"]}),u.jsxs(Ne,{onClick:()=>ne(!0),variant:"outline",size:"lg",children:[u.jsx(Hi,{className:"h-4 w-4 mr-2"}),"Leaderboard"]})]})]})]})}):b?u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:u.jsxs(Bt,{className:"mb-6",children:[u.jsx(zn,{children:u.jsxs(Bn,{className:"flex items-center gap-2",children:[u.jsx(us,{className:"h-6 w-6"}),"Choose Your Challenge Level"]})}),u.jsxs(Qt,{children:[u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-96 overflow-y-auto",children:ga.slice(0,25).map(de=>u.jsx(FR,{level:de,isActive:f===de.id,onClick:()=>{m(de.id),E(de)}},de.id))}),u.jsxs("div",{className:"mt-6 flex justify-center gap-4",children:[u.jsxs(Ne,{onClick:()=>{j(!0),x(!1)},disabled:!f||!oe,size:"lg",className:`flex items-center gap-2 bg-green-600 hover:bg-green-700 ${!f||!oe?"opacity-50 cursor-not-allowed":""}`,children:[u.jsx(ej,{className:"h-5 w-5"}),"PLAY vs ",oe?.botName||"Computer"]}),u.jsxs(Ne,{onClick:()=>ne(!0),variant:"outline",size:"lg",className:"flex items-center gap-2",children:[u.jsx(Hi,{className:"h-4 w-4"}),"Leaderboard"]})]})]})]})}):S?u.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:u.jsxs(Bt,{children:[u.jsx(zn,{children:u.jsx(Bn,{className:"text-center",children:"Choose Your Color"})}),u.jsxs(Qt,{children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsxs("h3",{className:"text-xl font-semibold mb-2",children:["Playing against: ",oe?.botName||"Computer"]}),u.jsx("p",{className:"text-gray-600",children:oe?.description||"Select a difficulty level to play"})]}),u.jsxs("div",{className:"flex justify-center gap-8",children:[u.jsxs(Ne,{onClick:()=>Ze("white"),size:"lg",variant:"outline",className:"flex flex-col items-center gap-2 h-24 w-32",children:[u.jsx("div",{className:"text-4xl",children:"♔"}),u.jsx("span",{children:"White"}),u.jsx("span",{className:"text-xs text-gray-500",children:"You move first"})]}),u.jsxs(Ne,{onClick:()=>Ze("black"),size:"lg",variant:"outline",className:"flex flex-col items-center gap-2 h-24 w-32",children:[u.jsx("div",{className:"text-4xl",children:"♚"}),u.jsx("span",{children:"Black"}),u.jsx("span",{className:"text-xs text-gray-500",children:"Computer starts"})]})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsx(Ne,{onClick:()=>{j(!1),x(!0)},variant:"ghost",children:"Back to Level Selection"})})]})]})}):u.jsxs("div",{className:"container mx-auto px-4 py-4 md:py-8 max-w-7xl",children:[u.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(Na,{className:oe.color,children:[oe.icon,u.jsxs("span",{className:"ml-1",children:["Level ",oe.id]})]}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold",children:oe.name}),u.jsxs("p",{className:"text-sm text-gray-600",children:["vs ",oe.botName]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(Ne,{onClick:vt,variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",children:[u.jsx(Hh,{className:"h-4 w-4 mr-1"}),"Quit"]}),u.jsxs(Ne,{onClick:qt,variant:"outline",size:"sm",className:"text-orange-600 hover:text-orange-700",children:[u.jsx(H5,{className:"h-4 w-4 mr-1"}),"Forfeit"]}),u.jsxs(Ne,{onClick:Je,variant:"outline",size:"sm",children:[u.jsx(uu,{className:"h-4 w-4 mr-1"}),"New Game"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-6",children:[u.jsx("div",{className:"xl:col-span-3 flex justify-center",children:u.jsxs("div",{className:"relative w-full max-w-[600px]",children:[u.jsx(zu,{fen:a,orientation:c,onMove:Ee,disabled:k||_!==null,showPieceTooltips:!0,enableGamification:!0,showHelp:!1}),!1]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs(Bt,{children:[u.jsx(zn,{children:u.jsx(Bn,{className:"text-lg",children:"Game Status"})}),u.jsx(Qt,{children:u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Your Moves:"}),u.jsx("span",{className:"font-bold",children:me})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Pro Moves:"}),u.jsx("span",{className:"font-bold text-green-600",children:Ox[f]||50})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Time:"}),u.jsxs("span",{className:"font-bold",children:[Math.floor((te-V)/6e4),":",String(Math.floor((te-V)%6e4/1e3)).padStart(2,"0")]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Turn:"}),u.jsx("span",{className:"font-bold",children:t.turn()===c[0]?"Your":oe.botName+"'s"})]})]})})]}),u.jsxs(Bt,{children:[u.jsx(zn,{children:u.jsxs(Bn,{className:"text-lg flex items-center gap-2",children:[u.jsx(va,{className:"h-4 w-4"}),oe.botName]})}),u.jsxs(Qt,{children:[u.jsx("p",{className:"text-sm text-gray-600 mb-2",children:oe.description}),u.jsxs("div",{className:"text-xs text-gray-500",children:["Difficulty: ",oe.difficulty,oe.timeLimit&&` • ${oe.timeLimit}s per move`]})]})]}),_&&u.jsx(Bt,{className:_==="win"?"border-green-500 bg-green-50":_==="lose"?"border-red-500 bg-red-50":"border-yellow-500 bg-yellow-50",children:u.jsxs(Qt,{className:"pt-6 text-center",children:[u.jsx("div",{className:"text-2xl mb-2",children:_==="win"?"🏆":_==="lose"?"😔":"🤝"}),u.jsx("h3",{className:"text-lg font-bold mb-2",children:_==="win"?"Victory!":_==="lose"?"Defeat":"Draw"}),u.jsxs("div",{className:"flex gap-2 justify-center",children:[u.jsx(Ne,{onClick:Je,size:"sm",children:"New Game"}),u.jsx(Ne,{onClick:()=>m(Math.min(25,f+1)),size:"sm",children:"Next Level"})]})]})})]})]}),u.jsx(SR,{show:k,message:N}),u.jsx(Y2,{show:Q,onComplete:()=>L(!1)}),u.jsx(I2,{show:R,message:`Victory against ${oe.botName}!`,type:"win",onComplete:()=>K(!1)})]})},IR=()=>u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:u.jsx(YR,{})}),QR=()=>u.jsx("div",{className:"py-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[u.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Profile"}),u.jsx("p",{className:"text-gray-600",children:"Profile page will be implemented here!"})]})}),XR=()=>u.jsx("div",{className:"py-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[u.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Leaderboard"}),u.jsx("p",{className:"text-gray-600",children:"Leaderboard will be implemented here!"})]})}),ZR=()=>u.jsx("div",{className:"py-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[u.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Settings"}),u.jsx("p",{className:"text-gray-600",children:"Settings page will be implemented here!"})]})}),WR=()=>u.jsx("div",{className:"container mx-auto p-8 max-w-4xl",children:u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-foreground mb-4",children:"Component Test Page"}),u.jsx("p",{className:"text-muted-foreground",children:"Testing shadcn/ui components to identify UI issues"})]}),u.jsxs(Bt,{children:[u.jsxs(zn,{children:[u.jsx(Bn,{children:"Button Components"}),u.jsx($o,{children:"Testing different button variants and sizes"})]}),u.jsx(Qt,{className:"space-y-4",children:u.jsxs("div",{className:"flex flex-wrap gap-4",children:[u.jsx(Ne,{children:"Default Button"}),u.jsx(Ne,{variant:"secondary",children:"Secondary"}),u.jsx(Ne,{variant:"outline",children:"Outline"}),u.jsx(Ne,{variant:"ghost",children:"Ghost"}),u.jsx(Ne,{size:"sm",children:"Small"}),u.jsx(Ne,{size:"lg",children:"Large"}),u.jsx(Ne,{size:"icon",children:u.jsx(us,{className:"h-4 w-4"})})]})})]}),u.jsxs(Bt,{children:[u.jsxs(zn,{children:[u.jsx(Bn,{children:"Lucide Icons"}),u.jsx($o,{children:"Testing icon rendering and sizes"})]}),u.jsxs(Qt,{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(us,{className:"h-4 w-4"}),u.jsx("span",{children:"h-4 w-4"})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(va,{className:"h-6 w-6"}),u.jsx("span",{children:"h-6 w-6"})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Om,{className:"h-8 w-8"}),u.jsx("span",{children:"h-8 w-8"})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(us,{className:"h-16 w-16"}),u.jsx("span",{children:"h-16 w-16 (should be big but not distorted)"})]})]})]}),u.jsxs(Bt,{children:[u.jsxs(zn,{children:[u.jsx(Bn,{children:"Card Layout"}),u.jsx($o,{children:"Testing card component styling"})]}),u.jsxs(Qt,{children:[u.jsx("p",{children:"This card should have proper spacing, borders, and background."}),u.jsxs("div",{className:"mt-4",children:[u.jsx(Na,{children:"Demo Badge"}),u.jsx(Na,{variant:"secondary",className:"ml-2",children:"Secondary Badge"})]})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(e=>u.jsxs(Bt,{children:[u.jsx(zn,{children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-3 rounded-xl bg-blue-500",children:u.jsx(us,{className:"h-6 w-6 text-white"})}),u.jsxs(Bn,{className:"text-lg",children:["Card ",e]})]})}),u.jsx(Qt,{children:u.jsx(Ne,{className:"w-full",children:"Action Button"})})]},e))})]})}),JR=()=>u.jsx(WR,{}),zs=Object.create(null);zs.open="0";zs.close="1";zs.ping="2";zs.pong="3";zs.message="4";zs.upgrade="5";zs.noop="6";const iu=Object.create(null);Object.keys(zs).forEach(e=>{iu[zs[e]]=e});const bm={type:"error",data:"parser error"},Z2=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",W2=typeof ArrayBuffer=="function",J2=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,_p=({type:e,data:t},s,a)=>Z2&&t instanceof Blob?s?a(t):Px(t,a):W2&&(t instanceof ArrayBuffer||J2(t))?s?a(t):Px(new Blob([t]),a):a(zs[e]+(t||"")),Px=(e,t)=>{const s=new FileReader;return s.onload=function(){const a=s.result.split(",")[1];t("b"+(a||""))},s.readAsDataURL(e)};function zx(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Lh;function e6(e,t){if(Z2&&e.data instanceof Blob)return e.data.arrayBuffer().then(zx).then(t);if(W2&&(e.data instanceof ArrayBuffer||J2(e.data)))return t(zx(e.data));_p(e,!1,s=>{Lh||(Lh=new TextEncoder),t(Lh.encode(s))})}const Bx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ho=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Bx.length;e++)Ho[Bx.charCodeAt(e)]=e;const t6=e=>{let t=e.length*.75,s=e.length,a,o=0,c,d,f,m;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const g=new ArrayBuffer(t),y=new Uint8Array(g);for(a=0;a<s;a+=4)c=Ho[e.charCodeAt(a)],d=Ho[e.charCodeAt(a+1)],f=Ho[e.charCodeAt(a+2)],m=Ho[e.charCodeAt(a+3)],y[o++]=c<<2|d>>4,y[o++]=(d&15)<<4|f>>2,y[o++]=(f&3)<<6|m&63;return g},n6=typeof ArrayBuffer=="function",Rp=(e,t)=>{if(typeof e!="string")return{type:"message",data:eS(e,t)};const s=e.charAt(0);return s==="b"?{type:"message",data:s6(e.substring(1),t)}:iu[s]?e.length>1?{type:iu[s],data:e.substring(1)}:{type:iu[s]}:bm},s6=(e,t)=>{if(n6){const s=t6(e);return eS(s,t)}else return{base64:!0,data:e}},eS=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},tS="",i6=(e,t)=>{const s=e.length,a=new Array(s);let o=0;e.forEach((c,d)=>{_p(c,!1,f=>{a[d]=f,++o===s&&t(a.join(tS))})})},a6=(e,t)=>{const s=e.split(tS),a=[];for(let o=0;o<s.length;o++){const c=Rp(s[o],t);if(a.push(c),c.type==="error")break}return a};function r6(){return new TransformStream({transform(e,t){e6(e,s=>{const a=s.length;let o;if(a<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,a);else if(a<65536){o=new Uint8Array(3);const c=new DataView(o.buffer);c.setUint8(0,126),c.setUint16(1,a)}else{o=new Uint8Array(9);const c=new DataView(o.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(a))}e.data&&typeof e.data!="string"&&(o[0]|=128),t.enqueue(o),t.enqueue(s)})}})}let Oh;function Fc(e){return e.reduce((t,s)=>t+s.length,0)}function Yc(e,t){if(e[0].length===t)return e.shift();const s=new Uint8Array(t);let a=0;for(let o=0;o<t;o++)s[o]=e[0][a++],a===e[0].length&&(e.shift(),a=0);return e.length&&a<e[0].length&&(e[0]=e[0].slice(a)),s}function o6(e,t){Oh||(Oh=new TextDecoder);const s=[];let a=0,o=-1,c=!1;return new TransformStream({transform(d,f){for(s.push(d);;){if(a===0){if(Fc(s)<1)break;const m=Yc(s,1);c=(m[0]&128)===128,o=m[0]&127,o<126?a=3:o===126?a=1:a=2}else if(a===1){if(Fc(s)<2)break;const m=Yc(s,2);o=new DataView(m.buffer,m.byteOffset,m.length).getUint16(0),a=3}else if(a===2){if(Fc(s)<8)break;const m=Yc(s,8),g=new DataView(m.buffer,m.byteOffset,m.length),y=g.getUint32(0);if(y>Math.pow(2,21)-1){f.enqueue(bm);break}o=y*Math.pow(2,32)+g.getUint32(4),a=3}else{if(Fc(s)<o)break;const m=Yc(s,o);f.enqueue(Rp(c?m:Oh.decode(m),t)),a=0}if(o===0||o>e){f.enqueue(bm);break}}}})}const nS=4;function Xt(e){if(e)return l6(e)}function l6(e){for(var t in Xt.prototype)e[t]=Xt.prototype[t];return e}Xt.prototype.on=Xt.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Xt.prototype.once=function(e,t){function s(){this.off(e,s),t.apply(this,arguments)}return s.fn=t,this.on(e,s),this};Xt.prototype.off=Xt.prototype.removeListener=Xt.prototype.removeAllListeners=Xt.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+e];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var a,o=0;o<s.length;o++)if(a=s[o],a===t||a.fn===t){s.splice(o,1);break}return s.length===0&&delete this._callbacks["$"+e],this};Xt.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),s=this._callbacks["$"+e],a=1;a<arguments.length;a++)t[a-1]=arguments[a];if(s){s=s.slice(0);for(var a=0,o=s.length;a<o;++a)s[a].apply(this,t)}return this};Xt.prototype.emitReserved=Xt.prototype.emit;Xt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Xt.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Bu=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,s)=>s(t,0),ds=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),c6="arraybuffer";function sS(e,...t){return t.reduce((s,a)=>(e.hasOwnProperty(a)&&(s[a]=e[a]),s),{})}const u6=ds.setTimeout,d6=ds.clearTimeout;function qu(e,t){t.useNativeTimers?(e.setTimeoutFn=u6.bind(ds),e.clearTimeoutFn=d6.bind(ds)):(e.setTimeoutFn=ds.setTimeout.bind(ds),e.clearTimeoutFn=ds.clearTimeout.bind(ds))}const f6=1.33;function h6(e){return typeof e=="string"?m6(e):Math.ceil((e.byteLength||e.size)*f6)}function m6(e){let t=0,s=0;for(let a=0,o=e.length;a<o;a++)t=e.charCodeAt(a),t<128?s+=1:t<2048?s+=2:t<55296||t>=57344?s+=3:(a++,s+=4);return s}function iS(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function p6(e){let t="";for(let s in e)e.hasOwnProperty(s)&&(t.length&&(t+="&"),t+=encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t}function g6(e){let t={},s=e.split("&");for(let a=0,o=s.length;a<o;a++){let c=s[a].split("=");t[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return t}class y6 extends Error{constructor(t,s,a){super(t),this.description=s,this.context=a,this.type="TransportError"}}class Dp extends Xt{constructor(t){super(),this.writable=!1,qu(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,s,a){return super.emitReserved("error",new y6(t,s,a)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const s=Rp(t,this.socket.binaryType);this.onPacket(s)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,s={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const s=p6(t);return s.length?"?"+s:""}}class v6 extends Dp{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const s=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let a=0;this._polling&&(a++,this.once("pollComplete",function(){--a||s()})),this.writable||(a++,this.once("drain",function(){--a||s()}))}else s()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const s=a=>{if(this.readyState==="opening"&&a.type==="open"&&this.onOpen(),a.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(a)};a6(t,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,i6(t,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=iS()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(t,s)}}let aS=!1;try{aS=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const b6=aS;function x6(){}class w6 extends v6{constructor(t){if(super(t),typeof location<"u"){const s=location.protocol==="https:";let a=location.port;a||(a=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||a!==t.port}}doWrite(t,s){const a=this.request({method:"POST",data:t});a.on("success",s),a.on("error",(o,c)=>{this.onError("xhr post error",o,c)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(s,a)=>{this.onError("xhr poll error",s,a)}),this.pollXhr=t}}class Ps extends Xt{constructor(t,s,a){super(),this.createRequest=t,qu(this,a),this._opts=a,this._method=a.method||"GET",this._uri=s,this._data=a.data!==void 0?a.data:null,this._create()}_create(){var t;const s=sS(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this._opts.xd;const a=this._xhr=this.createRequest(s);try{a.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&a.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{a.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(a),"withCredentials"in a&&(a.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(a.timeout=this._opts.requestTimeout),a.onreadystatechange=()=>{var o;a.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(a.getResponseHeader("set-cookie"))),a.readyState===4&&(a.status===200||a.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof a.status=="number"?a.status:0)},0))},a.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=Ps.requestsCount++,Ps.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=x6,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Ps.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Ps.requestsCount=0;Ps.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",qx);else if(typeof addEventListener=="function"){const e="onpagehide"in ds?"pagehide":"unload";addEventListener(e,qx,!1)}}function qx(){for(let e in Ps.requests)Ps.requests.hasOwnProperty(e)&&Ps.requests[e].abort()}const S6=(function(){const e=rS({xdomain:!1});return e&&e.responseType!==null})();class C6 extends w6{constructor(t){super(t);const s=t&&t.forceBase64;this.supportsBinary=S6&&!s}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Ps(rS,this.uri(),t)}}function rS(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||b6))return new XMLHttpRequest}catch{}if(!t)try{return new ds[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const oS=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class k6 extends Dp{get name(){return"websocket"}doOpen(){const t=this.uri(),s=this.opts.protocols,a=oS?{}:sS(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(a.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,s,a)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const a=t[s],o=s===t.length-1;_p(a,this.supportsBinary,c=>{try{this.doWrite(a,c)}catch{}o&&Bu(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=iS()),this.supportsBinary||(s.b64=1),this.createUri(t,s)}}const Ph=ds.WebSocket||ds.MozWebSocket;class j6 extends k6{createSocket(t,s,a){return oS?new Ph(t,s,a):s?new Ph(t,s):new Ph(t)}doWrite(t,s){this.ws.send(s)}}class N6 extends Dp{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const s=o6(Number.MAX_SAFE_INTEGER,this.socket.binaryType),a=t.readable.pipeThrough(s).getReader(),o=r6();o.readable.pipeTo(t.writable),this._writer=o.writable.getWriter();const c=()=>{a.read().then(({done:f,value:m})=>{f||(this.onPacket(m),c())}).catch(f=>{})};c();const d={type:"open"};this.query.sid&&(d.data=`{"sid":"${this.query.sid}"}`),this._writer.write(d).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const a=t[s],o=s===t.length-1;this._writer.write(a).then(()=>{o&&Bu(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const T6={websocket:j6,webtransport:N6,polling:C6},A6=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,E6=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function xm(e){if(e.length>8e3)throw"URI too long";const t=e,s=e.indexOf("["),a=e.indexOf("]");s!=-1&&a!=-1&&(e=e.substring(0,s)+e.substring(s,a).replace(/:/g,";")+e.substring(a,e.length));let o=A6.exec(e||""),c={},d=14;for(;d--;)c[E6[d]]=o[d]||"";return s!=-1&&a!=-1&&(c.source=t,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=M6(c,c.path),c.queryKey=_6(c,c.query),c}function M6(e,t){const s=/\/{2,9}/g,a=t.replace(s,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&a.splice(0,1),t.slice(-1)=="/"&&a.splice(a.length-1,1),a}function _6(e,t){const s={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,o,c){o&&(s[o]=c)}),s}const wm=typeof addEventListener=="function"&&typeof removeEventListener=="function",au=[];wm&&addEventListener("offline",()=>{au.forEach(e=>e())},!1);class $i extends Xt{constructor(t,s){if(super(),this.binaryType=c6,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(s=t,t=null),t){const a=xm(t);s.hostname=a.host,s.secure=a.protocol==="https"||a.protocol==="wss",s.port=a.port,a.query&&(s.query=a.query)}else s.host&&(s.hostname=xm(s.host).host);qu(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},s.transports.forEach(a=>{const o=a.prototype.name;this.transports.push(o),this._transportsByName[o]=a}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=g6(this.opts.query)),wm&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},au.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const s=Object.assign({},this.opts.query);s.EIO=nS,s.transport=t,this.id&&(s.sid=this.id);const a=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](a)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&$i.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const s=this.createTransport(t);s.open(),this.setTransport(s)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",s=>this._onClose("transport close",s))}onOpen(){this.readyState="open",$i.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const s=new Error("server error");s.code=t.data,this._onError(s);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let a=0;a<this.writeBuffer.length;a++){const o=this.writeBuffer[a].data;if(o&&(s+=h6(o)),a>0&&s>this._maxPayload)return this.writeBuffer.slice(0,a);s+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Bu(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,s,a){return this._sendPacket("message",t,s,a),this}send(t,s,a){return this._sendPacket("message",t,s,a),this}_sendPacket(t,s,a,o){if(typeof s=="function"&&(o=s,s=void 0),typeof a=="function"&&(o=a,a=null),this.readyState==="closing"||this.readyState==="closed")return;a=a||{},a.compress=a.compress!==!1;const c={type:t,data:s,options:a};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),o&&this.once("flush",o),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),t()},a=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():t()}):this.upgrading?a():t()),this}_onError(t){if($i.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),wm&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const a=au.indexOf(this._offlineEventListener);a!==-1&&au.splice(a,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,s),this.writeBuffer=[],this._prevBufferLen=0}}}$i.protocol=nS;class R6 extends $i{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let s=this.createTransport(t),a=!1;$i.priorWebsocketSuccess=!1;const o=()=>{a||(s.send([{type:"ping",data:"probe"}]),s.once("packet",b=>{if(!a)if(b.type==="pong"&&b.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;$i.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{a||this.readyState!=="closed"&&(y(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const x=new Error("probe error");x.transport=s.name,this.emitReserved("upgradeError",x)}}))};function c(){a||(a=!0,y(),s.close(),s=null)}const d=b=>{const x=new Error("probe error: "+b);x.transport=s.name,c(),this.emitReserved("upgradeError",x)};function f(){d("transport closed")}function m(){d("socket closed")}function g(b){s&&b.name!==s.name&&c()}const y=()=>{s.removeListener("open",o),s.removeListener("error",d),s.removeListener("close",f),this.off("close",m),this.off("upgrading",g)};s.once("open",o),s.once("error",d),s.once("close",f),this.once("close",m),this.once("upgrading",g),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{a||s.open()},200):s.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const s=[];for(let a=0;a<t.length;a++)~this.transports.indexOf(t[a])&&s.push(t[a]);return s}}let D6=class extends R6{constructor(t,s={}){const a=typeof t=="object"?t:s;(!a.transports||a.transports&&typeof a.transports[0]=="string")&&(a.transports=(a.transports||["polling","websocket","webtransport"]).map(o=>T6[o]).filter(o=>!!o)),super(t,a)}};function L6(e,t="",s){let a=e;s=s||typeof location<"u"&&location,e==null&&(e=s.protocol+"//"+s.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=s.protocol+e:e=s.host+e),/^(https?|wss?):\/\//.test(e)||(typeof s<"u"?e=s.protocol+"//"+e:e="https://"+e),a=xm(e)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const c=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+c+":"+a.port+t,a.href=a.protocol+"://"+c+(s&&s.port===a.port?"":":"+a.port),a}const O6=typeof ArrayBuffer=="function",P6=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,lS=Object.prototype.toString,z6=typeof Blob=="function"||typeof Blob<"u"&&lS.call(Blob)==="[object BlobConstructor]",B6=typeof File=="function"||typeof File<"u"&&lS.call(File)==="[object FileConstructor]";function Lp(e){return O6&&(e instanceof ArrayBuffer||P6(e))||z6&&e instanceof Blob||B6&&e instanceof File}function ru(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let s=0,a=e.length;s<a;s++)if(ru(e[s]))return!0;return!1}if(Lp(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return ru(e.toJSON(),!0);for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&ru(e[s]))return!0;return!1}function q6(e){const t=[],s=e.data,a=e;return a.data=Sm(s,t),a.attachments=t.length,{packet:a,buffers:t}}function Sm(e,t){if(!e)return e;if(Lp(e)){const s={_placeholder:!0,num:t.length};return t.push(e),s}else if(Array.isArray(e)){const s=new Array(e.length);for(let a=0;a<e.length;a++)s[a]=Sm(e[a],t);return s}else if(typeof e=="object"&&!(e instanceof Date)){const s={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(s[a]=Sm(e[a],t));return s}return e}function U6(e,t){return e.data=Cm(e.data,t),delete e.attachments,e}function Cm(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let s=0;s<e.length;s++)e[s]=Cm(e[s],t);else if(typeof e=="object")for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(e[s]=Cm(e[s],t));return e}const V6=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],H6=5;var et;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(et||(et={}));class $6{constructor(t){this.replacer=t}encode(t){return(t.type===et.EVENT||t.type===et.ACK)&&ru(t)?this.encodeAsBinary({type:t.type===et.EVENT?et.BINARY_EVENT:et.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let s=""+t.type;return(t.type===et.BINARY_EVENT||t.type===et.BINARY_ACK)&&(s+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(s+=t.nsp+","),t.id!=null&&(s+=t.id),t.data!=null&&(s+=JSON.stringify(t.data,this.replacer)),s}encodeAsBinary(t){const s=q6(t),a=this.encodeAsString(s.packet),o=s.buffers;return o.unshift(a),o}}function Ux(e){return Object.prototype.toString.call(e)==="[object Object]"}class Op extends Xt{constructor(t){super(),this.reviver=t}add(t){let s;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(t);const a=s.type===et.BINARY_EVENT;a||s.type===et.BINARY_ACK?(s.type=a?et.EVENT:et.ACK,this.reconstructor=new G6(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(Lp(t)||t.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(t),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let s=0;const a={type:Number(t.charAt(0))};if(et[a.type]===void 0)throw new Error("unknown packet type "+a.type);if(a.type===et.BINARY_EVENT||a.type===et.BINARY_ACK){const c=s+1;for(;t.charAt(++s)!=="-"&&s!=t.length;);const d=t.substring(c,s);if(d!=Number(d)||t.charAt(s)!=="-")throw new Error("Illegal attachments");a.attachments=Number(d)}if(t.charAt(s+1)==="/"){const c=s+1;for(;++s&&!(t.charAt(s)===","||s===t.length););a.nsp=t.substring(c,s)}else a.nsp="/";const o=t.charAt(s+1);if(o!==""&&Number(o)==o){const c=s+1;for(;++s;){const d=t.charAt(s);if(d==null||Number(d)!=d){--s;break}if(s===t.length)break}a.id=Number(t.substring(c,s+1))}if(t.charAt(++s)){const c=this.tryParse(t.substr(s));if(Op.isPayloadValid(a.type,c))a.data=c;else throw new Error("invalid payload")}return a}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,s){switch(t){case et.CONNECT:return Ux(s);case et.DISCONNECT:return s===void 0;case et.CONNECT_ERROR:return typeof s=="string"||Ux(s);case et.EVENT:case et.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&V6.indexOf(s[0])===-1);case et.ACK:case et.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class G6{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const s=U6(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const K6=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Op,Encoder:$6,get PacketType(){return et},protocol:H6},Symbol.toStringTag,{value:"Module"}));function bs(e,t,s){return e.on(t,s),function(){e.off(t,s)}}const F6=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class cS extends Xt{constructor(t,s,a){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=s,a&&a.auth&&(this.auth=a.auth),this._opts=Object.assign({},a),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[bs(t,"open",this.onopen.bind(this)),bs(t,"packet",this.onpacket.bind(this)),bs(t,"error",this.onerror.bind(this)),bs(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...s){var a,o,c;if(F6.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(s.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const d={type:et.EVENT,data:s};if(d.options={},d.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const y=this.ids++,b=s.pop();this._registerAckCallback(y,b),d.id=y}const f=(o=(a=this.io.engine)===null||a===void 0?void 0:a.transport)===null||o===void 0?void 0:o.writable,m=this.connected&&!(!((c=this.io.engine)===null||c===void 0)&&c._hasPingExpired());return this.flags.volatile&&!f||(m?(this.notifyOutgoingListeners(d),this.packet(d)):this.sendBuffer.push(d)),this.flags={},this}_registerAckCallback(t,s){var a;const o=(a=this.flags.timeout)!==null&&a!==void 0?a:this._opts.ackTimeout;if(o===void 0){this.acks[t]=s;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let f=0;f<this.sendBuffer.length;f++)this.sendBuffer[f].id===t&&this.sendBuffer.splice(f,1);s.call(this,new Error("operation has timed out"))},o),d=(...f)=>{this.io.clearTimeoutFn(c),s.apply(this,f)};d.withError=!0,this.acks[t]=d}emitWithAck(t,...s){return new Promise((a,o)=>{const c=(d,f)=>d?o(d):a(f);c.withError=!0,s.push(c),this.emit(t,...s)})}_addToQueue(t){let s;typeof t[t.length-1]=="function"&&(s=t.pop());const a={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((o,...c)=>a!==this._queue[0]?void 0:(o!==null?a.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(o)):(this._queue.shift(),s&&s(null,...c)),a.pending=!1,this._drainQueue())),this._queue.push(a),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!t||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:et.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,s),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(a=>String(a.id)===t)){const a=this.acks[t];delete this.acks[t],a.withError&&a.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case et.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case et.EVENT:case et.BINARY_EVENT:this.onevent(t);break;case et.ACK:case et.BINARY_ACK:this.onack(t);break;case et.DISCONNECT:this.ondisconnect();break;case et.CONNECT_ERROR:this.destroy();const a=new Error(t.data.message);a.data=t.data.data,this.emitReserved("connect_error",a);break}}onevent(t){const s=t.data||[];t.id!=null&&s.push(this.ack(t.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const a of s)a.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const s=this;let a=!1;return function(...o){a||(a=!0,s.packet({type:et.ACK,id:t,data:o}))}}onack(t){const s=this.acks[t.id];typeof s=="function"&&(delete this.acks[t.id],s.withError&&t.data.unshift(null),s.apply(this,t.data))}onconnect(t,s){this.id=t,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:et.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const s=this._anyListeners;for(let a=0;a<s.length;a++)if(t===s[a])return s.splice(a,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const s=this._anyOutgoingListeners;for(let a=0;a<s.length;a++)if(t===s[a])return s.splice(a,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const a of s)a.apply(this,t.data)}}}function Rr(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Rr.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),s=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-s:e+s}return Math.min(e,this.max)|0};Rr.prototype.reset=function(){this.attempts=0};Rr.prototype.setMin=function(e){this.ms=e};Rr.prototype.setMax=function(e){this.max=e};Rr.prototype.setJitter=function(e){this.jitter=e};class km extends Xt{constructor(t,s){var a;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(s=t,t=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,qu(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((a=s.randomizationFactor)!==null&&a!==void 0?a:.5),this.backoff=new Rr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=t;const o=s.parser||K6;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var s;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(s=this.backoff)===null||s===void 0||s.setMin(t),this)}randomizationFactor(t){var s;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(s=this.backoff)===null||s===void 0||s.setJitter(t),this)}reconnectionDelayMax(t){var s;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(s=this.backoff)===null||s===void 0||s.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new D6(this.uri,this.opts);const s=this.engine,a=this;this._readyState="opening",this.skipReconnect=!1;const o=bs(s,"open",function(){a.onopen(),t&&t()}),c=f=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",f),t?t(f):this.maybeReconnectOnOpen()},d=bs(s,"error",c);if(this._timeout!==!1){const f=this._timeout,m=this.setTimeoutFn(()=>{o(),c(new Error("timeout")),s.close()},f);this.opts.autoUnref&&m.unref(),this.subs.push(()=>{this.clearTimeoutFn(m)})}return this.subs.push(o),this.subs.push(d),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(bs(t,"ping",this.onping.bind(this)),bs(t,"data",this.ondata.bind(this)),bs(t,"error",this.onerror.bind(this)),bs(t,"close",this.onclose.bind(this)),bs(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(s){this.onclose("parse error",s)}}ondecoded(t){Bu(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,s){let a=this.nsps[t];return a?this._autoConnect&&!a.active&&a.connect():(a=new cS(this,t,s),this.nsps[t]=a),a}_destroy(t){const s=Object.keys(this.nsps);for(const a of s)if(this.nsps[a].active)return;this._close()}_packet(t){const s=this.encoder.encode(t);for(let a=0;a<s.length;a++)this.engine.write(s[a],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,s){var a;this.cleanup(),(a=this.engine)===null||a===void 0||a.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const a=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(o=>{o?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",o)):t.onreconnect()}))},s);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Po={};function ou(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const s=L6(e,t.path||"/socket.io"),a=s.source,o=s.id,c=s.path,d=Po[o]&&c in Po[o].nsps,f=t.forceNew||t["force new connection"]||t.multiplex===!1||d;let m;return f?m=new km(a,t):(Po[o]||(Po[o]=new km(a,t)),m=Po[o]),s.query&&!t.query&&(t.query=s.queryKey),m.socket(s.path,t)}Object.assign(ou,{Manager:km,Socket:cS,io:ou,connect:ou});class Y6{socket=null;listeners=new Map;reconnectAttempts=0;maxReconnectAttempts=15;heartbeatInterval=null;connectionHealthInterval=null;lastHeartbeat=0;constructor(){this.connect()}connect(){if(this.socket?.connected)return;console.log("🔌 Connecting to multiplayer server..."),this.socket&&(this.socket.removeAllListeners(),this.socket.disconnect());const t="https://web-production-4fb4.up.railway.app";console.log("🔗 Connecting to:",t),console.log("🌍 Environment mode:","production"),this.socket=ou(t,{transports:["polling","websocket"],forceNew:!1,timeout:2e4,reconnection:!0,reconnectionDelay:2e3,reconnectionDelayMax:3e4,reconnectionAttempts:15,randomizationFactor:.3,upgrade:!0,rememberUpgrade:!0,autoConnect:!0,withCredentials:!1,extraHeaders:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,OPTIONS","Access-Control-Allow-Headers":"Content-Type, Authorization, Content-Length, X-Requested-With","Cache-Control":"no-cache"},query:{client:"chess-academy",version:"1.0.0",platform:"railway",timestamp:Date.now()}}),this.socket.on("connect",()=>{console.log("✅ Connected to multiplayer server, Socket ID:",this.socket?.id),console.log("🚀 Transport:",this.socket?.io.engine.transport.name),this.reconnectAttempts=0,this.lastHeartbeat=Date.now(),this.emitInternal("connection_status",{connected:!0}),this.startHeartbeat(),this.startConnectionHealthMonitoring(),setTimeout(()=>{this.socket?.connected&&(console.log("🏓 Testing initial ping..."),this.socket.emit("ping",{timestamp:Date.now()}))},1e3)}),this.socket.on("disconnect",s=>{console.log("❌ Disconnected from server:",s),console.log("🔍 Disconnect details:",{reason:s,transport:this.socket?.io.engine.transport.name,reconnecting:this.socket?.io._reconnecting,lastHeartbeat:this.lastHeartbeat?Date.now()-this.lastHeartbeat:"unknown"}),this.stopHeartbeat(),this.stopConnectionHealthMonitoring(),this.emitInternal("connection_status",{connected:!1,reason:s})}),this.socket.on("connect_error",s=>{console.error("❌ Connection error:",s.message||s),this.reconnectAttempts++;const a=Math.min(1e3*Math.pow(2,this.reconnectAttempts),1e4);console.log(`⏳ Will retry in ${a}ms (attempt ${this.reconnectAttempts})`),this.emitInternal("connection_error",{error:s.message||s.toString()})}),this.socket.on("reconnect",s=>{console.log("🔄 Reconnected after",s,"attempts"),console.log("🚀 Transport after reconnect:",this.socket?.io.engine.transport.name),this.lastHeartbeat=Date.now(),this.startHeartbeat(),this.startConnectionHealthMonitoring(),this.emitInternal("reconnected",{attemptNumber:s})}),this.socket.on("reconnect_attempt",s=>{console.log(`🔄 Reconnection attempt ${s}/${this.maxReconnectAttempts}`)}),this.socket.on("reconnect_failed",()=>{console.error("❌ Failed to reconnect after",this.maxReconnectAttempts,"attempts"),this.emitInternal("reconnect_failed",{})}),this.socket.on("heartbeat",s=>{console.log("💓 Heartbeat received:",s.timestamp),this.lastHeartbeat=Date.now(),this.socket?.emit("heartbeat_ack",{timestamp:Date.now()})}),this.socket.on("pong",s=>{console.log("🏓 Pong received, latency:",Date.now()-s.timestamp,"ms"),this.lastHeartbeat=Date.now()}),this.socket.on("authenticated",s=>{console.log("🔐 [SOCKET] Authenticated event received from backend:",s),console.log("🔐 [SOCKET] About to emit to internal listeners...");const a=this.listeners.get("authenticated")?.length||0;console.log("🔐 [SOCKET] Number of authenticated listeners:",a),this.emitInternal("authenticated",s),console.log("🔐 [SOCKET] Authenticated event emitted to internal listeners")}),this.socket.on("matchmaking_joined",s=>{console.log("🎯 Joined matchmaking queue:",s),this.emitInternal("matchmaking_joined",s)}),this.socket.on("game_found",s=>{console.log("🎮 Game found:",s),this.emitInternal("game_found",s)}),this.socket.on("game_started",s=>{console.log("▶️ Game started:",s),this.emitInternal("game_started",s)}),this.socket.on("game_joined",s=>{console.log("🎮 Game joined successfully:",s),this.emitInternal("game_joined",s)}),this.socket.on("game_rejoined",s=>{console.log("🔄 Game rejoined after navigation:",s),this.emitInternal("game_rejoined",s)}),this.socket.on("move_made",s=>{console.log("♟️ Move made:",s),this.emitInternal("move_made",s)}),this.socket.on("game_ended",s=>{console.log("🏁 Game ended:",s),this.emitInternal("game_ended",s)}),this.socket.on("chat_message",s=>{this.emitInternal("chat_message",s)}),this.socket.on("spectator_joined",s=>{this.emitInternal("spectator_joined",s)}),this.socket.on("spectator_left",s=>{this.emitInternal("spectator_left",s)}),this.socket.on("draw_offered",s=>{this.emitInternal("draw_offered",s)}),this.socket.on("draw_declined",s=>{this.emitInternal("draw_declined",s)})}disconnect(){this.stopHeartbeat(),this.stopConnectionHealthMonitoring(),this.socket&&(this.socket.disconnect(),this.socket=null)}startHeartbeat(){this.stopHeartbeat(),this.heartbeatInterval=setInterval(()=>{this.socket?.connected&&(console.log("💓 Sending heartbeat ping..."),this.socket.emit("ping",{timestamp:Date.now()}))},25e3)}stopHeartbeat(){this.heartbeatInterval&&(clearInterval(this.heartbeatInterval),this.heartbeatInterval=null)}startConnectionHealthMonitoring(){this.stopConnectionHealthMonitoring(),this.connectionHealthInterval=setInterval(()=>{if(!this.socket?.connected){console.log("🔍 Connection health check: DISCONNECTED");return}const t=Date.now()-this.lastHeartbeat;console.log("🔍 Connection health check:",{connected:this.socket.connected,transport:this.socket.io.engine.transport.name,timeSinceLastHeartbeat:t,socketId:this.socket.id}),t>12e4&&(console.log("⚠️ No heartbeat for 2+ minutes, forcing reconnection..."),this.socket.disconnect(),setTimeout(()=>this.connect(),1e3))},6e4)}stopConnectionHealthMonitoring(){this.connectionHealthInterval&&(clearInterval(this.connectionHealthInterval),this.connectionHealthInterval=null)}authenticate(t){if(!this.socket?.connected)throw console.log("🔐 [AUTH] Cannot authenticate - socket not connected"),new Error("Socket not connected");console.log("🔐 [AUTH] Sending authenticate event to backend with data:",t),this.socket.emit("authenticate",t),console.log("🔐 [AUTH] Authenticate event sent successfully")}joinMatchmaking(t){if(!this.socket?.connected)throw new Error("Socket not connected");this.socket.emit("join_matchmaking",t)}leaveMatchmaking(){if(!this.socket?.connected)throw new Error("Socket not connected");this.socket.emit("leave_matchmaking")}makeMove(t,s,a){if(!this.socket?.connected)throw new Error("Socket not connected");this.socket.emit("make_move",{gameId:t,move:s,timeLeft:a})}offerDraw(t){if(!this.socket?.connected)throw new Error("Socket not connected");this.socket.emit("offer_draw",{gameId:t})}acceptDraw(t){if(!this.socket?.connected)throw new Error("Socket not connected");this.socket.emit("accept_draw",{gameId:t})}declineDraw(t){if(!this.socket?.connected)throw new Error("Socket not connected");this.socket.emit("decline_draw",{gameId:t})}resignGame(t){if(!this.socket?.connected)throw new Error("Socket not connected");this.socket.emit("resign_game",{gameId:t})}joinGameAsSpectator(t){if(!this.socket?.connected)throw new Error("Socket not connected");this.socket.emit("join_game_as_spectator",{gameId:t})}leaveGameAsSpectator(t){if(!this.socket?.connected)throw new Error("Socket not connected");this.socket.emit("leave_game_as_spectator",{gameId:t})}sendChatMessage(t,s){if(!this.socket?.connected)throw new Error("Socket not connected");this.socket.emit("send_chat_message",{gameId:t,message:s})}emit(t,s){if(!this.socket?.connected)throw new Error("Socket not connected");this.socket.emit(t,s)}on(t,s){this.listeners.has(t)||this.listeners.set(t,[]),this.listeners.get(t).push(s)}off(t,s){if(!s){console.log("⚠️ WARNING: Removing ALL listeners for event:",t),this.listeners.delete(t);return}const a=this.listeners.get(t);if(a){const o=a.indexOf(s);o>-1&&a.splice(o,1)}}removeCallback(t,s){const a=this.listeners.get(t);if(a){const o=a.indexOf(s);o>-1&&(a.splice(o,1),console.log(`✅ Removed specific callback for event: ${t}`))}}preserveConnection(){return console.log("🔒 Preserving socket connection during navigation"),console.log("🔗 Current connection status:",{connected:this.socket?.connected,socketId:this.socket?.id,isHealthy:this.isConnectionHealthy()}),this.socket?.connected?(console.log("✅ Socket connection preserved successfully"),!0):(console.log("⚠️ Socket not connected, may need reconnection"),!1)}getConnectionState(){return{connected:this.socket?.connected||!1,socketId:this.socket?.id||null,isHealthy:this.isConnectionHealthy(),listenersCount:Array.from(this.listeners.entries()).map(([t,s])=>({event:t,count:s.length})),reconnectAttempts:this.reconnectAttempts,transport:this.socket?.io?.engine?.transport?.name||"unknown"}}emitInternal(t,s){console.log(`🔊 [EMIT] Emitting event '${t}' with data:`,s);const a=this.listeners.get(t);console.log(`🔊 [EMIT] Found ${a?.length||0} listeners for event '${t}'`),a?a.forEach((o,c)=>{console.log(`🔊 [EMIT] Calling listener ${c+1} for event '${t}'`);try{o(s),console.log(`🔊 [EMIT] Listener ${c+1} executed successfully`)}catch(d){console.error(`🔊 [EMIT] Error in listener ${c+1} for event '${t}':`,d)}}):console.log(`🔊 [EMIT] No listeners registered for event '${t}'`)}isConnected(){return this.socket?.connected||!1}getConnectionId(){return this.socket?.id}forceReconnect(){console.log("🔄 Forcing reconnection for Railway stability..."),this.stopHeartbeat(),this.stopConnectionHealthMonitoring(),this.socket&&this.socket.disconnect(),setTimeout(()=>{this.connect()},2e3)}isConnectionHealthy(){return this.socket?.connected?Date.now()-this.lastHeartbeat<9e4:!1}getConnectionDiagnostics(){return{connected:this.socket?.connected||!1,transport:this.socket?.io.engine.transport.name||"unknown",socketId:this.socket?.id||"none",lastHeartbeat:this.lastHeartbeat,timeSinceLastHeartbeat:this.lastHeartbeat?Date.now()-this.lastHeartbeat:null,reconnectAttempts:this.reconnectAttempts,isHealthy:this.isConnectionHealthy()}}}const Se=new Y6,I6=[{name:"Bullet",time:"1+0",type:"bullet",description:"1 minute games"},{name:"Bullet",time:"2+1",type:"bullet",description:"2 min + 1 sec"},{name:"Blitz",time:"3+0",type:"blitz",description:"3 minute games"},{name:"Blitz",time:"3+2",type:"blitz",description:"3 min + 2 sec"},{name:"Blitz",time:"5+0",type:"blitz",description:"5 minute games"},{name:"Blitz",time:"5+3",type:"blitz",description:"5 min + 3 sec"},{name:"Rapid",time:"10+0",type:"rapid",description:"10 minute games"},{name:"Rapid",time:"15+10",type:"rapid",description:"15 min + 10 sec"},{name:"Classical",time:"30+0",type:"classical",description:"30 minute games"}],Q6=()=>{const e=hl(),[t,s]=v.useState(null),[a,o]=v.useState(!1),[c,d]=v.useState(null),[f,m]=v.useState("disconnected"),[g,y]=v.useState(!1),[b,x]=v.useState(null),[S,j]=v.useState(!1);v.useEffect(()=>{m("connecting");const P=Z=>{m(Z.connected?"connected":"disconnected"),console.log("🔗 Connection status changed:",Z),x(Se.getConnectionDiagnostics())},R=Z=>{console.log("🔐 [LOBBY] Authentication callback triggered with data:",Z),Z.success?(console.log("🔐 [LOBBY] Authentication successful, setting isAuthenticated to true"),y(!0)):console.log("🔐 [LOBBY] Authentication failed, data.success is false")},K=Z=>{console.log("🎮 Game started:",Z),o(!1),console.log("🔒 Preserving socket connection for game navigation");const re=Se.preserveConnection();console.log("🔍 Socket preservation result:",re),console.log("🔍 Connection diagnostics before navigation:",Se.getConnectionDiagnostics()),setTimeout(()=>{console.log("🗺 Navigating to game:",Z.gameId),e(`/game/${Z.gameId}`)},100)},Q=Z=>{console.log("🔍 Added to matchmaking queue:",Z)};Se.on("connection_status",P),Se.on("authenticated",R),Se.on("game_started",K),Se.on("matchmaking_joined",Q),Se.isConnected()&&(m("connected"),k());const L=setInterval(()=>{x(Se.getConnectionDiagnostics())},5e3);return()=>{clearInterval(L),Se.removeCallback("connection_status",P),Se.removeCallback("authenticated",R),Se.removeCallback("game_started",K),Se.removeCallback("matchmaking_joined",Q),console.log("🧹 Lobby cleanup: Removed specific callbacks, preserved socket connection")}},[e]);const k=()=>{let P=sessionStorage.getItem("chessUserId"),R=sessionStorage.getItem("chessUsername");P||(P="demo-user-"+Math.random().toString(36).substr(2,6),R="Player"+Math.floor(Math.random()*1e3),sessionStorage.setItem("chessUserId",P),sessionStorage.setItem("chessUsername",R));try{Se.authenticate({userId:P,username:R,rating:1200+Math.floor(Math.random()*400)})}catch{console.log("⚠️ Authentication skipped, not connected yet")}},A=P=>{s(P)},N=()=>{if(!(!t||!g||!Se.isConnected())){o(!0);try{Se.joinMatchmaking({timeControl:{initial:parseInt(t.time.split("+")[0])*60,increment:parseInt(t.time.split("+")[1])||0,type:t.type}})}catch(P){console.error("Failed to join matchmaking:",P),o(!1)}}},T=()=>{console.log("🔄 User requested force reconnection"),Se.forceReconnect(),m("connecting")},_=P=>{switch(P){case"bullet":return"bg-red-500/20 text-red-400 border-red-500/30";case"blitz":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"rapid":return"bg-green-500/20 text-green-400 border-green-500/30";case"classical":return"bg-blue-500/20 text-blue-400 border-blue-500/30";default:return"bg-gray-500/20 text-gray-400 border-gray-500/30"}};return a?u.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:u.jsx(Bt,{className:"max-w-md w-full mx-4 bg-gray-800 border-gray-700",children:u.jsxs(Qt,{className:"p-8 text-center",children:[u.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),u.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Finding Opponent..."}),u.jsx("p",{className:"text-gray-400 mb-4",children:"Searching for a player with similar rating"}),u.jsxs("p",{className:"text-blue-400 font-mono",children:[t?.time," • ",t?.name]}),u.jsx(Ne,{onClick:()=>o(!1),variant:"outline",className:"mt-4",children:"Cancel Search"})]})})}):u.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-4",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h1",{className:"text-4xl font-bold mb-2 text-blue-400",children:"♟️ Live Multiplayer Chess"}),u.jsx("p",{className:"text-gray-400 text-lg",children:"Play real-time games against other players online"})]}),u.jsxs("div",{className:"mb-8 text-center",children:[u.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg border ${f==="connected"?"bg-green-500/20 text-green-400 border-green-500/30":f==="connecting"?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30":"bg-red-500/20 text-red-400 border-red-500/30"}`,children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${f==="connected"?"bg-green-500":f==="connecting"?"bg-yellow-500 animate-pulse":"bg-red-500"}`}),u.jsx("span",{className:"text-sm font-medium",children:f==="connected"&&g?"Connected & Ready":f==="connected"&&!g?"Connected (Authenticating...)":f==="connecting"?"Connecting to server...":"Disconnected"})]}),u.jsxs("div",{className:"mt-4 flex justify-center gap-2",children:[f==="disconnected"&&u.jsx(Ne,{onClick:T,variant:"outline",size:"sm",className:"text-blue-400 border-blue-500/30 hover:bg-blue-500/20",children:"🔄 Reconnect"}),u.jsxs(Ne,{onClick:()=>j(!S),variant:"outline",size:"sm",className:"text-gray-400 border-gray-500/30 hover:bg-gray-500/20",children:[S?"🔍 Hide":"🔍 Show"," Diagnostics"]})]}),S&&b&&u.jsx("div",{className:"mt-4 max-w-2xl mx-auto",children:u.jsx(Bt,{className:"bg-gray-800 border-gray-700",children:u.jsxs(Qt,{className:"p-4",children:[u.jsx("h4",{className:"text-sm font-semibold text-blue-400 mb-2",children:"Connection Diagnostics"}),u.jsxs("div",{className:"text-xs text-gray-300 space-y-1",children:[u.jsxs("div",{children:["Status: ",u.jsx("span",{className:b.connected?"text-green-400":"text-red-400",children:b.connected?"Connected":"Disconnected"})]}),u.jsxs("div",{children:["Transport: ",u.jsx("span",{className:"text-blue-400",children:b.transport})]}),u.jsxs("div",{children:["Socket ID: ",u.jsx("span",{className:"text-yellow-400",children:b.socketId})]}),u.jsxs("div",{children:["Health: ",u.jsx("span",{className:b.isHealthy?"text-green-400":"text-red-400",children:b.isHealthy?"Healthy":"Unhealthy"})]}),b.timeSinceLastHeartbeat&&u.jsxs("div",{children:["Last Heartbeat: ",u.jsxs("span",{className:"text-purple-400",children:[Math.round(b.timeSinceLastHeartbeat/1e3),"s ago"]})]}),u.jsxs("div",{children:["Reconnect Attempts: ",u.jsx("span",{className:"text-orange-400",children:b.reconnectAttempts})]})]})]})})})]}),u.jsxs(Bt,{className:"mb-8 bg-gray-800 border-gray-700",children:[u.jsx(zn,{children:u.jsx(Bn,{className:"text-white",children:"Choose Time Control"})}),u.jsx(Qt,{children:u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:I6.map((P,R)=>u.jsxs("div",{onClick:()=>A(P),className:`
                    p-4 rounded-lg border-2 cursor-pointer transition-all duration-200
                    hover:scale-105 hover:shadow-lg
                    ${t===P?"border-blue-500 bg-blue-500/20 shadow-blue-500/30 shadow-lg":"border-gray-600 bg-gray-700/50 hover:border-gray-500"}
                  `,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"font-mono text-xl font-bold text-white",children:P.time}),u.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold border ${_(P.type)}`,children:P.type.toUpperCase()})]}),u.jsx("p",{className:"text-gray-400 text-sm",children:P.description})]},R))})})]}),u.jsxs("div",{className:"text-center",children:[u.jsx(Ne,{onClick:N,disabled:!t||!g||f!=="connected",size:"lg",className:`
              px-8 py-4 text-lg font-semibold transition-all duration-200
              ${t&&g&&f==="connected"?"bg-blue-600 hover:bg-blue-700 text-white shadow-lg hover:scale-105":"bg-gray-600 text-gray-400 cursor-not-allowed"}
            `,children:!g||f!=="connected"?"Connecting...":t?`Play ${t.time} ${t.name}`:"Select Time Control"}),t&&g&&f==="connected"&&u.jsxs("p",{className:"text-gray-400 mt-2 text-sm",children:["Click to find an opponent for ",t.description]})]}),u.jsx("div",{className:"mt-12 text-center",children:u.jsx(Bt,{className:"max-w-2xl mx-auto bg-gray-800 border-gray-700",children:u.jsxs(Qt,{className:"p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-blue-400 mb-2",children:"🔗 Live Online Chess"}),u.jsx("p",{className:"text-gray-400 text-sm",children:f==="connected"?"Connected to game server. Ready to match you with another player for real-time chess!":"Connecting to game server for live matchmaking and real-time chess gameplay."})]})})})]})})},X6=()=>u.jsx(Q6,{}),Z6=()=>u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"♟️ Live Multiplayer Chess"}),u.jsx("p",{className:"text-lg text-gray-600",children:"Play real-time chess games with players around the world"})]}),u.jsx(X6,{}),u.jsx("div",{className:"mt-8 max-w-4xl mx-auto",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-lg",children:[u.jsx("div",{className:"text-3xl mb-2",children:"⚡"}),u.jsx("h3",{className:"font-bold text-blue-800 mb-2",children:"Quick Match"}),u.jsx("p",{className:"text-blue-600 text-sm",children:"Get matched instantly with players of similar skill level"})]}),u.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-lg",children:[u.jsx("div",{className:"text-3xl mb-2",children:"🏆"}),u.jsx("h3",{className:"font-bold text-green-800 mb-2",children:"Ranked Games"}),u.jsx("p",{className:"text-green-600 text-sm",children:"Compete in ranked matches to climb the leaderboard"})]}),u.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-lg",children:[u.jsx("div",{className:"text-3xl mb-2",children:"👥"}),u.jsx("h3",{className:"font-bold text-purple-800 mb-2",children:"Private Rooms"}),u.jsx("p",{className:"text-purple-600 text-sm",children:"Create custom rooms to play with friends"})]})]})})]}),W6=()=>{const e=["Swift","Bold","Clever","Wise","Strong"],t=["Tiger","Eagle","Wolf","Lion","Falcon"];return e[Math.floor(Math.random()*e.length)]+t[Math.floor(Math.random()*t.length)]},Ic=(e,t)=>e?t&&e.length>12?e.substring(0,12)+"...":e:W6(),J6=({gameId:e})=>{const[t]=v.useState(new ba),[s,a]=v.useState(t.fen()),[o,c]=v.useState(!1),[d,f]=v.useState(600),[m,g]=v.useState([]),[y,b]=v.useState(""),[x,S]=v.useState(!1),[j,k]=v.useState(!1),[A,N]=v.useState({x:0,y:0}),[T,_]=v.useState({width:400,height:500}),[P,R]=v.useState(!1),[K,Q]=v.useState(!1),[L,Z]=v.useState({x:0,y:0}),re=["😊","😂","🤔","😎","👍","👎","💪","🔥","⚡","👑","🎯","💯"],he=["What are you thinking? 🤔","Taking so long to move your piece! ⏰","Nice move! 👍","Good game! 👑","That was unexpected! 😯","Thinking harder... 🧠","Great strategy! 🎯","Time pressure! ⏱️","Brilliant! ✨","Tough position... 😤","Let's see... 🔍","Checkmate coming! ⚔️"],[ne,ye]=v.useState(null),[le,me]=v.useState("spectator"),[B,V]=v.useState(null),[X,oe]=v.useState("connecting"),[E,G]=v.useState("waiting"),[ae,te]=v.useState(null),[ue,pe]=v.useState(null),[ce,Te]=v.useState({}),[Pe,ft]=v.useState(0),[Ze,st]=v.useState(0);v.useEffect(()=>{console.log("🎮 Setting up game event listeners for gameId:",e),oe(Se.isConnected()?"connected":"connecting");const ie=ge=>{oe(ge.connected?"connected":"disconnected"),console.log("🔗 Game connection status changed:",ge),!ge.connected&&E==="active"&&(console.log("⚠️ Connection lost during active game, attempting reconnection..."),setTimeout(()=>{Se.isConnected()||Se.forceReconnect()},2e3))},Me=ge=>{console.log("🎮 Game started in game component:",ge),ye(ge),G("active"),me(ge.playerColor),a(ge.position),t.load(ge.position),ft(ge.whiteTime),st(ge.blackTime)},wt=ge=>{console.log("🎮 Game joined successfully:",ge),ge.gameState&&(ye(ge.gameState),G("active"),me(ge.playerColor),a(ge.gameState.position),t.load(ge.gameState.position),ft(ge.gameState.whiteTime),st(ge.gameState.blackTime))},ze=ge=>{console.log("🔄 Game rejoined after navigation:",ge),ge.gameState&&(ye(ge.gameState),G("active"),me(ge.playerColor),a(ge.gameState.position),t.load(ge.gameState.position),ft(ge.gameState.whiteTime),st(ge.gameState.blackTime))},Qe=ge=>{console.log("🎯 FRONTEND: move_made event received:",ge),console.log("🎯 FRONTEND: Event timestamp:",new Date().toISOString()),ge.position&&(console.log("🔄 Updating chess position to:",ge.position),t.load(ge.position),a(Un=>(console.log("🔄 setGamePosition: old =",Un,"new =",ge.position),ge.position)),ye(Un=>Un?{...Un,position:ge.position,whiteTime:ge.whiteTime,blackTime:ge.blackTime,turn:ge.turn,moveNumber:ge.moveNumber}:{position:ge.position,whiteTime:ge.whiteTime,blackTime:ge.blackTime,turn:ge.turn,moveNumber:ge.moveNumber,white:{username:"Player1",rating:1500},black:{username:"Player2",rating:1500},timeControl:{type:"blitz",initial:300,increment:3}}),ge.lastMove&&ge.lastMove.from&&ge.lastMove.to&&V({from:ge.lastMove.from,to:ge.lastMove.to}),ge.gameResult&&(G("ended"),te(ge.gameResult)),pe(null),Te({}))},at=ge=>{console.log("🏁 Game ended:",ge),G("ended"),te(ge.result)},jn=ge=>{g(Un=>[...Un,ge.message])};Se.on("connection_status",ie),Se.on("game_started",Me),Se.on("game_joined",wt),Se.on("game_rejoined",ze),Se.on("move_made",Qe),Se.on("game_ended",at),Se.on("chat_message",jn);const St=()=>{if(!Se.isConnected()){console.log("⚠️ Socket not connected, attempting reconnection before joining game"),Se.forceReconnect();return}console.log("🎮 Socket connected, joining game:",e);try{Se.emit("join_game",{gameId:e}),Se.emit("reconnect_to_game",{gameId:e}),console.log("✅ Join game events emitted successfully")}catch(ge){console.error("❌ Failed to join game:",ge),oe("disconnected")}},an=setTimeout(()=>{St()},100),rn=setInterval(()=>{Se.isConnected()&&X==="connecting"&&(console.log("🔄 Connection established during game loading, joining game"),St(),clearInterval(rn))},1e3),Wn=setTimeout(()=>{clearInterval(rn)},3e4);return()=>{clearTimeout(an),clearInterval(rn),clearTimeout(Wn),Se.removeCallback("connection_status",ie),Se.removeCallback("game_started",Me),Se.removeCallback("game_joined",wt),Se.removeCallback("game_rejoined",ze),Se.removeCallback("move_made",Qe),Se.removeCallback("game_ended",at),Se.removeCallback("chat_message",jn),console.log("🧹 Game cleanup: Removed specific callbacks, preserved socket connection")}},[e,E]),v.useEffect(()=>{if(!ne||E!=="active")return;const ie=setInterval(()=>{ne.turn==="w"?ft(Me=>Math.max(0,Me-1e3)):st(Me=>Math.max(0,Me-1e3))},1e3);return()=>clearInterval(ie)},[ne?.turn,E]),v.useEffect(()=>{console.log("🔄 useEffect: gamePosition changed to:",s)},[s]);const fe=v.useCallback((ie,Me)=>{if(console.log(`🎯 Handling piece drop: ${ie} → ${Me}`),le==="spectator")return console.log("❌ Spectator cannot make moves"),!1;if(E!=="active")return console.log(`❌ Game not active: ${E}`),!1;if(!ne||!Se.isConnected())return console.log("❌ No game data or socket connection"),!1;const wt=ne.turn;if(!(wt==="w"&&le==="white"||wt==="b"&&le==="black"))return console.log("❌ Not player's turn"),!1;const Qe={gameId:e,move:{from:ie,to:Me,promotion:"q"},timeLeft:le==="white"?ne.whiteTime:ne.blackTime};console.log("🎯 FRONTEND: Sending make_move event:",Qe);try{Se.emit("make_move",Qe)}catch(at){return console.error("Failed to send move:",at),!1}return!0},[e,le,ne,E]),Ee=v.useCallback(ie=>(console.log("🎯 Frontend: ChessBoard wrapper move attempt:",ie),fe(ie.from,ie.to)),[fe]),qe=()=>{if(window.confirm("Are you sure you want to resign?"))try{Se.emit("resign",{gameId:e})}catch(ie){console.error("Failed to resign:",ie)}},We=ie=>{const Me=Math.floor(ie/1e3/60),wt=Math.floor(ie/1e3%60);return`${Me}:${wt.toString().padStart(2,"0")}`},ot=()=>{c(!o),f(o?600:Math.min(window.innerWidth-100,window.innerHeight-100))},Je=()=>{if(y.trim()&&Se.isConnected()){const Me={username:sessionStorage.getItem("chessUsername")||"Player",message:y.trim(),timestamp:new Date().toISOString()};try{Se.emit("chat_message",{gameId:e,message:Me})}catch(wt){console.error("Failed to send chat message:",wt)}b(""),S(!1)}},vt=ie=>{b(Me=>Me+ie),S(!1)},qt=ie=>{if(Se.isConnected()){const wt={username:sessionStorage.getItem("chessUsername")||"Player",message:ie,timestamp:new Date().toISOString()};try{Se.emit("chat_message",{gameId:e,message:wt})}catch(ze){console.error("Failed to send quick message:",ze)}S(!1)}},de=v.useMemo(()=>ne?.white?Ic(ne.white.username,!0):"White Player",[ne?.white]),Ce=v.useMemo(()=>ne?.black?Ic(ne.black.username,!0):"Black Player",[ne?.black]),ut=ie=>{R(!0),Z({x:ie.clientX-A.x,y:ie.clientY-A.y})},Ve=v.useCallback(ie=>{P&&N({x:Math.max(0,Math.min(window.innerWidth-T.width,ie.clientX-L.x)),y:Math.max(0,Math.min(window.innerHeight-100,ie.clientY-L.y))})},[P,L,T]),jt=v.useCallback(()=>{R(!1)},[]),Nt=ie=>{ie.preventDefault(),ie.stopPropagation(),Q(!0),Z({x:ie.clientX,y:ie.clientY})},lt=v.useCallback(ie=>{if(K){const Me=ie.clientX-L.x,wt=ie.clientY-L.y;_(ze=>({width:Math.max(300,Math.min(600,ze.width+Me)),height:Math.max(200,Math.min(800,ze.height+wt))})),Z({x:ie.clientX,y:ie.clientY})}},[K,L]),Ge=v.useCallback(()=>{Q(!1)},[]);return v.useEffect(()=>(P&&(document.addEventListener("mousemove",Ve),document.addEventListener("mouseup",jt)),K&&(document.addEventListener("mousemove",lt),document.addEventListener("mouseup",Ge)),()=>{document.removeEventListener("mousemove",Ve),document.removeEventListener("mouseup",jt),document.removeEventListener("mousemove",lt),document.removeEventListener("mouseup",Ge)}),[P,K,Ve,jt,lt,Ge]),v.useEffect(()=>{const ie=Me=>{Me.key==="Escape"&&o&&ot()};return o&&document.addEventListener("keydown",ie),()=>{document.removeEventListener("keydown",ie)}},[o,ot]),X==="connecting"?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 text-white flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),u.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Connecting to game..."})]})}):ne?u.jsx(u.Fragment,{children:u.jsx("div",{className:`${o?"fixed inset-0 z-50 bg-slate-900":"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900"} text-white transition-all duration-300`,children:u.jsxs("div",{className:`${o?"h-full flex items-center justify-center p-4":"max-w-7xl mx-auto p-4"}`,children:[u.jsxs("div",{className:`${o?"max-w-none":"grid grid-cols-1 xl:grid-cols-3 gap-6"}`,children:[u.jsxs("div",{className:`${o?"w-full":"xl:col-span-2"} flex flex-col`,children:[!o&&u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Live Chess Match"}),u.jsx("div",{className:"flex gap-2",children:u.jsx(Ne,{onClick:ot,variant:"outline",size:"sm",className:"border-slate-600 hover:bg-slate-700",children:u.jsx(Pv,{className:"w-4 h-4"})})})]}),o&&u.jsx("div",{className:"fixed top-4 right-4 z-50",children:u.jsxs(Ne,{onClick:ot,variant:"outline",size:"sm",className:"bg-slate-800/90 border-slate-600 hover:bg-slate-700 text-white shadow-lg backdrop-blur-sm",title:"Exit fullscreen (ESC)",children:[u.jsx(zv,{className:"w-4 h-4 mr-2"}),"Exit Fullscreen"]})}),u.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 shadow-2xl overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-700",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-4 h-4 rounded-full ${le==="white"?"bg-gray-800 border-2 border-white":"bg-white border-2 border-gray-800"}`}),u.jsxs("div",{children:[u.jsx("span",{className:"font-bold text-lg text-white",children:le==="white"?Ce:de}),u.jsxs("span",{className:"ml-2 text-sm text-slate-400",children:["(",le==="white"?ne.black.rating:ne.white.rating,")"]})]})]}),u.jsx("div",{className:"text-2xl font-mono font-bold text-white bg-slate-600 px-4 py-2 rounded-lg",children:We(le==="white"?Ze:Pe)})]}),u.jsx("div",{className:"p-4 bg-gradient-to-br from-slate-800 to-slate-900",children:u.jsx("div",{className:"aspect-square mx-auto rounded-lg overflow-hidden shadow-lg",style:{width:o?`${d}px`:"100%",maxWidth:o?"none":"600px"},children:u.jsx(zu,{fen:s,orientation:le==="black"?"black":"white",onMove:Ee,disabled:le==="spectator"||E==="ended",showPieceTooltips:!0,highlightMoves:!0})})}),u.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-700",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-4 h-4 rounded-full ${le==="white"?"bg-white border-2 border-gray-800":"bg-gray-800 border-2 border-white"}`}),u.jsxs("div",{children:[u.jsx("span",{className:"font-bold text-lg text-white",children:le==="white"?de:Ce}),u.jsxs("span",{className:"ml-2 text-sm text-slate-400",children:["(",le==="white"?ne.white.rating:ne.black.rating,")"]})]})]}),u.jsx("div",{className:"text-2xl font-mono font-bold text-white bg-slate-600 px-4 py-2 rounded-lg",children:We(le==="white"?Pe:Ze)})]}),u.jsx("div",{className:"px-4 py-3 bg-slate-600 border-t border-slate-500",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`text-lg font-bold px-3 py-1 rounded-full ${ne.turn==="w"?"bg-white text-black border-2 border-yellow-400 shadow-lg":"bg-gray-800 text-white border-2 border-yellow-400 shadow-lg"}`,children:E==="ended"?`🏁 Game Over - ${ae?.result||"Draw"}`:ne.turn==="w"?"⚪ WHITE TO MOVE":"⚫ BLACK TO MOVE"}),u.jsxs("span",{className:"text-sm text-slate-300",children:["Move #",ne.moveNumber," • ",ne.timeControl.type," (",Math.floor(ne.timeControl.initial/60),"+",ne.timeControl.increment,")"]})]}),u.jsxs("div",{className:"flex gap-2",children:[o&&u.jsxs(Ne,{onClick:ot,variant:"outline",size:"sm",className:"border-red-400 hover:bg-red-500 hover:text-white transition-colors flex items-center gap-2",children:[u.jsx(zv,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Exit Fullscreen"})]}),le!=="spectator"&&E==="active"&&u.jsx(Ne,{onClick:qe,variant:"destructive",size:"sm",className:"border-2 border-red-500 bg-red-600 hover:bg-red-700 text-white font-semibold px-4 py-2 rounded-lg transition-all duration-200",children:"🏳️ Resign Game"})]})]})})]})]}),!o&&le!=="spectator"&&u.jsx("div",{className:"xl:col-span-1",children:u.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 shadow-xl h-full max-h-[700px] flex flex-col",children:[u.jsxs("div",{className:"p-4 bg-slate-700 rounded-t-xl flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:"💬 Game Chat"}),u.jsx(Ne,{onClick:()=>k(!0),size:"sm",variant:"ghost",className:"p-2 hover:bg-slate-600",title:"Minimize chat",children:u.jsx(Bv,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"flex-1 p-4 overflow-y-auto space-y-3 min-h-0",children:m.length===0?u.jsxs("div",{className:"text-center text-slate-400 mt-8",children:[u.jsx("div",{className:"text-4xl mb-2",children:"💬"}),u.jsx("p",{children:"No messages yet..."}),u.jsx("p",{className:"text-sm",children:"Start chatting with your opponent!"})]}):m.map((ie,Me)=>{const wt=sessionStorage.getItem("chessUsername")||"",ze=ie.username===wt;return u.jsx("div",{className:`flex ${ze?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:`max-w-xs px-4 py-2 rounded-2xl ${ze?"bg-blue-600 text-white":"bg-emerald-600 text-white"}`,children:[u.jsxs("div",{className:"text-xs opacity-75 mb-1",children:[Ic(ie.username,!0)," • ",new Date(ie.timestamp).toLocaleTimeString()]}),u.jsx("div",{className:"break-words",children:ie.message})]})},Me)})}),u.jsxs("div",{className:"p-4 border-t border-slate-600",children:[x&&u.jsxs("div",{className:"mb-3 p-3 bg-slate-700 rounded-lg",children:[u.jsx("div",{className:"flex gap-2 mb-3",children:u.jsx("span",{className:"text-sm text-slate-300 font-medium",children:"Quick Messages:"})}),u.jsx("div",{className:"grid grid-cols-1 gap-2 mb-3",children:he.slice(0,4).map((ie,Me)=>u.jsx("button",{onClick:()=>qt(ie),className:"p-2 bg-slate-600 hover:bg-slate-500 rounded text-sm text-left transition-colors text-white",children:ie},Me))}),u.jsx("div",{className:"flex gap-2 mb-2",children:u.jsx("span",{className:"text-sm text-slate-300 font-medium",children:"Emojis:"})}),u.jsx("div",{className:"grid grid-cols-6 gap-1",children:re.map(ie=>u.jsx("button",{onClick:()=>vt(ie),className:"p-2 hover:bg-slate-600 rounded text-xl transition-colors",children:ie},ie))})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx("input",{type:"text",value:y,onChange:ie=>b(ie.target.value),onKeyPress:ie=>ie.key==="Enter"&&Je(),placeholder:"Type your message...",className:"w-full p-3 pr-12 rounded-lg bg-slate-700 border border-slate-600 text-white placeholder-slate-400 focus:border-blue-500 focus:outline-none transition-colors"}),u.jsx(Ne,{onClick:()=>S(!x),size:"sm",variant:"ghost",className:"absolute right-1 top-1 p-2",children:u.jsx(Hv,{className:"w-4 h-4"})})]}),u.jsx(Ne,{onClick:Je,disabled:!y.trim(),className:"bg-blue-600 hover:bg-blue-700 px-4",children:u.jsx(Uv,{className:"w-4 h-4"})})]})]})]})})]}),(o||j)&&le!=="spectator"&&u.jsxs("div",{className:"fixed z-50 bg-slate-800 rounded-xl border border-slate-700 shadow-2xl transition-all duration-300",style:{left:`${A.x}px`,top:`${A.y}px`,width:`${T.width}px`,height:j?"auto":`${T.height}px`},children:[u.jsxs("div",{className:"p-3 bg-slate-700 rounded-t-xl cursor-move flex items-center justify-between",onMouseDown:ut,children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(W5,{className:"w-4 h-4 text-slate-400"}),u.jsx("h3",{className:"text-sm font-semibold text-white",children:"💬 Chat"})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx(Ne,{onClick:()=>k(!j),size:"sm",variant:"ghost",className:"p-1 h-6 w-6",children:j?u.jsx(Pv,{className:"w-3 h-3"}):u.jsx(Bv,{className:"w-3 h-3"})}),!o&&u.jsx(Ne,{onClick:()=>k(!1),size:"sm",variant:"ghost",className:"p-1 h-6 w-6",children:u.jsx(uu,{className:"w-3 h-3"})})]})]}),!j&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"p-3 overflow-y-auto space-y-2",style:{height:`${T.height-150}px`},children:m.length===0?u.jsxs("div",{className:"text-center text-slate-400 mt-4",children:[u.jsx("div",{className:"text-2xl mb-1",children:"💬"}),u.jsx("p",{className:"text-xs",children:"No messages yet..."})]}):m.map((ie,Me)=>{const wt=sessionStorage.getItem("chessUsername")||"",ze=ie.username===wt;return u.jsx("div",{className:`flex ${ze?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:`max-w-xs px-3 py-1.5 rounded-lg text-sm ${ze?"bg-blue-600 text-white":"bg-emerald-600 text-white"}`,children:[u.jsxs("div",{className:"text-xs opacity-75 mb-0.5",children:[Ic(ie.username,!0)," • ",new Date(ie.timestamp).toLocaleTimeString()]}),u.jsx("div",{className:"break-words",children:ie.message})]})},Me)})}),u.jsxs("div",{className:"p-3 border-t border-slate-600",children:[x&&u.jsxs("div",{className:"mb-2 p-2 bg-slate-700 rounded-lg",children:[u.jsx("div",{className:"flex gap-2 mb-2",children:u.jsx("span",{className:"text-xs text-slate-300 font-medium",children:"Quick Messages:"})}),u.jsx("div",{className:"grid grid-cols-1 gap-1 mb-3",children:he.slice(0,3).map((ie,Me)=>u.jsx("button",{onClick:()=>qt(ie),className:"p-1.5 bg-slate-600 hover:bg-slate-500 rounded text-xs text-left transition-colors text-white",children:ie},Me))}),u.jsx("div",{className:"flex gap-2 mb-1",children:u.jsx("span",{className:"text-xs text-slate-300 font-medium",children:"Emojis:"})}),u.jsx("div",{className:"grid grid-cols-6 gap-1",children:re.map(ie=>u.jsx("button",{onClick:()=>vt(ie),className:"p-1 hover:bg-slate-600 rounded text-sm transition-colors",children:ie},ie))})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx("input",{type:"text",value:y,onChange:ie=>b(ie.target.value),onKeyPress:ie=>ie.key==="Enter"&&Je(),placeholder:"Type message...",className:"w-full p-2 pr-10 rounded-lg bg-slate-700 border border-slate-600 text-white text-sm placeholder-slate-400 focus:border-blue-500 focus:outline-none transition-colors"}),u.jsx(Ne,{onClick:()=>S(!x),size:"sm",variant:"ghost",className:"absolute right-0.5 top-0.5 p-1.5 h-7 w-7",children:u.jsx(Hv,{className:"w-3 h-3"})})]}),u.jsx(Ne,{onClick:Je,disabled:!y.trim(),className:"bg-blue-600 hover:bg-blue-700 px-3 h-8 text-sm",children:u.jsx(Uv,{className:"w-3 h-3"})})]})]}),u.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 cursor-se-resize bg-slate-600 rounded-tl-lg opacity-60 hover:opacity-100 transition-opacity",onMouseDown:Nt,children:u.jsx("div",{className:"absolute bottom-1 right-1 w-2 h-2 border-r-2 border-b-2 border-slate-400"})})]})]}),!o&&j&&le!=="spectator"&&u.jsx(Ne,{onClick:()=>k(!1),className:"fixed bottom-4 right-4 z-40 bg-blue-600 hover:bg-blue-700 text-white rounded-full p-3 shadow-lg",children:"💬"})]})})}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 text-white flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Game not found"}),u.jsx("p",{className:"text-slate-400",children:"The game may have ended or the ID is invalid."})]})})},eD=()=>{const{gameId:e}=Qx(),t=hl(),[s,a]=v.useState(!0),[o,c]=v.useState(null),[d,f]=v.useState(0);v.useEffect(()=>{console.log("🎮 GamePage mounted for gameId:",e),console.log("🔍 Initial connection state:",Se.getConnectionDiagnostics()),Se.isConnected()&&Se.isConnectionHealthy()?(console.log("✅ Socket connected and healthy, proceeding to game"),a(!1)):Se.isConnected()&&!Se.isConnectionHealthy()?(console.log("⚠️ Socket connected but unhealthy, forcing reconnection"),m()):(console.log("⚠️ Socket not connected on GamePage load, attempting connection..."),m());const y=b=>{console.log("🔗 GamePage connection status:",b),console.log("🔍 Connection diagnostics:",Se.getConnectionDiagnostics()),b.connected&&Se.isConnectionHealthy()?(console.log("✅ Connection restored and healthy"),c(null),a(!1),f(0)):b.connected&&!Se.isConnectionHealthy()?(console.log("⚠️ Connection exists but unhealthy, forcing health check"),setTimeout(()=>{Se.isConnectionHealthy()||m()},2e3)):(console.log("❌ Connection lost or failed"),c(b.reason||"Connection lost"),d<3&&setTimeout(()=>{m()},2e3*(d+1)))};return Se.on("connection_status",y),()=>{Se.removeCallback("connection_status",y),console.log("🧹 GamePage cleanup completed")}},[e,d]);const m=()=>{console.log("🔄 GamePage: Attempting connection retry",d+1),f(b=>b+1),a(!0),c(null),console.log("🔍 Current connection state before retry:",Se.getConnectionDiagnostics()),Se.forceReconnect();const y=setInterval(()=>{Se.isConnected()&&Se.isConnectionHealthy()&&(console.log("✅ Reconnection successful, clearing monitor"),clearInterval(y))},1e3);setTimeout(()=>{clearInterval(y)},3e4)},g=()=>{console.log("🔙 Navigating back to multiplayer lobby"),t("/multiplayer")};return e?s&&!o?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 text-white flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),u.jsx("h2",{className:"text-2xl font-bold mb-2 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Loading Game..."}),u.jsx("p",{className:"text-slate-400 mb-4",children:"Establishing connection to game server"}),u.jsxs("p",{className:"text-sm text-slate-500",children:["Game ID: ",e]})]})}):o&&d>=3?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 text-white flex items-center justify-center",children:u.jsxs("div",{className:"text-center max-w-md mx-4",children:[u.jsx($v,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Connection Failed"}),u.jsx("p",{className:"text-slate-400 mb-4",children:"Unable to connect to the game server after multiple attempts."}),u.jsxs("p",{className:"text-sm text-red-400 mb-6",children:["Error: ",o]}),u.jsxs("div",{className:"flex gap-4 justify-center",children:[u.jsxs(Ne,{onClick:m,className:"bg-blue-600 hover:bg-blue-700",children:[u.jsx(qv,{className:"w-4 h-4 mr-2"}),"Try Again"]}),u.jsxs(Ne,{onClick:g,variant:"outline",className:"border-slate-600 hover:bg-slate-700",children:[u.jsx(Jf,{className:"w-4 h-4 mr-2"}),"Back to Lobby"]})]})]})}):u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute top-4 left-4 z-10",children:u.jsxs(Ne,{onClick:g,variant:"outline",size:"sm",className:"bg-slate-800/90 border-slate-600 hover:bg-slate-700 text-white shadow-lg backdrop-blur-sm",children:[u.jsx(Jf,{className:"w-4 h-4 mr-2"}),"Back to Lobby"]})}),o&&d<3&&u.jsx("div",{className:"absolute top-4 right-4 z-10",children:u.jsxs("div",{className:"bg-yellow-500/20 border border-yellow-500/30 text-yellow-400 px-3 py-2 rounded-lg text-sm flex items-center gap-2",children:[u.jsx(qv,{className:"w-4 h-4 animate-spin"}),"Reconnecting... (Attempt ",d,"/3)"]})}),u.jsx(J6,{gameId:e})]}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 text-white flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx($v,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Invalid Game"}),u.jsx("p",{className:"text-slate-400 mb-4",children:"No game ID provided."}),u.jsxs(Ne,{onClick:g,className:"bg-blue-600 hover:bg-blue-700",children:[u.jsx(Jf,{className:"w-4 h-4 mr-2"}),"Back to Multiplayer"]})]})})},tD="http://localhost:3001";class nD{baseURL;constructor(t){this.baseURL=t}async request(t,s={}){const a=`${this.baseURL}${t}`,o={headers:{"Content-Type":"application/json",...s.headers},credentials:"include",...s},c=localStorage.getItem("chess-academy-auth");if(c){const d=JSON.parse(c);d.state?.token&&(o.headers={...o.headers,Authorization:`Bearer ${d.state.token}`})}try{const d=await fetch(a,o),f=await d.json();if(!d.ok)throw new Error(f.message||`HTTP error! status: ${d.status}`);return f}catch(d){throw new Error(d instanceof Error?d.message:"Network error")}}async register(t){return this.request("/api/auth/register",{method:"POST",body:JSON.stringify(t)})}async login(t){return this.request("/api/auth/login",{method:"POST",body:JSON.stringify(t)})}async logout(){return this.request("/api/auth/logout",{method:"POST"})}async refreshToken(){return this.request("/api/auth/refresh",{method:"POST"})}async getProfile(){return this.request("/api/auth/profile")}async getUserProfile(){return this.request("/api/users/profile")}async updateUserProfile(t){return this.request("/api/users/profile",{method:"PUT",body:JSON.stringify(t)})}async getUserStats(){return this.request("/api/users/stats")}async getUserProgress(){return this.request("/api/users/progress")}}const zo=new nD(tD),sD=Q2()(X2((e,t)=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null,register:async s=>{e({isLoading:!0,error:null});try{const a=await zo.register(s);if(a.success&&a.data){const{user:o,accessToken:c}=a.data;e({user:o,token:c,isAuthenticated:!0,isLoading:!1,error:null})}}catch(a){throw e({isLoading:!1,error:a instanceof Error?a.message:"Registration failed"}),a}},login:async s=>{e({isLoading:!0,error:null});try{const a=await zo.login(s);if(a.success&&a.data){const{user:o,accessToken:c}=a.data;e({user:o,token:c,isAuthenticated:!0,isLoading:!1,error:null})}}catch(a){throw e({isLoading:!1,error:a instanceof Error?a.message:"Login failed"}),a}},loginDemo:()=>{const s={id:"demo-user-123",email:"demo@chesslacademy.com",username:"demo_player",displayName:"Demo Player",createdAt:new Date().toISOString()};e({user:s,token:"demo-token-123",isAuthenticated:!0,isLoading:!1,error:null})},logout:async()=>{e({isLoading:!0});try{await zo.logout()}catch(s){console.error("Logout error:",s)}finally{e({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null})}},refreshToken:async()=>{try{const s=await zo.refreshToken();if(s.success&&s.data){const{accessToken:a}=s.data;e({token:a})}}catch(s){console.error("Token refresh failed:",s),t().logout()}},checkAuth:async()=>{const{token:s}=t();if(s){e({isLoading:!0});try{const a=await zo.getProfile();a.success&&a.data&&e({user:a.data.user,isAuthenticated:!0,isLoading:!1,error:null})}catch(a){console.error("Auth check failed:",a),e({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null})}}},setUser:(s,a)=>e({user:s,token:a,isAuthenticated:!0,error:null}),setLoading:s=>e({isLoading:s}),setError:s=>e({error:s}),clearError:()=>e({error:null})}),{name:"chess-academy-auth",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated})})),iD=({children:e})=>{const{loginDemo:t,isAuthenticated:s}=sD();return v.useEffect(()=>{s||t()},[t,s]),u.jsx(u.Fragment,{children:e})},aD=new p5({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*10,retry:1,refetchOnWindowFocus:!1}}}),gs=({children:e})=>u.jsx(u.Fragment,{children:e});function rD(){return u.jsx(y5,{client:aD,children:u.jsx(iD,{children:u.jsx(P3,{children:u.jsx("div",{className:"min-h-screen bg-background",children:u.jsxs(h3,{children:[u.jsx(Pn,{path:"/",element:u.jsx(jv,{to:"/dashboard",replace:!0})}),u.jsx(Pn,{path:"/dashboard",element:u.jsx(gs,{children:u.jsx(Rs,{children:u.jsx(bN,{})})})}),u.jsx(Pn,{path:"/lessons",element:u.jsx(gs,{children:u.jsx(Rs,{children:u.jsx(xN,{})})})}),u.jsx(Pn,{path:"/lessons/:lessonId",element:u.jsx(gs,{children:u.jsx(Rs,{children:u.jsx(jR,{})})})}),u.jsx(Pn,{path:"/puzzles",element:u.jsx(gs,{children:u.jsx(Rs,{children:u.jsx(GR,{})})})}),u.jsx(Pn,{path:"/play",element:u.jsx(gs,{children:u.jsx(Rs,{children:u.jsx(IR,{})})})}),u.jsx(Pn,{path:"/multiplayer",element:u.jsx(gs,{children:u.jsx(Rs,{children:u.jsx(Z6,{})})})}),u.jsx(Pn,{path:"/profile",element:u.jsx(gs,{children:u.jsx(Rs,{children:u.jsx(QR,{})})})}),u.jsx(Pn,{path:"/leaderboard",element:u.jsx(gs,{children:u.jsx(Rs,{children:u.jsx(XR,{})})})}),u.jsx(Pn,{path:"/settings",element:u.jsx(gs,{children:u.jsx(Rs,{children:u.jsx(ZR,{})})})}),u.jsx(Pn,{path:"/debug",element:u.jsx(gs,{children:u.jsx(Rs,{children:u.jsx(JR,{})})})}),u.jsx(Pn,{path:"/game/:gameId",element:u.jsx(gs,{children:u.jsx(eD,{})})}),u.jsx(Pn,{path:"*",element:u.jsx(jv,{to:"/dashboard",replace:!0})})]})})})})})}Ck.createRoot(document.getElementById("root")).render(u.jsx(v.StrictMode,{children:u.jsx(rD,{})}));
