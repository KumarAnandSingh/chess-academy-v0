(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();function c3(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Gd={exports:{}},_o={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function u3(){if(pv)return _o;pv=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(a,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var f in o)f!=="key"&&(c[f]=o[f])}else c=o;return o=c.ref,{$$typeof:e,type:a,key:u,ref:o!==void 0?o:null,props:c}}return _o.Fragment=t,_o.jsx=s,_o.jsxs=s,_o}var gv;function f3(){return gv||(gv=1,Gd.exports=u3()),Gd.exports}var d=f3(),Kd={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function d3(){if(yv)return Le;yv=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=v&&M[v]||M["@@iterator"],typeof M=="function"?M:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,k={};function E(M,Y,se){this.props=M,this.context=Y,this.refs=k,this.updater=se||S}E.prototype.isReactComponent={},E.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},E.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function A(){}A.prototype=E.prototype;function N(M,Y,se){this.props=M,this.context=Y,this.refs=k,this.updater=se||S}var _=N.prototype=new A;_.constructor=N,T(_,E.prototype),_.isPureReactComponent=!0;var H=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function I(M,Y,se,te,oe,de){return se=de.ref,{$$typeof:e,type:M,key:Y,ref:se!==void 0?se:null,props:de}}function O(M,Y){return I(M.type,Y,void 0,void 0,void 0,M.props)}function ee(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function ae(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(se){return Y[se]})}var ue=/\/+/g;function fe(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?ae(""+M.key):Y.toString(36)}function be(){}function ve(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(be,be):(M.status="pending",M.then(function(Y){M.status==="pending"&&(M.status="fulfilled",M.value=Y)},function(Y){M.status==="pending"&&(M.status="rejected",M.reason=Y)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function he(M,Y,se,te,oe){var de=typeof M;(de==="undefined"||de==="boolean")&&(M=null);var re=!1;if(M===null)re=!0;else switch(de){case"bigint":case"string":case"number":re=!0;break;case"object":switch(M.$$typeof){case e:case t:re=!0;break;case y:return re=M._init,he(re(M._payload),Y,se,te,oe)}}if(re)return oe=oe(M),re=te===""?"."+fe(M,0):te,H(oe)?(se="",re!=null&&(se=re.replace(ue,"$&/")+"/"),he(oe,Y,se,"",function(vt){return vt})):oe!=null&&(ee(oe)&&(oe=O(oe,se+(oe.key==null||M&&M.key===oe.key?"":(""+oe.key).replace(ue,"$&/")+"/")+re)),Y.push(oe)),1;re=0;var ke=te===""?".":te+":";if(H(M))for(var Re=0;Re<M.length;Re++)te=M[Re],de=ke+fe(te,Re),re+=he(te,Y,se,de,oe);else if(Re=x(M),typeof Re=="function")for(M=Re.call(M),Re=0;!(te=M.next()).done;)te=te.value,de=ke+fe(te,Re++),re+=he(te,Y,se,de,oe);else if(de==="object"){if(typeof M.then=="function")return he(ve(M),Y,se,te,oe);throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return re}function B(M,Y,se){if(M==null)return M;var te=[],oe=0;return he(M,te,"","",function(de){return Y.call(se,de,oe++)}),te}function V(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(se){(M._status===0||M._status===-1)&&(M._status=1,M._result=se)},function(se){(M._status===0||M._status===-1)&&(M._status=2,M._result=se)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var X=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function ie(){}return Le.Children={map:B,forEach:function(M,Y,se){B(M,function(){Y.apply(this,arguments)},se)},count:function(M){var Y=0;return B(M,function(){Y++}),Y},toArray:function(M){return B(M,function(Y){return Y})||[]},only:function(M){if(!ee(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Le.Component=E,Le.Fragment=s,Le.Profiler=o,Le.PureComponent=N,Le.StrictMode=a,Le.Suspense=m,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Le.__COMPILER_RUNTIME={__proto__:null,c:function(M){return D.H.useMemoCache(M)}},Le.cache=function(M){return function(){return M.apply(null,arguments)}},Le.cloneElement=function(M,Y,se){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var te=T({},M.props),oe=M.key,de=void 0;if(Y!=null)for(re in Y.ref!==void 0&&(de=void 0),Y.key!==void 0&&(oe=""+Y.key),Y)!F.call(Y,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&Y.ref===void 0||(te[re]=Y[re]);var re=arguments.length-2;if(re===1)te.children=se;else if(1<re){for(var ke=Array(re),Re=0;Re<re;Re++)ke[Re]=arguments[Re+2];te.children=ke}return I(M.type,oe,void 0,void 0,de,te)},Le.createContext=function(M){return M={$$typeof:u,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Le.createElement=function(M,Y,se){var te,oe={},de=null;if(Y!=null)for(te in Y.key!==void 0&&(de=""+Y.key),Y)F.call(Y,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(oe[te]=Y[te]);var re=arguments.length-2;if(re===1)oe.children=se;else if(1<re){for(var ke=Array(re),Re=0;Re<re;Re++)ke[Re]=arguments[Re+2];oe.children=ke}if(M&&M.defaultProps)for(te in re=M.defaultProps,re)oe[te]===void 0&&(oe[te]=re[te]);return I(M,de,void 0,void 0,null,oe)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(M){return{$$typeof:f,render:M}},Le.isValidElement=ee,Le.lazy=function(M){return{$$typeof:y,_payload:{_status:-1,_result:M},_init:V}},Le.memo=function(M,Y){return{$$typeof:g,type:M,compare:Y===void 0?null:Y}},Le.startTransition=function(M){var Y=D.T,se={};D.T=se;try{var te=M(),oe=D.S;oe!==null&&oe(se,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(ie,X)}catch(de){X(de)}finally{D.T=Y}},Le.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Le.use=function(M){return D.H.use(M)},Le.useActionState=function(M,Y,se){return D.H.useActionState(M,Y,se)},Le.useCallback=function(M,Y){return D.H.useCallback(M,Y)},Le.useContext=function(M){return D.H.useContext(M)},Le.useDebugValue=function(){},Le.useDeferredValue=function(M,Y){return D.H.useDeferredValue(M,Y)},Le.useEffect=function(M,Y,se){var te=D.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(M,Y)},Le.useId=function(){return D.H.useId()},Le.useImperativeHandle=function(M,Y,se){return D.H.useImperativeHandle(M,Y,se)},Le.useInsertionEffect=function(M,Y){return D.H.useInsertionEffect(M,Y)},Le.useLayoutEffect=function(M,Y){return D.H.useLayoutEffect(M,Y)},Le.useMemo=function(M,Y){return D.H.useMemo(M,Y)},Le.useOptimistic=function(M,Y){return D.H.useOptimistic(M,Y)},Le.useReducer=function(M,Y,se){return D.H.useReducer(M,Y,se)},Le.useRef=function(M){return D.H.useRef(M)},Le.useState=function(M){return D.H.useState(M)},Le.useSyncExternalStore=function(M,Y,se){return D.H.useSyncExternalStore(M,Y,se)},Le.useTransition=function(){return D.H.useTransition()},Le.version="19.1.1",Le}var vv;function Tm(){return vv||(vv=1,Kd.exports=d3()),Kd.exports}var b=Tm();const yt=c3(b);var Yd={exports:{}},Ro={},Fd={exports:{}},Qd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function h3(){return bv||(bv=1,(function(e){function t(B,V){var X=B.length;B.push(V);e:for(;0<X;){var ie=X-1>>>1,M=B[ie];if(0<o(M,V))B[ie]=V,B[X]=M,X=ie;else break e}}function s(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var V=B[0],X=B.pop();if(X!==V){B[0]=X;e:for(var ie=0,M=B.length,Y=M>>>1;ie<Y;){var se=2*(ie+1)-1,te=B[se],oe=se+1,de=B[oe];if(0>o(te,X))oe<M&&0>o(de,te)?(B[ie]=de,B[oe]=X,ie=oe):(B[ie]=te,B[se]=X,ie=se);else if(oe<M&&0>o(de,X))B[ie]=de,B[oe]=X,ie=oe;else break e}}return V}function o(B,V){var X=B.sortIndex-V.sortIndex;return X!==0?X:B.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var m=[],g=[],y=1,v=null,x=3,S=!1,T=!1,k=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function H(B){for(var V=s(g);V!==null;){if(V.callback===null)a(g);else if(V.startTime<=B)a(g),V.sortIndex=V.expirationTime,t(m,V);else break;V=s(g)}}function D(B){if(k=!1,H(B),!T)if(s(m)!==null)T=!0,F||(F=!0,fe());else{var V=s(g);V!==null&&he(D,V.startTime-B)}}var F=!1,I=-1,O=5,ee=-1;function ae(){return E?!0:!(e.unstable_now()-ee<O)}function ue(){if(E=!1,F){var B=e.unstable_now();ee=B;var V=!0;try{e:{T=!1,k&&(k=!1,N(I),I=-1),S=!0;var X=x;try{t:{for(H(B),v=s(m);v!==null&&!(v.expirationTime>B&&ae());){var ie=v.callback;if(typeof ie=="function"){v.callback=null,x=v.priorityLevel;var M=ie(v.expirationTime<=B);if(B=e.unstable_now(),typeof M=="function"){v.callback=M,H(B),V=!0;break t}v===s(m)&&a(m),H(B)}else a(m);v=s(m)}if(v!==null)V=!0;else{var Y=s(g);Y!==null&&he(D,Y.startTime-B),V=!1}}break e}finally{v=null,x=X,S=!1}V=void 0}}finally{V?fe():F=!1}}}var fe;if(typeof _=="function")fe=function(){_(ue)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,ve=be.port2;be.port1.onmessage=ue,fe=function(){ve.postMessage(null)}}else fe=function(){A(ue,0)};function he(B,V){I=A(function(){B(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(B){switch(x){case 1:case 2:case 3:var V=3;break;default:V=x}var X=x;x=V;try{return B()}finally{x=X}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(B,V){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var X=x;x=B;try{return V()}finally{x=X}},e.unstable_scheduleCallback=function(B,V,X){var ie=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ie+X:ie):X=ie,B){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=X+M,B={id:y++,callback:V,priorityLevel:B,startTime:X,expirationTime:M,sortIndex:-1},X>ie?(B.sortIndex=X,t(g,B),s(m)===null&&B===s(g)&&(k?(N(I),I=-1):k=!0,he(D,X-ie))):(B.sortIndex=M,t(m,B),T||S||(T=!0,F||(F=!0,fe()))),B},e.unstable_shouldYield=ae,e.unstable_wrapCallback=function(B){var V=x;return function(){var X=x;x=V;try{return B.apply(this,arguments)}finally{x=X}}}})(Qd)),Qd}var xv;function m3(){return xv||(xv=1,Fd.exports=h3()),Fd.exports}var Xd={exports:{}},vn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function p3(){if(wv)return vn;wv=1;var e=Tm();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,g,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:m,containerInfo:g,implementation:y}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,vn.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return c(m,g,null,y)},vn.flushSync=function(m){var g=u.T,y=a.p;try{if(u.T=null,a.p=2,m)return m()}finally{u.T=g,a.p=y,a.d.f()}},vn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(m,g))},vn.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},vn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,v=f(y,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?a.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:S}):y==="script"&&a.d.X(m,{crossOrigin:v,integrity:x,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},vn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=f(g.as,g.crossOrigin);a.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(m)},vn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,v=f(y,g.crossOrigin);a.d.L(m,y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},vn.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=f(g.as,g.crossOrigin);a.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(m)},vn.requestFormReset=function(m){a.d.r(m)},vn.unstable_batchedUpdates=function(m,g){return m(g)},vn.useFormState=function(m,g,y){return u.H.useFormState(m,g,y)},vn.useFormStatus=function(){return u.H.useHostTransitionStatus()},vn.version="19.1.1",vn}var Sv;function q1(){if(Sv)return Xd.exports;Sv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Xd.exports=p3(),Xd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function g3(){if(Cv)return Ro;Cv=1;var e=m3(),t=Tm(),s=q1();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var i=n,r=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(r=i.return),n=i.return;while(n)}return i.tag===3?r:null}function u(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function f(n){if(c(n)!==n)throw Error(a(188))}function m(n){var i=n.alternate;if(!i){if(i=c(n),i===null)throw Error(a(188));return i!==n?null:n}for(var r=n,l=i;;){var h=r.return;if(h===null)break;var p=h.alternate;if(p===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===r)return f(h),n;if(p===l)return f(h),i;p=p.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=p;else{for(var w=!1,C=h.child;C;){if(C===r){w=!0,r=h,l=p;break}if(C===l){w=!0,l=h,r=p;break}C=C.sibling}if(!w){for(C=p.child;C;){if(C===r){w=!0,r=p,l=h;break}if(C===l){w=!0,l=p,r=h;break}C=C.sibling}if(!w)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),_=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function fe(n){return n===null||typeof n!="object"?null:(n=ue&&n[ue]||n["@@iterator"],typeof n=="function"?n:null)}var be=Symbol.for("react.client.reference");function ve(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===be?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case T:return"Fragment";case E:return"Profiler";case k:return"StrictMode";case D:return"Suspense";case F:return"SuspenseList";case ee:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case S:return"Portal";case _:return(n.displayName||"Context")+".Provider";case N:return(n._context.displayName||"Context")+".Consumer";case H:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case I:return i=n.displayName||null,i!==null?i:ve(n.type)||"Memo";case O:i=n._payload,n=n._init;try{return ve(n(i))}catch{}}return null}var he=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},ie=[],M=-1;function Y(n){return{current:n}}function se(n){0>M||(n.current=ie[M],ie[M]=null,M--)}function te(n,i){M++,ie[M]=n.current,n.current=i}var oe=Y(null),de=Y(null),re=Y(null),ke=Y(null);function Re(n,i){switch(te(re,i),te(de,n),te(oe,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?$y(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=$y(i),n=Gy(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}se(oe),te(oe,n)}function vt(){se(oe),se(de),se(re)}function Qe(n){n.memoizedState!==null&&te(ke,n);var i=oe.current,r=Gy(i,n.type);i!==r&&(te(de,n),te(oe,r))}function it(n){de.current===n&&(se(oe),se(de)),ke.current===n&&(se(ke),Ao._currentValue=X)}var ce=Object.prototype.hasOwnProperty,Ae=e.unstable_scheduleCallback,De=e.unstable_cancelCallback,Xe=e.unstable_shouldYield,gt=e.unstable_requestPaint,Je=e.unstable_now,bt=e.unstable_getCurrentPriorityLevel,Wt=e.unstable_ImmediatePriority,le=e.unstable_UserBlockingPriority,Se=e.unstable_NormalPriority,at=e.unstable_LowPriority,Ve=e.unstable_IdlePriority,Dt=e.log,kt=e.unstable_setDisableYieldValue,ct=null,Ge=null;function Bt(n){if(typeof Dt=="function"&&kt(n),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ct,n)}catch{}}var Tt=Math.clz32?Math.clz32:et,ci=Math.log,Ze=Math.LN2;function et(n){return n>>>=0,n===0?32:31-(ci(n)/Ze|0)|0}var ut=256,Xn=4194304;function At(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function gn(n,i,r){var l=n.pendingLanes;if(l===0)return 0;var h=0,p=n.suspendedLanes,w=n.pingedLanes;n=n.warmLanes;var C=l&134217727;return C!==0?(l=C&~p,l!==0?h=At(l):(w&=C,w!==0?h=At(w):r||(r=C&~n,r!==0&&(h=At(r))))):(C=l&~p,C!==0?h=At(C):w!==0?h=At(w):r||(r=l&~n,r!==0&&(h=At(r)))),h===0?0:i!==0&&i!==h&&(i&p)===0&&(p=h&-h,r=i&-i,p>=r||p===32&&(r&4194048)!==0)?i:h}function jn(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function ws(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ta(){var n=ut;return ut<<=1,(ut&4194048)===0&&(ut=256),n}function Aa(){var n=Xn;return Xn<<=1,(Xn&62914560)===0&&(Xn=4194304),n}function Yi(n){for(var i=[],r=0;31>r;r++)i.push(n);return i}function xt(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function cn(n,i,r,l,h,p){var w=n.pendingLanes;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=r,n.entangledLanes&=r,n.errorRecoveryDisabledLanes&=r,n.shellSuspendCounter=0;var C=n.entanglements,j=n.expirationTimes,q=n.hiddenUpdates;for(r=w&~r;0<r;){var Z=31-Tt(r),J=1<<Z;C[Z]=0,j[Z]=-1;var U=q[Z];if(U!==null)for(q[Z]=null,Z=0;Z<U.length;Z++){var $=U[Z];$!==null&&($.lane&=-536870913)}r&=~J}l!==0&&Jt(n,l,0),p!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=p&~(w&~i))}function Jt(n,i,r){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-Tt(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|r&4194090}function On(n,i){var r=n.entangledLanes|=i;for(n=n.entanglements;r;){var l=31-Tt(r),h=1<<l;h&i|n[l]&i&&(n[l]|=i),r&=~h}}function en(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Kt(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Cn(){var n=V.p;return n!==0?n:(n=window.event,n===void 0?32:cv(n.type))}function G(n,i){var r=V.p;try{return V.p=n,i()}finally{V.p=r}}var Fe=Math.random().toString(36).slice(2),Be="__reactFiber$"+Fe,tt="__reactProps$"+Fe,ne="__reactContainer$"+Fe,kn="__reactEvents$"+Fe,mt="__reactListeners$"+Fe,Lt="__reactHandles$"+Fe,Ss="__reactResources$"+Fe,jt="__reactMarker$"+Fe;function Na(n){delete n[Be],delete n[tt],delete n[kn],delete n[mt],delete n[Lt]}function Ps(n){var i=n[Be];if(i)return i;for(var r=n.parentNode;r;){if(i=r[ne]||r[Be]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(n=Qy(n);n!==null;){if(r=n[Be])return r;n=Qy(n)}return i}n=r,r=n.parentNode}return null}function ye(n){if(n=n[Be]||n[ne]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function Fi(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function zs(n){var i=n[Ss];return i||(i=n[Ss]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function qt(n){n[jt]=!0}var Lr=new Set,Cl={};function Bs(n,i){ui(n,i),ui(n+"Capture",i)}function ui(n,i){for(Cl[n]=i,n=0;n<i.length;n++)Lr.add(i[n])}var kl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Or={},Tl={};function qu(n){return ce.call(Tl,n)?!0:ce.call(Or,n)?!1:kl.test(n)?Tl[n]=!0:(Or[n]=!0,!1)}function Ea(n,i,r){if(qu(i))if(r===null)n.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+r)}}function Qi(n,i,r){if(r===null)n.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+r)}}function Pn(n,i,r,l){if(l===null)n.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttributeNS(i,r,""+l)}}var Pr,Al;function qs(n){if(Pr===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);Pr=i&&i[1]||"",Al=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pr+n+Al}var zr=!1;function Yt(n,i){if(!n||zr)return"";zr=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch($){var U=$}Reflect.construct(n,[],J)}else{try{J.call()}catch($){U=$}n.call(J.prototype)}}else{try{throw Error()}catch($){U=$}(J=n())&&typeof J.catch=="function"&&J.catch(function(){})}}catch($){if($&&U&&typeof $.stack=="string")return[$.stack,U.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),w=p[0],C=p[1];if(w&&C){var j=w.split(`
`),q=C.split(`
`);for(h=l=0;l<j.length&&!j[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===j.length||h===q.length)for(l=j.length-1,h=q.length-1;1<=l&&0<=h&&j[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(j[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||j[l]!==q[h]){var Z=`
`+j[l].replace(" at new "," at ");return n.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",n.displayName)),Z}while(1<=l&&0<=h);break}}}finally{zr=!1,Error.prepareStackTrace=r}return(r=n?n.displayName||n.name:"")?qs(r):""}function P(n){switch(n.tag){case 26:case 27:case 5:return qs(n.type);case 16:return qs("Lazy");case 13:return qs("Suspense");case 19:return qs("SuspenseList");case 0:case 15:return Yt(n.type,!1);case 11:return Yt(n.type.render,!1);case 1:return Yt(n.type,!0);case 31:return qs("Activity");default:return""}}function Q(n){try{var i="";do i+=P(n),n=n.return;while(n);return i}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function K(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function we(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ce(n){var i=we(n)?"checked":"value",r=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,p=r.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return h.call(this)},set:function(w){l=""+w,p.call(this,w)}}),Object.defineProperty(n,i,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Ke(n){n._valueTracker||(n._valueTracker=Ce(n))}function Cs(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var r=i.getValue(),l="";return n&&(l=we(n)?n.checked?"true":"false":n.value),n=l,n!==r?(i.setValue(n),!0):!1}function Us(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var a2=/[\n"\\]/g;function In(n){return n.replace(a2,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Uu(n,i,r,l,h,p,w,C){n.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.type=w:n.removeAttribute("type"),i!=null?w==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+K(i)):n.value!==""+K(i)&&(n.value=""+K(i)):w!=="submit"&&w!=="reset"||n.removeAttribute("value"),i!=null?Vu(n,w,K(i)):r!=null?Vu(n,w,K(r)):l!=null&&n.removeAttribute("value"),h==null&&p!=null&&(n.defaultChecked=!!p),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+K(C):n.removeAttribute("name")}function Up(n,i,r,l,h,p,w,C){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),i!=null||r!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;r=r!=null?""+K(r):"",i=i!=null?""+K(i):r,C||i===n.value||(n.value=i),n.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=C?n.checked:!!l,n.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.name=w)}function Vu(n,i,r){i==="number"&&Us(n.ownerDocument)===n||n.defaultValue===""+r||(n.defaultValue=""+r)}function ja(n,i,r,l){if(n=n.options,i){i={};for(var h=0;h<r.length;h++)i["$"+r[h]]=!0;for(r=0;r<n.length;r++)h=i.hasOwnProperty("$"+n[r].value),n[r].selected!==h&&(n[r].selected=h),h&&l&&(n[r].defaultSelected=!0)}else{for(r=""+K(r),i=null,h=0;h<n.length;h++){if(n[h].value===r){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}i!==null||n[h].disabled||(i=n[h])}i!==null&&(i.selected=!0)}}function Vp(n,i,r){if(i!=null&&(i=""+K(i),i!==n.value&&(n.value=i),r==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=r!=null?""+K(r):""}function Hp(n,i,r,l){if(i==null){if(l!=null){if(r!=null)throw Error(a(92));if(he(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),i=r}r=K(i),n.defaultValue=r,l=n.textContent,l===r&&l!==""&&l!==null&&(n.value=l)}function Ma(n,i){if(i){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=i;return}}n.textContent=i}var r2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $p(n,i,r){var l=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,r):typeof r!="number"||r===0||r2.has(i)?i==="float"?n.cssFloat=r:n[i]=(""+r).trim():n[i]=r+"px"}function Gp(n,i,r){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&r[h]!==l&&$p(n,h,l)}else for(var p in i)i.hasOwnProperty(p)&&$p(n,p,i[p])}function Hu(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var o2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),l2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nl(n){return l2.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var $u=null;function Gu(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var _a=null,Ra=null;function Kp(n){var i=ye(n);if(i&&(n=i.stateNode)){var r=n[tt]||null;e:switch(n=i.stateNode,i.type){case"input":if(Uu(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+In(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var l=r[i];if(l!==n&&l.form===n.form){var h=l[tt]||null;if(!h)throw Error(a(90));Uu(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<r.length;i++)l=r[i],l.form===n.form&&Cs(l)}break e;case"textarea":Vp(n,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&ja(n,!!r.multiple,i,!1)}}}var Ku=!1;function Yp(n,i,r){if(Ku)return n(i,r);Ku=!0;try{var l=n(i);return l}finally{if(Ku=!1,(_a!==null||Ra!==null)&&(dc(),_a&&(i=_a,n=Ra,Ra=_a=null,Kp(i),n)))for(i=0;i<n.length;i++)Kp(n[i])}}function Br(n,i){var r=n.stateNode;if(r===null)return null;var l=r[tt]||null;if(l===null)return null;r=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(a(231,i,typeof r));return r}var Vs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yu=!1;if(Vs)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){Yu=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{Yu=!1}var fi=null,Fu=null,El=null;function Fp(){if(El)return El;var n,i=Fu,r=i.length,l,h="value"in fi?fi.value:fi.textContent,p=h.length;for(n=0;n<r&&i[n]===h[n];n++);var w=r-n;for(l=1;l<=w&&i[r-l]===h[p-l];l++);return El=h.slice(n,1<l?1-l:void 0)}function jl(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Ml(){return!0}function Qp(){return!1}function Mn(n){function i(r,l,h,p,w){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=p,this.target=w,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(r=n[C],this[C]=r?r(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ml:Qp,this.isPropagationStopped=Qp,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),i}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_l=Mn(Xi),Ur=y({},Xi,{view:0,detail:0}),c2=Mn(Ur),Qu,Xu,Vr,Rl=y({},Ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Vr&&(Vr&&n.type==="mousemove"?(Qu=n.screenX-Vr.screenX,Xu=n.screenY-Vr.screenY):Xu=Qu=0,Vr=n),Qu)},movementY:function(n){return"movementY"in n?n.movementY:Xu}}),Xp=Mn(Rl),u2=y({},Rl,{dataTransfer:0}),f2=Mn(u2),d2=y({},Ur,{relatedTarget:0}),Iu=Mn(d2),h2=y({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),m2=Mn(h2),p2=y({},Xi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),g2=Mn(p2),y2=y({},Xi,{data:0}),Ip=Mn(y2),v2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},x2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w2(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=x2[n])?!!i[n]:!1}function Zu(){return w2}var S2=y({},Ur,{key:function(n){if(n.key){var i=v2[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=jl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?b2[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zu,charCode:function(n){return n.type==="keypress"?jl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?jl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),C2=Mn(S2),k2=y({},Rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zp=Mn(k2),T2=y({},Ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zu}),A2=Mn(T2),N2=y({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),E2=Mn(N2),j2=y({},Rl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),M2=Mn(j2),_2=y({},Xi,{newState:0,oldState:0}),R2=Mn(_2),D2=[9,13,27,32],Wu=Vs&&"CompositionEvent"in window,Hr=null;Vs&&"documentMode"in document&&(Hr=document.documentMode);var L2=Vs&&"TextEvent"in window&&!Hr,Wp=Vs&&(!Wu||Hr&&8<Hr&&11>=Hr),Jp=" ",eg=!1;function tg(n,i){switch(n){case"keyup":return D2.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ng(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Da=!1;function O2(n,i){switch(n){case"compositionend":return ng(i);case"keypress":return i.which!==32?null:(eg=!0,Jp);case"textInput":return n=i.data,n===Jp&&eg?null:n;default:return null}}function P2(n,i){if(Da)return n==="compositionend"||!Wu&&tg(n,i)?(n=Fp(),El=Fu=fi=null,Da=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Wp&&i.locale!=="ko"?null:i.data;default:return null}}var z2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sg(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!z2[n.type]:i==="textarea"}function ig(n,i,r,l){_a?Ra?Ra.push(l):Ra=[l]:_a=l,i=vc(i,"onChange"),0<i.length&&(r=new _l("onChange","change",null,r,l),n.push({event:r,listeners:i}))}var $r=null,Gr=null;function B2(n){By(n,0)}function Dl(n){var i=Fi(n);if(Cs(i))return n}function ag(n,i){if(n==="change")return i}var rg=!1;if(Vs){var Ju;if(Vs){var ef="oninput"in document;if(!ef){var og=document.createElement("div");og.setAttribute("oninput","return;"),ef=typeof og.oninput=="function"}Ju=ef}else Ju=!1;rg=Ju&&(!document.documentMode||9<document.documentMode)}function lg(){$r&&($r.detachEvent("onpropertychange",cg),Gr=$r=null)}function cg(n){if(n.propertyName==="value"&&Dl(Gr)){var i=[];ig(i,Gr,n,Gu(n)),Yp(B2,i)}}function q2(n,i,r){n==="focusin"?(lg(),$r=i,Gr=r,$r.attachEvent("onpropertychange",cg)):n==="focusout"&&lg()}function U2(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Dl(Gr)}function V2(n,i){if(n==="click")return Dl(i)}function H2(n,i){if(n==="input"||n==="change")return Dl(i)}function $2(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var zn=typeof Object.is=="function"?Object.is:$2;function Kr(n,i){if(zn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var r=Object.keys(n),l=Object.keys(i);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!ce.call(i,h)||!zn(n[h],i[h]))return!1}return!0}function ug(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function fg(n,i){var r=ug(n);n=0;for(var l;r;){if(r.nodeType===3){if(l=n+r.textContent.length,n<=i&&l>=i)return{node:r,offset:i-n};n=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ug(r)}}function dg(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?dg(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function hg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Us(n.document);i instanceof n.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)n=i.contentWindow;else break;i=Us(n.document)}return i}function tf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var G2=Vs&&"documentMode"in document&&11>=document.documentMode,La=null,nf=null,Yr=null,sf=!1;function mg(n,i,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;sf||La==null||La!==Us(l)||(l=La,"selectionStart"in l&&tf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yr&&Kr(Yr,l)||(Yr=l,l=vc(nf,"onSelect"),0<l.length&&(i=new _l("onSelect","select",null,i,r),n.push({event:i,listeners:l}),i.target=La)))}function Ii(n,i){var r={};return r[n.toLowerCase()]=i.toLowerCase(),r["Webkit"+n]="webkit"+i,r["Moz"+n]="moz"+i,r}var Oa={animationend:Ii("Animation","AnimationEnd"),animationiteration:Ii("Animation","AnimationIteration"),animationstart:Ii("Animation","AnimationStart"),transitionrun:Ii("Transition","TransitionRun"),transitionstart:Ii("Transition","TransitionStart"),transitioncancel:Ii("Transition","TransitionCancel"),transitionend:Ii("Transition","TransitionEnd")},af={},pg={};Vs&&(pg=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Zi(n){if(af[n])return af[n];if(!Oa[n])return n;var i=Oa[n],r;for(r in i)if(i.hasOwnProperty(r)&&r in pg)return af[n]=i[r];return n}var gg=Zi("animationend"),yg=Zi("animationiteration"),vg=Zi("animationstart"),K2=Zi("transitionrun"),Y2=Zi("transitionstart"),F2=Zi("transitioncancel"),bg=Zi("transitionend"),xg=new Map,rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rf.push("scrollEnd");function us(n,i){xg.set(n,i),Bs(i,[n])}var wg=new WeakMap;function Zn(n,i){if(typeof n=="object"&&n!==null){var r=wg.get(n);return r!==void 0?r:(i={value:n,source:i,stack:Q(i)},wg.set(n,i),i)}return{value:n,source:i,stack:Q(i)}}var Wn=[],Pa=0,of=0;function Ll(){for(var n=Pa,i=of=Pa=0;i<n;){var r=Wn[i];Wn[i++]=null;var l=Wn[i];Wn[i++]=null;var h=Wn[i];Wn[i++]=null;var p=Wn[i];if(Wn[i++]=null,l!==null&&h!==null){var w=l.pending;w===null?h.next=h:(h.next=w.next,w.next=h),l.pending=h}p!==0&&Sg(r,h,p)}}function Ol(n,i,r,l){Wn[Pa++]=n,Wn[Pa++]=i,Wn[Pa++]=r,Wn[Pa++]=l,of|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function lf(n,i,r,l){return Ol(n,i,r,l),Pl(n)}function za(n,i){return Ol(n,null,null,i),Pl(n)}function Sg(n,i,r){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r);for(var h=!1,p=n.return;p!==null;)p.childLanes|=r,l=p.alternate,l!==null&&(l.childLanes|=r),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(h=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,h&&i!==null&&(h=31-Tt(r),n=p.hiddenUpdates,l=n[h],l===null?n[h]=[i]:l.push(i),i.lane=r|536870912),p):null}function Pl(n){if(50<vo)throw vo=0,md=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Ba={};function Q2(n,i,r,l){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(n,i,r,l){return new Q2(n,i,r,l)}function cf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Hs(n,i){var r=n.alternate;return r===null?(r=Bn(n.tag,i,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=i,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&65011712,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,i=n.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r.refCleanup=n.refCleanup,r}function Cg(n,i){n.flags&=65011714;var r=n.alternate;return r===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=r.childLanes,n.lanes=r.lanes,n.child=r.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=r.memoizedProps,n.memoizedState=r.memoizedState,n.updateQueue=r.updateQueue,n.type=r.type,i=r.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function zl(n,i,r,l,h,p){var w=0;if(l=n,typeof n=="function")cf(n)&&(w=1);else if(typeof n=="string")w=IC(n,r,oe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case ee:return n=Bn(31,r,i,h),n.elementType=ee,n.lanes=p,n;case T:return Wi(r.children,h,p,i);case k:w=8,h|=24;break;case E:return n=Bn(12,r,i,h|2),n.elementType=E,n.lanes=p,n;case D:return n=Bn(13,r,i,h),n.elementType=D,n.lanes=p,n;case F:return n=Bn(19,r,i,h),n.elementType=F,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case A:case _:w=10;break e;case N:w=9;break e;case H:w=11;break e;case I:w=14;break e;case O:w=16,l=null;break e}w=29,r=Error(a(130,n===null?"null":typeof n,"")),l=null}return i=Bn(w,r,i,h),i.elementType=n,i.type=l,i.lanes=p,i}function Wi(n,i,r,l){return n=Bn(7,n,l,i),n.lanes=r,n}function uf(n,i,r){return n=Bn(6,n,null,i),n.lanes=r,n}function ff(n,i,r){return i=Bn(4,n.children!==null?n.children:[],n.key,i),i.lanes=r,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var qa=[],Ua=0,Bl=null,ql=0,Jn=[],es=0,Ji=null,$s=1,Gs="";function ea(n,i){qa[Ua++]=ql,qa[Ua++]=Bl,Bl=n,ql=i}function kg(n,i,r){Jn[es++]=$s,Jn[es++]=Gs,Jn[es++]=Ji,Ji=n;var l=$s;n=Gs;var h=32-Tt(l)-1;l&=~(1<<h),r+=1;var p=32-Tt(i)+h;if(30<p){var w=h-h%5;p=(l&(1<<w)-1).toString(32),l>>=w,h-=w,$s=1<<32-Tt(i)+h|r<<h|l,Gs=p+n}else $s=1<<p|r<<h|l,Gs=n}function df(n){n.return!==null&&(ea(n,1),kg(n,1,0))}function hf(n){for(;n===Bl;)Bl=qa[--Ua],qa[Ua]=null,ql=qa[--Ua],qa[Ua]=null;for(;n===Ji;)Ji=Jn[--es],Jn[es]=null,Gs=Jn[--es],Jn[es]=null,$s=Jn[--es],Jn[es]=null}var Tn=null,Mt=null,We=!1,ta=null,ks=!1,mf=Error(a(519));function na(n){var i=Error(a(418,""));throw Xr(Zn(i,n)),mf}function Tg(n){var i=n.stateNode,r=n.type,l=n.memoizedProps;switch(i[Be]=n,i[tt]=l,r){case"dialog":Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":case"embed":Ue("load",i);break;case"video":case"audio":for(r=0;r<xo.length;r++)Ue(xo[r],i);break;case"source":Ue("error",i);break;case"img":case"image":case"link":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"input":Ue("invalid",i),Up(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ke(i);break;case"select":Ue("invalid",i);break;case"textarea":Ue("invalid",i),Hp(i,l.value,l.defaultValue,l.children),Ke(i)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||l.suppressHydrationWarning===!0||Hy(i.textContent,r)?(l.popover!=null&&(Ue("beforetoggle",i),Ue("toggle",i)),l.onScroll!=null&&Ue("scroll",i),l.onScrollEnd!=null&&Ue("scrollend",i),l.onClick!=null&&(i.onclick=bc),i=!0):i=!1,i||na(n)}function Ag(n){for(Tn=n.return;Tn;)switch(Tn.tag){case 5:case 13:ks=!1;return;case 27:case 3:ks=!0;return;default:Tn=Tn.return}}function Fr(n){if(n!==Tn)return!1;if(!We)return Ag(n),We=!0,!1;var i=n.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=n.type,r=!(r!=="form"&&r!=="button")||Md(n.type,n.memoizedProps)),r=!r),r&&Mt&&na(n),Ag(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(r=n.data,r==="/$"){if(i===0){Mt=ds(n.nextSibling);break e}i--}else r!=="$"&&r!=="$!"&&r!=="$?"||i++;n=n.nextSibling}Mt=null}}else i===27?(i=Mt,Ni(n.type)?(n=Ld,Ld=null,Mt=n):Mt=i):Mt=Tn?ds(n.stateNode.nextSibling):null;return!0}function Qr(){Mt=Tn=null,We=!1}function Ng(){var n=ta;return n!==null&&(Dn===null?Dn=n:Dn.push.apply(Dn,n),ta=null),n}function Xr(n){ta===null?ta=[n]:ta.push(n)}var pf=Y(null),sa=null,Ks=null;function di(n,i,r){te(pf,i._currentValue),i._currentValue=r}function Ys(n){n._currentValue=pf.current,se(pf)}function gf(n,i,r){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===r)break;n=n.return}}function yf(n,i,r,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var p=h.dependencies;if(p!==null){var w=h.child;p=p.firstContext;e:for(;p!==null;){var C=p;p=h;for(var j=0;j<i.length;j++)if(C.context===i[j]){p.lanes|=r,C=p.alternate,C!==null&&(C.lanes|=r),gf(p.return,r,n),l||(w=null);break e}p=C.next}}else if(h.tag===18){if(w=h.return,w===null)throw Error(a(341));w.lanes|=r,p=w.alternate,p!==null&&(p.lanes|=r),gf(w,r,n),w=null}else w=h.child;if(w!==null)w.return=h;else for(w=h;w!==null;){if(w===n){w=null;break}if(h=w.sibling,h!==null){h.return=w.return,w=h;break}w=w.return}h=w}}function Ir(n,i,r,l){n=null;for(var h=i,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var w=h.alternate;if(w===null)throw Error(a(387));if(w=w.memoizedProps,w!==null){var C=h.type;zn(h.pendingProps.value,w.value)||(n!==null?n.push(C):n=[C])}}else if(h===ke.current){if(w=h.alternate,w===null)throw Error(a(387));w.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(Ao):n=[Ao])}h=h.return}n!==null&&yf(i,n,r,l),i.flags|=262144}function Ul(n){for(n=n.firstContext;n!==null;){if(!zn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ia(n){sa=n,Ks=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function yn(n){return Eg(sa,n)}function Vl(n,i){return sa===null&&ia(n),Eg(n,i)}function Eg(n,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},Ks===null){if(n===null)throw Error(a(308));Ks=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Ks=Ks.next=i;return r}var X2=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(r,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(r){return r()})}},I2=e.unstable_scheduleCallback,Z2=e.unstable_NormalPriority,Ft={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vf(){return{controller:new X2,data:new Map,refCount:0}}function Zr(n){n.refCount--,n.refCount===0&&I2(Z2,function(){n.controller.abort()})}var Wr=null,bf=0,Va=0,Ha=null;function W2(n,i){if(Wr===null){var r=Wr=[];bf=0,Va=wd(),Ha={status:"pending",value:void 0,then:function(l){r.push(l)}}}return bf++,i.then(jg,jg),i}function jg(){if(--bf===0&&Wr!==null){Ha!==null&&(Ha.status="fulfilled");var n=Wr;Wr=null,Va=0,Ha=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function J2(n,i){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<r.length;h++)(0,r[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Mg=B.S;B.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&W2(n,i),Mg!==null&&Mg(n,i)};var aa=Y(null);function xf(){var n=aa.current;return n!==null?n:pt.pooledCache}function Hl(n,i){i===null?te(aa,aa.current):te(aa,i.pool)}function _g(){var n=xf();return n===null?null:{parent:Ft._currentValue,pool:n}}var Jr=Error(a(460)),Rg=Error(a(474)),$l=Error(a(542)),wf={then:function(){}};function Dg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Gl(){}function Lg(n,i,r){switch(r=n[r],r===void 0?n.push(i):r!==i&&(i.then(Gl,Gl),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Pg(n),n;default:if(typeof i.status=="string")i.then(Gl,Gl);else{if(n=pt,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Pg(n),n}throw eo=i,Jr}}var eo=null;function Og(){if(eo===null)throw Error(a(459));var n=eo;return eo=null,n}function Pg(n){if(n===Jr||n===$l)throw Error(a(483))}var hi=!1;function Sf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cf(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function mi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function pi(n,i,r){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(nt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Pl(n),Sg(n,null,r),i}return Ol(n,l,i,r),Pl(n)}function to(n,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,r|=l,i.lanes=r,On(n,r)}}function kf(n,i){var r=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,p=null;if(r=r.firstBaseUpdate,r!==null){do{var w={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};p===null?h=p=w:p=p.next=w,r=r.next}while(r!==null);p===null?h=p=i:p=p.next=i}else h=p=i;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=i:n.next=i,r.lastBaseUpdate=i}var Tf=!1;function no(){if(Tf){var n=Ha;if(n!==null)throw n}}function so(n,i,r,l){Tf=!1;var h=n.updateQueue;hi=!1;var p=h.firstBaseUpdate,w=h.lastBaseUpdate,C=h.shared.pending;if(C!==null){h.shared.pending=null;var j=C,q=j.next;j.next=null,w===null?p=q:w.next=q,w=j;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,C=Z.lastBaseUpdate,C!==w&&(C===null?Z.firstBaseUpdate=q:C.next=q,Z.lastBaseUpdate=j))}if(p!==null){var J=h.baseState;w=0,Z=q=j=null,C=p;do{var U=C.lane&-536870913,$=U!==C.lane;if($?(Ye&U)===U:(l&U)===U){U!==0&&U===Va&&(Tf=!0),Z!==null&&(Z=Z.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Ee=n,Te=C;U=i;var lt=r;switch(Te.tag){case 1:if(Ee=Te.payload,typeof Ee=="function"){J=Ee.call(lt,J,U);break e}J=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Te.payload,U=typeof Ee=="function"?Ee.call(lt,J,U):Ee,U==null)break e;J=y({},J,U);break e;case 2:hi=!0}}U=C.callback,U!==null&&(n.flags|=64,$&&(n.flags|=8192),$=h.callbacks,$===null?h.callbacks=[U]:$.push(U))}else $={lane:U,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Z===null?(q=Z=$,j=J):Z=Z.next=$,w|=U;if(C=C.next,C===null){if(C=h.shared.pending,C===null)break;$=C,C=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);Z===null&&(j=J),h.baseState=j,h.firstBaseUpdate=q,h.lastBaseUpdate=Z,p===null&&(h.shared.lanes=0),Ci|=w,n.lanes=w,n.memoizedState=J}}function zg(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function Bg(n,i){var r=n.callbacks;if(r!==null)for(n.callbacks=null,n=0;n<r.length;n++)zg(r[n],i)}var $a=Y(null),Kl=Y(0);function qg(n,i){n=Js,te(Kl,n),te($a,i),Js=n|i.baseLanes}function Af(){te(Kl,Js),te($a,$a.current)}function Nf(){Js=Kl.current,se($a),se(Kl)}var gi=0,Oe=null,rt=null,Ut=null,Yl=!1,Ga=!1,ra=!1,Fl=0,io=0,Ka=null,eC=0;function Ot(){throw Error(a(321))}function Ef(n,i){if(i===null)return!1;for(var r=0;r<i.length&&r<n.length;r++)if(!zn(n[r],i[r]))return!1;return!0}function jf(n,i,r,l,h,p){return gi=p,Oe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,B.H=n===null||n.memoizedState===null?S0:C0,ra=!1,p=r(l,h),ra=!1,Ga&&(p=Vg(i,r,l,h)),Ug(n),p}function Ug(n){B.H=Jl;var i=rt!==null&&rt.next!==null;if(gi=0,Ut=rt=Oe=null,Yl=!1,io=0,Ka=null,i)throw Error(a(300));n===null||tn||(n=n.dependencies,n!==null&&Ul(n)&&(tn=!0))}function Vg(n,i,r,l){Oe=n;var h=0;do{if(Ga&&(Ka=null),io=0,Ga=!1,25<=h)throw Error(a(301));if(h+=1,Ut=rt=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}B.H=oC,p=i(r,l)}while(Ga);return p}function tC(){var n=B.H,i=n.useState()[0];return i=typeof i.then=="function"?ao(i):i,n=n.useState()[0],(rt!==null?rt.memoizedState:null)!==n&&(Oe.flags|=1024),i}function Mf(){var n=Fl!==0;return Fl=0,n}function _f(n,i,r){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~r}function Rf(n){if(Yl){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Yl=!1}gi=0,Ut=rt=Oe=null,Ga=!1,io=Fl=0,Ka=null}function _n(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Oe.memoizedState=Ut=n:Ut=Ut.next=n,Ut}function Vt(){if(rt===null){var n=Oe.alternate;n=n!==null?n.memoizedState:null}else n=rt.next;var i=Ut===null?Oe.memoizedState:Ut.next;if(i!==null)Ut=i,rt=n;else{if(n===null)throw Oe.alternate===null?Error(a(467)):Error(a(310));rt=n,n={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Ut===null?Oe.memoizedState=Ut=n:Ut=Ut.next=n}return Ut}function Df(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ao(n){var i=io;return io+=1,Ka===null&&(Ka=[]),n=Lg(Ka,n,i),i=Oe,(Ut===null?i.memoizedState:Ut.next)===null&&(i=i.alternate,B.H=i===null||i.memoizedState===null?S0:C0),n}function Ql(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ao(n);if(n.$$typeof===_)return yn(n)}throw Error(a(438,String(n)))}function Lf(n){var i=null,r=Oe.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=Df(),Oe.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(n),l=0;l<n;l++)r[l]=ae;return i.index++,r}function Fs(n,i){return typeof i=="function"?i(n):i}function Xl(n){var i=Vt();return Of(i,rt,n)}function Of(n,i,r){var l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=n.baseQueue,p=l.pending;if(p!==null){if(h!==null){var w=h.next;h.next=p.next,p.next=w}i.baseQueue=h=p,l.pending=null}if(p=n.baseState,h===null)n.memoizedState=p;else{i=h.next;var C=w=null,j=null,q=i,Z=!1;do{var J=q.lane&-536870913;if(J!==q.lane?(Ye&J)===J:(gi&J)===J){var U=q.revertLane;if(U===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),J===Va&&(Z=!0);else if((gi&U)===U){q=q.next,U===Va&&(Z=!0);continue}else J={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},j===null?(C=j=J,w=p):j=j.next=J,Oe.lanes|=U,Ci|=U;J=q.action,ra&&r(p,J),p=q.hasEagerState?q.eagerState:r(p,J)}else U={lane:J,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},j===null?(C=j=U,w=p):j=j.next=U,Oe.lanes|=J,Ci|=J;q=q.next}while(q!==null&&q!==i);if(j===null?w=p:j.next=C,!zn(p,n.memoizedState)&&(tn=!0,Z&&(r=Ha,r!==null)))throw r;n.memoizedState=p,n.baseState=w,n.baseQueue=j,l.lastRenderedState=p}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Pf(n){var i=Vt(),r=i.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=n;var l=r.dispatch,h=r.pending,p=i.memoizedState;if(h!==null){r.pending=null;var w=h=h.next;do p=n(p,w.action),w=w.next;while(w!==h);zn(p,i.memoizedState)||(tn=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),r.lastRenderedState=p}return[p,l]}function Hg(n,i,r){var l=Oe,h=Vt(),p=We;if(p){if(r===void 0)throw Error(a(407));r=r()}else r=i();var w=!zn((rt||h).memoizedState,r);w&&(h.memoizedState=r,tn=!0),h=h.queue;var C=Kg.bind(null,l,h,n);if(ro(2048,8,C,[n]),h.getSnapshot!==i||w||Ut!==null&&Ut.memoizedState.tag&1){if(l.flags|=2048,Ya(9,Il(),Gg.bind(null,l,h,r,i),null),pt===null)throw Error(a(349));p||(gi&124)!==0||$g(l,i,r)}return r}function $g(n,i,r){n.flags|=16384,n={getSnapshot:i,value:r},i=Oe.updateQueue,i===null?(i=Df(),Oe.updateQueue=i,i.stores=[n]):(r=i.stores,r===null?i.stores=[n]:r.push(n))}function Gg(n,i,r,l){i.value=r,i.getSnapshot=l,Yg(i)&&Fg(n)}function Kg(n,i,r){return r(function(){Yg(i)&&Fg(n)})}function Yg(n){var i=n.getSnapshot;n=n.value;try{var r=i();return!zn(n,r)}catch{return!0}}function Fg(n){var i=za(n,2);i!==null&&$n(i,n,2)}function zf(n){var i=_n();if(typeof n=="function"){var r=n;if(n=r(),ra){Bt(!0);try{r()}finally{Bt(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:n},i}function Qg(n,i,r,l){return n.baseState=r,Of(n,rt,typeof l=="function"?l:Fs)}function nC(n,i,r,l,h){if(Wl(n))throw Error(a(485));if(n=i.action,n!==null){var p={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){p.listeners.push(w)}};B.T!==null?r(!0):p.isTransition=!1,l(p),r=i.pending,r===null?(p.next=i.pending=p,Xg(i,p)):(p.next=r.next,i.pending=r.next=p)}}function Xg(n,i){var r=i.action,l=i.payload,h=n.state;if(i.isTransition){var p=B.T,w={};B.T=w;try{var C=r(h,l),j=B.S;j!==null&&j(w,C),Ig(n,i,C)}catch(q){Bf(n,i,q)}finally{B.T=p}}else try{p=r(h,l),Ig(n,i,p)}catch(q){Bf(n,i,q)}}function Ig(n,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Zg(n,i,l)},function(l){return Bf(n,i,l)}):Zg(n,i,r)}function Zg(n,i,r){i.status="fulfilled",i.value=r,Wg(i),n.state=r,i=n.pending,i!==null&&(r=i.next,r===i?n.pending=null:(r=r.next,i.next=r,Xg(n,r)))}function Bf(n,i,r){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=r,Wg(i),i=i.next;while(i!==l)}n.action=null}function Wg(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Jg(n,i){return i}function e0(n,i){if(We){var r=pt.formState;if(r!==null){e:{var l=Oe;if(We){if(Mt){t:{for(var h=Mt,p=ks;h.nodeType!==8;){if(!p){h=null;break t}if(h=ds(h.nextSibling),h===null){h=null;break t}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){Mt=ds(h.nextSibling),l=h.data==="F!";break e}}na(l)}l=!1}l&&(i=r[0])}}return r=_n(),r.memoizedState=r.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jg,lastRenderedState:i},r.queue=l,r=b0.bind(null,Oe,l),l.dispatch=r,l=zf(!1),p=$f.bind(null,Oe,!1,l.queue),l=_n(),h={state:i,dispatch:null,action:n,pending:null},l.queue=h,r=nC.bind(null,Oe,h,p,r),h.dispatch=r,l.memoizedState=n,[i,r,!1]}function t0(n){var i=Vt();return n0(i,rt,n)}function n0(n,i,r){if(i=Of(n,i,Jg)[0],n=Xl(Fs)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ao(i)}catch(w){throw w===Jr?$l:w}else l=i;i=Vt();var h=i.queue,p=h.dispatch;return r!==i.memoizedState&&(Oe.flags|=2048,Ya(9,Il(),sC.bind(null,h,r),null)),[l,p,n]}function sC(n,i){n.action=i}function s0(n){var i=Vt(),r=rt;if(r!==null)return n0(i,r,n);Vt(),i=i.memoizedState,r=Vt();var l=r.queue.dispatch;return r.memoizedState=n,[i,l,!1]}function Ya(n,i,r,l){return n={tag:n,create:r,deps:l,inst:i,next:null},i=Oe.updateQueue,i===null&&(i=Df(),Oe.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=n.next=n:(l=r.next,r.next=n,n.next=l,i.lastEffect=n),n}function Il(){return{destroy:void 0,resource:void 0}}function i0(){return Vt().memoizedState}function Zl(n,i,r,l){var h=_n();l=l===void 0?null:l,Oe.flags|=n,h.memoizedState=Ya(1|i,Il(),r,l)}function ro(n,i,r,l){var h=Vt();l=l===void 0?null:l;var p=h.memoizedState.inst;rt!==null&&l!==null&&Ef(l,rt.memoizedState.deps)?h.memoizedState=Ya(i,p,r,l):(Oe.flags|=n,h.memoizedState=Ya(1|i,p,r,l))}function a0(n,i){Zl(8390656,8,n,i)}function r0(n,i){ro(2048,8,n,i)}function o0(n,i){return ro(4,2,n,i)}function l0(n,i){return ro(4,4,n,i)}function c0(n,i){if(typeof i=="function"){n=n();var r=i(n);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function u0(n,i,r){r=r!=null?r.concat([n]):null,ro(4,4,c0.bind(null,i,n),r)}function qf(){}function f0(n,i){var r=Vt();i=i===void 0?null:i;var l=r.memoizedState;return i!==null&&Ef(i,l[1])?l[0]:(r.memoizedState=[n,i],n)}function d0(n,i){var r=Vt();i=i===void 0?null:i;var l=r.memoizedState;if(i!==null&&Ef(i,l[1]))return l[0];if(l=n(),ra){Bt(!0);try{n()}finally{Bt(!1)}}return r.memoizedState=[l,i],l}function Uf(n,i,r){return r===void 0||(gi&1073741824)!==0?n.memoizedState=i:(n.memoizedState=r,n=py(),Oe.lanes|=n,Ci|=n,r)}function h0(n,i,r,l){return zn(r,i)?r:$a.current!==null?(n=Uf(n,r,l),zn(n,i)||(tn=!0),n):(gi&42)===0?(tn=!0,n.memoizedState=r):(n=py(),Oe.lanes|=n,Ci|=n,i)}function m0(n,i,r,l,h){var p=V.p;V.p=p!==0&&8>p?p:8;var w=B.T,C={};B.T=C,$f(n,!1,i,r);try{var j=h(),q=B.S;if(q!==null&&q(C,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var Z=J2(j,l);oo(n,i,Z,Hn(n))}else oo(n,i,l,Hn(n))}catch(J){oo(n,i,{then:function(){},status:"rejected",reason:J},Hn())}finally{V.p=p,B.T=w}}function iC(){}function Vf(n,i,r,l){if(n.tag!==5)throw Error(a(476));var h=p0(n).queue;m0(n,h,i,X,r===null?iC:function(){return g0(n),r(l)})}function p0(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:X},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:r},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function g0(n){var i=p0(n).next.queue;oo(n,i,{},Hn())}function Hf(){return yn(Ao)}function y0(){return Vt().memoizedState}function v0(){return Vt().memoizedState}function aC(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var r=Hn();n=mi(r);var l=pi(i,n,r);l!==null&&($n(l,i,r),to(l,i,r)),i={cache:vf()},n.payload=i;return}i=i.return}}function rC(n,i,r){var l=Hn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Wl(n)?x0(i,r):(r=lf(n,i,r,l),r!==null&&($n(r,n,l),w0(r,i,l)))}function b0(n,i,r){var l=Hn();oo(n,i,r,l)}function oo(n,i,r,l){var h={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Wl(n))x0(i,h);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var w=i.lastRenderedState,C=p(w,r);if(h.hasEagerState=!0,h.eagerState=C,zn(C,w))return Ol(n,i,h,0),pt===null&&Ll(),!1}catch{}finally{}if(r=lf(n,i,h,l),r!==null)return $n(r,n,l),w0(r,i,l),!0}return!1}function $f(n,i,r,l){if(l={lane:2,revertLane:wd(),action:l,hasEagerState:!1,eagerState:null,next:null},Wl(n)){if(i)throw Error(a(479))}else i=lf(n,r,l,2),i!==null&&$n(i,n,2)}function Wl(n){var i=n.alternate;return n===Oe||i!==null&&i===Oe}function x0(n,i){Ga=Yl=!0;var r=n.pending;r===null?i.next=i:(i.next=r.next,r.next=i),n.pending=i}function w0(n,i,r){if((r&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,r|=l,i.lanes=r,On(n,r)}}var Jl={readContext:yn,use:Ql,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot},S0={readContext:yn,use:Ql,useCallback:function(n,i){return _n().memoizedState=[n,i===void 0?null:i],n},useContext:yn,useEffect:a0,useImperativeHandle:function(n,i,r){r=r!=null?r.concat([n]):null,Zl(4194308,4,c0.bind(null,i,n),r)},useLayoutEffect:function(n,i){return Zl(4194308,4,n,i)},useInsertionEffect:function(n,i){Zl(4,2,n,i)},useMemo:function(n,i){var r=_n();i=i===void 0?null:i;var l=n();if(ra){Bt(!0);try{n()}finally{Bt(!1)}}return r.memoizedState=[l,i],l},useReducer:function(n,i,r){var l=_n();if(r!==void 0){var h=r(i);if(ra){Bt(!0);try{r(i)}finally{Bt(!1)}}}else h=i;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=rC.bind(null,Oe,n),[l.memoizedState,n]},useRef:function(n){var i=_n();return n={current:n},i.memoizedState=n},useState:function(n){n=zf(n);var i=n.queue,r=b0.bind(null,Oe,i);return i.dispatch=r,[n.memoizedState,r]},useDebugValue:qf,useDeferredValue:function(n,i){var r=_n();return Uf(r,n,i)},useTransition:function(){var n=zf(!1);return n=m0.bind(null,Oe,n.queue,!0,!1),_n().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,r){var l=Oe,h=_n();if(We){if(r===void 0)throw Error(a(407));r=r()}else{if(r=i(),pt===null)throw Error(a(349));(Ye&124)!==0||$g(l,i,r)}h.memoizedState=r;var p={value:r,getSnapshot:i};return h.queue=p,a0(Kg.bind(null,l,p,n),[n]),l.flags|=2048,Ya(9,Il(),Gg.bind(null,l,p,r,i),null),r},useId:function(){var n=_n(),i=pt.identifierPrefix;if(We){var r=Gs,l=$s;r=(l&~(1<<32-Tt(l)-1)).toString(32)+r,i=""+i+"R"+r,r=Fl++,0<r&&(i+="H"+r.toString(32)),i+=""}else r=eC++,i=""+i+"r"+r.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:Hf,useFormState:e0,useActionState:e0,useOptimistic:function(n){var i=_n();i.memoizedState=i.baseState=n;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=$f.bind(null,Oe,!0,r),r.dispatch=i,[n,i]},useMemoCache:Lf,useCacheRefresh:function(){return _n().memoizedState=aC.bind(null,Oe)}},C0={readContext:yn,use:Ql,useCallback:f0,useContext:yn,useEffect:r0,useImperativeHandle:u0,useInsertionEffect:o0,useLayoutEffect:l0,useMemo:d0,useReducer:Xl,useRef:i0,useState:function(){return Xl(Fs)},useDebugValue:qf,useDeferredValue:function(n,i){var r=Vt();return h0(r,rt.memoizedState,n,i)},useTransition:function(){var n=Xl(Fs)[0],i=Vt().memoizedState;return[typeof n=="boolean"?n:ao(n),i]},useSyncExternalStore:Hg,useId:y0,useHostTransitionStatus:Hf,useFormState:t0,useActionState:t0,useOptimistic:function(n,i){var r=Vt();return Qg(r,rt,n,i)},useMemoCache:Lf,useCacheRefresh:v0},oC={readContext:yn,use:Ql,useCallback:f0,useContext:yn,useEffect:r0,useImperativeHandle:u0,useInsertionEffect:o0,useLayoutEffect:l0,useMemo:d0,useReducer:Pf,useRef:i0,useState:function(){return Pf(Fs)},useDebugValue:qf,useDeferredValue:function(n,i){var r=Vt();return rt===null?Uf(r,n,i):h0(r,rt.memoizedState,n,i)},useTransition:function(){var n=Pf(Fs)[0],i=Vt().memoizedState;return[typeof n=="boolean"?n:ao(n),i]},useSyncExternalStore:Hg,useId:y0,useHostTransitionStatus:Hf,useFormState:s0,useActionState:s0,useOptimistic:function(n,i){var r=Vt();return rt!==null?Qg(r,rt,n,i):(r.baseState=n,[n,r.queue.dispatch])},useMemoCache:Lf,useCacheRefresh:v0},Fa=null,lo=0;function ec(n){var i=lo;return lo+=1,Fa===null&&(Fa=[]),Lg(Fa,n,i)}function co(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function tc(n,i){throw i.$$typeof===v?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function k0(n){var i=n._init;return i(n._payload)}function T0(n){function i(L,R){if(n){var z=L.deletions;z===null?(L.deletions=[R],L.flags|=16):z.push(R)}}function r(L,R){if(!n)return null;for(;R!==null;)i(L,R),R=R.sibling;return null}function l(L){for(var R=new Map;L!==null;)L.key!==null?R.set(L.key,L):R.set(L.index,L),L=L.sibling;return R}function h(L,R){return L=Hs(L,R),L.index=0,L.sibling=null,L}function p(L,R,z){return L.index=z,n?(z=L.alternate,z!==null?(z=z.index,z<R?(L.flags|=67108866,R):z):(L.flags|=67108866,R)):(L.flags|=1048576,R)}function w(L){return n&&L.alternate===null&&(L.flags|=67108866),L}function C(L,R,z,W){return R===null||R.tag!==6?(R=uf(z,L.mode,W),R.return=L,R):(R=h(R,z),R.return=L,R)}function j(L,R,z,W){var me=z.type;return me===T?Z(L,R,z.props.children,W,z.key):R!==null&&(R.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===O&&k0(me)===R.type)?(R=h(R,z.props),co(R,z),R.return=L,R):(R=zl(z.type,z.key,z.props,null,L.mode,W),co(R,z),R.return=L,R)}function q(L,R,z,W){return R===null||R.tag!==4||R.stateNode.containerInfo!==z.containerInfo||R.stateNode.implementation!==z.implementation?(R=ff(z,L.mode,W),R.return=L,R):(R=h(R,z.children||[]),R.return=L,R)}function Z(L,R,z,W,me){return R===null||R.tag!==7?(R=Wi(z,L.mode,W,me),R.return=L,R):(R=h(R,z),R.return=L,R)}function J(L,R,z){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=uf(""+R,L.mode,z),R.return=L,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case x:return z=zl(R.type,R.key,R.props,null,L.mode,z),co(z,R),z.return=L,z;case S:return R=ff(R,L.mode,z),R.return=L,R;case O:var W=R._init;return R=W(R._payload),J(L,R,z)}if(he(R)||fe(R))return R=Wi(R,L.mode,z,null),R.return=L,R;if(typeof R.then=="function")return J(L,ec(R),z);if(R.$$typeof===_)return J(L,Vl(L,R),z);tc(L,R)}return null}function U(L,R,z,W){var me=R!==null?R.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return me!==null?null:C(L,R,""+z,W);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case x:return z.key===me?j(L,R,z,W):null;case S:return z.key===me?q(L,R,z,W):null;case O:return me=z._init,z=me(z._payload),U(L,R,z,W)}if(he(z)||fe(z))return me!==null?null:Z(L,R,z,W,null);if(typeof z.then=="function")return U(L,R,ec(z),W);if(z.$$typeof===_)return U(L,R,Vl(L,z),W);tc(L,z)}return null}function $(L,R,z,W,me){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return L=L.get(z)||null,C(R,L,""+W,me);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case x:return L=L.get(W.key===null?z:W.key)||null,j(R,L,W,me);case S:return L=L.get(W.key===null?z:W.key)||null,q(R,L,W,me);case O:var ze=W._init;return W=ze(W._payload),$(L,R,z,W,me)}if(he(W)||fe(W))return L=L.get(z)||null,Z(R,L,W,me,null);if(typeof W.then=="function")return $(L,R,z,ec(W),me);if(W.$$typeof===_)return $(L,R,z,Vl(R,W),me);tc(R,W)}return null}function Ee(L,R,z,W){for(var me=null,ze=null,xe=R,Ne=R=0,sn=null;xe!==null&&Ne<z.length;Ne++){xe.index>Ne?(sn=xe,xe=null):sn=xe.sibling;var Ie=U(L,xe,z[Ne],W);if(Ie===null){xe===null&&(xe=sn);break}n&&xe&&Ie.alternate===null&&i(L,xe),R=p(Ie,R,Ne),ze===null?me=Ie:ze.sibling=Ie,ze=Ie,xe=sn}if(Ne===z.length)return r(L,xe),We&&ea(L,Ne),me;if(xe===null){for(;Ne<z.length;Ne++)xe=J(L,z[Ne],W),xe!==null&&(R=p(xe,R,Ne),ze===null?me=xe:ze.sibling=xe,ze=xe);return We&&ea(L,Ne),me}for(xe=l(xe);Ne<z.length;Ne++)sn=$(xe,L,Ne,z[Ne],W),sn!==null&&(n&&sn.alternate!==null&&xe.delete(sn.key===null?Ne:sn.key),R=p(sn,R,Ne),ze===null?me=sn:ze.sibling=sn,ze=sn);return n&&xe.forEach(function(Ri){return i(L,Ri)}),We&&ea(L,Ne),me}function Te(L,R,z,W){if(z==null)throw Error(a(151));for(var me=null,ze=null,xe=R,Ne=R=0,sn=null,Ie=z.next();xe!==null&&!Ie.done;Ne++,Ie=z.next()){xe.index>Ne?(sn=xe,xe=null):sn=xe.sibling;var Ri=U(L,xe,Ie.value,W);if(Ri===null){xe===null&&(xe=sn);break}n&&xe&&Ri.alternate===null&&i(L,xe),R=p(Ri,R,Ne),ze===null?me=Ri:ze.sibling=Ri,ze=Ri,xe=sn}if(Ie.done)return r(L,xe),We&&ea(L,Ne),me;if(xe===null){for(;!Ie.done;Ne++,Ie=z.next())Ie=J(L,Ie.value,W),Ie!==null&&(R=p(Ie,R,Ne),ze===null?me=Ie:ze.sibling=Ie,ze=Ie);return We&&ea(L,Ne),me}for(xe=l(xe);!Ie.done;Ne++,Ie=z.next())Ie=$(xe,L,Ne,Ie.value,W),Ie!==null&&(n&&Ie.alternate!==null&&xe.delete(Ie.key===null?Ne:Ie.key),R=p(Ie,R,Ne),ze===null?me=Ie:ze.sibling=Ie,ze=Ie);return n&&xe.forEach(function(l3){return i(L,l3)}),We&&ea(L,Ne),me}function lt(L,R,z,W){if(typeof z=="object"&&z!==null&&z.type===T&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case x:e:{for(var me=z.key;R!==null;){if(R.key===me){if(me=z.type,me===T){if(R.tag===7){r(L,R.sibling),W=h(R,z.props.children),W.return=L,L=W;break e}}else if(R.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===O&&k0(me)===R.type){r(L,R.sibling),W=h(R,z.props),co(W,z),W.return=L,L=W;break e}r(L,R);break}else i(L,R);R=R.sibling}z.type===T?(W=Wi(z.props.children,L.mode,W,z.key),W.return=L,L=W):(W=zl(z.type,z.key,z.props,null,L.mode,W),co(W,z),W.return=L,L=W)}return w(L);case S:e:{for(me=z.key;R!==null;){if(R.key===me)if(R.tag===4&&R.stateNode.containerInfo===z.containerInfo&&R.stateNode.implementation===z.implementation){r(L,R.sibling),W=h(R,z.children||[]),W.return=L,L=W;break e}else{r(L,R);break}else i(L,R);R=R.sibling}W=ff(z,L.mode,W),W.return=L,L=W}return w(L);case O:return me=z._init,z=me(z._payload),lt(L,R,z,W)}if(he(z))return Ee(L,R,z,W);if(fe(z)){if(me=fe(z),typeof me!="function")throw Error(a(150));return z=me.call(z),Te(L,R,z,W)}if(typeof z.then=="function")return lt(L,R,ec(z),W);if(z.$$typeof===_)return lt(L,R,Vl(L,z),W);tc(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,R!==null&&R.tag===6?(r(L,R.sibling),W=h(R,z),W.return=L,L=W):(r(L,R),W=uf(z,L.mode,W),W.return=L,L=W),w(L)):r(L,R)}return function(L,R,z,W){try{lo=0;var me=lt(L,R,z,W);return Fa=null,me}catch(xe){if(xe===Jr||xe===$l)throw xe;var ze=Bn(29,xe,null,L.mode);return ze.lanes=W,ze.return=L,ze}finally{}}}var Qa=T0(!0),A0=T0(!1),ts=Y(null),Ts=null;function yi(n){var i=n.alternate;te(Qt,Qt.current&1),te(ts,n),Ts===null&&(i===null||$a.current!==null||i.memoizedState!==null)&&(Ts=n)}function N0(n){if(n.tag===22){if(te(Qt,Qt.current),te(ts,n),Ts===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Ts=n)}}else vi()}function vi(){te(Qt,Qt.current),te(ts,ts.current)}function Qs(n){se(ts),Ts===n&&(Ts=null),se(Qt)}var Qt=Y(0);function nc(n){for(var i=n;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Dd(r)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Gf(n,i,r,l){i=n.memoizedState,r=r(l,i),r=r==null?i:y({},i,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var Kf={enqueueSetState:function(n,i,r){n=n._reactInternals;var l=Hn(),h=mi(l);h.payload=i,r!=null&&(h.callback=r),i=pi(n,h,l),i!==null&&($n(i,n,l),to(i,n,l))},enqueueReplaceState:function(n,i,r){n=n._reactInternals;var l=Hn(),h=mi(l);h.tag=1,h.payload=i,r!=null&&(h.callback=r),i=pi(n,h,l),i!==null&&($n(i,n,l),to(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var r=Hn(),l=mi(r);l.tag=2,i!=null&&(l.callback=i),i=pi(n,l,r),i!==null&&($n(i,n,r),to(i,n,r))}};function E0(n,i,r,l,h,p,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,p,w):i.prototype&&i.prototype.isPureReactComponent?!Kr(r,l)||!Kr(h,p):!0}function j0(n,i,r,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,l),i.state!==n&&Kf.enqueueReplaceState(i,i.state,null)}function oa(n,i){var r=i;if("ref"in i){r={};for(var l in i)l!=="ref"&&(r[l]=i[l])}if(n=n.defaultProps){r===i&&(r=y({},r));for(var h in n)r[h]===void 0&&(r[h]=n[h])}return r}var sc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function M0(n){sc(n)}function _0(n){console.error(n)}function R0(n){sc(n)}function ic(n,i){try{var r=n.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function D0(n,i,r){try{var l=n.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Yf(n,i,r){return r=mi(r),r.tag=3,r.payload={element:null},r.callback=function(){ic(n,i)},r}function L0(n){return n=mi(n),n.tag=3,n}function O0(n,i,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var p=l.value;n.payload=function(){return h(p)},n.callback=function(){D0(i,r,l)}}var w=r.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(n.callback=function(){D0(i,r,l),typeof h!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})})}function lC(n,i,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=r.alternate,i!==null&&Ir(i,r,h,!0),r=ts.current,r!==null){switch(r.tag){case 13:return Ts===null?gd():r.alternate===null&&_t===0&&(_t=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===wf?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([l]):i.add(l),vd(n,l,h)),!1;case 22:return r.flags|=65536,l===wf?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([l]):r.add(l)),vd(n,l,h)),!1}throw Error(a(435,r.tag))}return vd(n,l,h),gd(),!1}if(We)return i=ts.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==mf&&(n=Error(a(422),{cause:l}),Xr(Zn(n,r)))):(l!==mf&&(i=Error(a(423),{cause:l}),Xr(Zn(i,r))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=Zn(l,r),h=Yf(n.stateNode,l,h),kf(n,h),_t!==4&&(_t=2)),!1;var p=Error(a(520),{cause:l});if(p=Zn(p,r),yo===null?yo=[p]:yo.push(p),_t!==4&&(_t=2),i===null)return!0;l=Zn(l,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,n=h&-h,r.lanes|=n,n=Yf(r.stateNode,l,n),kf(r,n),!1;case 1:if(i=r.type,p=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ki===null||!ki.has(p))))return r.flags|=65536,h&=-h,r.lanes|=h,h=L0(h),O0(h,n,r,l),kf(r,h),!1}r=r.return}while(r!==null);return!1}var P0=Error(a(461)),tn=!1;function un(n,i,r,l){i.child=n===null?A0(i,null,r,l):Qa(i,n.child,r,l)}function z0(n,i,r,l,h){r=r.render;var p=i.ref;if("ref"in l){var w={};for(var C in l)C!=="ref"&&(w[C]=l[C])}else w=l;return ia(i),l=jf(n,i,r,w,p,h),C=Mf(),n!==null&&!tn?(_f(n,i,h),Xs(n,i,h)):(We&&C&&df(i),i.flags|=1,un(n,i,l,h),i.child)}function B0(n,i,r,l,h){if(n===null){var p=r.type;return typeof p=="function"&&!cf(p)&&p.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=p,q0(n,i,p,l,h)):(n=zl(r.type,null,l,i,i.mode,h),n.ref=i.ref,n.return=i,i.child=n)}if(p=n.child,!ed(n,h)){var w=p.memoizedProps;if(r=r.compare,r=r!==null?r:Kr,r(w,l)&&n.ref===i.ref)return Xs(n,i,h)}return i.flags|=1,n=Hs(p,l),n.ref=i.ref,n.return=i,i.child=n}function q0(n,i,r,l,h){if(n!==null){var p=n.memoizedProps;if(Kr(p,l)&&n.ref===i.ref)if(tn=!1,i.pendingProps=l=p,ed(n,h))(n.flags&131072)!==0&&(tn=!0);else return i.lanes=n.lanes,Xs(n,i,h)}return Ff(n,i,r,l,h)}function U0(n,i,r){var l=i.pendingProps,h=l.children,p=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=p!==null?p.baseLanes|r:r,n!==null){for(h=i.child=n.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;i.childLanes=p&~l}else i.childLanes=0,i.child=null;return V0(n,i,l,r)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Hl(i,p!==null?p.cachePool:null),p!==null?qg(i,p):Af(),N0(i);else return i.lanes=i.childLanes=536870912,V0(n,i,p!==null?p.baseLanes|r:r,r)}else p!==null?(Hl(i,p.cachePool),qg(i,p),vi(),i.memoizedState=null):(n!==null&&Hl(i,null),Af(),vi());return un(n,i,h,r),i.child}function V0(n,i,r,l){var h=xf();return h=h===null?null:{parent:Ft._currentValue,pool:h},i.memoizedState={baseLanes:r,cachePool:h},n!==null&&Hl(i,null),Af(),N0(i),n!==null&&Ir(n,i,l,!0),null}function ac(n,i){var r=i.ref;if(r===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(n===null||n.ref!==r)&&(i.flags|=4194816)}}function Ff(n,i,r,l,h){return ia(i),r=jf(n,i,r,l,void 0,h),l=Mf(),n!==null&&!tn?(_f(n,i,h),Xs(n,i,h)):(We&&l&&df(i),i.flags|=1,un(n,i,r,h),i.child)}function H0(n,i,r,l,h,p){return ia(i),i.updateQueue=null,r=Vg(i,l,r,h),Ug(n),l=Mf(),n!==null&&!tn?(_f(n,i,p),Xs(n,i,p)):(We&&l&&df(i),i.flags|=1,un(n,i,r,p),i.child)}function $0(n,i,r,l,h){if(ia(i),i.stateNode===null){var p=Ba,w=r.contextType;typeof w=="object"&&w!==null&&(p=yn(w)),p=new r(l,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Kf,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=l,p.state=i.memoizedState,p.refs={},Sf(i),w=r.contextType,p.context=typeof w=="object"&&w!==null?yn(w):Ba,p.state=i.memoizedState,w=r.getDerivedStateFromProps,typeof w=="function"&&(Gf(i,r,w,l),p.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(w=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),w!==p.state&&Kf.enqueueReplaceState(p,p.state,null),so(i,l,p,h),no(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){p=i.stateNode;var C=i.memoizedProps,j=oa(r,C);p.props=j;var q=p.context,Z=r.contextType;w=Ba,typeof Z=="object"&&Z!==null&&(w=yn(Z));var J=r.getDerivedStateFromProps;Z=typeof J=="function"||typeof p.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,Z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(C||q!==w)&&j0(i,p,l,w),hi=!1;var U=i.memoizedState;p.state=U,so(i,l,p,h),no(),q=i.memoizedState,C||U!==q||hi?(typeof J=="function"&&(Gf(i,r,J,l),q=i.memoizedState),(j=hi||E0(i,r,j,l,U,q,w))?(Z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),p.props=l,p.state=q,p.context=w,l=j):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{p=i.stateNode,Cf(n,i),w=i.memoizedProps,Z=oa(r,w),p.props=Z,J=i.pendingProps,U=p.context,q=r.contextType,j=Ba,typeof q=="object"&&q!==null&&(j=yn(q)),C=r.getDerivedStateFromProps,(q=typeof C=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w!==J||U!==j)&&j0(i,p,l,j),hi=!1,U=i.memoizedState,p.state=U,so(i,l,p,h),no();var $=i.memoizedState;w!==J||U!==$||hi||n!==null&&n.dependencies!==null&&Ul(n.dependencies)?(typeof C=="function"&&(Gf(i,r,C,l),$=i.memoizedState),(Z=hi||E0(i,r,Z,l,U,$,j)||n!==null&&n.dependencies!==null&&Ul(n.dependencies))?(q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,$,j),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,$,j)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||w===n.memoizedProps&&U===n.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&U===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=$),p.props=l,p.state=$,p.context=j,l=Z):(typeof p.componentDidUpdate!="function"||w===n.memoizedProps&&U===n.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&U===n.memoizedState||(i.flags|=1024),l=!1)}return p=l,ac(n,i),l=(i.flags&128)!==0,p||l?(p=i.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,n!==null&&l?(i.child=Qa(i,n.child,null,h),i.child=Qa(i,null,r,h)):un(n,i,r,h),i.memoizedState=p.state,n=i.child):n=Xs(n,i,h),n}function G0(n,i,r,l){return Qr(),i.flags|=256,un(n,i,r,l),i.child}var Qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xf(n){return{baseLanes:n,cachePool:_g()}}function If(n,i,r){return n=n!==null?n.childLanes&~r:0,i&&(n|=ns),n}function K0(n,i,r){var l=i.pendingProps,h=!1,p=(i.flags&128)!==0,w;if((w=p)||(w=n!==null&&n.memoizedState===null?!1:(Qt.current&2)!==0),w&&(h=!0,i.flags&=-129),w=(i.flags&32)!==0,i.flags&=-33,n===null){if(We){if(h?yi(i):vi(),We){var C=Mt,j;if(j=C){e:{for(j=C,C=ks;j.nodeType!==8;){if(!C){C=null;break e}if(j=ds(j.nextSibling),j===null){C=null;break e}}C=j}C!==null?(i.memoizedState={dehydrated:C,treeContext:Ji!==null?{id:$s,overflow:Gs}:null,retryLane:536870912,hydrationErrors:null},j=Bn(18,null,null,0),j.stateNode=C,j.return=i,i.child=j,Tn=i,Mt=null,j=!0):j=!1}j||na(i)}if(C=i.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return Dd(C)?i.lanes=32:i.lanes=536870912,null;Qs(i)}return C=l.children,l=l.fallback,h?(vi(),h=i.mode,C=rc({mode:"hidden",children:C},h),l=Wi(l,h,r,null),C.return=i,l.return=i,C.sibling=l,i.child=C,h=i.child,h.memoizedState=Xf(r),h.childLanes=If(n,w,r),i.memoizedState=Qf,l):(yi(i),Zf(i,C))}if(j=n.memoizedState,j!==null&&(C=j.dehydrated,C!==null)){if(p)i.flags&256?(yi(i),i.flags&=-257,i=Wf(n,i,r)):i.memoizedState!==null?(vi(),i.child=n.child,i.flags|=128,i=null):(vi(),h=l.fallback,C=i.mode,l=rc({mode:"visible",children:l.children},C),h=Wi(h,C,r,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Qa(i,n.child,null,r),l=i.child,l.memoizedState=Xf(r),l.childLanes=If(n,w,r),i.memoizedState=Qf,i=h);else if(yi(i),Dd(C)){if(w=C.nextSibling&&C.nextSibling.dataset,w)var q=w.dgst;w=q,l=Error(a(419)),l.stack="",l.digest=w,Xr({value:l,source:null,stack:null}),i=Wf(n,i,r)}else if(tn||Ir(n,i,r,!1),w=(r&n.childLanes)!==0,tn||w){if(w=pt,w!==null&&(l=r&-r,l=(l&42)!==0?1:en(l),l=(l&(w.suspendedLanes|r))!==0?0:l,l!==0&&l!==j.retryLane))throw j.retryLane=l,za(n,l),$n(w,n,l),P0;C.data==="$?"||gd(),i=Wf(n,i,r)}else C.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=j.treeContext,Mt=ds(C.nextSibling),Tn=i,We=!0,ta=null,ks=!1,n!==null&&(Jn[es++]=$s,Jn[es++]=Gs,Jn[es++]=Ji,$s=n.id,Gs=n.overflow,Ji=i),i=Zf(i,l.children),i.flags|=4096);return i}return h?(vi(),h=l.fallback,C=i.mode,j=n.child,q=j.sibling,l=Hs(j,{mode:"hidden",children:l.children}),l.subtreeFlags=j.subtreeFlags&65011712,q!==null?h=Hs(q,h):(h=Wi(h,C,r,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,C=n.child.memoizedState,C===null?C=Xf(r):(j=C.cachePool,j!==null?(q=Ft._currentValue,j=j.parent!==q?{parent:q,pool:q}:j):j=_g(),C={baseLanes:C.baseLanes|r,cachePool:j}),h.memoizedState=C,h.childLanes=If(n,w,r),i.memoizedState=Qf,l):(yi(i),r=n.child,n=r.sibling,r=Hs(r,{mode:"visible",children:l.children}),r.return=i,r.sibling=null,n!==null&&(w=i.deletions,w===null?(i.deletions=[n],i.flags|=16):w.push(n)),i.child=r,i.memoizedState=null,r)}function Zf(n,i){return i=rc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function rc(n,i){return n=Bn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Wf(n,i,r){return Qa(i,n.child,null,r),n=Zf(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Y0(n,i,r){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),gf(n.return,i,r)}function Jf(n,i,r,l,h){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=r,p.tailMode=h)}function F0(n,i,r){var l=i.pendingProps,h=l.revealOrder,p=l.tail;if(un(n,i,l.children,r),l=Qt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Y0(n,r,i);else if(n.tag===19)Y0(n,r,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(te(Qt,l),h){case"forwards":for(r=i.child,h=null;r!==null;)n=r.alternate,n!==null&&nc(n)===null&&(h=r),r=r.sibling;r=h,r===null?(h=i.child,i.child=null):(h=r.sibling,r.sibling=null),Jf(i,!1,h,r,p);break;case"backwards":for(r=null,h=i.child,i.child=null;h!==null;){if(n=h.alternate,n!==null&&nc(n)===null){i.child=h;break}n=h.sibling,h.sibling=r,r=h,h=n}Jf(i,!0,r,null,p);break;case"together":Jf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Xs(n,i,r){if(n!==null&&(i.dependencies=n.dependencies),Ci|=i.lanes,(r&i.childLanes)===0)if(n!==null){if(Ir(n,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,r=Hs(n,n.pendingProps),i.child=r,r.return=i;n.sibling!==null;)n=n.sibling,r=r.sibling=Hs(n,n.pendingProps),r.return=i;r.sibling=null}return i.child}function ed(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Ul(n)))}function cC(n,i,r){switch(i.tag){case 3:Re(i,i.stateNode.containerInfo),di(i,Ft,n.memoizedState.cache),Qr();break;case 27:case 5:Qe(i);break;case 4:Re(i,i.stateNode.containerInfo);break;case 10:di(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(yi(i),i.flags|=128,null):(r&i.child.childLanes)!==0?K0(n,i,r):(yi(i),n=Xs(n,i,r),n!==null?n.sibling:null);yi(i);break;case 19:var h=(n.flags&128)!==0;if(l=(r&i.childLanes)!==0,l||(Ir(n,i,r,!1),l=(r&i.childLanes)!==0),h){if(l)return F0(n,i,r);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(Qt,Qt.current),l)break;return null;case 22:case 23:return i.lanes=0,U0(n,i,r);case 24:di(i,Ft,n.memoizedState.cache)}return Xs(n,i,r)}function Q0(n,i,r){if(n!==null)if(n.memoizedProps!==i.pendingProps)tn=!0;else{if(!ed(n,r)&&(i.flags&128)===0)return tn=!1,cC(n,i,r);tn=(n.flags&131072)!==0}else tn=!1,We&&(i.flags&1048576)!==0&&kg(i,ql,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")cf(l)?(n=oa(l,n),i.tag=1,i=$0(null,i,l,n,r)):(i.tag=0,i=Ff(null,i,l,n,r));else{if(l!=null){if(h=l.$$typeof,h===H){i.tag=11,i=z0(null,i,l,n,r);break e}else if(h===I){i.tag=14,i=B0(null,i,l,n,r);break e}}throw i=ve(l)||l,Error(a(306,i,""))}}return i;case 0:return Ff(n,i,i.type,i.pendingProps,r);case 1:return l=i.type,h=oa(l,i.pendingProps),$0(n,i,l,h,r);case 3:e:{if(Re(i,i.stateNode.containerInfo),n===null)throw Error(a(387));l=i.pendingProps;var p=i.memoizedState;h=p.element,Cf(n,i),so(i,l,null,r);var w=i.memoizedState;if(l=w.cache,di(i,Ft,l),l!==p.cache&&yf(i,[Ft],r,!0),no(),l=w.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:w.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=G0(n,i,l,r);break e}else if(l!==h){h=Zn(Error(a(424)),i),Xr(h),i=G0(n,i,l,r);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Mt=ds(n.firstChild),Tn=i,We=!0,ta=null,ks=!0,r=A0(i,null,l,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Qr(),l===h){i=Xs(n,i,r);break e}un(n,i,l,r)}i=i.child}return i;case 26:return ac(n,i),n===null?(r=Wy(i.type,null,i.pendingProps,null))?i.memoizedState=r:We||(r=i.type,n=i.pendingProps,l=xc(re.current).createElement(r),l[Be]=i,l[tt]=n,dn(l,r,n),qt(l),i.stateNode=l):i.memoizedState=Wy(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Qe(i),n===null&&We&&(l=i.stateNode=Xy(i.type,i.pendingProps,re.current),Tn=i,ks=!0,h=Mt,Ni(i.type)?(Ld=h,Mt=ds(l.firstChild)):Mt=h),un(n,i,i.pendingProps.children,r),ac(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&We&&((h=l=Mt)&&(l=zC(l,i.type,i.pendingProps,ks),l!==null?(i.stateNode=l,Tn=i,Mt=ds(l.firstChild),ks=!1,h=!0):h=!1),h||na(i)),Qe(i),h=i.type,p=i.pendingProps,w=n!==null?n.memoizedProps:null,l=p.children,Md(h,p)?l=null:w!==null&&Md(h,w)&&(i.flags|=32),i.memoizedState!==null&&(h=jf(n,i,tC,null,null,r),Ao._currentValue=h),ac(n,i),un(n,i,l,r),i.child;case 6:return n===null&&We&&((n=r=Mt)&&(r=BC(r,i.pendingProps,ks),r!==null?(i.stateNode=r,Tn=i,Mt=null,n=!0):n=!1),n||na(i)),null;case 13:return K0(n,i,r);case 4:return Re(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=Qa(i,null,l,r):un(n,i,l,r),i.child;case 11:return z0(n,i,i.type,i.pendingProps,r);case 7:return un(n,i,i.pendingProps,r),i.child;case 8:return un(n,i,i.pendingProps.children,r),i.child;case 12:return un(n,i,i.pendingProps.children,r),i.child;case 10:return l=i.pendingProps,di(i,i.type,l.value),un(n,i,l.children,r),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ia(i),h=yn(h),l=l(h),i.flags|=1,un(n,i,l,r),i.child;case 14:return B0(n,i,i.type,i.pendingProps,r);case 15:return q0(n,i,i.type,i.pendingProps,r);case 19:return F0(n,i,r);case 31:return l=i.pendingProps,r=i.mode,l={mode:l.mode,children:l.children},n===null?(r=rc(l,r),r.ref=i.ref,i.child=r,r.return=i,i=r):(r=Hs(n.child,l),r.ref=i.ref,i.child=r,r.return=i,i=r),i;case 22:return U0(n,i,r);case 24:return ia(i),l=yn(Ft),n===null?(h=xf(),h===null&&(h=pt,p=vf(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=r),h=p),i.memoizedState={parent:l,cache:h},Sf(i),di(i,Ft,h)):((n.lanes&r)!==0&&(Cf(n,i),so(i,null,null,r),no()),h=n.memoizedState,p=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),di(i,Ft,l)):(l=p.cache,di(i,Ft,l),l!==h.cache&&yf(i,[Ft],r,!0))),un(n,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Is(n){n.flags|=4}function X0(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!sv(i)){if(i=ts.current,i!==null&&((Ye&4194048)===Ye?Ts!==null:(Ye&62914560)!==Ye&&(Ye&536870912)===0||i!==Ts))throw eo=wf,Rg;n.flags|=8192}}function oc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Aa():536870912,n.lanes|=i,Wa|=i)}function uo(n,i){if(!We)switch(n.tailMode){case"hidden":i=n.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function Nt(n){var i=n.alternate!==null&&n.alternate.child===n.child,r=0,l=0;if(i)for(var h=n.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=r,i}function uC(n,i,r){var l=i.pendingProps;switch(hf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(i),null;case 1:return Nt(i),null;case 3:return r=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ys(Ft),vt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Fr(i)?Is(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ng())),Nt(i),null;case 26:return r=i.memoizedState,n===null?(Is(i),r!==null?(Nt(i),X0(i,r)):(Nt(i),i.flags&=-16777217)):r?r!==n.memoizedState?(Is(i),Nt(i),X0(i,r)):(Nt(i),i.flags&=-16777217):(n.memoizedProps!==l&&Is(i),Nt(i),i.flags&=-16777217),null;case 27:it(i),r=re.current;var h=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Is(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Nt(i),null}n=oe.current,Fr(i)?Tg(i):(n=Xy(h,l,r),i.stateNode=n,Is(i))}return Nt(i),null;case 5:if(it(i),r=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Is(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Nt(i),null}if(n=oe.current,Fr(i))Tg(i);else{switch(h=xc(re.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(r,{is:l.is}):h.createElement(r)}}n[Be]=i,n[tt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=n;e:switch(dn(n,r,l),r){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Is(i)}}return Nt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&Is(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(n=re.current,Fr(i)){if(n=i.stateNode,r=i.memoizedProps,l=null,h=Tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[Be]=i,n=!!(n.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Hy(n.nodeValue,r)),n||na(i)}else n=xc(n).createTextNode(l),n[Be]=i,i.stateNode=n}return Nt(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=Fr(i),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Be]=i}else Qr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Nt(i),h=!1}else h=Ng(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Qs(i),i):(Qs(i),null)}if(Qs(i),(i.flags&128)!==0)return i.lanes=r,i;if(r=l!==null,n=n!==null&&n.memoizedState!==null,r){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==h&&(l.flags|=2048)}return r!==n&&r&&(i.child.flags|=8192),oc(i,i.updateQueue),Nt(i),null;case 4:return vt(),n===null&&Td(i.stateNode.containerInfo),Nt(i),null;case 10:return Ys(i.type),Nt(i),null;case 19:if(se(Qt),h=i.memoizedState,h===null)return Nt(i),null;if(l=(i.flags&128)!==0,p=h.rendering,p===null)if(l)uo(h,!1);else{if(_t!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(p=nc(n),p!==null){for(i.flags|=128,uo(h,!1),n=p.updateQueue,i.updateQueue=n,oc(i,n),i.subtreeFlags=0,n=r,r=i.child;r!==null;)Cg(r,n),r=r.sibling;return te(Qt,Qt.current&1|2),i.child}n=n.sibling}h.tail!==null&&Je()>uc&&(i.flags|=128,l=!0,uo(h,!1),i.lanes=4194304)}else{if(!l)if(n=nc(p),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,oc(i,n),uo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!We)return Nt(i),null}else 2*Je()-h.renderingStartTime>uc&&r!==536870912&&(i.flags|=128,l=!0,uo(h,!1),i.lanes=4194304);h.isBackwards?(p.sibling=i.child,i.child=p):(n=h.last,n!==null?n.sibling=p:i.child=p,h.last=p)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Je(),i.sibling=null,n=Qt.current,te(Qt,l?n&1|2:n&1),i):(Nt(i),null);case 22:case 23:return Qs(i),Nf(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(r&536870912)!==0&&(i.flags&128)===0&&(Nt(i),i.subtreeFlags&6&&(i.flags|=8192)):Nt(i),r=i.updateQueue,r!==null&&oc(i,r.retryQueue),r=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==r&&(i.flags|=2048),n!==null&&se(aa),null;case 24:return r=null,n!==null&&(r=n.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),Ys(Ft),Nt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function fC(n,i){switch(hf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Ys(Ft),vt(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return it(i),null;case 13:if(Qs(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Qr()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return se(Qt),null;case 4:return vt(),null;case 10:return Ys(i.type),null;case 22:case 23:return Qs(i),Nf(),n!==null&&se(aa),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Ys(Ft),null;case 25:return null;default:return null}}function I0(n,i){switch(hf(i),i.tag){case 3:Ys(Ft),vt();break;case 26:case 27:case 5:it(i);break;case 4:vt();break;case 13:Qs(i);break;case 19:se(Qt);break;case 10:Ys(i.type);break;case 22:case 23:Qs(i),Nf(),n!==null&&se(aa);break;case 24:Ys(Ft)}}function fo(n,i){try{var r=i.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&n)===n){l=void 0;var p=r.create,w=r.inst;l=p(),w.destroy=l}r=r.next}while(r!==h)}}catch(C){ft(i,i.return,C)}}function bi(n,i,r){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var p=h.next;l=p;do{if((l.tag&n)===n){var w=l.inst,C=w.destroy;if(C!==void 0){w.destroy=void 0,h=i;var j=r,q=C;try{q()}catch(Z){ft(h,j,Z)}}}l=l.next}while(l!==p)}}catch(Z){ft(i,i.return,Z)}}function Z0(n){var i=n.updateQueue;if(i!==null){var r=n.stateNode;try{Bg(i,r)}catch(l){ft(n,n.return,l)}}}function W0(n,i,r){r.props=oa(n.type,n.memoizedProps),r.state=n.memoizedState;try{r.componentWillUnmount()}catch(l){ft(n,i,l)}}function ho(n,i){try{var r=n.ref;if(r!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof r=="function"?n.refCleanup=r(l):r.current=l}}catch(h){ft(n,i,h)}}function As(n,i){var r=n.ref,l=n.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){ft(n,i,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){ft(n,i,h)}else r.current=null}function J0(n){var i=n.type,r=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){ft(n,n.return,h)}}function td(n,i,r){try{var l=n.stateNode;RC(l,n.type,r,i),l[tt]=i}catch(h){ft(n,n.return,h)}}function ey(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ni(n.type)||n.tag===4}function nd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ey(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ni(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function sd(n,i,r){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(n,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(n),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=bc));else if(l!==4&&(l===27&&Ni(n.type)&&(r=n.stateNode,i=null),n=n.child,n!==null))for(sd(n,i,r),n=n.sibling;n!==null;)sd(n,i,r),n=n.sibling}function lc(n,i,r){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?r.insertBefore(n,i):r.appendChild(n);else if(l!==4&&(l===27&&Ni(n.type)&&(r=n.stateNode),n=n.child,n!==null))for(lc(n,i,r),n=n.sibling;n!==null;)lc(n,i,r),n=n.sibling}function ty(n){var i=n.stateNode,r=n.memoizedProps;try{for(var l=n.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);dn(i,l,r),i[Be]=n,i[tt]=r}catch(p){ft(n,n.return,p)}}var Zs=!1,Pt=!1,id=!1,ny=typeof WeakSet=="function"?WeakSet:Set,nn=null;function dC(n,i){if(n=n.containerInfo,Ed=Ac,n=hg(n),tf(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else e:{r=(r=n.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{r.nodeType,p.nodeType}catch{r=null;break e}var w=0,C=-1,j=-1,q=0,Z=0,J=n,U=null;t:for(;;){for(var $;J!==r||h!==0&&J.nodeType!==3||(C=w+h),J!==p||l!==0&&J.nodeType!==3||(j=w+l),J.nodeType===3&&(w+=J.nodeValue.length),($=J.firstChild)!==null;)U=J,J=$;for(;;){if(J===n)break t;if(U===r&&++q===h&&(C=w),U===p&&++Z===l&&(j=w),($=J.nextSibling)!==null)break;J=U,U=J.parentNode}J=$}r=C===-1||j===-1?null:{start:C,end:j}}else r=null}r=r||{start:0,end:0}}else r=null;for(jd={focusedElem:n,selectionRange:r},Ac=!1,nn=i;nn!==null;)if(i=nn,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,nn=n;else for(;nn!==null;){switch(i=nn,p=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,r=i,h=p.memoizedProps,p=p.memoizedState,l=r.stateNode;try{var Ee=oa(r.type,h,r.elementType===r.type);n=l.getSnapshotBeforeUpdate(Ee,p),l.__reactInternalSnapshotBeforeUpdate=n}catch(Te){ft(r,r.return,Te)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,r=n.nodeType,r===9)Rd(n);else if(r===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Rd(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,nn=n;break}nn=i.return}}function sy(n,i,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:xi(n,r),l&4&&fo(5,r);break;case 1:if(xi(n,r),l&4)if(n=r.stateNode,i===null)try{n.componentDidMount()}catch(w){ft(r,r.return,w)}else{var h=oa(r.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(h,i,n.__reactInternalSnapshotBeforeUpdate)}catch(w){ft(r,r.return,w)}}l&64&&Z0(r),l&512&&ho(r,r.return);break;case 3:if(xi(n,r),l&64&&(n=r.updateQueue,n!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{Bg(n,i)}catch(w){ft(r,r.return,w)}}break;case 27:i===null&&l&4&&ty(r);case 26:case 5:xi(n,r),i===null&&l&4&&J0(r),l&512&&ho(r,r.return);break;case 12:xi(n,r);break;case 13:xi(n,r),l&4&&ry(n,r),l&64&&(n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(r=wC.bind(null,r),qC(n,r))));break;case 22:if(l=r.memoizedState!==null||Zs,!l){i=i!==null&&i.memoizedState!==null||Pt,h=Zs;var p=Pt;Zs=l,(Pt=i)&&!p?wi(n,r,(r.subtreeFlags&8772)!==0):xi(n,r),Zs=h,Pt=p}break;case 30:break;default:xi(n,r)}}function iy(n){var i=n.alternate;i!==null&&(n.alternate=null,iy(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Na(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var wt=null,Rn=!1;function Ws(n,i,r){for(r=r.child;r!==null;)ay(n,i,r),r=r.sibling}function ay(n,i,r){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ct,r)}catch{}switch(r.tag){case 26:Pt||As(r,i),Ws(n,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Pt||As(r,i);var l=wt,h=Rn;Ni(r.type)&&(wt=r.stateNode,Rn=!1),Ws(n,i,r),So(r.stateNode),wt=l,Rn=h;break;case 5:Pt||As(r,i);case 6:if(l=wt,h=Rn,wt=null,Ws(n,i,r),wt=l,Rn=h,wt!==null)if(Rn)try{(wt.nodeType===9?wt.body:wt.nodeName==="HTML"?wt.ownerDocument.body:wt).removeChild(r.stateNode)}catch(p){ft(r,i,p)}else try{wt.removeChild(r.stateNode)}catch(p){ft(r,i,p)}break;case 18:wt!==null&&(Rn?(n=wt,Fy(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,r.stateNode),Mo(n)):Fy(wt,r.stateNode));break;case 4:l=wt,h=Rn,wt=r.stateNode.containerInfo,Rn=!0,Ws(n,i,r),wt=l,Rn=h;break;case 0:case 11:case 14:case 15:Pt||bi(2,r,i),Pt||bi(4,r,i),Ws(n,i,r);break;case 1:Pt||(As(r,i),l=r.stateNode,typeof l.componentWillUnmount=="function"&&W0(r,i,l)),Ws(n,i,r);break;case 21:Ws(n,i,r);break;case 22:Pt=(l=Pt)||r.memoizedState!==null,Ws(n,i,r),Pt=l;break;default:Ws(n,i,r)}}function ry(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Mo(n)}catch(r){ft(i,i.return,r)}}function hC(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new ny),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new ny),i;default:throw Error(a(435,n.tag))}}function ad(n,i){var r=hC(n);i.forEach(function(l){var h=SC.bind(null,n,l);r.has(l)||(r.add(l),l.then(h,h))})}function qn(n,i){var r=i.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],p=n,w=i,C=w;e:for(;C!==null;){switch(C.tag){case 27:if(Ni(C.type)){wt=C.stateNode,Rn=!1;break e}break;case 5:wt=C.stateNode,Rn=!1;break e;case 3:case 4:wt=C.stateNode.containerInfo,Rn=!0;break e}C=C.return}if(wt===null)throw Error(a(160));ay(p,w,h),wt=null,Rn=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)oy(i,n),i=i.sibling}var fs=null;function oy(n,i){var r=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:qn(i,n),Un(n),l&4&&(bi(3,n,n.return),fo(3,n),bi(5,n,n.return));break;case 1:qn(i,n),Un(n),l&512&&(Pt||r===null||As(r,r.return)),l&64&&Zs&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(r=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=fs;if(qn(i,n),Un(n),l&512&&(Pt||r===null||As(r,r.return)),l&4){var p=r!==null?r.memoizedState:null;if(l=n.memoizedState,r===null)if(l===null)if(n.stateNode===null){e:{l=n.type,r=n.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":p=h.getElementsByTagName("title")[0],(!p||p[jt]||p[Be]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(l),h.head.insertBefore(p,h.querySelector("head > title"))),dn(p,l,r),p[Be]=n,qt(p),l=p;break e;case"link":var w=tv("link","href",h).get(l+(r.href||""));if(w){for(var C=0;C<w.length;C++)if(p=w[C],p.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&p.getAttribute("rel")===(r.rel==null?null:r.rel)&&p.getAttribute("title")===(r.title==null?null:r.title)&&p.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){w.splice(C,1);break t}}p=h.createElement(l),dn(p,l,r),h.head.appendChild(p);break;case"meta":if(w=tv("meta","content",h).get(l+(r.content||""))){for(C=0;C<w.length;C++)if(p=w[C],p.getAttribute("content")===(r.content==null?null:""+r.content)&&p.getAttribute("name")===(r.name==null?null:r.name)&&p.getAttribute("property")===(r.property==null?null:r.property)&&p.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&p.getAttribute("charset")===(r.charSet==null?null:r.charSet)){w.splice(C,1);break t}}p=h.createElement(l),dn(p,l,r),h.head.appendChild(p);break;default:throw Error(a(468,l))}p[Be]=n,qt(p),l=p}n.stateNode=l}else nv(h,n.type,n.stateNode);else n.stateNode=ev(h,l,n.memoizedProps);else p!==l?(p===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):p.count--,l===null?nv(h,n.type,n.stateNode):ev(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&td(n,n.memoizedProps,r.memoizedProps)}break;case 27:qn(i,n),Un(n),l&512&&(Pt||r===null||As(r,r.return)),r!==null&&l&4&&td(n,n.memoizedProps,r.memoizedProps);break;case 5:if(qn(i,n),Un(n),l&512&&(Pt||r===null||As(r,r.return)),n.flags&32){h=n.stateNode;try{Ma(h,"")}catch($){ft(n,n.return,$)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,td(n,h,r!==null?r.memoizedProps:h)),l&1024&&(id=!0);break;case 6:if(qn(i,n),Un(n),l&4){if(n.stateNode===null)throw Error(a(162));l=n.memoizedProps,r=n.stateNode;try{r.nodeValue=l}catch($){ft(n,n.return,$)}}break;case 3:if(Cc=null,h=fs,fs=wc(i.containerInfo),qn(i,n),fs=h,Un(n),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Mo(i.containerInfo)}catch($){ft(n,n.return,$)}id&&(id=!1,ly(n));break;case 4:l=fs,fs=wc(n.stateNode.containerInfo),qn(i,n),Un(n),fs=l;break;case 12:qn(i,n),Un(n);break;case 13:qn(i,n),Un(n),n.child.flags&8192&&n.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(fd=Je()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,ad(n,l)));break;case 22:h=n.memoizedState!==null;var j=r!==null&&r.memoizedState!==null,q=Zs,Z=Pt;if(Zs=q||h,Pt=Z||j,qn(i,n),Pt=Z,Zs=q,Un(n),l&8192)e:for(i=n.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(r===null||j||Zs||Pt||la(n)),r=null,i=n;;){if(i.tag===5||i.tag===26){if(r===null){j=r=i;try{if(p=j.stateNode,h)w=p.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{C=j.stateNode;var J=j.memoizedProps.style,U=J!=null&&J.hasOwnProperty("display")?J.display:null;C.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch($){ft(j,j.return,$)}}}else if(i.tag===6){if(r===null){j=i;try{j.stateNode.nodeValue=h?"":j.memoizedProps}catch($){ft(j,j.return,$)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,ad(n,r))));break;case 19:qn(i,n),Un(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,ad(n,l)));break;case 30:break;case 21:break;default:qn(i,n),Un(n)}}function Un(n){var i=n.flags;if(i&2){try{for(var r,l=n.return;l!==null;){if(ey(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,p=nd(n);lc(n,p,h);break;case 5:var w=r.stateNode;r.flags&32&&(Ma(w,""),r.flags&=-33);var C=nd(n);lc(n,C,w);break;case 3:case 4:var j=r.stateNode.containerInfo,q=nd(n);sd(n,q,j);break;default:throw Error(a(161))}}catch(Z){ft(n,n.return,Z)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function ly(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;ly(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function xi(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)sy(n,i.alternate,i),i=i.sibling}function la(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:bi(4,i,i.return),la(i);break;case 1:As(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&W0(i,i.return,r),la(i);break;case 27:So(i.stateNode);case 26:case 5:As(i,i.return),la(i);break;case 22:i.memoizedState===null&&la(i);break;case 30:la(i);break;default:la(i)}n=n.sibling}}function wi(n,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=n,p=i,w=p.flags;switch(p.tag){case 0:case 11:case 15:wi(h,p,r),fo(4,p);break;case 1:if(wi(h,p,r),l=p,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){ft(l,l.return,q)}if(l=p,h=l.updateQueue,h!==null){var C=l.stateNode;try{var j=h.shared.hiddenCallbacks;if(j!==null)for(h.shared.hiddenCallbacks=null,h=0;h<j.length;h++)zg(j[h],C)}catch(q){ft(l,l.return,q)}}r&&w&64&&Z0(p),ho(p,p.return);break;case 27:ty(p);case 26:case 5:wi(h,p,r),r&&l===null&&w&4&&J0(p),ho(p,p.return);break;case 12:wi(h,p,r);break;case 13:wi(h,p,r),r&&w&4&&ry(h,p);break;case 22:p.memoizedState===null&&wi(h,p,r),ho(p,p.return);break;case 30:break;default:wi(h,p,r)}i=i.sibling}}function rd(n,i){var r=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==r&&(n!=null&&n.refCount++,r!=null&&Zr(r))}function od(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Zr(n))}function Ns(n,i,r,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)cy(n,i,r,l),i=i.sibling}function cy(n,i,r,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Ns(n,i,r,l),h&2048&&fo(9,i);break;case 1:Ns(n,i,r,l);break;case 3:Ns(n,i,r,l),h&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Zr(n)));break;case 12:if(h&2048){Ns(n,i,r,l),n=i.stateNode;try{var p=i.memoizedProps,w=p.id,C=p.onPostCommit;typeof C=="function"&&C(w,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(j){ft(i,i.return,j)}}else Ns(n,i,r,l);break;case 13:Ns(n,i,r,l);break;case 23:break;case 22:p=i.stateNode,w=i.alternate,i.memoizedState!==null?p._visibility&2?Ns(n,i,r,l):mo(n,i):p._visibility&2?Ns(n,i,r,l):(p._visibility|=2,Xa(n,i,r,l,(i.subtreeFlags&10256)!==0)),h&2048&&rd(w,i);break;case 24:Ns(n,i,r,l),h&2048&&od(i.alternate,i);break;default:Ns(n,i,r,l)}}function Xa(n,i,r,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=n,w=i,C=r,j=l,q=w.flags;switch(w.tag){case 0:case 11:case 15:Xa(p,w,C,j,h),fo(8,w);break;case 23:break;case 22:var Z=w.stateNode;w.memoizedState!==null?Z._visibility&2?Xa(p,w,C,j,h):mo(p,w):(Z._visibility|=2,Xa(p,w,C,j,h)),h&&q&2048&&rd(w.alternate,w);break;case 24:Xa(p,w,C,j,h),h&&q&2048&&od(w.alternate,w);break;default:Xa(p,w,C,j,h)}i=i.sibling}}function mo(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=n,l=i,h=l.flags;switch(l.tag){case 22:mo(r,l),h&2048&&rd(l.alternate,l);break;case 24:mo(r,l),h&2048&&od(l.alternate,l);break;default:mo(r,l)}i=i.sibling}}var po=8192;function Ia(n){if(n.subtreeFlags&po)for(n=n.child;n!==null;)uy(n),n=n.sibling}function uy(n){switch(n.tag){case 26:Ia(n),n.flags&po&&n.memoizedState!==null&&WC(fs,n.memoizedState,n.memoizedProps);break;case 5:Ia(n);break;case 3:case 4:var i=fs;fs=wc(n.stateNode.containerInfo),Ia(n),fs=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=po,po=16777216,Ia(n),po=i):Ia(n));break;default:Ia(n)}}function fy(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function go(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var l=i[r];nn=l,hy(l,n)}fy(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)dy(n),n=n.sibling}function dy(n){switch(n.tag){case 0:case 11:case 15:go(n),n.flags&2048&&bi(9,n,n.return);break;case 3:go(n);break;case 12:go(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,cc(n)):go(n);break;default:go(n)}}function cc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var l=i[r];nn=l,hy(l,n)}fy(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:bi(8,i,i.return),cc(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,cc(i));break;default:cc(i)}n=n.sibling}}function hy(n,i){for(;nn!==null;){var r=nn;switch(r.tag){case 0:case 11:case 15:bi(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Zr(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,nn=l;else e:for(r=n;nn!==null;){l=nn;var h=l.sibling,p=l.return;if(iy(l),l===r){nn=null;break e}if(h!==null){h.return=p,nn=h;break e}nn=p}}}var mC={getCacheForType:function(n){var i=yn(Ft),r=i.data.get(n);return r===void 0&&(r=n(),i.data.set(n,r)),r}},pC=typeof WeakMap=="function"?WeakMap:Map,nt=0,pt=null,qe=null,Ye=0,st=0,Vn=null,Si=!1,Za=!1,ld=!1,Js=0,_t=0,Ci=0,ca=0,cd=0,ns=0,Wa=0,yo=null,Dn=null,ud=!1,fd=0,uc=1/0,fc=null,ki=null,fn=0,Ti=null,Ja=null,er=0,dd=0,hd=null,my=null,vo=0,md=null;function Hn(){if((nt&2)!==0&&Ye!==0)return Ye&-Ye;if(B.T!==null){var n=Va;return n!==0?n:wd()}return Cn()}function py(){ns===0&&(ns=(Ye&536870912)===0||We?Ta():536870912);var n=ts.current;return n!==null&&(n.flags|=32),ns}function $n(n,i,r){(n===pt&&(st===2||st===9)||n.cancelPendingCommit!==null)&&(tr(n,0),Ai(n,Ye,ns,!1)),xt(n,r),((nt&2)===0||n!==pt)&&(n===pt&&((nt&2)===0&&(ca|=r),_t===4&&Ai(n,Ye,ns,!1)),Es(n))}function gy(n,i,r){if((nt&6)!==0)throw Error(a(327));var l=!r&&(i&124)===0&&(i&n.expiredLanes)===0||jn(n,i),h=l?vC(n,i):yd(n,i,!0),p=l;do{if(h===0){Za&&!l&&Ai(n,i,0,!1);break}else{if(r=n.current.alternate,p&&!gC(r)){h=yd(n,i,!1),p=!1;continue}if(h===2){if(p=i,n.errorRecoveryDisabledLanes&p)var w=0;else w=n.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){i=w;e:{var C=n;h=yo;var j=C.current.memoizedState.isDehydrated;if(j&&(tr(C,w).flags|=256),w=yd(C,w,!1),w!==2){if(ld&&!j){C.errorRecoveryDisabledLanes|=p,ca|=p,h=4;break e}p=Dn,Dn=h,p!==null&&(Dn===null?Dn=p:Dn.push.apply(Dn,p))}h=w}if(p=!1,h!==2)continue}}if(h===1){tr(n,0),Ai(n,i,0,!0);break}e:{switch(l=n,p=h,p){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Ai(l,i,ns,!Si);break e;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=fd+300-Je(),10<h)){if(Ai(l,i,ns,!Si),gn(l,0,!0)!==0)break e;l.timeoutHandle=Ky(yy.bind(null,l,r,Dn,fc,ud,i,ns,ca,Wa,Si,p,2,-0,0),h);break e}yy(l,r,Dn,fc,ud,i,ns,ca,Wa,Si,p,0,-0,0)}}break}while(!0);Es(n)}function yy(n,i,r,l,h,p,w,C,j,q,Z,J,U,$){if(n.timeoutHandle=-1,J=i.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(To={stylesheets:null,count:0,unsuspend:ZC},uy(i),J=JC(),J!==null)){n.cancelPendingCommit=J(ky.bind(null,n,i,p,r,l,h,w,C,j,Z,1,U,$)),Ai(n,p,w,!q);return}ky(n,i,p,r,l,h,w,C,j)}function gC(n){for(var i=n;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],p=h.getSnapshot;h=h.value;try{if(!zn(p(),h))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ai(n,i,r,l){i&=~cd,i&=~ca,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var h=i;0<h;){var p=31-Tt(h),w=1<<p;l[p]=-1,h&=~w}r!==0&&Jt(n,r,i)}function dc(){return(nt&6)===0?(bo(0),!1):!0}function pd(){if(qe!==null){if(st===0)var n=qe.return;else n=qe,Ks=sa=null,Rf(n),Fa=null,lo=0,n=qe;for(;n!==null;)I0(n.alternate,n),n=n.return;qe=null}}function tr(n,i){var r=n.timeoutHandle;r!==-1&&(n.timeoutHandle=-1,LC(r)),r=n.cancelPendingCommit,r!==null&&(n.cancelPendingCommit=null,r()),pd(),pt=n,qe=r=Hs(n.current,null),Ye=i,st=0,Vn=null,Si=!1,Za=jn(n,i),ld=!1,Wa=ns=cd=ca=Ci=_t=0,Dn=yo=null,ud=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var h=31-Tt(l),p=1<<h;i|=n[h],l&=~p}return Js=i,Ll(),r}function vy(n,i){Oe=null,B.H=Jl,i===Jr||i===$l?(i=Og(),st=3):i===Rg?(i=Og(),st=4):st=i===P0?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Vn=i,qe===null&&(_t=1,ic(n,Zn(i,n.current)))}function by(){var n=B.H;return B.H=Jl,n===null?Jl:n}function xy(){var n=B.A;return B.A=mC,n}function gd(){_t=4,Si||(Ye&4194048)!==Ye&&ts.current!==null||(Za=!0),(Ci&134217727)===0&&(ca&134217727)===0||pt===null||Ai(pt,Ye,ns,!1)}function yd(n,i,r){var l=nt;nt|=2;var h=by(),p=xy();(pt!==n||Ye!==i)&&(fc=null,tr(n,i)),i=!1;var w=_t;e:do try{if(st!==0&&qe!==null){var C=qe,j=Vn;switch(st){case 8:pd(),w=6;break e;case 3:case 2:case 9:case 6:ts.current===null&&(i=!0);var q=st;if(st=0,Vn=null,nr(n,C,j,q),r&&Za){w=0;break e}break;default:q=st,st=0,Vn=null,nr(n,C,j,q)}}yC(),w=_t;break}catch(Z){vy(n,Z)}while(!0);return i&&n.shellSuspendCounter++,Ks=sa=null,nt=l,B.H=h,B.A=p,qe===null&&(pt=null,Ye=0,Ll()),w}function yC(){for(;qe!==null;)wy(qe)}function vC(n,i){var r=nt;nt|=2;var l=by(),h=xy();pt!==n||Ye!==i?(fc=null,uc=Je()+500,tr(n,i)):Za=jn(n,i);e:do try{if(st!==0&&qe!==null){i=qe;var p=Vn;t:switch(st){case 1:st=0,Vn=null,nr(n,i,p,1);break;case 2:case 9:if(Dg(p)){st=0,Vn=null,Sy(i);break}i=function(){st!==2&&st!==9||pt!==n||(st=7),Es(n)},p.then(i,i);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Dg(p)?(st=0,Vn=null,Sy(i)):(st=0,Vn=null,nr(n,i,p,7));break;case 5:var w=null;switch(qe.tag){case 26:w=qe.memoizedState;case 5:case 27:var C=qe;if(!w||sv(w)){st=0,Vn=null;var j=C.sibling;if(j!==null)qe=j;else{var q=C.return;q!==null?(qe=q,hc(q)):qe=null}break t}}st=0,Vn=null,nr(n,i,p,5);break;case 6:st=0,Vn=null,nr(n,i,p,6);break;case 8:pd(),_t=6;break e;default:throw Error(a(462))}}bC();break}catch(Z){vy(n,Z)}while(!0);return Ks=sa=null,B.H=l,B.A=h,nt=r,qe!==null?0:(pt=null,Ye=0,Ll(),_t)}function bC(){for(;qe!==null&&!Xe();)wy(qe)}function wy(n){var i=Q0(n.alternate,n,Js);n.memoizedProps=n.pendingProps,i===null?hc(n):qe=i}function Sy(n){var i=n,r=i.alternate;switch(i.tag){case 15:case 0:i=H0(r,i,i.pendingProps,i.type,void 0,Ye);break;case 11:i=H0(r,i,i.pendingProps,i.type.render,i.ref,Ye);break;case 5:Rf(i);default:I0(r,i),i=qe=Cg(i,Js),i=Q0(r,i,Js)}n.memoizedProps=n.pendingProps,i===null?hc(n):qe=i}function nr(n,i,r,l){Ks=sa=null,Rf(i),Fa=null,lo=0;var h=i.return;try{if(lC(n,h,i,r,Ye)){_t=1,ic(n,Zn(r,n.current)),qe=null;return}}catch(p){if(h!==null)throw qe=h,p;_t=1,ic(n,Zn(r,n.current)),qe=null;return}i.flags&32768?(We||l===1?n=!0:Za||(Ye&536870912)!==0?n=!1:(Si=n=!0,(l===2||l===9||l===3||l===6)&&(l=ts.current,l!==null&&l.tag===13&&(l.flags|=16384))),Cy(i,n)):hc(i)}function hc(n){var i=n;do{if((i.flags&32768)!==0){Cy(i,Si);return}n=i.return;var r=uC(i.alternate,i,Js);if(r!==null){qe=r;return}if(i=i.sibling,i!==null){qe=i;return}qe=i=n}while(i!==null);_t===0&&(_t=5)}function Cy(n,i){do{var r=fC(n.alternate,n);if(r!==null){r.flags&=32767,qe=r;return}if(r=n.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(n=n.sibling,n!==null)){qe=n;return}qe=n=r}while(n!==null);_t=6,qe=null}function ky(n,i,r,l,h,p,w,C,j){n.cancelPendingCommit=null;do mc();while(fn!==0);if((nt&6)!==0)throw Error(a(327));if(i!==null){if(i===n.current)throw Error(a(177));if(p=i.lanes|i.childLanes,p|=of,cn(n,r,p,w,C,j),n===pt&&(qe=pt=null,Ye=0),Ja=i,Ti=n,er=r,dd=p,hd=h,my=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,CC(Se,function(){return jy(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=B.T,B.T=null,h=V.p,V.p=2,w=nt,nt|=4;try{dC(n,i,r)}finally{nt=w,V.p=h,B.T=l}}fn=1,Ty(),Ay(),Ny()}}function Ty(){if(fn===1){fn=0;var n=Ti,i=Ja,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=B.T,B.T=null;var l=V.p;V.p=2;var h=nt;nt|=4;try{oy(i,n);var p=jd,w=hg(n.containerInfo),C=p.focusedElem,j=p.selectionRange;if(w!==C&&C&&C.ownerDocument&&dg(C.ownerDocument.documentElement,C)){if(j!==null&&tf(C)){var q=j.start,Z=j.end;if(Z===void 0&&(Z=q),"selectionStart"in C)C.selectionStart=q,C.selectionEnd=Math.min(Z,C.value.length);else{var J=C.ownerDocument||document,U=J&&J.defaultView||window;if(U.getSelection){var $=U.getSelection(),Ee=C.textContent.length,Te=Math.min(j.start,Ee),lt=j.end===void 0?Te:Math.min(j.end,Ee);!$.extend&&Te>lt&&(w=lt,lt=Te,Te=w);var L=fg(C,Te),R=fg(C,lt);if(L&&R&&($.rangeCount!==1||$.anchorNode!==L.node||$.anchorOffset!==L.offset||$.focusNode!==R.node||$.focusOffset!==R.offset)){var z=J.createRange();z.setStart(L.node,L.offset),$.removeAllRanges(),Te>lt?($.addRange(z),$.extend(R.node,R.offset)):(z.setEnd(R.node,R.offset),$.addRange(z))}}}}for(J=[],$=C;$=$.parentNode;)$.nodeType===1&&J.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<J.length;C++){var W=J[C];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Ac=!!Ed,jd=Ed=null}finally{nt=h,V.p=l,B.T=r}}n.current=i,fn=2}}function Ay(){if(fn===2){fn=0;var n=Ti,i=Ja,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=B.T,B.T=null;var l=V.p;V.p=2;var h=nt;nt|=4;try{sy(n,i.alternate,i)}finally{nt=h,V.p=l,B.T=r}}fn=3}}function Ny(){if(fn===4||fn===3){fn=0,gt();var n=Ti,i=Ja,r=er,l=my;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?fn=5:(fn=0,Ja=Ti=null,Ey(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(ki=null),Kt(r),i=i.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ct,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=B.T,h=V.p,V.p=2,B.T=null;try{for(var p=n.onRecoverableError,w=0;w<l.length;w++){var C=l[w];p(C.value,{componentStack:C.stack})}}finally{B.T=i,V.p=h}}(er&3)!==0&&mc(),Es(n),h=n.pendingLanes,(r&4194090)!==0&&(h&42)!==0?n===md?vo++:(vo=0,md=n):vo=0,bo(0)}}function Ey(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Zr(i)))}function mc(n){return Ty(),Ay(),Ny(),jy()}function jy(){if(fn!==5)return!1;var n=Ti,i=dd;dd=0;var r=Kt(er),l=B.T,h=V.p;try{V.p=32>r?32:r,B.T=null,r=hd,hd=null;var p=Ti,w=er;if(fn=0,Ja=Ti=null,er=0,(nt&6)!==0)throw Error(a(331));var C=nt;if(nt|=4,dy(p.current),cy(p,p.current,w,r),nt=C,bo(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ct,p)}catch{}return!0}finally{V.p=h,B.T=l,Ey(n,i)}}function My(n,i,r){i=Zn(r,i),i=Yf(n.stateNode,i,2),n=pi(n,i,2),n!==null&&(xt(n,2),Es(n))}function ft(n,i,r){if(n.tag===3)My(n,n,r);else for(;i!==null;){if(i.tag===3){My(i,n,r);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ki===null||!ki.has(l))){n=Zn(r,n),r=L0(2),l=pi(i,r,2),l!==null&&(O0(r,l,i,n),xt(l,2),Es(l));break}}i=i.return}}function vd(n,i,r){var l=n.pingCache;if(l===null){l=n.pingCache=new pC;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(r)||(ld=!0,h.add(r),n=xC.bind(null,n,i,r),i.then(n,n))}function xC(n,i,r){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&r,n.warmLanes&=~r,pt===n&&(Ye&r)===r&&(_t===4||_t===3&&(Ye&62914560)===Ye&&300>Je()-fd?(nt&2)===0&&tr(n,0):cd|=r,Wa===Ye&&(Wa=0)),Es(n)}function _y(n,i){i===0&&(i=Aa()),n=za(n,i),n!==null&&(xt(n,i),Es(n))}function wC(n){var i=n.memoizedState,r=0;i!==null&&(r=i.retryLane),_y(n,r)}function SC(n,i){var r=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),_y(n,r)}function CC(n,i){return Ae(n,i)}var pc=null,sr=null,bd=!1,gc=!1,xd=!1,ua=0;function Es(n){n!==sr&&n.next===null&&(sr===null?pc=sr=n:sr=sr.next=n),gc=!0,bd||(bd=!0,TC())}function bo(n,i){if(!xd&&gc){xd=!0;do for(var r=!1,l=pc;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var p=0;else{var w=l.suspendedLanes,C=l.pingedLanes;p=(1<<31-Tt(42|n)+1)-1,p&=h&~(w&~C),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(r=!0,Oy(l,p))}else p=Ye,p=gn(l,l===pt?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||jn(l,p)||(r=!0,Oy(l,p));l=l.next}while(r);xd=!1}}function kC(){Ry()}function Ry(){gc=bd=!1;var n=0;ua!==0&&(DC()&&(n=ua),ua=0);for(var i=Je(),r=null,l=pc;l!==null;){var h=l.next,p=Dy(l,i);p===0?(l.next=null,r===null?pc=h:r.next=h,h===null&&(sr=r)):(r=l,(n!==0||(p&3)!==0)&&(gc=!0)),l=h}bo(n)}function Dy(n,i){for(var r=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var w=31-Tt(p),C=1<<w,j=h[w];j===-1?((C&r)===0||(C&l)!==0)&&(h[w]=ws(C,i)):j<=i&&(n.expiredLanes|=C),p&=~C}if(i=pt,r=Ye,r=gn(n,n===i?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,r===0||n===i&&(st===2||st===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&De(l),n.callbackNode=null,n.callbackPriority=0;if((r&3)===0||jn(n,r)){if(i=r&-r,i===n.callbackPriority)return i;switch(l!==null&&De(l),Kt(r)){case 2:case 8:r=le;break;case 32:r=Se;break;case 268435456:r=Ve;break;default:r=Se}return l=Ly.bind(null,n),r=Ae(r,l),n.callbackPriority=i,n.callbackNode=r,i}return l!==null&&l!==null&&De(l),n.callbackPriority=2,n.callbackNode=null,2}function Ly(n,i){if(fn!==0&&fn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var r=n.callbackNode;if(mc()&&n.callbackNode!==r)return null;var l=Ye;return l=gn(n,n===pt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(gy(n,l,i),Dy(n,Je()),n.callbackNode!=null&&n.callbackNode===r?Ly.bind(null,n):null)}function Oy(n,i){if(mc())return null;gy(n,i,!0)}function TC(){OC(function(){(nt&6)!==0?Ae(Wt,kC):Ry()})}function wd(){return ua===0&&(ua=Ta()),ua}function Py(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Nl(""+n)}function zy(n,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,n.id&&r.setAttribute("form",n.id),i.parentNode.insertBefore(r,i),n=new FormData(n),r.parentNode.removeChild(r),n}function AC(n,i,r,l,h){if(i==="submit"&&r&&r.stateNode===h){var p=Py((h[tt]||null).action),w=l.submitter;w&&(i=(i=w[tt]||null)?Py(i.formAction):w.getAttribute("formAction"),i!==null&&(p=i,w=null));var C=new _l("action","action",null,l,h);n.push({event:C,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ua!==0){var j=w?zy(h,w):new FormData(h);Vf(r,{pending:!0,data:j,method:h.method,action:p},null,j)}}else typeof p=="function"&&(C.preventDefault(),j=w?zy(h,w):new FormData(h),Vf(r,{pending:!0,data:j,method:h.method,action:p},p,j))},currentTarget:h}]})}}for(var Sd=0;Sd<rf.length;Sd++){var Cd=rf[Sd],NC=Cd.toLowerCase(),EC=Cd[0].toUpperCase()+Cd.slice(1);us(NC,"on"+EC)}us(gg,"onAnimationEnd"),us(yg,"onAnimationIteration"),us(vg,"onAnimationStart"),us("dblclick","onDoubleClick"),us("focusin","onFocus"),us("focusout","onBlur"),us(K2,"onTransitionRun"),us(Y2,"onTransitionStart"),us(F2,"onTransitionCancel"),us(bg,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),Bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xo));function By(n,i){i=(i&4)!==0;for(var r=0;r<n.length;r++){var l=n[r],h=l.event;l=l.listeners;e:{var p=void 0;if(i)for(var w=l.length-1;0<=w;w--){var C=l[w],j=C.instance,q=C.currentTarget;if(C=C.listener,j!==p&&h.isPropagationStopped())break e;p=C,h.currentTarget=q;try{p(h)}catch(Z){sc(Z)}h.currentTarget=null,p=j}else for(w=0;w<l.length;w++){if(C=l[w],j=C.instance,q=C.currentTarget,C=C.listener,j!==p&&h.isPropagationStopped())break e;p=C,h.currentTarget=q;try{p(h)}catch(Z){sc(Z)}h.currentTarget=null,p=j}}}}function Ue(n,i){var r=i[kn];r===void 0&&(r=i[kn]=new Set);var l=n+"__bubble";r.has(l)||(qy(i,n,2,!1),r.add(l))}function kd(n,i,r){var l=0;i&&(l|=4),qy(r,n,l,i)}var yc="_reactListening"+Math.random().toString(36).slice(2);function Td(n){if(!n[yc]){n[yc]=!0,Lr.forEach(function(r){r!=="selectionchange"&&(jC.has(r)||kd(r,!1,n),kd(r,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[yc]||(i[yc]=!0,kd("selectionchange",!1,i))}}function qy(n,i,r,l){switch(cv(i)){case 2:var h=n3;break;case 8:h=s3;break;default:h=qd}r=h.bind(null,i,r,n),h=void 0,!Yu||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(i,r,{capture:!0,passive:h}):n.addEventListener(i,r,!0):h!==void 0?n.addEventListener(i,r,{passive:h}):n.addEventListener(i,r,!1)}function Ad(n,i,r,l,h){var p=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var C=l.stateNode.containerInfo;if(C===h)break;if(w===4)for(w=l.return;w!==null;){var j=w.tag;if((j===3||j===4)&&w.stateNode.containerInfo===h)return;w=w.return}for(;C!==null;){if(w=Ps(C),w===null)return;if(j=w.tag,j===5||j===6||j===26||j===27){l=p=w;continue e}C=C.parentNode}}l=l.return}Yp(function(){var q=p,Z=Gu(r),J=[];e:{var U=xg.get(n);if(U!==void 0){var $=_l,Ee=n;switch(n){case"keypress":if(jl(r)===0)break e;case"keydown":case"keyup":$=C2;break;case"focusin":Ee="focus",$=Iu;break;case"focusout":Ee="blur",$=Iu;break;case"beforeblur":case"afterblur":$=Iu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Xp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=f2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=A2;break;case gg:case yg:case vg:$=m2;break;case bg:$=E2;break;case"scroll":case"scrollend":$=c2;break;case"wheel":$=M2;break;case"copy":case"cut":case"paste":$=g2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Zp;break;case"toggle":case"beforetoggle":$=R2}var Te=(i&4)!==0,lt=!Te&&(n==="scroll"||n==="scrollend"),L=Te?U!==null?U+"Capture":null:U;Te=[];for(var R=q,z;R!==null;){var W=R;if(z=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||z===null||L===null||(W=Br(R,L),W!=null&&Te.push(wo(R,W,z))),lt)break;R=R.return}0<Te.length&&(U=new $(U,Ee,null,r,Z),J.push({event:U,listeners:Te}))}}if((i&7)===0){e:{if(U=n==="mouseover"||n==="pointerover",$=n==="mouseout"||n==="pointerout",U&&r!==$u&&(Ee=r.relatedTarget||r.fromElement)&&(Ps(Ee)||Ee[ne]))break e;if(($||U)&&(U=Z.window===Z?Z:(U=Z.ownerDocument)?U.defaultView||U.parentWindow:window,$?(Ee=r.relatedTarget||r.toElement,$=q,Ee=Ee?Ps(Ee):null,Ee!==null&&(lt=c(Ee),Te=Ee.tag,Ee!==lt||Te!==5&&Te!==27&&Te!==6)&&(Ee=null)):($=null,Ee=q),$!==Ee)){if(Te=Xp,W="onMouseLeave",L="onMouseEnter",R="mouse",(n==="pointerout"||n==="pointerover")&&(Te=Zp,W="onPointerLeave",L="onPointerEnter",R="pointer"),lt=$==null?U:Fi($),z=Ee==null?U:Fi(Ee),U=new Te(W,R+"leave",$,r,Z),U.target=lt,U.relatedTarget=z,W=null,Ps(Z)===q&&(Te=new Te(L,R+"enter",Ee,r,Z),Te.target=z,Te.relatedTarget=lt,W=Te),lt=W,$&&Ee)t:{for(Te=$,L=Ee,R=0,z=Te;z;z=ir(z))R++;for(z=0,W=L;W;W=ir(W))z++;for(;0<R-z;)Te=ir(Te),R--;for(;0<z-R;)L=ir(L),z--;for(;R--;){if(Te===L||L!==null&&Te===L.alternate)break t;Te=ir(Te),L=ir(L)}Te=null}else Te=null;$!==null&&Uy(J,U,$,Te,!1),Ee!==null&&lt!==null&&Uy(J,lt,Ee,Te,!0)}}e:{if(U=q?Fi(q):window,$=U.nodeName&&U.nodeName.toLowerCase(),$==="select"||$==="input"&&U.type==="file")var me=ag;else if(sg(U))if(rg)me=H2;else{me=U2;var ze=q2}else $=U.nodeName,!$||$.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?q&&Hu(q.elementType)&&(me=ag):me=V2;if(me&&(me=me(n,q))){ig(J,me,r,Z);break e}ze&&ze(n,U,q),n==="focusout"&&q&&U.type==="number"&&q.memoizedProps.value!=null&&Vu(U,"number",U.value)}switch(ze=q?Fi(q):window,n){case"focusin":(sg(ze)||ze.contentEditable==="true")&&(La=ze,nf=q,Yr=null);break;case"focusout":Yr=nf=La=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,mg(J,r,Z);break;case"selectionchange":if(G2)break;case"keydown":case"keyup":mg(J,r,Z)}var xe;if(Wu)e:{switch(n){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Da?tg(n,r)&&(Ne="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(Ne="onCompositionStart");Ne&&(Wp&&r.locale!=="ko"&&(Da||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Da&&(xe=Fp()):(fi=Z,Fu="value"in fi?fi.value:fi.textContent,Da=!0)),ze=vc(q,Ne),0<ze.length&&(Ne=new Ip(Ne,n,null,r,Z),J.push({event:Ne,listeners:ze}),xe?Ne.data=xe:(xe=ng(r),xe!==null&&(Ne.data=xe)))),(xe=L2?O2(n,r):P2(n,r))&&(Ne=vc(q,"onBeforeInput"),0<Ne.length&&(ze=new Ip("onBeforeInput","beforeinput",null,r,Z),J.push({event:ze,listeners:Ne}),ze.data=xe)),AC(J,n,q,r,Z)}By(J,i)})}function wo(n,i,r){return{instance:n,listener:i,currentTarget:r}}function vc(n,i){for(var r=i+"Capture",l=[];n!==null;){var h=n,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=Br(n,r),h!=null&&l.unshift(wo(n,h,p)),h=Br(n,i),h!=null&&l.push(wo(n,h,p))),n.tag===3)return l;n=n.return}return[]}function ir(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Uy(n,i,r,l,h){for(var p=i._reactName,w=[];r!==null&&r!==l;){var C=r,j=C.alternate,q=C.stateNode;if(C=C.tag,j!==null&&j===l)break;C!==5&&C!==26&&C!==27||q===null||(j=q,h?(q=Br(r,p),q!=null&&w.unshift(wo(r,q,j))):h||(q=Br(r,p),q!=null&&w.push(wo(r,q,j)))),r=r.return}w.length!==0&&n.push({event:i,listeners:w})}var MC=/\r\n?/g,_C=/\u0000|\uFFFD/g;function Vy(n){return(typeof n=="string"?n:""+n).replace(MC,`
`).replace(_C,"")}function Hy(n,i){return i=Vy(i),Vy(n)===i}function bc(){}function ot(n,i,r,l,h,p){switch(r){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Ma(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Ma(n,""+l);break;case"className":Qi(n,"class",l);break;case"tabIndex":Qi(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Qi(n,r,l);break;case"style":Gp(n,l,p);break;case"data":if(i!=="object"){Qi(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||r!=="href")){n.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(r);break}l=Nl(""+l),n.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(r==="formAction"?(i!=="input"&&ot(n,i,"name",h.name,h,null),ot(n,i,"formEncType",h.formEncType,h,null),ot(n,i,"formMethod",h.formMethod,h,null),ot(n,i,"formTarget",h.formTarget,h,null)):(ot(n,i,"encType",h.encType,h,null),ot(n,i,"method",h.method,h,null),ot(n,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(r);break}l=Nl(""+l),n.setAttribute(r,l);break;case"onClick":l!=null&&(n.onclick=bc);break;case"onScroll":l!=null&&Ue("scroll",n);break;case"onScrollEnd":l!=null&&Ue("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));n.innerHTML=r}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}r=Nl(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(r,""+l):n.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(r,""):n.removeAttribute(r);break;case"capture":case"download":l===!0?n.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(r,l):n.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(r,l):n.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(r):n.setAttribute(r,l);break;case"popover":Ue("beforetoggle",n),Ue("toggle",n),Ea(n,"popover",l);break;case"xlinkActuate":Pn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ea(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=o2.get(r)||r,Ea(n,r,l))}}function Nd(n,i,r,l,h,p){switch(r){case"style":Gp(n,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));n.innerHTML=r}}break;case"children":typeof l=="string"?Ma(n,l):(typeof l=="number"||typeof l=="bigint")&&Ma(n,""+l);break;case"onScroll":l!=null&&Ue("scroll",n);break;case"onScrollEnd":l!=null&&Ue("scrollend",n);break;case"onClick":l!=null&&(n.onclick=bc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),i=r.slice(2,h?r.length-7:void 0),p=n[tt]||null,p=p!=null?p[r]:null,typeof p=="function"&&n.removeEventListener(i,p,h),typeof l=="function")){typeof p!="function"&&p!==null&&(r in n?n[r]=null:n.hasAttribute(r)&&n.removeAttribute(r)),n.addEventListener(i,l,h);break e}r in n?n[r]=l:l===!0?n.setAttribute(r,""):Ea(n,r,l)}}}function dn(n,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",n),Ue("load",n);var l=!1,h=!1,p;for(p in r)if(r.hasOwnProperty(p)){var w=r[p];if(w!=null)switch(p){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:ot(n,i,p,w,r,null)}}h&&ot(n,i,"srcSet",r.srcSet,r,null),l&&ot(n,i,"src",r.src,r,null);return;case"input":Ue("invalid",n);var C=p=w=h=null,j=null,q=null;for(l in r)if(r.hasOwnProperty(l)){var Z=r[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":w=Z;break;case"checked":j=Z;break;case"defaultChecked":q=Z;break;case"value":p=Z;break;case"defaultValue":C=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,i));break;default:ot(n,i,l,Z,r,null)}}Up(n,p,C,j,q,w,h,!1),Ke(n);return;case"select":Ue("invalid",n),l=w=p=null;for(h in r)if(r.hasOwnProperty(h)&&(C=r[h],C!=null))switch(h){case"value":p=C;break;case"defaultValue":w=C;break;case"multiple":l=C;default:ot(n,i,h,C,r,null)}i=p,r=w,n.multiple=!!l,i!=null?ja(n,!!l,i,!1):r!=null&&ja(n,!!l,r,!0);return;case"textarea":Ue("invalid",n),p=h=l=null;for(w in r)if(r.hasOwnProperty(w)&&(C=r[w],C!=null))switch(w){case"value":l=C;break;case"defaultValue":h=C;break;case"children":p=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(a(91));break;default:ot(n,i,w,C,r,null)}Hp(n,l,h,p),Ke(n);return;case"option":for(j in r)if(r.hasOwnProperty(j)&&(l=r[j],l!=null))switch(j){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ot(n,i,j,l,r,null)}return;case"dialog":Ue("beforetoggle",n),Ue("toggle",n),Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":Ue("load",n);break;case"video":case"audio":for(l=0;l<xo.length;l++)Ue(xo[l],n);break;case"image":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"embed":case"source":case"link":Ue("error",n),Ue("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in r)if(r.hasOwnProperty(q)&&(l=r[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:ot(n,i,q,l,r,null)}return;default:if(Hu(i)){for(Z in r)r.hasOwnProperty(Z)&&(l=r[Z],l!==void 0&&Nd(n,i,Z,l,r,void 0));return}}for(C in r)r.hasOwnProperty(C)&&(l=r[C],l!=null&&ot(n,i,C,l,r,null))}function RC(n,i,r,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,w=null,C=null,j=null,q=null,Z=null;for($ in r){var J=r[$];if(r.hasOwnProperty($)&&J!=null)switch($){case"checked":break;case"value":break;case"defaultValue":j=J;default:l.hasOwnProperty($)||ot(n,i,$,null,l,J)}}for(var U in l){var $=l[U];if(J=r[U],l.hasOwnProperty(U)&&($!=null||J!=null))switch(U){case"type":p=$;break;case"name":h=$;break;case"checked":q=$;break;case"defaultChecked":Z=$;break;case"value":w=$;break;case"defaultValue":C=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,i));break;default:$!==J&&ot(n,i,U,$,l,J)}}Uu(n,w,C,j,q,Z,p,h);return;case"select":$=w=C=U=null;for(p in r)if(j=r[p],r.hasOwnProperty(p)&&j!=null)switch(p){case"value":break;case"multiple":$=j;default:l.hasOwnProperty(p)||ot(n,i,p,null,l,j)}for(h in l)if(p=l[h],j=r[h],l.hasOwnProperty(h)&&(p!=null||j!=null))switch(h){case"value":U=p;break;case"defaultValue":C=p;break;case"multiple":w=p;default:p!==j&&ot(n,i,h,p,l,j)}i=C,r=w,l=$,U!=null?ja(n,!!r,U,!1):!!l!=!!r&&(i!=null?ja(n,!!r,i,!0):ja(n,!!r,r?[]:"",!1));return;case"textarea":$=U=null;for(C in r)if(h=r[C],r.hasOwnProperty(C)&&h!=null&&!l.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ot(n,i,C,null,l,h)}for(w in l)if(h=l[w],p=r[w],l.hasOwnProperty(w)&&(h!=null||p!=null))switch(w){case"value":U=h;break;case"defaultValue":$=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==p&&ot(n,i,w,h,l,p)}Vp(n,U,$);return;case"option":for(var Ee in r)if(U=r[Ee],r.hasOwnProperty(Ee)&&U!=null&&!l.hasOwnProperty(Ee))switch(Ee){case"selected":n.selected=!1;break;default:ot(n,i,Ee,null,l,U)}for(j in l)if(U=l[j],$=r[j],l.hasOwnProperty(j)&&U!==$&&(U!=null||$!=null))switch(j){case"selected":n.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:ot(n,i,j,U,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in r)U=r[Te],r.hasOwnProperty(Te)&&U!=null&&!l.hasOwnProperty(Te)&&ot(n,i,Te,null,l,U);for(q in l)if(U=l[q],$=r[q],l.hasOwnProperty(q)&&U!==$&&(U!=null||$!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(a(137,i));break;default:ot(n,i,q,U,l,$)}return;default:if(Hu(i)){for(var lt in r)U=r[lt],r.hasOwnProperty(lt)&&U!==void 0&&!l.hasOwnProperty(lt)&&Nd(n,i,lt,void 0,l,U);for(Z in l)U=l[Z],$=r[Z],!l.hasOwnProperty(Z)||U===$||U===void 0&&$===void 0||Nd(n,i,Z,U,l,$);return}}for(var L in r)U=r[L],r.hasOwnProperty(L)&&U!=null&&!l.hasOwnProperty(L)&&ot(n,i,L,null,l,U);for(J in l)U=l[J],$=r[J],!l.hasOwnProperty(J)||U===$||U==null&&$==null||ot(n,i,J,U,l,$)}var Ed=null,jd=null;function xc(n){return n.nodeType===9?n:n.ownerDocument}function $y(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gy(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Md(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var _d=null;function DC(){var n=window.event;return n&&n.type==="popstate"?n===_d?!1:(_d=n,!0):(_d=null,!1)}var Ky=typeof setTimeout=="function"?setTimeout:void 0,LC=typeof clearTimeout=="function"?clearTimeout:void 0,Yy=typeof Promise=="function"?Promise:void 0,OC=typeof queueMicrotask=="function"?queueMicrotask:typeof Yy<"u"?function(n){return Yy.resolve(null).then(n).catch(PC)}:Ky;function PC(n){setTimeout(function(){throw n})}function Ni(n){return n==="head"}function Fy(n,i){var r=i,l=0,h=0;do{var p=r.nextSibling;if(n.removeChild(r),p&&p.nodeType===8)if(r=p.data,r==="/$"){if(0<l&&8>l){r=l;var w=n.ownerDocument;if(r&1&&So(w.documentElement),r&2&&So(w.body),r&4)for(r=w.head,So(r),w=r.firstChild;w;){var C=w.nextSibling,j=w.nodeName;w[jt]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&w.rel.toLowerCase()==="stylesheet"||r.removeChild(w),w=C}}if(h===0){n.removeChild(p),Mo(i);return}h--}else r==="$"||r==="$?"||r==="$!"?h++:l=r.charCodeAt(0)-48;else l=0;r=p}while(r);Mo(i)}function Rd(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Rd(r),Na(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}n.removeChild(r)}}function zC(n,i,r,l){for(;n.nodeType===1;){var h=r;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[jt])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=ds(n.nextSibling),n===null)break}return null}function BC(n,i,r){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=ds(n.nextSibling),n===null))return null;return n}function Dd(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function qC(n,i){var r=n.ownerDocument;if(n.data!=="$?"||r.readyState==="complete")i();else{var l=function(){i(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function ds(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Ld=null;function Qy(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"){if(i===0)return n;i--}else r==="/$"&&i++}n=n.previousSibling}return null}function Xy(n,i,r){switch(i=xc(r),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function So(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Na(n)}var ss=new Map,Iy=new Set;function wc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ei=V.d;V.d={f:UC,r:VC,D:HC,C:$C,L:GC,m:KC,X:FC,S:YC,M:QC};function UC(){var n=ei.f(),i=dc();return n||i}function VC(n){var i=ye(n);i!==null&&i.tag===5&&i.type==="form"?g0(i):ei.r(n)}var ar=typeof document>"u"?null:document;function Zy(n,i,r){var l=ar;if(l&&typeof i=="string"&&i){var h=In(i);h='link[rel="'+n+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),Iy.has(h)||(Iy.add(h),n={rel:n,crossOrigin:r,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),dn(i,"link",n),qt(i),l.head.appendChild(i)))}}function HC(n){ei.D(n),Zy("dns-prefetch",n,null)}function $C(n,i){ei.C(n,i),Zy("preconnect",n,i)}function GC(n,i,r){ei.L(n,i,r);var l=ar;if(l&&n&&i){var h='link[rel="preload"][as="'+In(i)+'"]';i==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+In(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+In(r.imageSizes)+'"]')):h+='[href="'+In(n)+'"]';var p=h;switch(i){case"style":p=rr(n);break;case"script":p=or(n)}ss.has(p)||(n=y({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:n,as:i},r),ss.set(p,n),l.querySelector(h)!==null||i==="style"&&l.querySelector(Co(p))||i==="script"&&l.querySelector(ko(p))||(i=l.createElement("link"),dn(i,"link",n),qt(i),l.head.appendChild(i)))}}function KC(n,i){ei.m(n,i);var r=ar;if(r&&n){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+In(l)+'"][href="'+In(n)+'"]',p=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=or(n)}if(!ss.has(p)&&(n=y({rel:"modulepreload",href:n},i),ss.set(p,n),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ko(p)))return}l=r.createElement("link"),dn(l,"link",n),qt(l),r.head.appendChild(l)}}}function YC(n,i,r){ei.S(n,i,r);var l=ar;if(l&&n){var h=zs(l).hoistableStyles,p=rr(n);i=i||"default";var w=h.get(p);if(!w){var C={loading:0,preload:null};if(w=l.querySelector(Co(p)))C.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":i},r),(r=ss.get(p))&&Od(n,r);var j=w=l.createElement("link");qt(j),dn(j,"link",n),j._p=new Promise(function(q,Z){j.onload=q,j.onerror=Z}),j.addEventListener("load",function(){C.loading|=1}),j.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Sc(w,i,l)}w={type:"stylesheet",instance:w,count:1,state:C},h.set(p,w)}}}function FC(n,i){ei.X(n,i);var r=ar;if(r&&n){var l=zs(r).hoistableScripts,h=or(n),p=l.get(h);p||(p=r.querySelector(ko(h)),p||(n=y({src:n,async:!0},i),(i=ss.get(h))&&Pd(n,i),p=r.createElement("script"),qt(p),dn(p,"link",n),r.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(h,p))}}function QC(n,i){ei.M(n,i);var r=ar;if(r&&n){var l=zs(r).hoistableScripts,h=or(n),p=l.get(h);p||(p=r.querySelector(ko(h)),p||(n=y({src:n,async:!0,type:"module"},i),(i=ss.get(h))&&Pd(n,i),p=r.createElement("script"),qt(p),dn(p,"link",n),r.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(h,p))}}function Wy(n,i,r,l){var h=(h=re.current)?wc(h):null;if(!h)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=rr(r.href),r=zs(h).hoistableStyles,l=r.get(i),l||(l={type:"style",instance:null,count:0,state:null},r.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){n=rr(r.href);var p=zs(h).hoistableStyles,w=p.get(n);if(w||(h=h.ownerDocument||h,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,w),(p=h.querySelector(Co(n)))&&!p._p&&(w.instance=p,w.state.loading=5),ss.has(n)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ss.set(n,r),p||XC(h,n,r,w.state))),i&&l===null)throw Error(a(528,""));return w}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=or(r),r=zs(h).hoistableScripts,l=r.get(i),l||(l={type:"script",instance:null,count:0,state:null},r.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function rr(n){return'href="'+In(n)+'"'}function Co(n){return'link[rel="stylesheet"]['+n+"]"}function Jy(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function XC(n,i,r,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),dn(i,"link",r),qt(i),n.head.appendChild(i))}function or(n){return'[src="'+In(n)+'"]'}function ko(n){return"script[async]"+n}function ev(n,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+In(r.href)+'"]');if(l)return i.instance=l,qt(l),l;var h=y({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),qt(l),dn(l,"style",h),Sc(l,r.precedence,n),i.instance=l;case"stylesheet":h=rr(r.href);var p=n.querySelector(Co(h));if(p)return i.state.loading|=4,i.instance=p,qt(p),p;l=Jy(r),(h=ss.get(h))&&Od(l,h),p=(n.ownerDocument||n).createElement("link"),qt(p);var w=p;return w._p=new Promise(function(C,j){w.onload=C,w.onerror=j}),dn(p,"link",l),i.state.loading|=4,Sc(p,r.precedence,n),i.instance=p;case"script":return p=or(r.src),(h=n.querySelector(ko(p)))?(i.instance=h,qt(h),h):(l=r,(h=ss.get(p))&&(l=y({},r),Pd(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),qt(h),dn(h,"link",l),n.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Sc(l,r.precedence,n));return i.instance}function Sc(n,i,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,p=h,w=0;w<l.length;w++){var C=l[w];if(C.dataset.precedence===i)p=C;else if(p!==h)break}p?p.parentNode.insertBefore(n,p.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(n,i.firstChild))}function Od(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Pd(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Cc=null;function tv(n,i,r){if(Cc===null){var l=new Map,h=Cc=new Map;h.set(r,l)}else h=Cc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(n))return l;for(l.set(n,null),r=r.getElementsByTagName(n),h=0;h<r.length;h++){var p=r[h];if(!(p[jt]||p[Be]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var w=p.getAttribute(i)||"";w=n+w;var C=l.get(w);C?C.push(p):l.set(w,[p])}}return l}function nv(n,i,r){n=n.ownerDocument||n,n.head.insertBefore(r,i==="title"?n.querySelector("head > title"):null)}function IC(n,i,r){if(r===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function sv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var To=null;function ZC(){}function WC(n,i,r){if(To===null)throw Error(a(475));var l=To;if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=rr(r.href),p=n.querySelector(Co(h));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=kc.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=p,qt(p);return}p=n.ownerDocument||n,r=Jy(r),(h=ss.get(h))&&Od(r,h),p=p.createElement("link"),qt(p);var w=p;w._p=new Promise(function(C,j){w.onload=C,w.onerror=j}),dn(p,"link",r),i.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=kc.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function JC(){if(To===null)throw Error(a(475));var n=To;return n.stylesheets&&n.count===0&&zd(n,n.stylesheets),0<n.count?function(i){var r=setTimeout(function(){if(n.stylesheets&&zd(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(r)}}:null}function kc(){if(this.count--,this.count===0){if(this.stylesheets)zd(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Tc=null;function zd(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Tc=new Map,i.forEach(e3,n),Tc=null,kc.call(n))}function e3(n,i){if(!(i.state.loading&4)){var r=Tc.get(n);if(r)var l=r.get(null);else{r=new Map,Tc.set(n,r);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var w=h[p];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(r.set(w.dataset.precedence,w),l=w)}l&&r.set(null,l)}h=i.instance,w=h.getAttribute("data-precedence"),p=r.get(w)||l,p===l&&r.set(null,h),r.set(w,h),this.count++,l=kc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),p?p.parentNode.insertBefore(h,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),i.state.loading|=4}}var Ao={$$typeof:_,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function t3(n,i,r,l,h,p,w,C){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yi(0),this.hiddenUpdates=Yi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function iv(n,i,r,l,h,p,w,C,j,q,Z,J){return n=new t3(n,i,r,w,C,j,q,J),i=1,p===!0&&(i|=24),p=Bn(3,null,null,i),n.current=p,p.stateNode=n,i=vf(),i.refCount++,n.pooledCache=i,i.refCount++,p.memoizedState={element:l,isDehydrated:r,cache:i},Sf(p),n}function av(n){return n?(n=Ba,n):Ba}function rv(n,i,r,l,h,p){h=av(h),l.context===null?l.context=h:l.pendingContext=h,l=mi(i),l.payload={element:r},p=p===void 0?null:p,p!==null&&(l.callback=p),r=pi(n,l,i),r!==null&&($n(r,n,i),to(r,n,i))}function ov(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<i?r:i}}function Bd(n,i){ov(n,i),(n=n.alternate)&&ov(n,i)}function lv(n){if(n.tag===13){var i=za(n,67108864);i!==null&&$n(i,n,67108864),Bd(n,67108864)}}var Ac=!0;function n3(n,i,r,l){var h=B.T;B.T=null;var p=V.p;try{V.p=2,qd(n,i,r,l)}finally{V.p=p,B.T=h}}function s3(n,i,r,l){var h=B.T;B.T=null;var p=V.p;try{V.p=8,qd(n,i,r,l)}finally{V.p=p,B.T=h}}function qd(n,i,r,l){if(Ac){var h=Ud(l);if(h===null)Ad(n,i,l,Nc,r),uv(n,l);else if(a3(h,n,i,r,l))l.stopPropagation();else if(uv(n,l),i&4&&-1<i3.indexOf(n)){for(;h!==null;){var p=ye(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var w=At(p.pendingLanes);if(w!==0){var C=p;for(C.pendingLanes|=2,C.entangledLanes|=2;w;){var j=1<<31-Tt(w);C.entanglements[1]|=j,w&=~j}Es(p),(nt&6)===0&&(uc=Je()+500,bo(0))}}break;case 13:C=za(p,2),C!==null&&$n(C,p,2),dc(),Bd(p,2)}if(p=Ud(l),p===null&&Ad(n,i,l,Nc,r),p===h)break;h=p}h!==null&&l.stopPropagation()}else Ad(n,i,l,null,r)}}function Ud(n){return n=Gu(n),Vd(n)}var Nc=null;function Vd(n){if(Nc=null,n=Ps(n),n!==null){var i=c(n);if(i===null)n=null;else{var r=i.tag;if(r===13){if(n=u(i),n!==null)return n;n=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Nc=n,null}function cv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bt()){case Wt:return 2;case le:return 8;case Se:case at:return 32;case Ve:return 268435456;default:return 32}default:return 32}}var Hd=!1,Ei=null,ji=null,Mi=null,No=new Map,Eo=new Map,_i=[],i3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uv(n,i){switch(n){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":No.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eo.delete(i.pointerId)}}function jo(n,i,r,l,h,p){return n===null||n.nativeEvent!==p?(n={blockedOn:i,domEventName:r,eventSystemFlags:l,nativeEvent:p,targetContainers:[h]},i!==null&&(i=ye(i),i!==null&&lv(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),n)}function a3(n,i,r,l,h){switch(i){case"focusin":return Ei=jo(Ei,n,i,r,l,h),!0;case"dragenter":return ji=jo(ji,n,i,r,l,h),!0;case"mouseover":return Mi=jo(Mi,n,i,r,l,h),!0;case"pointerover":var p=h.pointerId;return No.set(p,jo(No.get(p)||null,n,i,r,l,h)),!0;case"gotpointercapture":return p=h.pointerId,Eo.set(p,jo(Eo.get(p)||null,n,i,r,l,h)),!0}return!1}function fv(n){var i=Ps(n.target);if(i!==null){var r=c(i);if(r!==null){if(i=r.tag,i===13){if(i=u(r),i!==null){n.blockedOn=i,G(n.priority,function(){if(r.tag===13){var l=Hn();l=en(l);var h=za(r,l);h!==null&&$n(h,r,l),Bd(r,l)}});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ec(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var r=Ud(n.nativeEvent);if(r===null){r=n.nativeEvent;var l=new r.constructor(r.type,r);$u=l,r.target.dispatchEvent(l),$u=null}else return i=ye(r),i!==null&&lv(i),n.blockedOn=r,!1;i.shift()}return!0}function dv(n,i,r){Ec(n)&&r.delete(i)}function r3(){Hd=!1,Ei!==null&&Ec(Ei)&&(Ei=null),ji!==null&&Ec(ji)&&(ji=null),Mi!==null&&Ec(Mi)&&(Mi=null),No.forEach(dv),Eo.forEach(dv)}function jc(n,i){n.blockedOn===i&&(n.blockedOn=null,Hd||(Hd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,r3)))}var Mc=null;function hv(n){Mc!==n&&(Mc=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Mc===n&&(Mc=null);for(var i=0;i<n.length;i+=3){var r=n[i],l=n[i+1],h=n[i+2];if(typeof l!="function"){if(Vd(l||r)===null)continue;break}var p=ye(r);p!==null&&(n.splice(i,3),i-=3,Vf(p,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Mo(n){function i(j){return jc(j,n)}Ei!==null&&jc(Ei,n),ji!==null&&jc(ji,n),Mi!==null&&jc(Mi,n),No.forEach(i),Eo.forEach(i);for(var r=0;r<_i.length;r++){var l=_i[r];l.blockedOn===n&&(l.blockedOn=null)}for(;0<_i.length&&(r=_i[0],r.blockedOn===null);)fv(r),r.blockedOn===null&&_i.shift();if(r=(n.ownerDocument||n).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],p=r[l+1],w=h[tt]||null;if(typeof p=="function")w||hv(r);else if(w){var C=null;if(p&&p.hasAttribute("formAction")){if(h=p,w=p[tt]||null)C=w.formAction;else if(Vd(h)!==null)continue}else C=w.action;typeof C=="function"?r[l+1]=C:(r.splice(l,3),l-=3),hv(r)}}}function $d(n){this._internalRoot=n}_c.prototype.render=$d.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var r=i.current,l=Hn();rv(r,l,n,i,null,null)},_c.prototype.unmount=$d.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;rv(n.current,2,null,n,null,null),dc(),i[ne]=null}};function _c(n){this._internalRoot=n}_c.prototype.unstable_scheduleHydration=function(n){if(n){var i=Cn();n={blockedOn:null,target:n,priority:i};for(var r=0;r<_i.length&&i!==0&&i<_i[r].priority;r++);_i.splice(r,0,n),r===0&&fv(n)}};var mv=t.version;if(mv!=="19.1.1")throw Error(a(527,mv,"19.1.1"));V.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=m(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var o3={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{ct=Rc.inject(o3),Ge=Rc}catch{}}return Ro.createRoot=function(n,i){if(!o(n))throw Error(a(299));var r=!1,l="",h=M0,p=_0,w=R0,C=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(C=i.unstable_transitionCallbacks)),i=iv(n,1,!1,null,null,r,l,h,p,w,C,null),n[ne]=i.current,Td(n),new $d(i)},Ro.hydrateRoot=function(n,i,r){if(!o(n))throw Error(a(299));var l=!1,h="",p=M0,w=_0,C=R0,j=null,q=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(w=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(j=r.unstable_transitionCallbacks),r.formState!==void 0&&(q=r.formState)),i=iv(n,1,!0,i,r??null,l,h,p,w,C,j,q),i.context=av(null),r=i.current,l=Hn(),l=en(l),h=mi(l),h.callback=null,pi(r,h,l),r=l,i.current.lanes=r,xt(i,r),Es(i),n[ne]=i.current,Td(n),new _c(i)},Ro.version="19.1.1",Ro}var kv;function y3(){if(kv)return Yd.exports;kv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Yd.exports=g3(),Yd.exports}var v3=y3();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Tv="popstate";function b3(e={}){function t(a,o){let{pathname:c,search:u,hash:f}=a.location;return Ph("",{pathname:c,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function s(a,o){return typeof o=="string"?o:Jo(o)}return w3(t,s,null,e)}function Ct(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function gs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function x3(){return Math.random().toString(36).substring(2,10)}function Av(e,t){return{usr:e.state,key:e.key,idx:t}}function Ph(e,t,s=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Sr(t):t,state:s,key:t&&t.key||a||x3()}}function Jo({pathname:e="/",search:t="",hash:s=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Sr(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substring(s),e=e.substring(0,s));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function w3(e,t,s,a={}){let{window:o=document.defaultView,v5Compat:c=!1}=a,u=o.history,f="POP",m=null,g=y();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function y(){return(u.state||{idx:null}).idx}function v(){f="POP";let E=y(),A=E==null?null:E-g;g=E,m&&m({action:f,location:k.location,delta:A})}function x(E,A){f="PUSH";let N=Ph(k.location,E,A);g=y()+1;let _=Av(N,g),H=k.createHref(N);try{u.pushState(_,"",H)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;o.location.assign(H)}c&&m&&m({action:f,location:k.location,delta:1})}function S(E,A){f="REPLACE";let N=Ph(k.location,E,A);g=y();let _=Av(N,g),H=k.createHref(N);u.replaceState(_,"",H),c&&m&&m({action:f,location:k.location,delta:0})}function T(E){return S3(E)}let k={get action(){return f},get location(){return e(o,u)},listen(E){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Tv,v),m=E,()=>{o.removeEventListener(Tv,v),m=null}},createHref(E){return t(o,E)},createURL:T,encodeLocation(E){let A=T(E);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:x,replace:S,go(E){return u.go(E)}};return k}function S3(e,t=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Ct(s,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:Jo(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=s+a),new URL(a,s)}function U1(e,t,s="/"){return C3(e,t,s,!1)}function C3(e,t,s,a){let o=typeof t=="string"?Sr(t):t,c=ii(o.pathname||"/",s);if(c==null)return null;let u=V1(e);k3(u);let f=null;for(let m=0;f==null&&m<u.length;++m){let g=O3(c);f=D3(u[m],g,a)}return f}function V1(e,t=[],s=[],a="",o=!1){let c=(u,f,m=o,g)=>{let y={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(a)&&m)return;Ct(y.relativePath.startsWith(a),`Absolute route path "${y.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(a.length)}let v=si([a,y.relativePath]),x=s.concat(y);u.children&&u.children.length>0&&(Ct(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),V1(u.children,t,x,v,m)),!(u.path==null&&!u.index)&&t.push({path:v,score:_3(v,u.index),routesMeta:x})};return e.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))c(u,f);else for(let m of H1(u.path))c(u,f,!0,m)}),t}function H1(e){let t=e.split("/");if(t.length===0)return[];let[s,...a]=t,o=s.endsWith("?"),c=s.replace(/\?$/,"");if(a.length===0)return o?[c,""]:[c];let u=H1(a.join("/")),f=[];return f.push(...u.map(m=>m===""?c:[c,m].join("/"))),o&&f.push(...u),f.map(m=>e.startsWith("/")&&m===""?"/":m)}function k3(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:R3(t.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}var T3=/^:[\w-]+$/,A3=3,N3=2,E3=1,j3=10,M3=-2,Nv=e=>e==="*";function _3(e,t){let s=e.split("/"),a=s.length;return s.some(Nv)&&(a+=M3),t&&(a+=N3),s.filter(o=>!Nv(o)).reduce((o,c)=>o+(T3.test(c)?A3:c===""?E3:j3),a)}function R3(e,t){return e.length===t.length&&e.slice(0,-1).every((a,o)=>a===t[o])?e[e.length-1]-t[t.length-1]:0}function D3(e,t,s=!1){let{routesMeta:a}=e,o={},c="/",u=[];for(let f=0;f<a.length;++f){let m=a[f],g=f===a.length-1,y=c==="/"?t:t.slice(c.length)||"/",v=lu({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),x=m.route;if(!v&&g&&s&&!a[a.length-1].route.index&&(v=lu({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!v)return null;Object.assign(o,v.params),u.push({params:o,pathname:si([c,v.pathname]),pathnameBase:q3(si([c,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(c=si([c,v.pathnameBase]))}return u}function lu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=L3(e.path,e.caseSensitive,e.end),o=t.match(s);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:a.reduce((g,{paramName:y,isOptional:v},x)=>{if(y==="*"){let T=f[x]||"";u=c.slice(0,c.length-T.length).replace(/(.)\/+$/,"$1")}const S=f[x];return v&&!S?g[y]=void 0:g[y]=(S||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:u,pattern:e}}function L3(e,t=!1,s=!0){gs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,m)=>(a.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),a]}function O3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gs(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ii(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}function P3(e,t="/"){let{pathname:s,search:a="",hash:o=""}=typeof e=="string"?Sr(e):e;return{pathname:s?s.startsWith("/")?s:z3(s,t):t,search:U3(a),hash:V3(o)}}function z3(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function Id(e,t,s,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function B3(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Am(e){let t=B3(e);return t.map((s,a)=>a===t.length-1?s.pathname:s.pathnameBase)}function Nm(e,t,s,a=!1){let o;typeof e=="string"?o=Sr(e):(o={...e},Ct(!o.pathname||!o.pathname.includes("?"),Id("?","pathname","search",o)),Ct(!o.pathname||!o.pathname.includes("#"),Id("#","pathname","hash",o)),Ct(!o.search||!o.search.includes("#"),Id("#","search","hash",o)));let c=e===""||o.pathname==="",u=c?"/":o.pathname,f;if(u==null)f=s;else{let v=t.length-1;if(!a&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),v-=1;o.pathname=x.join("/")}f=v>=0?t[v]:"/"}let m=P3(o,f),g=u&&u!=="/"&&u.endsWith("/"),y=(c||u===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}var si=e=>e.join("/").replace(/\/\/+/g,"/"),q3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,V3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function H3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var $1=["POST","PUT","PATCH","DELETE"];new Set($1);var $3=["GET",...$1];new Set($3);var Cr=b.createContext(null);Cr.displayName="DataRouter";var wu=b.createContext(null);wu.displayName="DataRouterState";b.createContext(!1);var G1=b.createContext({isTransitioning:!1});G1.displayName="ViewTransition";var G3=b.createContext(new Map);G3.displayName="Fetchers";var K3=b.createContext(null);K3.displayName="Await";var bs=b.createContext(null);bs.displayName="Navigation";var hl=b.createContext(null);hl.displayName="Location";var xs=b.createContext({outlet:null,matches:[],isDataRoute:!1});xs.displayName="Route";var Em=b.createContext(null);Em.displayName="RouteError";function Y3(e,{relative:t}={}){Ct(kr(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:a}=b.useContext(bs),{hash:o,pathname:c,search:u}=ml(e,{relative:t}),f=c;return s!=="/"&&(f=c==="/"?s:si([s,c])),a.createHref({pathname:f,search:u,hash:o})}function kr(){return b.useContext(hl)!=null}function li(){return Ct(kr(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(hl).location}var K1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Y1(e){b.useContext(bs).static||b.useLayoutEffect(e)}function Su(){let{isDataRoute:e}=b.useContext(xs);return e?rk():F3()}function F3(){Ct(kr(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(Cr),{basename:t,navigator:s}=b.useContext(bs),{matches:a}=b.useContext(xs),{pathname:o}=li(),c=JSON.stringify(Am(a)),u=b.useRef(!1);return Y1(()=>{u.current=!0}),b.useCallback((m,g={})=>{if(gs(u.current,K1),!u.current)return;if(typeof m=="number"){s.go(m);return}let y=Nm(m,JSON.parse(c),o,g.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:si([t,y.pathname])),(g.replace?s.replace:s.push)(y,g.state,g)},[t,s,c,o,e])}b.createContext(null);function Q3(){let{matches:e}=b.useContext(xs),t=e[e.length-1];return t?t.params:{}}function ml(e,{relative:t}={}){let{matches:s}=b.useContext(xs),{pathname:a}=li(),o=JSON.stringify(Am(s));return b.useMemo(()=>Nm(e,JSON.parse(o),a,t==="path"),[e,o,a,t])}function X3(e,t){return F1(e,t)}function F1(e,t,s,a,o){Ct(kr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=b.useContext(bs),{matches:u}=b.useContext(xs),f=u[u.length-1],m=f?f.params:{},g=f?f.pathname:"/",y=f?f.pathnameBase:"/",v=f&&f.route;{let N=v&&v.path||"";Q1(g,!v||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let x=li(),S;if(t){let N=typeof t=="string"?Sr(t):t;Ct(y==="/"||N.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${N.pathname}" was given in the \`location\` prop.`),S=N}else S=x;let T=S.pathname||"/",k=T;if(y!=="/"){let N=y.replace(/^\//,"").split("/");k="/"+T.replace(/^\//,"").split("/").slice(N.length).join("/")}let E=U1(e,{pathname:k});gs(v||E!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),gs(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=ek(E&&E.map(N=>Object.assign({},N,{params:Object.assign({},m,N.params),pathname:si([y,c.encodeLocation?c.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?y:si([y,c.encodeLocation?c.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),u,s,a,o);return t&&A?b.createElement(hl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},A):A}function I3(){let e=ak(),t=H3(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:c},"ErrorBoundary")," or"," ",b.createElement("code",{style:c},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),s?b.createElement("pre",{style:o},s):null,u)}var Z3=b.createElement(I3,null),W3=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?b.createElement(xs.Provider,{value:this.props.routeContext},b.createElement(Em.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function J3({routeContext:e,match:t,children:s}){let a=b.useContext(Cr);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(xs.Provider,{value:e},s)}function ek(e,t=[],s=null,a=null,o=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let c=e,u=s?.errors;if(u!=null){let g=c.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);Ct(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,g+1))}let f=!1,m=-1;if(s)for(let g=0;g<c.length;g++){let y=c[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:v,errors:x}=s,S=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!x||x[y.route.id]===void 0);if(y.route.lazy||S){f=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((g,y,v)=>{let x,S=!1,T=null,k=null;s&&(x=u&&y.route.id?u[y.route.id]:void 0,T=y.route.errorElement||Z3,f&&(m<0&&v===0?(Q1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,k=null):m===v&&(S=!0,k=y.route.hydrateFallbackElement||null)));let E=t.concat(c.slice(0,v+1)),A=()=>{let N;return x?N=T:S?N=k:y.route.Component?N=b.createElement(y.route.Component,null):y.route.element?N=y.route.element:N=g,b.createElement(J3,{match:y,routeContext:{outlet:g,matches:E,isDataRoute:s!=null},children:N})};return s&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?b.createElement(W3,{location:s.location,revalidation:s.revalidation,component:T,error:x,children:A(),routeContext:{outlet:null,matches:E,isDataRoute:!0},unstable_onError:a}):A()},null)}function jm(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tk(e){let t=b.useContext(Cr);return Ct(t,jm(e)),t}function nk(e){let t=b.useContext(wu);return Ct(t,jm(e)),t}function sk(e){let t=b.useContext(xs);return Ct(t,jm(e)),t}function Mm(e){let t=sk(e),s=t.matches[t.matches.length-1];return Ct(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function ik(){return Mm("useRouteId")}function ak(){let e=b.useContext(Em),t=nk("useRouteError"),s=Mm("useRouteError");return e!==void 0?e:t.errors?.[s]}function rk(){let{router:e}=tk("useNavigate"),t=Mm("useNavigate"),s=b.useRef(!1);return Y1(()=>{s.current=!0}),b.useCallback(async(o,c={})=>{gs(s.current,K1),s.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...c}))},[e,t])}var Ev={};function Q1(e,t,s){!t&&!Ev[e]&&(Ev[e]=!0,gs(!1,s))}b.memo(ok);function ok({routes:e,future:t,state:s,unstable_onError:a}){return F1(e,void 0,s,a,t)}function jv({to:e,replace:t,state:s,relative:a}){Ct(kr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=b.useContext(bs);gs(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=b.useContext(xs),{pathname:u}=li(),f=Su(),m=Nm(e,Am(c),u,a==="path"),g=JSON.stringify(m);return b.useEffect(()=>{f(JSON.parse(g),{replace:t,state:s,relative:a})},[f,g,a,t,s]),null}function Gn(e){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lk({basename:e="/",children:t=null,location:s,navigationType:a="POP",navigator:o,static:c=!1}){Ct(!kr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),f=b.useMemo(()=>({basename:u,navigator:o,static:c,future:{}}),[u,o,c]);typeof s=="string"&&(s=Sr(s));let{pathname:m="/",search:g="",hash:y="",state:v=null,key:x="default"}=s,S=b.useMemo(()=>{let T=ii(m,u);return T==null?null:{location:{pathname:T,search:g,hash:y,state:v,key:x},navigationType:a}},[u,m,g,y,v,x,a]);return gs(S!=null,`<Router basename="${u}"> is not able to match the URL "${m}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:b.createElement(bs.Provider,{value:f},b.createElement(hl.Provider,{children:t,value:S}))}function ck({children:e,location:t}){return X3(zh(e),t)}function zh(e,t=[]){let s=[];return b.Children.forEach(e,(a,o)=>{if(!b.isValidElement(a))return;let c=[...t,o];if(a.type===b.Fragment){s.push.apply(s,zh(a.props.children,c));return}Ct(a.type===Gn,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!a.props.index||!a.props.children,"An index route cannot have child routes.");let u={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(u.children=zh(a.props.children,c)),s.push(u)}),s}var Xc="get",Ic="application/x-www-form-urlencoded";function Cu(e){return e!=null&&typeof e.tagName=="string"}function uk(e){return Cu(e)&&e.tagName.toLowerCase()==="button"}function fk(e){return Cu(e)&&e.tagName.toLowerCase()==="form"}function dk(e){return Cu(e)&&e.tagName.toLowerCase()==="input"}function hk(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function mk(e,t){return e.button===0&&(!t||t==="_self")&&!hk(e)}var Dc=null;function pk(){if(Dc===null)try{new FormData(document.createElement("form"),0),Dc=!1}catch{Dc=!0}return Dc}var gk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zd(e){return e!=null&&!gk.has(e)?(gs(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ic}"`),null):e}function yk(e,t){let s,a,o,c,u;if(fk(e)){let f=e.getAttribute("action");a=f?ii(f,t):null,s=e.getAttribute("method")||Xc,o=Zd(e.getAttribute("enctype"))||Ic,c=new FormData(e)}else if(uk(e)||dk(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||f.getAttribute("action");if(a=m?ii(m,t):null,s=e.getAttribute("formmethod")||f.getAttribute("method")||Xc,o=Zd(e.getAttribute("formenctype"))||Zd(f.getAttribute("enctype"))||Ic,c=new FormData(f,e),!pk()){let{name:g,type:y,value:v}=e;if(y==="image"){let x=g?`${g}.`:"";c.append(`${x}x`,"0"),c.append(`${x}y`,"0")}else g&&c.append(g,v)}}else{if(Cu(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Xc,a=null,o=Ic,u=e}return c&&o==="text/plain"&&(u=c,c=void 0),{action:a,method:s.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _m(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vk(e,t,s){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return a.pathname==="/"?a.pathname=`_root.${s}`:t&&ii(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function bk(e,t){if(e.id in t)return t[e.id];try{let s=await import(e.module);return t[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xk(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function wk(e,t,s){let a=await Promise.all(e.map(async o=>{let c=t.routes[o.route.id];if(c){let u=await bk(c,s);return u.links?u.links():[]}return[]}));return Tk(a.flat(1).filter(xk).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Mv(e,t,s,a,o,c){let u=(m,g)=>s[g]?m.route.id!==s[g].route.id:!0,f=(m,g)=>s[g].pathname!==m.pathname||s[g].route.path?.endsWith("*")&&s[g].params["*"]!==m.params["*"];return c==="assets"?t.filter((m,g)=>u(m,g)||f(m,g)):c==="data"?t.filter((m,g)=>{let y=a.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(u(m,g)||f(m,g))return!0;if(m.route.shouldRevalidate){let v=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Sk(e,t,{includeHydrateFallback:s}={}){return Ck(e.map(a=>{let o=t.routes[a.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),s&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function Ck(e){return[...new Set(e)]}function kk(e){let t={},s=Object.keys(e).sort();for(let a of s)t[a]=e[a];return t}function Tk(e,t){let s=new Set;return new Set(t),e.reduce((a,o)=>{let c=JSON.stringify(kk(o));return s.has(c)||(s.add(c),a.push({key:c,link:o})),a},[])}function X1(){let e=b.useContext(Cr);return _m(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ak(){let e=b.useContext(wu);return _m(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Rm=b.createContext(void 0);Rm.displayName="FrameworkContext";function I1(){let e=b.useContext(Rm);return _m(e,"You must render this element inside a <HydratedRouter> element"),e}function Nk(e,t){let s=b.useContext(Rm),[a,o]=b.useState(!1),[c,u]=b.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:g,onMouseLeave:y,onTouchStart:v}=t,x=b.useRef(null);b.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let k=A=>{A.forEach(N=>{u(N.isIntersecting)})},E=new IntersectionObserver(k,{threshold:.5});return x.current&&E.observe(x.current),()=>{E.disconnect()}}},[e]),b.useEffect(()=>{if(a){let k=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(k)}}},[a]);let S=()=>{o(!0)},T=()=>{o(!1),u(!1)};return s?e!=="intent"?[c,x,{}]:[c,x,{onFocus:Do(f,S),onBlur:Do(m,T),onMouseEnter:Do(g,S),onMouseLeave:Do(y,T),onTouchStart:Do(v,S)}]:[!1,x,{}]}function Do(e,t){return s=>{e&&e(s),s.defaultPrevented||t(s)}}function Ek({page:e,...t}){let{router:s}=X1(),a=b.useMemo(()=>U1(s.routes,e,s.basename),[s.routes,e,s.basename]);return a?b.createElement(Mk,{page:e,matches:a,...t}):null}function jk(e){let{manifest:t,routeModules:s}=I1(),[a,o]=b.useState([]);return b.useEffect(()=>{let c=!1;return wk(e,t,s).then(u=>{c||o(u)}),()=>{c=!0}},[e,t,s]),a}function Mk({page:e,matches:t,...s}){let a=li(),{manifest:o,routeModules:c}=I1(),{basename:u}=X1(),{loaderData:f,matches:m}=Ak(),g=b.useMemo(()=>Mv(e,t,m,o,a,"data"),[e,t,m,o,a]),y=b.useMemo(()=>Mv(e,t,m,o,a,"assets"),[e,t,m,o,a]),v=b.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let T=new Set,k=!1;if(t.forEach(A=>{let N=o.routes[A.route.id];!N||!N.hasLoader||(!g.some(_=>_.route.id===A.route.id)&&A.route.id in f&&c[A.route.id]?.shouldRevalidate||N.hasClientLoader?k=!0:T.add(A.route.id))}),T.size===0)return[];let E=vk(e,u,"data");return k&&T.size>0&&E.searchParams.set("_routes",t.filter(A=>T.has(A.route.id)).map(A=>A.route.id).join(",")),[E.pathname+E.search]},[u,f,a,o,g,t,e,c]),x=b.useMemo(()=>Sk(y,o),[y,o]),S=jk(y);return b.createElement(b.Fragment,null,v.map(T=>b.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...s})),x.map(T=>b.createElement("link",{key:T,rel:"modulepreload",href:T,...s})),S.map(({key:T,link:k})=>b.createElement("link",{key:T,nonce:s.nonce,...k})))}function _k(...e){return t=>{e.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var Z1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Z1&&(window.__reactRouterVersion="7.8.2")}catch{}function Rk({basename:e,children:t,window:s}){let a=b.useRef();a.current==null&&(a.current=b3({window:s,v5Compat:!0}));let o=a.current,[c,u]=b.useState({action:o.action,location:o.location}),f=b.useCallback(m=>{b.startTransition(()=>u(m))},[u]);return b.useLayoutEffect(()=>o.listen(f),[o,f]),b.createElement(lk,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:o})}var W1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ca=b.forwardRef(function({onClick:t,discover:s="render",prefetch:a="none",relative:o,reloadDocument:c,replace:u,state:f,target:m,to:g,preventScrollReset:y,viewTransition:v,...x},S){let{basename:T}=b.useContext(bs),k=typeof g=="string"&&W1.test(g),E,A=!1;if(typeof g=="string"&&k&&(E=g,Z1))try{let ee=new URL(window.location.href),ae=g.startsWith("//")?new URL(ee.protocol+g):new URL(g),ue=ii(ae.pathname,T);ae.origin===ee.origin&&ue!=null?g=ue+ae.search+ae.hash:A=!0}catch{gs(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=Y3(g,{relative:o}),[_,H,D]=Nk(a,x),F=Pk(g,{replace:u,state:f,target:m,preventScrollReset:y,relative:o,viewTransition:v});function I(ee){t&&t(ee),ee.defaultPrevented||F(ee)}let O=b.createElement("a",{...x,...D,href:E||N,onClick:A||c?t:I,ref:_k(S,H),target:m,"data-discover":!k&&s==="render"?"true":void 0});return _&&!k?b.createElement(b.Fragment,null,O,b.createElement(Ek,{page:N})):O});Ca.displayName="Link";var Dk=b.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:a="",end:o=!1,style:c,to:u,viewTransition:f,children:m,...g},y){let v=ml(u,{relative:g.relative}),x=li(),S=b.useContext(wu),{navigator:T,basename:k}=b.useContext(bs),E=S!=null&&Vk(v)&&f===!0,A=T.encodeLocation?T.encodeLocation(v).pathname:v.pathname,N=x.pathname,_=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;s||(N=N.toLowerCase(),_=_?_.toLowerCase():null,A=A.toLowerCase()),_&&k&&(_=ii(_,k)||_);const H=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let D=N===A||!o&&N.startsWith(A)&&N.charAt(H)==="/",F=_!=null&&(_===A||!o&&_.startsWith(A)&&_.charAt(A.length)==="/"),I={isActive:D,isPending:F,isTransitioning:E},O=D?t:void 0,ee;typeof a=="function"?ee=a(I):ee=[a,D?"active":null,F?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let ae=typeof c=="function"?c(I):c;return b.createElement(Ca,{...g,"aria-current":O,className:ee,ref:y,style:ae,to:u,viewTransition:f},typeof m=="function"?m(I):m)});Dk.displayName="NavLink";var Lk=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:s,reloadDocument:a,replace:o,state:c,method:u=Xc,action:f,onSubmit:m,relative:g,preventScrollReset:y,viewTransition:v,...x},S)=>{let T=qk(),k=Uk(f,{relative:g}),E=u.toLowerCase()==="get"?"get":"post",A=typeof f=="string"&&W1.test(f),N=_=>{if(m&&m(_),_.defaultPrevented)return;_.preventDefault();let H=_.nativeEvent.submitter,D=H?.getAttribute("formmethod")||u;T(H||_.currentTarget,{fetcherKey:t,method:D,navigate:s,replace:o,state:c,relative:g,preventScrollReset:y,viewTransition:v})};return b.createElement("form",{ref:S,method:E,action:k,onSubmit:a?m:N,...x,"data-discover":!A&&e==="render"?"true":void 0})});Lk.displayName="Form";function Ok(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function J1(e){let t=b.useContext(Cr);return Ct(t,Ok(e)),t}function Pk(e,{target:t,replace:s,state:a,preventScrollReset:o,relative:c,viewTransition:u}={}){let f=Su(),m=li(),g=ml(e,{relative:c});return b.useCallback(y=>{if(mk(y,t)){y.preventDefault();let v=s!==void 0?s:Jo(m)===Jo(g);f(e,{replace:v,state:a,preventScrollReset:o,relative:c,viewTransition:u})}},[m,f,g,s,a,t,e,o,c,u])}var zk=0,Bk=()=>`__${String(++zk)}__`;function qk(){let{router:e}=J1("useSubmit"),{basename:t}=b.useContext(bs),s=ik();return b.useCallback(async(a,o={})=>{let{action:c,method:u,encType:f,formData:m,body:g}=yk(a,t);if(o.navigate===!1){let y=o.fetcherKey||Bk();await e.fetch(y,s,o.action||c,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||u,formEncType:o.encType||f,flushSync:o.flushSync})}else await e.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||u,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:s,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,s])}function Uk(e,{relative:t}={}){let{basename:s}=b.useContext(bs),a=b.useContext(xs);Ct(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),c={...ml(e||".",{relative:t})},u=li();if(e==null){c.search=u.search;let f=new URLSearchParams(c.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(v=>v).forEach(v=>f.append("index",v));let y=f.toString();c.search=y?`?${y}`:""}}return(!e||e===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(c.pathname=c.pathname==="/"?s:si([s,c.pathname])),Jo(c)}function Vk(e,{relative:t}={}){let s=b.useContext(G1);Ct(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=J1("useViewTransitionState"),o=ml(e,{relative:t});if(!s.isTransitioning)return!1;let c=ii(s.currentLocation.pathname,a)||s.currentLocation.pathname,u=ii(s.nextLocation.pathname,a)||s.nextLocation.pathname;return lu(o.pathname,u)!=null||lu(o.pathname,c)!=null}var qo=q1(),ku=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Tu=typeof window>"u"||"Deno"in globalThis;function ms(){}function Hk(e,t){return typeof e=="function"?e(t):e}function $k(e){return typeof e=="number"&&e>=0&&e!==1/0}function Gk(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Bh(e,t){return typeof e=="function"?e(t):e}function Kk(e,t){return typeof e=="function"?e(t):e}function _v(e,t){const{type:s="all",exact:a,fetchStatus:o,predicate:c,queryKey:u,stale:f}=e;if(u){if(a){if(t.queryHash!==Dm(u,t.options))return!1}else if(!tl(t.queryKey,u))return!1}if(s!=="all"){const m=t.isActive();if(s==="active"&&!m||s==="inactive"&&m)return!1}return!(typeof f=="boolean"&&t.isStale()!==f||o&&o!==t.state.fetchStatus||c&&!c(t))}function Rv(e,t){const{exact:s,status:a,predicate:o,mutationKey:c}=e;if(c){if(!t.options.mutationKey)return!1;if(s){if(el(t.options.mutationKey)!==el(c))return!1}else if(!tl(t.options.mutationKey,c))return!1}return!(a&&t.state.status!==a||o&&!o(t))}function Dm(e,t){return(t?.queryKeyHashFn||el)(e)}function el(e){return JSON.stringify(e,(t,s)=>qh(s)?Object.keys(s).sort().reduce((a,o)=>(a[o]=s[o],a),{}):s)}function tl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>tl(e[s],t[s])):!1}var Yk=Object.prototype.hasOwnProperty;function ex(e,t){if(e===t)return e;const s=Dv(e)&&Dv(t);if(!s&&!(qh(e)&&qh(t)))return t;const o=(s?e:Object.keys(e)).length,c=s?t:Object.keys(t),u=c.length,f=s?new Array(u):{};let m=0;for(let g=0;g<u;g++){const y=s?g:c[g],v=e[y],x=t[y];if(v===x){f[y]=v,(s?g<o:Yk.call(e,y))&&m++;continue}if(v===null||x===null||typeof v!="object"||typeof x!="object"){f[y]=x;continue}const S=ex(v,x);f[y]=S,S===v&&m++}return o===u&&m===o?e:f}function Dv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function qh(e){if(!Lv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!Lv(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Lv(e){return Object.prototype.toString.call(e)==="[object Object]"}function Fk(e){return new Promise(t=>{setTimeout(t,e)})}function Qk(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?ex(e,t):t}function Xk(e,t,s=0){const a=[...e,t];return s&&a.length>s?a.slice(1):a}function Ik(e,t,s=0){const a=[t,...e];return s&&a.length>s?a.slice(0,-1):a}var Lm=Symbol();function tx(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Lm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Zk=class extends ku{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Tu&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},nx=new Zk,Wk=class extends ku{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Tu&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},cu=new Wk;function Jk(){let e,t;const s=new Promise((o,c)=>{e=o,t=c});s.status="pending",s.catch(()=>{});function a(o){Object.assign(s,o),delete s.resolve,delete s.reject}return s.resolve=o=>{a({status:"fulfilled",value:o}),e(o)},s.reject=o=>{a({status:"rejected",reason:o}),t(o)},s}function e5(e){return Math.min(1e3*2**e,3e4)}function sx(e){return(e??"online")==="online"?cu.isOnline():!0}var Uh=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function ix(e){let t=!1,s=0,a;const o=Jk(),c=()=>o.status!=="pending",u=k=>{if(!c()){const E=new Uh(k);x(E),e.onCancel?.(E)}},f=()=>{t=!0},m=()=>{t=!1},g=()=>nx.isFocused()&&(e.networkMode==="always"||cu.isOnline())&&e.canRun(),y=()=>sx(e.networkMode)&&e.canRun(),v=k=>{c()||(a?.(),o.resolve(k))},x=k=>{c()||(a?.(),o.reject(k))},S=()=>new Promise(k=>{a=E=>{(c()||g())&&k(E)},e.onPause?.()}).then(()=>{a=void 0,c()||e.onContinue?.()}),T=()=>{if(c())return;let k;const E=s===0?e.initialPromise:void 0;try{k=E??e.fn()}catch(A){k=Promise.reject(A)}Promise.resolve(k).then(v).catch(A=>{if(c())return;const N=e.retry??(Tu?0:3),_=e.retryDelay??e5,H=typeof _=="function"?_(s,A):_,D=N===!0||typeof N=="number"&&s<N||typeof N=="function"&&N(s,A);if(t||!D){x(A);return}s++,e.onFail?.(s,A),Fk(H).then(()=>g()?void 0:S()).then(()=>{t?x(A):T()})})};return{promise:o,status:()=>o.status,cancel:u,continue:()=>(a?.(),o),cancelRetry:f,continueRetry:m,canStart:y,start:()=>(y()?T():S().then(T),o)}}var t5=e=>setTimeout(e,0);function n5(){let e=[],t=0,s=f=>{f()},a=f=>{f()},o=t5;const c=f=>{t?e.push(f):o(()=>{s(f)})},u=()=>{const f=e;e=[],f.length&&o(()=>{a(()=>{f.forEach(m=>{s(m)})})})};return{batch:f=>{let m;t++;try{m=f()}finally{t--,t||u()}return m},batchCalls:f=>(...m)=>{c(()=>{f(...m)})},schedule:c,setNotifyFunction:f=>{s=f},setBatchNotifyFunction:f=>{a=f},setScheduler:f=>{o=f}}}var An=n5(),ax=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$k(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Tu?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},s5=class extends ax{#e;#t;#n;#i;#s;#r;#o;constructor(e){super(),this.#o=!1,this.#r=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=a5(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){this.options={...this.#r,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const s=Qk(this.state.data,e,this.options);return this.#a({data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#s?.promise;return this.#s?.cancel(e),t?t.then(ms).catch(ms):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Kk(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Lm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Bh(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Gk(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},o=()=>{const f=tx(this.options,t),g=(()=>{const y={client:this.#i,queryKey:this.queryKey,meta:this.meta};return a(y),y})();return this.#o=!1,this.options.persister?this.options.persister(f,g,this):f(g)},u=(()=>{const f={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:o};return a(f),f})();this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#a({type:"fetch",meta:u.fetchOptions?.meta}),this.#s=ix({initialPromise:t?.initialPromise,fn:u.fetchFn,onCancel:f=>{f instanceof Uh&&f.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(f,m)=>{this.#a({type:"failed",failureCount:f,error:m})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const f=await this.#s.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#n.config.onSuccess?.(f,this),this.#n.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof Uh){if(f.silent)return this.#s.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#a({type:"error",error:f}),this.#n.config.onError?.(f,this),this.#n.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#a(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...i5(s.data,this.options),fetchMeta:e.meta??null};case"success":const a={...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?a:void 0,a;case"error":const o=e.error;return{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),An.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function i5(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:sx(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function a5(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,a=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var r5=class extends ku{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,s){const a=t.queryKey,o=t.queryHash??Dm(a,t);let c=this.get(o);return c||(c=new s5({client:e,queryKey:a,queryHash:o,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(a)}),this.add(c)),c}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){An.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>_v(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>_v(e,s)):t}notify(e){An.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){An.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){An.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},o5=class extends ax{#e;#t;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||l5(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#i({type:"continue"})};this.#n=ix({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(o,c)=>{this.#i({type:"failed",failureCount:o,error:c})},onPause:()=>{this.#i({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const s=this.state.status==="pending",a=!this.#n.canStart();try{if(s)t();else{this.#i({type:"pending",variables:e,isPaused:a}),await this.#t.config.onMutate?.(e,this);const c=await this.options.onMutate?.(e);c!==this.state.context&&this.#i({type:"pending",context:c,variables:e,isPaused:a})}const o=await this.#n.start();return await this.#t.config.onSuccess?.(o,e,this.state.context,this),await this.options.onSuccess?.(o,e,this.state.context),await this.#t.config.onSettled?.(o,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(o,null,e,this.state.context),this.#i({type:"success",data:o}),o}catch(o){try{throw await this.#t.config.onError?.(o,e,this.state.context,this),await this.options.onError?.(o,e,this.state.context),await this.#t.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,o,e,this.state.context),o}finally{this.#i({type:"error",error:o})}}finally{this.#t.runNext(this)}}#i(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),An.batch(()=>{this.#e.forEach(s=>{s.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function l5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var c5=class extends ku{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,s){const a=new o5({mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:s});return this.add(a),a}add(e){this.#e.add(e);const t=Lc(e);if(typeof t=="string"){const s=this.#t.get(t);s?s.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Lc(e);if(typeof t=="string"){const s=this.#t.get(t);if(s)if(s.length>1){const a=s.indexOf(e);a!==-1&&s.splice(a,1)}else s[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Lc(e);if(typeof t=="string"){const a=this.#t.get(t)?.find(o=>o.state.status==="pending");return!a||a===e}else return!0}runNext(e){const t=Lc(e);return typeof t=="string"?this.#t.get(t)?.find(a=>a!==e&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){An.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(s=>Rv(t,s))}findAll(e={}){return this.getAll().filter(t=>Rv(e,t))}notify(e){An.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return An.batch(()=>Promise.all(e.map(t=>t.continue().catch(ms))))}};function Lc(e){return e.options.scope?.id}function Ov(e){return{onFetch:(t,s)=>{const a=t.options,o=t.fetchOptions?.meta?.fetchMore?.direction,c=t.state.data?.pages||[],u=t.state.data?.pageParams||[];let f={pages:[],pageParams:[]},m=0;const g=async()=>{let y=!1;const v=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},x=tx(t.options,t.fetchOptions),S=async(T,k,E)=>{if(y)return Promise.reject();if(k==null&&T.pages.length)return Promise.resolve(T);const N=(()=>{const F={client:t.client,queryKey:t.queryKey,pageParam:k,direction:E?"backward":"forward",meta:t.options.meta};return v(F),F})(),_=await x(N),{maxPages:H}=t.options,D=E?Ik:Xk;return{pages:D(T.pages,_,H),pageParams:D(T.pageParams,k,H)}};if(o&&c.length){const T=o==="backward",k=T?u5:Pv,E={pages:c,pageParams:u},A=k(a,E);f=await S(E,A,T)}else{const T=e??c.length;do{const k=m===0?u[0]??a.initialPageParam:Pv(a,f);if(m>0&&k==null)break;f=await S(f,k),m++}while(m<T)}return f};t.options.persister?t.fetchFn=()=>t.options.persister?.(g,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s):t.fetchFn=g}}}function Pv(e,{pages:t,pageParams:s}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,s[a],s):void 0}function u5(e,{pages:t,pageParams:s}){return t.length>0?e.getPreviousPageParam?.(t[0],t,s[0],s):void 0}var f5=class{#e;#t;#n;#i;#s;#r;#o;#a;constructor(e={}){this.#e=e.queryCache||new r5,this.#t=e.mutationCache||new c5,this.#n=e.defaultOptions||{},this.#i=new Map,this.#s=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#o=nx.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=cu.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=this.#e.build(this,t),a=s.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Bh(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:s})=>{const a=s.data;return[t,a]})}setQueryData(e,t,s){const a=this.defaultQueryOptions({queryKey:e}),c=this.#e.get(a.queryHash)?.state.data,u=Hk(t,c);if(u!==void 0)return this.#e.build(this,a).setData(u,{...s,manual:!0})}setQueriesData(e,t,s){return An.batch(()=>this.#e.findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,s)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;An.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=this.#e;return An.batch(()=>(s.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},a=An.batch(()=>this.#e.findAll(e).map(o=>o.cancel(s)));return Promise.all(a).then(ms).catch(ms)}invalidateQueries(e,t={}){return An.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},a=An.batch(()=>this.#e.findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let c=o.fetch(void 0,s);return s.throwOnError||(c=c.catch(ms)),o.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(a).then(ms)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=this.#e.build(this,t);return s.isStaleByTime(Bh(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ms).catch(ms)}fetchInfiniteQuery(e){return e.behavior=Ov(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ms).catch(ms)}ensureInfiniteQueryData(e){return e.behavior=Ov(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return cu.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#i.set(el(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#i.values()],s={};return t.forEach(a=>{tl(e,a.queryKey)&&Object.assign(s,a.defaultOptions)}),s}setMutationDefaults(e,t){this.#s.set(el(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#s.values()],s={};return t.forEach(a=>{tl(e,a.mutationKey)&&Object.assign(s,a.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Dm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Lm&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},d5=b.createContext(void 0),h5=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),d.jsx(d5.Provider,{value:e,children:t}));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),p5=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,a)=>a?a.toUpperCase():s.toLowerCase()),zv=e=>{const t=p5(e);return t.charAt(0).toUpperCase()+t.slice(1)},rx=(...e)=>e.filter((t,s,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===s).join(" ").trim(),g5=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var y5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:u,...f},m)=>b.createElement("svg",{ref:m,...y5,width:t,height:t,stroke:e,strokeWidth:a?Number(s)*24/Number(t):s,className:rx("lucide",o),...!c&&!g5(f)&&{"aria-hidden":"true"},...f},[...u.map(([g,y])=>b.createElement(g,y)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=(e,t)=>{const s=b.forwardRef(({className:a,...o},c)=>b.createElement(v5,{ref:c,iconNode:t,className:rx(`lucide-${m5(zv(e))}`,`lucide-${e}`,a),...o}));return s.displayName=zv(e),s};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],x5=ht("award",b5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],S5=ht("book-open",w5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Bv=ht("book",C5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],ya=ht("brain",k5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],A5=ht("chart-column",T5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Oc=ht("chevron-left",N5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],qv=ht("chevron-right",E5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],M5=ht("circle-alert",j5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],R5=ht("circle-check-big",_5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],L5=ht("circle-question-mark",D5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],os=ht("crown",O5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],z5=ht("flag",P5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],q5=ht("lightbulb",B5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],V5=ht("menu",U5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],ox=ht("monitor",H5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],G5=ht("play",$5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],Om=ht("puzzle",K5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Vh=ht("rotate-ccw",Y5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Uv=ht("shield",F5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Wd=ht("star",Q5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]],Jd=ht("sword",X5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],lx=ht("target",I5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],W5=ht("trending-up",Z5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Vi=ht("trophy",J5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],tT=ht("users",eT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Hh=ht("x",nT);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],eh=ht("zap",sT);function Vv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function iT(...e){return t=>{let s=!1;const a=e.map(o=>{const c=Vv(o,t);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let o=0;o<a.length;o++){const c=a[o];typeof c=="function"?c():Vv(e[o],null)}}}}function cx(e){const t=rT(e),s=b.forwardRef((a,o)=>{const{children:c,...u}=a,f=b.Children.toArray(c),m=f.find(lT);if(m){const g=m.props.children,y=f.map(v=>v===m?b.Children.count(g)>1?b.Children.only(null):b.isValidElement(g)?g.props.children:null:v);return d.jsx(t,{...u,ref:o,children:b.isValidElement(g)?b.cloneElement(g,void 0,y):null})}return d.jsx(t,{...u,ref:o,children:c})});return s.displayName=`${e}.Slot`,s}var aT=cx("Slot");function rT(e){const t=b.forwardRef((s,a)=>{const{children:o,...c}=s;if(b.isValidElement(o)){const u=uT(o),f=cT(c,o.props);return o.type!==b.Fragment&&(f.ref=a?iT(a,u):u),b.cloneElement(o,f)}return b.Children.count(o)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var oT=Symbol("radix.slottable");function lT(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===oT}function cT(e,t){const s={...t};for(const a in t){const o=e[a],c=t[a];/^on[A-Z]/.test(a)?o&&c?s[a]=(...f)=>{const m=c(...f);return o(...f),m}:o&&(s[a]=o):a==="style"?s[a]={...o,...c}:a==="className"&&(s[a]=[o,c].filter(Boolean).join(" "))}return{...e,...s}}function uT(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function ux(e){var t,s,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(s=ux(e[t]))&&(a&&(a+=" "),a+=s)}else for(s in e)e[s]&&(a&&(a+=" "),a+=s);return a}function fx(){for(var e,t,s=0,a="",o=arguments.length;s<o;s++)(e=arguments[s])&&(t=ux(e))&&(a&&(a+=" "),a+=t);return a}const Hv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,$v=fx,dx=(e,t)=>s=>{var a;if(t?.variants==null)return $v(e,s?.class,s?.className);const{variants:o,defaultVariants:c}=t,u=Object.keys(o).map(g=>{const y=s?.[g],v=c?.[g];if(y===null)return null;const x=Hv(y)||Hv(v);return o[g][x]}),f=s&&Object.entries(s).reduce((g,y)=>{let[v,x]=y;return x===void 0||(g[v]=x),g},{}),m=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((g,y)=>{let{class:v,className:x,...S}=y;return Object.entries(S).every(T=>{let[k,E]=T;return Array.isArray(E)?E.includes({...c,...f}[k]):{...c,...f}[k]===E})?[...g,v,x]:g},[]);return $v(e,u,m,s?.class,s?.className)},Pm="-",fT=e=>{const t=hT(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:u=>{const f=u.split(Pm);return f[0]===""&&f.length!==1&&f.shift(),hx(f,t)||dT(u)},getConflictingClassGroupIds:(u,f)=>{const m=s[u]||[];return f&&a[u]?[...m,...a[u]]:m}}},hx=(e,t)=>{if(e.length===0)return t.classGroupId;const s=e[0],a=t.nextPart.get(s),o=a?hx(e.slice(1),a):void 0;if(o)return o;if(t.validators.length===0)return;const c=e.join(Pm);return t.validators.find(({validator:u})=>u(c))?.classGroupId},Gv=/^\[(.+)\]$/,dT=e=>{if(Gv.test(e)){const t=Gv.exec(e)[1],s=t?.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},hT=e=>{const{theme:t,classGroups:s}=e,a={nextPart:new Map,validators:[]};for(const o in s)$h(s[o],a,o,t);return a},$h=(e,t,s,a)=>{e.forEach(o=>{if(typeof o=="string"){const c=o===""?t:Kv(t,o);c.classGroupId=s;return}if(typeof o=="function"){if(mT(o)){$h(o(a),t,s,a);return}t.validators.push({validator:o,classGroupId:s});return}Object.entries(o).forEach(([c,u])=>{$h(u,Kv(t,c),s,a)})})},Kv=(e,t)=>{let s=e;return t.split(Pm).forEach(a=>{s.nextPart.has(a)||s.nextPart.set(a,{nextPart:new Map,validators:[]}),s=s.nextPart.get(a)}),s},mT=e=>e.isThemeGetter,pT=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,a=new Map;const o=(c,u)=>{s.set(c,u),t++,t>e&&(t=0,a=s,s=new Map)};return{get(c){let u=s.get(c);if(u!==void 0)return u;if((u=a.get(c))!==void 0)return o(c,u),u},set(c,u){s.has(c)?s.set(c,u):o(c,u)}}},Gh="!",Kh=":",gT=Kh.length,yT=e=>{const{prefix:t,experimentalParseClassName:s}=e;let a=o=>{const c=[];let u=0,f=0,m=0,g;for(let T=0;T<o.length;T++){let k=o[T];if(u===0&&f===0){if(k===Kh){c.push(o.slice(m,T)),m=T+gT;continue}if(k==="/"){g=T;continue}}k==="["?u++:k==="]"?u--:k==="("?f++:k===")"&&f--}const y=c.length===0?o:o.substring(m),v=vT(y),x=v!==y,S=g&&g>m?g-m:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:v,maybePostfixModifierPosition:S}};if(t){const o=t+Kh,c=a;a=u=>u.startsWith(o)?c(u.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(s){const o=a;a=c=>s({className:c,parseClassName:o})}return a},vT=e=>e.endsWith(Gh)?e.substring(0,e.length-1):e.startsWith(Gh)?e.substring(1):e,bT=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const o=[];let c=[];return a.forEach(u=>{u[0]==="["||t[u]?(o.push(...c.sort(),u),c=[]):c.push(u)}),o.push(...c.sort()),o}},xT=e=>({cache:pT(e.cacheSize),parseClassName:yT(e),sortModifiers:bT(e),...fT(e)}),wT=/\s+/,ST=(e,t)=>{const{parseClassName:s,getClassGroupId:a,getConflictingClassGroupIds:o,sortModifiers:c}=t,u=[],f=e.trim().split(wT);let m="";for(let g=f.length-1;g>=0;g-=1){const y=f[g],{isExternal:v,modifiers:x,hasImportantModifier:S,baseClassName:T,maybePostfixModifierPosition:k}=s(y);if(v){m=y+(m.length>0?" "+m:m);continue}let E=!!k,A=a(E?T.substring(0,k):T);if(!A){if(!E){m=y+(m.length>0?" "+m:m);continue}if(A=a(T),!A){m=y+(m.length>0?" "+m:m);continue}E=!1}const N=c(x).join(":"),_=S?N+Gh:N,H=_+A;if(u.includes(H))continue;u.push(H);const D=o(A,E);for(let F=0;F<D.length;++F){const I=D[F];u.push(_+I)}m=y+(m.length>0?" "+m:m)}return m};function CT(){let e=0,t,s,a="";for(;e<arguments.length;)(t=arguments[e++])&&(s=mx(t))&&(a&&(a+=" "),a+=s);return a}const mx=e=>{if(typeof e=="string")return e;let t,s="";for(let a=0;a<e.length;a++)e[a]&&(t=mx(e[a]))&&(s&&(s+=" "),s+=t);return s};function kT(e,...t){let s,a,o,c=u;function u(m){const g=t.reduce((y,v)=>v(y),e());return s=xT(g),a=s.cache.get,o=s.cache.set,c=f,f(m)}function f(m){const g=a(m);if(g)return g;const y=ST(m,s);return o(m,y),y}return function(){return c(CT.apply(null,arguments))}}const Xt=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},px=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,gx=/^\((?:(\w[\w-]*):)?(.+)\)$/i,TT=/^\d+\/\d+$/,AT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,NT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ET=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,jT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,MT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,lr=e=>TT.test(e),Pe=e=>!!e&&!Number.isNaN(Number(e)),Di=e=>!!e&&Number.isInteger(Number(e)),th=e=>e.endsWith("%")&&Pe(e.slice(0,-1)),ti=e=>AT.test(e),_T=()=>!0,RT=e=>NT.test(e)&&!ET.test(e),yx=()=>!1,DT=e=>jT.test(e),LT=e=>MT.test(e),OT=e=>!pe(e)&&!ge(e),PT=e=>Tr(e,xx,yx),pe=e=>px.test(e),fa=e=>Tr(e,wx,RT),nh=e=>Tr(e,VT,Pe),Yv=e=>Tr(e,vx,yx),zT=e=>Tr(e,bx,LT),Pc=e=>Tr(e,Sx,DT),ge=e=>gx.test(e),Lo=e=>Ar(e,wx),BT=e=>Ar(e,HT),Fv=e=>Ar(e,vx),qT=e=>Ar(e,xx),UT=e=>Ar(e,bx),zc=e=>Ar(e,Sx,!0),Tr=(e,t,s)=>{const a=px.exec(e);return a?a[1]?t(a[1]):s(a[2]):!1},Ar=(e,t,s=!1)=>{const a=gx.exec(e);return a?a[1]?t(a[1]):s:!1},vx=e=>e==="position"||e==="percentage",bx=e=>e==="image"||e==="url",xx=e=>e==="length"||e==="size"||e==="bg-size",wx=e=>e==="length",VT=e=>e==="number",HT=e=>e==="family-name",Sx=e=>e==="shadow",$T=()=>{const e=Xt("color"),t=Xt("font"),s=Xt("text"),a=Xt("font-weight"),o=Xt("tracking"),c=Xt("leading"),u=Xt("breakpoint"),f=Xt("container"),m=Xt("spacing"),g=Xt("radius"),y=Xt("shadow"),v=Xt("inset-shadow"),x=Xt("text-shadow"),S=Xt("drop-shadow"),T=Xt("blur"),k=Xt("perspective"),E=Xt("aspect"),A=Xt("ease"),N=Xt("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...H(),ge,pe],F=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],O=()=>[ge,pe,m],ee=()=>[lr,"full","auto",...O()],ae=()=>[Di,"none","subgrid",ge,pe],ue=()=>["auto",{span:["full",Di,ge,pe]},Di,ge,pe],fe=()=>[Di,"auto",ge,pe],be=()=>["auto","min","max","fr",ge,pe],ve=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],he=()=>["start","end","center","stretch","center-safe","end-safe"],B=()=>["auto",...O()],V=()=>[lr,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],X=()=>[e,ge,pe],ie=()=>[...H(),Fv,Yv,{position:[ge,pe]}],M=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Y=()=>["auto","cover","contain",qT,PT,{size:[ge,pe]}],se=()=>[th,Lo,fa],te=()=>["","none","full",g,ge,pe],oe=()=>["",Pe,Lo,fa],de=()=>["solid","dashed","dotted","double"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ke=()=>[Pe,th,Fv,Yv],Re=()=>["","none",T,ge,pe],vt=()=>["none",Pe,ge,pe],Qe=()=>["none",Pe,ge,pe],it=()=>[Pe,ge,pe],ce=()=>[lr,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ti],breakpoint:[ti],color:[_T],container:[ti],"drop-shadow":[ti],ease:["in","out","in-out"],font:[OT],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ti],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ti],shadow:[ti],spacing:["px",Pe],text:[ti],"text-shadow":[ti],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",lr,pe,ge,E]}],container:["container"],columns:[{columns:[Pe,pe,ge,f]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ee()}],"inset-x":[{"inset-x":ee()}],"inset-y":[{"inset-y":ee()}],start:[{start:ee()}],end:[{end:ee()}],top:[{top:ee()}],right:[{right:ee()}],bottom:[{bottom:ee()}],left:[{left:ee()}],visibility:["visible","invisible","collapse"],z:[{z:[Di,"auto",ge,pe]}],basis:[{basis:[lr,"full","auto",f,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Pe,lr,"auto","initial","none",pe]}],grow:[{grow:["",Pe,ge,pe]}],shrink:[{shrink:["",Pe,ge,pe]}],order:[{order:[Di,"first","last","none",ge,pe]}],"grid-cols":[{"grid-cols":ae()}],"col-start-end":[{col:ue()}],"col-start":[{"col-start":fe()}],"col-end":[{"col-end":fe()}],"grid-rows":[{"grid-rows":ae()}],"row-start-end":[{row:ue()}],"row-start":[{"row-start":fe()}],"row-end":[{"row-end":fe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":be()}],"auto-rows":[{"auto-rows":be()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...ve(),"normal"]}],"justify-items":[{"justify-items":[...he(),"normal"]}],"justify-self":[{"justify-self":["auto",...he()]}],"align-content":[{content:["normal",...ve()]}],"align-items":[{items:[...he(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...he(),{baseline:["","last"]}]}],"place-content":[{"place-content":ve()}],"place-items":[{"place-items":[...he(),"baseline"]}],"place-self":[{"place-self":["auto",...he()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:B()}],mx:[{mx:B()}],my:[{my:B()}],ms:[{ms:B()}],me:[{me:B()}],mt:[{mt:B()}],mr:[{mr:B()}],mb:[{mb:B()}],ml:[{ml:B()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:V()}],w:[{w:[f,"screen",...V()]}],"min-w":[{"min-w":[f,"screen","none",...V()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...V()]}],h:[{h:["screen","lh",...V()]}],"min-h":[{"min-h":["screen","lh","none",...V()]}],"max-h":[{"max-h":["screen","lh",...V()]}],"font-size":[{text:["base",s,Lo,fa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,ge,nh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",th,pe]}],"font-family":[{font:[BT,pe,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,ge,pe]}],"line-clamp":[{"line-clamp":[Pe,"none",ge,nh]}],leading:[{leading:[c,...O()]}],"list-image":[{"list-image":["none",ge,pe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ge,pe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:X()}],"text-color":[{text:X()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...de(),"wavy"]}],"text-decoration-thickness":[{decoration:[Pe,"from-font","auto",ge,fa]}],"text-decoration-color":[{decoration:X()}],"underline-offset":[{"underline-offset":[Pe,"auto",ge,pe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge,pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge,pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ie()}],"bg-repeat":[{bg:M()}],"bg-size":[{bg:Y()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Di,ge,pe],radial:["",ge,pe],conic:[Di,ge,pe]},UT,zT]}],"bg-color":[{bg:X()}],"gradient-from-pos":[{from:se()}],"gradient-via-pos":[{via:se()}],"gradient-to-pos":[{to:se()}],"gradient-from":[{from:X()}],"gradient-via":[{via:X()}],"gradient-to":[{to:X()}],rounded:[{rounded:te()}],"rounded-s":[{"rounded-s":te()}],"rounded-e":[{"rounded-e":te()}],"rounded-t":[{"rounded-t":te()}],"rounded-r":[{"rounded-r":te()}],"rounded-b":[{"rounded-b":te()}],"rounded-l":[{"rounded-l":te()}],"rounded-ss":[{"rounded-ss":te()}],"rounded-se":[{"rounded-se":te()}],"rounded-ee":[{"rounded-ee":te()}],"rounded-es":[{"rounded-es":te()}],"rounded-tl":[{"rounded-tl":te()}],"rounded-tr":[{"rounded-tr":te()}],"rounded-br":[{"rounded-br":te()}],"rounded-bl":[{"rounded-bl":te()}],"border-w":[{border:oe()}],"border-w-x":[{"border-x":oe()}],"border-w-y":[{"border-y":oe()}],"border-w-s":[{"border-s":oe()}],"border-w-e":[{"border-e":oe()}],"border-w-t":[{"border-t":oe()}],"border-w-r":[{"border-r":oe()}],"border-w-b":[{"border-b":oe()}],"border-w-l":[{"border-l":oe()}],"divide-x":[{"divide-x":oe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":oe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...de(),"hidden","none"]}],"divide-style":[{divide:[...de(),"hidden","none"]}],"border-color":[{border:X()}],"border-color-x":[{"border-x":X()}],"border-color-y":[{"border-y":X()}],"border-color-s":[{"border-s":X()}],"border-color-e":[{"border-e":X()}],"border-color-t":[{"border-t":X()}],"border-color-r":[{"border-r":X()}],"border-color-b":[{"border-b":X()}],"border-color-l":[{"border-l":X()}],"divide-color":[{divide:X()}],"outline-style":[{outline:[...de(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Pe,ge,pe]}],"outline-w":[{outline:["",Pe,Lo,fa]}],"outline-color":[{outline:X()}],shadow:[{shadow:["","none",y,zc,Pc]}],"shadow-color":[{shadow:X()}],"inset-shadow":[{"inset-shadow":["none",v,zc,Pc]}],"inset-shadow-color":[{"inset-shadow":X()}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:X()}],"ring-offset-w":[{"ring-offset":[Pe,fa]}],"ring-offset-color":[{"ring-offset":X()}],"inset-ring-w":[{"inset-ring":oe()}],"inset-ring-color":[{"inset-ring":X()}],"text-shadow":[{"text-shadow":["none",x,zc,Pc]}],"text-shadow-color":[{"text-shadow":X()}],opacity:[{opacity:[Pe,ge,pe]}],"mix-blend":[{"mix-blend":[...re(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":re()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Pe]}],"mask-image-linear-from-pos":[{"mask-linear-from":ke()}],"mask-image-linear-to-pos":[{"mask-linear-to":ke()}],"mask-image-linear-from-color":[{"mask-linear-from":X()}],"mask-image-linear-to-color":[{"mask-linear-to":X()}],"mask-image-t-from-pos":[{"mask-t-from":ke()}],"mask-image-t-to-pos":[{"mask-t-to":ke()}],"mask-image-t-from-color":[{"mask-t-from":X()}],"mask-image-t-to-color":[{"mask-t-to":X()}],"mask-image-r-from-pos":[{"mask-r-from":ke()}],"mask-image-r-to-pos":[{"mask-r-to":ke()}],"mask-image-r-from-color":[{"mask-r-from":X()}],"mask-image-r-to-color":[{"mask-r-to":X()}],"mask-image-b-from-pos":[{"mask-b-from":ke()}],"mask-image-b-to-pos":[{"mask-b-to":ke()}],"mask-image-b-from-color":[{"mask-b-from":X()}],"mask-image-b-to-color":[{"mask-b-to":X()}],"mask-image-l-from-pos":[{"mask-l-from":ke()}],"mask-image-l-to-pos":[{"mask-l-to":ke()}],"mask-image-l-from-color":[{"mask-l-from":X()}],"mask-image-l-to-color":[{"mask-l-to":X()}],"mask-image-x-from-pos":[{"mask-x-from":ke()}],"mask-image-x-to-pos":[{"mask-x-to":ke()}],"mask-image-x-from-color":[{"mask-x-from":X()}],"mask-image-x-to-color":[{"mask-x-to":X()}],"mask-image-y-from-pos":[{"mask-y-from":ke()}],"mask-image-y-to-pos":[{"mask-y-to":ke()}],"mask-image-y-from-color":[{"mask-y-from":X()}],"mask-image-y-to-color":[{"mask-y-to":X()}],"mask-image-radial":[{"mask-radial":[ge,pe]}],"mask-image-radial-from-pos":[{"mask-radial-from":ke()}],"mask-image-radial-to-pos":[{"mask-radial-to":ke()}],"mask-image-radial-from-color":[{"mask-radial-from":X()}],"mask-image-radial-to-color":[{"mask-radial-to":X()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":H()}],"mask-image-conic-pos":[{"mask-conic":[Pe]}],"mask-image-conic-from-pos":[{"mask-conic-from":ke()}],"mask-image-conic-to-pos":[{"mask-conic-to":ke()}],"mask-image-conic-from-color":[{"mask-conic-from":X()}],"mask-image-conic-to-color":[{"mask-conic-to":X()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ie()}],"mask-repeat":[{mask:M()}],"mask-size":[{mask:Y()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ge,pe]}],filter:[{filter:["","none",ge,pe]}],blur:[{blur:Re()}],brightness:[{brightness:[Pe,ge,pe]}],contrast:[{contrast:[Pe,ge,pe]}],"drop-shadow":[{"drop-shadow":["","none",S,zc,Pc]}],"drop-shadow-color":[{"drop-shadow":X()}],grayscale:[{grayscale:["",Pe,ge,pe]}],"hue-rotate":[{"hue-rotate":[Pe,ge,pe]}],invert:[{invert:["",Pe,ge,pe]}],saturate:[{saturate:[Pe,ge,pe]}],sepia:[{sepia:["",Pe,ge,pe]}],"backdrop-filter":[{"backdrop-filter":["","none",ge,pe]}],"backdrop-blur":[{"backdrop-blur":Re()}],"backdrop-brightness":[{"backdrop-brightness":[Pe,ge,pe]}],"backdrop-contrast":[{"backdrop-contrast":[Pe,ge,pe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Pe,ge,pe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Pe,ge,pe]}],"backdrop-invert":[{"backdrop-invert":["",Pe,ge,pe]}],"backdrop-opacity":[{"backdrop-opacity":[Pe,ge,pe]}],"backdrop-saturate":[{"backdrop-saturate":[Pe,ge,pe]}],"backdrop-sepia":[{"backdrop-sepia":["",Pe,ge,pe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ge,pe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Pe,"initial",ge,pe]}],ease:[{ease:["linear","initial",A,ge,pe]}],delay:[{delay:[Pe,ge,pe]}],animate:[{animate:["none",N,ge,pe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,ge,pe]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:vt()}],"rotate-x":[{"rotate-x":vt()}],"rotate-y":[{"rotate-y":vt()}],"rotate-z":[{"rotate-z":vt()}],scale:[{scale:Qe()}],"scale-x":[{"scale-x":Qe()}],"scale-y":[{"scale-y":Qe()}],"scale-z":[{"scale-z":Qe()}],"scale-3d":["scale-3d"],skew:[{skew:it()}],"skew-x":[{"skew-x":it()}],"skew-y":[{"skew-y":it()}],transform:[{transform:[ge,pe,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ce()}],"translate-x":[{"translate-x":ce()}],"translate-y":[{"translate-y":ce()}],"translate-z":[{"translate-z":ce()}],"translate-none":["translate-none"],accent:[{accent:X()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:X()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge,pe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge,pe]}],fill:[{fill:["none",...X()]}],"stroke-w":[{stroke:[Pe,Lo,fa,nh]}],stroke:[{stroke:["none",...X()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},GT=kT($T);function ys(...e){return GT(fx(e))}const KT=dx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),He=b.forwardRef(({className:e,variant:t,size:s,asChild:a=!1,...o},c)=>{const u=a?aT:"button";return d.jsx(u,{className:ys(KT({variant:t,size:s,className:e})),ref:c,...o})});He.displayName="Button";const YT=[{name:"Dashboard",href:"/dashboard",icon:A5},{name:"Lessons",href:"/lessons",icon:S5},{name:"Puzzles",href:"/puzzles",icon:Om},{name:"vs Computer",href:"/play",icon:ox},{name:"Leaderboard",href:"/leaderboard",icon:Vi}],Qv=({isOpen:e,onClose:t})=>{const s=li(),a=d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsx("div",{className:"p-4 border-b",children:d.jsxs(Ca,{to:"/dashboard",className:"flex items-center space-x-2",onClick:t,children:[d.jsx(os,{className:"h-6 w-6 text-blue-600"}),d.jsx("span",{className:"font-bold text-xl text-gray-900",children:"Chess Academy"})]})}),d.jsx("nav",{className:"flex-1 p-4 space-y-1",children:YT.map(o=>{const c=o.icon,u=s.pathname===o.href;return d.jsx(He,{variant:u?"secondary":"ghost",className:ys("w-full justify-start space-x-2 h-10",u&&"bg-accent text-accent-foreground"),asChild:!0,children:d.jsxs(Ca,{to:o.href,onClick:t,children:[d.jsx(c,{className:"h-4 w-4"}),d.jsx("span",{children:o.name})]})},o.name)})}),d.jsx("div",{className:"p-4 border-t",children:d.jsx("div",{className:"text-xs text-muted-foreground",children:d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsx("span",{children:"Current Rating"}),d.jsx("span",{className:"font-medium",children:"1200"})]})})})]});return d.jsxs(d.Fragment,{children:[e&&d.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:t}),d.jsx("aside",{className:ys("fixed left-0 top-14 z-50 h-[calc(100vh-3.5rem)] w-64 transform border-r bg-background transition-transform duration-200 ease-in-out md:relative md:top-0 md:h-full md:translate-x-0",e?"translate-x-0":"-translate-x-full"),children:a})]})},js=({children:e})=>{const[t,s]=b.useState(!1),a=()=>{s(!t)},o=()=>{s(!1)};return d.jsxs("div",{className:"flex h-screen bg-background",children:[d.jsx("div",{className:"hidden md:flex md:w-64 md:flex-col bg-white border-r border-gray-200",children:d.jsx(Qv,{isOpen:!0})}),t&&d.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:o}),d.jsx("div",{className:"relative flex w-64 h-full bg-white border-r border-gray-200",children:d.jsx(Qv,{isOpen:!0,onClose:o})})]}),d.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[d.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 bg-white border-b border-gray-200",children:[d.jsx(He,{variant:"ghost",size:"sm",onClick:a,className:"text-gray-600",children:t?d.jsx(Hh,{className:"h-5 w-5"}):d.jsx(V5,{className:"h-5 w-5"})}),d.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Chess Academy"}),d.jsx("div",{className:"w-8"})," "]}),d.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50",children:e})]})]})},rn=b.forwardRef(({className:e,...t},s)=>d.jsx("div",{ref:s,className:ys("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));rn.displayName="Card";const Yn=b.forwardRef(({className:e,...t},s)=>d.jsx("div",{ref:s,className:ys("flex flex-col space-y-1.5 p-6",e),...t}));Yn.displayName="CardHeader";const Fn=b.forwardRef(({className:e,...t},s)=>d.jsx("div",{ref:s,className:ys("text-2xl font-semibold leading-none tracking-tight",e),...t}));Fn.displayName="CardTitle";const Go=b.forwardRef(({className:e,...t},s)=>d.jsx("div",{ref:s,className:ys("text-sm text-muted-foreground",e),...t}));Go.displayName="CardDescription";const xn=b.forwardRef(({className:e,...t},s)=>d.jsx("div",{ref:s,className:ys("p-6 pt-0",e),...t}));xn.displayName="CardContent";const Cx=b.forwardRef(({className:e,...t},s)=>d.jsx("div",{ref:s,className:ys("flex items-center p-6 pt-0",e),...t}));Cx.displayName="CardFooter";function FT(e,t=[]){let s=[];function a(c,u){const f=b.createContext(u),m=s.length;s=[...s,u];const g=v=>{const{scope:x,children:S,...T}=v,k=x?.[e]?.[m]||f,E=b.useMemo(()=>T,Object.values(T));return d.jsx(k.Provider,{value:E,children:S})};g.displayName=c+"Provider";function y(v,x){const S=x?.[e]?.[m]||f,T=b.useContext(S);if(T)return T;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${c}\``)}return[g,y]}const o=()=>{const c=s.map(u=>b.createContext(u));return function(f){const m=f?.[e]||c;return b.useMemo(()=>({[`__scope${e}`]:{...f,[e]:m}}),[f,m])}};return o.scopeName=e,[a,QT(o,...t)]}function QT(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const a=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const u=a.reduce((f,{useScope:m,scopeName:g})=>{const v=m(c)[`__scope${g}`];return{...f,...v}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return s.scopeName=t.scopeName,s}var XT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],kx=XT.reduce((e,t)=>{const s=cx(`Primitive.${t}`),a=b.forwardRef((o,c)=>{const{asChild:u,...f}=o,m=u?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(m,{...f,ref:c})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),zm="Progress",Bm=100,[IT,F6]=FT(zm),[ZT,WT]=IT(zm),Tx=b.forwardRef((e,t)=>{const{__scopeProgress:s,value:a=null,max:o,getValueLabel:c=JT,...u}=e;(o||o===0)&&!Xv(o)&&console.error(eA(`${o}`,"Progress"));const f=Xv(o)?o:Bm;a!==null&&!Iv(a,f)&&console.error(tA(`${a}`,"Progress"));const m=Iv(a,f)?a:null,g=uu(m)?c(m,f):void 0;return d.jsx(ZT,{scope:s,value:m,max:f,children:d.jsx(kx.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":uu(m)?m:void 0,"aria-valuetext":g,role:"progressbar","data-state":Ex(m,f),"data-value":m??void 0,"data-max":f,...u,ref:t})})});Tx.displayName=zm;var Ax="ProgressIndicator",Nx=b.forwardRef((e,t)=>{const{__scopeProgress:s,...a}=e,o=WT(Ax,s);return d.jsx(kx.div,{"data-state":Ex(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...a,ref:t})});Nx.displayName=Ax;function JT(e,t){return`${Math.round(e/t*100)}%`}function Ex(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function uu(e){return typeof e=="number"}function Xv(e){return uu(e)&&!isNaN(e)&&e>0}function Iv(e,t){return uu(e)&&!isNaN(e)&&e<=t&&e>=0}function eA(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Bm}\`.`}function tA(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Bm} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var jx=Tx,nA=Nx;const qm=b.forwardRef(({className:e,value:t,...s},a)=>d.jsx(jx,{ref:a,className:ys("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:d.jsx(nA,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));qm.displayName=jx.displayName;const sA=dx("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-600",info:"border-transparent bg-blue-500 text-white hover:bg-blue-600"}},defaultVariants:{variant:"default"}});function ka({className:e,variant:t,...s}){return d.jsx("div",{className:ys(sA({variant:t}),e),...s})}const iA=({title:e,description:t,icon:s,to:a,cta:o,color:c})=>d.jsxs(rn,{className:"h-full hover:shadow-md transition-shadow duration-200",children:[d.jsxs(Yn,{className:"flex flex-row items-center gap-3",children:[d.jsx("div",{className:`p-3 rounded-xl ${c}`,children:s}),d.jsxs("div",{className:"flex-1",children:[d.jsx(Fn,{className:"text-lg",children:e}),d.jsx(Go,{className:"text-sm",children:t})]})]}),d.jsx(xn,{}),d.jsx(Cx,{children:d.jsx(He,{asChild:!0,className:"w-full",children:d.jsx(Ca,{to:a,children:o})})})]}),sh=({title:e,value:t,subtitle:s,progress:a,color:o})=>d.jsx(rn,{children:d.jsxs(xn,{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h3",{className:"font-semibold text-gray-900",children:e}),a!==void 0&&d.jsxs(ka,{variant:"secondary",className:"ml-2",children:[a,"%"]})]}),d.jsx("div",{className:`text-3xl font-bold mb-1 ${o}`,children:t}),d.jsx("p",{className:"text-sm text-muted-foreground",children:s}),a!==void 0&&d.jsx("div",{className:"mt-3",children:d.jsx(qm,{value:a,className:"h-2"})})]})}),aA=()=>{const e=[{title:"Learn",description:"Start with fundamentals and strategy.",icon:d.jsx(ya,{className:"h-6 w-6 text-white"}),to:"/lessons",cta:"Begin",color:"bg-blue-500"},{title:"Puzzles",description:"Sharpen tactics with themed sets.",icon:d.jsx(Om,{className:"h-6 w-6 text-white"}),to:"/puzzles",cta:"Solve",color:"bg-green-500"},{title:"vs Computer",description:"Practice games at your level.",icon:d.jsx(ox,{className:"h-6 w-6 text-white"}),to:"/play",cta:"Play",color:"bg-purple-500"},{title:"Leaderboard",description:"See top players and rankings.",icon:d.jsx(Vi,{className:"h-6 w-6 text-white"}),to:"/leaderboard",cta:"View",color:"bg-orange-500"}];return d.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("div",{className:"text-6xl mb-4",children:""}),d.jsx("h1",{className:"text-4xl font-bold text-foreground mb-4",children:"Welcome to Chess Academy!"}),d.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:"Ready to improve your chess skills today? "}),d.jsx(He,{size:"lg",asChild:!0,children:d.jsx(Ca,{to:"/lessons",children:"Start Course"})})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:e.map(t=>d.jsx(iA,{title:t.title,description:t.description,icon:t.icon,to:t.to,cta:t.cta,color:t.color},t.title))}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsx(sh,{title:"Lessons Completed",value:0,subtitle:"Start your first lesson",progress:0,color:"text-blue-600"}),d.jsx(sh,{title:"Puzzles Solved",value:0,subtitle:"Tactical problems solved",progress:0,color:"text-green-600"}),d.jsx(sh,{title:"Current Rating",value:1200,subtitle:"Keep playing to improve",color:"text-purple-600"})]})]})},rA=()=>d.jsx(aA,{}),cr=[{id:"1",title:"Chess Basics: How the Pieces Move",description:"Learn how each chess piece moves and captures. Perfect for absolute beginners!",difficulty:"beginner",duration:25,modules:["Welcome to Chess","Pawns","Rooks","Bishops","Knights","Queen & King"],completed:!1,progress:0},{id:"2",title:"Checkmate Patterns",description:"Learn essential checkmate patterns including back rank mates and basic endgames.",difficulty:"beginner",duration:30,modules:["What is Checkmate?","Back Rank Mate","Queen Checkmate","Smothered Mate"],completed:!1,progress:0},{id:"3",title:"Advanced Tactics",description:"Master tactical patterns like forks, pins, and skewers to win material.",difficulty:"intermediate",duration:40,modules:["Introduction to Tactics","Forks","Pins","Skewers","Discovery Attacks"],completed:!1,progress:0},{id:"4",title:"King and Pawn Endgames",description:"Master the most important endgame: King and Pawn vs King.",difficulty:"intermediate",duration:35,modules:["Endgame Fundamentals","Rule of the Square","Opposition","Winning Technique"],completed:!1,progress:0},{id:"5",title:"Opening Principles",description:"Learn the fundamental principles for playing strong chess openings.",difficulty:"advanced",duration:45,modules:["Opening Goals","Center Control","Piece Development","King Safety","Common Mistakes"],completed:!1,progress:0}],oA=()=>{const[e,t]=b.useState("all"),[s,a]=b.useState("title"),o=cr.filter(f=>e==="all"||f.difficulty===e).sort((f,m)=>{switch(s){case"difficulty":const g={beginner:0,intermediate:1,advanced:2};return g[f.difficulty]-g[m.difficulty];case"duration":return f.duration-m.duration;case"title":default:return f.title.localeCompare(m.title)}}),c=f=>{switch(f){case"beginner":return"text-green-600 bg-green-50 border-green-200";case"intermediate":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"advanced":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},u=f=>f===0?"bg-gray-200":f<50?"bg-yellow-400":f<100?"bg-blue-400":"bg-green-400";return d.jsx("div",{className:"py-8",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Chess Lessons"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Master chess through our interactive lessons. From basic piece movements to advanced strategies!"}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-8",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("span",{className:"text-sm font-medium text-gray-700 self-center mr-2",children:"Filter:"}),["all","beginner","intermediate","advanced"].map(f=>d.jsx("button",{onClick:()=>t(f),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${e===f?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:f.charAt(0).toUpperCase()+f.slice(1)},f))]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("span",{className:"text-sm font-medium text-gray-700 self-center mr-2",children:"Sort by:"}),d.jsxs("select",{value:s,onChange:f=>a(f.target.value),className:"px-3 py-1 border border-gray-300 rounded text-sm",children:[d.jsx("option",{value:"title",children:"Title"}),d.jsx("option",{value:"difficulty",children:"Difficulty"}),d.jsx("option",{value:"duration",children:"Duration"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 mb-8",children:[d.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:cr.length}),d.jsx("div",{className:"text-sm text-gray-600",children:"Total Lessons"})]}),d.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[d.jsx("div",{className:"text-2xl font-bold text-green-600",children:cr.filter(f=>f.completed).length}),d.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]}),d.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[d.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:cr.filter(f=>f.progress>0&&!f.completed).length}),d.jsx("div",{className:"text-sm text-gray-600",children:"In Progress"})]}),d.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[d.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round(cr.reduce((f,m)=>f+m.progress,0)/cr.length),"%"]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Overall Progress"})]})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(f=>d.jsx("div",{className:"bg-white rounded-lg border border-gray-200 hover:shadow-md transition-shadow",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2",children:f.title}),d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${c(f.difficulty)}`,children:f.difficulty})]}),d.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:f.description}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[d.jsx("span",{children:"Progress"}),d.jsxs("span",{children:[f.progress,"%"]})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${u(f.progress)}`,style:{width:`${f.progress}%`}})})]}),d.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-4",children:[d.jsxs("span",{className:"flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.duration," min"]}),d.jsxs("span",{className:"flex items-center",children:[d.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),f.modules.length," modules"]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Modules:"}),d.jsxs("div",{className:"flex flex-wrap gap-1",children:[f.modules.slice(0,3).map((m,g)=>d.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:m},g)),f.modules.length>3&&d.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:["+",f.modules.length-3," more"]})]})]}),d.jsx(Ca,{to:`/lessons/${f.id}`,className:`w-full flex items-center justify-center px-4 py-2 rounded-lg text-sm font-medium transition-colors ${f.progress===0?"bg-blue-600 text-white hover:bg-blue-700":f.progress<100?"bg-yellow-600 text-white hover:bg-yellow-700":"bg-green-600 text-white hover:bg-green-700"}`,children:f.progress===0?"Start Lesson":f.progress<100?"Continue":"Review"})]})},f.id))}),o.length===0&&d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"text-6xl mb-4",children:""}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No lessons found"}),d.jsx("p",{className:"text-gray-600",children:"Try adjusting your filters to see more lessons."})]})]})})},Au=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Nr(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Um(e){return"nodeType"in e}function En(e){var t,s;return e?Nr(e)?e:Um(e)&&(t=(s=e.ownerDocument)==null?void 0:s.defaultView)!=null?t:window:window}function Vm(e){const{Document:t}=En(e);return e instanceof t}function pl(e){return Nr(e)?!1:e instanceof En(e).HTMLElement}function Mx(e){return e instanceof En(e).SVGElement}function Er(e){return e?Nr(e)?e.document:Um(e)?Vm(e)?e:pl(e)||Mx(e)?e.ownerDocument:document:document:document}const ai=Au?b.useLayoutEffect:b.useEffect;function Nu(e){const t=b.useRef(e);return ai(()=>{t.current=e}),b.useCallback(function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return t.current==null?void 0:t.current(...a)},[])}function lA(){const e=b.useRef(null),t=b.useCallback((a,o)=>{e.current=setInterval(a,o)},[]),s=b.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,s]}function nl(e,t){t===void 0&&(t=[e]);const s=b.useRef(e);return ai(()=>{s.current!==e&&(s.current=e)},t),s}function gl(e,t){const s=b.useRef();return b.useMemo(()=>{const a=e(s.current);return s.current=a,a},[...t])}function fu(e){const t=Nu(e),s=b.useRef(null),a=b.useCallback(o=>{o!==s.current&&t?.(o,s.current),s.current=o},[]);return[s,a]}function du(e){const t=b.useRef();return b.useEffect(()=>{t.current=e},[e]),t.current}let ih={};function Eu(e,t){return b.useMemo(()=>{if(t)return t;const s=ih[e]==null?0:ih[e]+1;return ih[e]=s,e+"-"+s},[e,t])}function _x(e){return function(t){for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];return a.reduce((c,u)=>{const f=Object.entries(u);for(const[m,g]of f){const y=c[m];y!=null&&(c[m]=y+e*g)}return c},{...t})}}const yr=_x(1),hu=_x(-1);function cA(e){return"clientX"in e&&"clientY"in e}function Hm(e){if(!e)return!1;const{KeyboardEvent:t}=En(e.target);return t&&e instanceof t}function uA(e){if(!e)return!1;const{TouchEvent:t}=En(e.target);return t&&e instanceof t}function sl(e){if(uA(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:s}=e.touches[0];return{x:t,y:s}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:s}=e.changedTouches[0];return{x:t,y:s}}}return cA(e)?{x:e.clientX,y:e.clientY}:null}const il=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:s}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(s?Math.round(s):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:s}=e;return"scaleX("+t+") scaleY("+s+")"}},Transform:{toString(e){if(e)return[il.Translate.toString(e),il.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:s,easing:a}=e;return t+" "+s+"ms "+a}}}),Zv="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function fA(e){return e.matches(Zv)?e:e.querySelector(Zv)}const dA={display:"none"};function hA(e){let{id:t,value:s}=e;return yt.createElement("div",{id:t,style:dA},s)}function mA(e){let{id:t,announcement:s,ariaLiveType:a="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return yt.createElement("div",{id:t,style:o,role:"status","aria-live":a,"aria-atomic":!0},s)}function pA(){const[e,t]=b.useState("");return{announce:b.useCallback(a=>{a!=null&&t(a)},[]),announcement:e}}const Rx=b.createContext(null);function gA(e){const t=b.useContext(Rx);b.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function yA(){const[e]=b.useState(()=>new Set),t=b.useCallback(a=>(e.add(a),()=>e.delete(a)),[e]);return[b.useCallback(a=>{let{type:o,event:c}=a;e.forEach(u=>{var f;return(f=u[o])==null?void 0:f.call(u,c)})},[e]),t]}const vA={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},bA={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:s}=e;return s?"Draggable item "+t.id+" was moved over droppable area "+s.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:s}=e;return s?"Draggable item "+t.id+" was dropped over droppable area "+s.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function xA(e){let{announcements:t=bA,container:s,hiddenTextDescribedById:a,screenReaderInstructions:o=vA}=e;const{announce:c,announcement:u}=pA(),f=Eu("DndLiveRegion"),[m,g]=b.useState(!1);if(b.useEffect(()=>{g(!0)},[]),gA(b.useMemo(()=>({onDragStart(v){let{active:x}=v;c(t.onDragStart({active:x}))},onDragMove(v){let{active:x,over:S}=v;t.onDragMove&&c(t.onDragMove({active:x,over:S}))},onDragOver(v){let{active:x,over:S}=v;c(t.onDragOver({active:x,over:S}))},onDragEnd(v){let{active:x,over:S}=v;c(t.onDragEnd({active:x,over:S}))},onDragCancel(v){let{active:x,over:S}=v;c(t.onDragCancel({active:x,over:S}))}}),[c,t])),!m)return null;const y=yt.createElement(yt.Fragment,null,yt.createElement(hA,{id:a,value:o.draggable}),yt.createElement(mA,{id:f,announcement:u}));return s?qo.createPortal(y,s):y}var Zt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Zt||(Zt={}));function mu(){}function Bc(e,t){return b.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function wA(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return b.useMemo(()=>[...t].filter(a=>a!=null),[...t])}const vs=Object.freeze({x:0,y:0});function SA(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function CA(e,t){const s=sl(e);if(!s)return"0 0";const a={x:(s.x-t.left)/t.width*100,y:(s.y-t.top)/t.height*100};return a.x+"% "+a.y+"%"}function kA(e,t){let{data:{value:s}}=e,{data:{value:a}}=t;return s-a}function TA(e,t){let{data:{value:s}}=e,{data:{value:a}}=t;return a-s}function AA(e){let{left:t,top:s,height:a,width:o}=e;return[{x:t,y:s},{x:t+o,y:s},{x:t,y:s+a},{x:t+o,y:s+a}]}function NA(e,t){if(!e||e.length===0)return null;const[s]=e;return s[t]}function EA(e,t){const s=Math.max(t.top,e.top),a=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),c=Math.min(t.top+t.height,e.top+e.height),u=o-a,f=c-s;if(a<o&&s<c){const m=t.width*t.height,g=e.width*e.height,y=u*f,v=y/(m+g-y);return Number(v.toFixed(4))}return 0}const Dx=e=>{let{collisionRect:t,droppableRects:s,droppableContainers:a}=e;const o=[];for(const c of a){const{id:u}=c,f=s.get(u);if(f){const m=EA(f,t);m>0&&o.push({id:u,data:{droppableContainer:c,value:m}})}}return o.sort(TA)};function jA(e,t){const{top:s,left:a,bottom:o,right:c}=t;return s<=e.y&&e.y<=o&&a<=e.x&&e.x<=c}const MA=e=>{let{droppableContainers:t,droppableRects:s,pointerCoordinates:a}=e;if(!a)return[];const o=[];for(const c of t){const{id:u}=c,f=s.get(u);if(f&&jA(a,f)){const g=AA(f).reduce((v,x)=>v+SA(a,x),0),y=Number((g/4).toFixed(4));o.push({id:u,data:{droppableContainer:c,value:y}})}}return o.sort(kA)};function _A(e,t,s){return{...e,scaleX:t&&s?t.width/s.width:1,scaleY:t&&s?t.height/s.height:1}}function Lx(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:vs}function RA(e){return function(s){for(var a=arguments.length,o=new Array(a>1?a-1:0),c=1;c<a;c++)o[c-1]=arguments[c];return o.reduce((u,f)=>({...u,top:u.top+e*f.y,bottom:u.bottom+e*f.y,left:u.left+e*f.x,right:u.right+e*f.x}),{...s})}}const DA=RA(1);function Ox(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function LA(e,t,s){const a=Ox(t);if(!a)return e;const{scaleX:o,scaleY:c,x:u,y:f}=a,m=e.left-u-(1-o)*parseFloat(s),g=e.top-f-(1-c)*parseFloat(s.slice(s.indexOf(" ")+1)),y=o?e.width/o:e.width,v=c?e.height/c:e.height;return{width:y,height:v,top:g,right:m+y,bottom:g+v,left:m}}const OA={ignoreTransform:!1};function yl(e,t){t===void 0&&(t=OA);let s=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:g,transformOrigin:y}=En(e).getComputedStyle(e);g&&(s=LA(s,g,y))}const{top:a,left:o,width:c,height:u,bottom:f,right:m}=s;return{top:a,left:o,width:c,height:u,bottom:f,right:m}}function Wv(e){return yl(e,{ignoreTransform:!0})}function PA(e){const t=e.innerWidth,s=e.innerHeight;return{top:0,left:0,right:t,bottom:s,width:t,height:s}}function zA(e,t){return t===void 0&&(t=En(e).getComputedStyle(e)),t.position==="fixed"}function BA(e,t){t===void 0&&(t=En(e).getComputedStyle(e));const s=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const c=t[o];return typeof c=="string"?s.test(c):!1})}function $m(e,t){const s=[];function a(o){if(t!=null&&s.length>=t||!o)return s;if(Vm(o)&&o.scrollingElement!=null&&!s.includes(o.scrollingElement))return s.push(o.scrollingElement),s;if(!pl(o)||Mx(o)||s.includes(o))return s;const c=En(e).getComputedStyle(o);return o!==e&&BA(o,c)&&s.push(o),zA(o,c)?s:a(o.parentNode)}return e?a(e):s}function Px(e){const[t]=$m(e,1);return t??null}function ah(e){return!Au||!e?null:Nr(e)?e:Um(e)?Vm(e)||e===Er(e).scrollingElement?window:pl(e)?e:null:null}function zx(e){return Nr(e)?e.scrollX:e.scrollLeft}function Bx(e){return Nr(e)?e.scrollY:e.scrollTop}function Yh(e){return{x:zx(e),y:Bx(e)}}var on;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(on||(on={}));function qx(e){return!Au||!e?!1:e===document.scrollingElement}function Ux(e){const t={x:0,y:0},s=qx(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},a={x:e.scrollWidth-s.width,y:e.scrollHeight-s.height},o=e.scrollTop<=t.y,c=e.scrollLeft<=t.x,u=e.scrollTop>=a.y,f=e.scrollLeft>=a.x;return{isTop:o,isLeft:c,isBottom:u,isRight:f,maxScroll:a,minScroll:t}}const qA={x:.2,y:.2};function UA(e,t,s,a,o){let{top:c,left:u,right:f,bottom:m}=s;a===void 0&&(a=10),o===void 0&&(o=qA);const{isTop:g,isBottom:y,isLeft:v,isRight:x}=Ux(e),S={x:0,y:0},T={x:0,y:0},k={height:t.height*o.y,width:t.width*o.x};return!g&&c<=t.top+k.height?(S.y=on.Backward,T.y=a*Math.abs((t.top+k.height-c)/k.height)):!y&&m>=t.bottom-k.height&&(S.y=on.Forward,T.y=a*Math.abs((t.bottom-k.height-m)/k.height)),!x&&f>=t.right-k.width?(S.x=on.Forward,T.x=a*Math.abs((t.right-k.width-f)/k.width)):!v&&u<=t.left+k.width&&(S.x=on.Backward,T.x=a*Math.abs((t.left+k.width-u)/k.width)),{direction:S,speed:T}}function VA(e){if(e===document.scrollingElement){const{innerWidth:c,innerHeight:u}=window;return{top:0,left:0,right:c,bottom:u,width:c,height:u}}const{top:t,left:s,right:a,bottom:o}=e.getBoundingClientRect();return{top:t,left:s,right:a,bottom:o,width:e.clientWidth,height:e.clientHeight}}function Vx(e){return e.reduce((t,s)=>yr(t,Yh(s)),vs)}function HA(e){return e.reduce((t,s)=>t+zx(s),0)}function $A(e){return e.reduce((t,s)=>t+Bx(s),0)}function Hx(e,t){if(t===void 0&&(t=yl),!e)return;const{top:s,left:a,bottom:o,right:c}=t(e);Px(e)&&(o<=0||c<=0||s>=window.innerHeight||a>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const GA=[["x",["left","right"],HA],["y",["top","bottom"],$A]];class Gm{constructor(t,s){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=$m(s),o=Vx(a);this.rect={...t},this.width=t.width,this.height=t.height;for(const[c,u,f]of GA)for(const m of u)Object.defineProperty(this,m,{get:()=>{const g=f(a),y=o[c]-g;return this.rect[m]+y},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ko{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(s=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...s)})},this.target=t}add(t,s,a){var o;(o=this.target)==null||o.addEventListener(t,s,a),this.listeners.push([t,s,a])}}function KA(e){const{EventTarget:t}=En(e);return e instanceof t?e:Er(e)}function rh(e,t){const s=Math.abs(e.x),a=Math.abs(e.y);return typeof t=="number"?Math.sqrt(s**2+a**2)>t:"x"in t&&"y"in t?s>t.x&&a>t.y:"x"in t?s>t.x:"y"in t?a>t.y:!1}var rs;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(rs||(rs={}));function Jv(e){e.preventDefault()}function YA(e){e.stopPropagation()}var dt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(dt||(dt={}));const $x={start:[dt.Space,dt.Enter],cancel:[dt.Esc],end:[dt.Space,dt.Enter,dt.Tab]},FA=(e,t)=>{let{currentCoordinates:s}=t;switch(e.code){case dt.Right:return{...s,x:s.x+25};case dt.Left:return{...s,x:s.x-25};case dt.Down:return{...s,y:s.y+25};case dt.Up:return{...s,y:s.y-25}}};class Km{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:s}}=t;this.props=t,this.listeners=new Ko(Er(s)),this.windowListeners=new Ko(En(s)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(rs.Resize,this.handleCancel),this.windowListeners.add(rs.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(rs.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:s}=this.props,a=t.node.current;a&&Hx(a),s(vs)}handleKeyDown(t){if(Hm(t)){const{active:s,context:a,options:o}=this.props,{keyboardCodes:c=$x,coordinateGetter:u=FA,scrollBehavior:f="smooth"}=o,{code:m}=t;if(c.end.includes(m)){this.handleEnd(t);return}if(c.cancel.includes(m)){this.handleCancel(t);return}const{collisionRect:g}=a.current,y=g?{x:g.left,y:g.top}:vs;this.referenceCoordinates||(this.referenceCoordinates=y);const v=u(t,{active:s,context:a.current,currentCoordinates:y});if(v){const x=hu(v,y),S={x:0,y:0},{scrollableAncestors:T}=a.current;for(const k of T){const E=t.code,{isTop:A,isRight:N,isLeft:_,isBottom:H,maxScroll:D,minScroll:F}=Ux(k),I=VA(k),O={x:Math.min(E===dt.Right?I.right-I.width/2:I.right,Math.max(E===dt.Right?I.left:I.left+I.width/2,v.x)),y:Math.min(E===dt.Down?I.bottom-I.height/2:I.bottom,Math.max(E===dt.Down?I.top:I.top+I.height/2,v.y))},ee=E===dt.Right&&!N||E===dt.Left&&!_,ae=E===dt.Down&&!H||E===dt.Up&&!A;if(ee&&O.x!==v.x){const ue=k.scrollLeft+x.x,fe=E===dt.Right&&ue<=D.x||E===dt.Left&&ue>=F.x;if(fe&&!x.y){k.scrollTo({left:ue,behavior:f});return}fe?S.x=k.scrollLeft-ue:S.x=E===dt.Right?k.scrollLeft-D.x:k.scrollLeft-F.x,S.x&&k.scrollBy({left:-S.x,behavior:f});break}else if(ae&&O.y!==v.y){const ue=k.scrollTop+x.y,fe=E===dt.Down&&ue<=D.y||E===dt.Up&&ue>=F.y;if(fe&&!x.x){k.scrollTo({top:ue,behavior:f});return}fe?S.y=k.scrollTop-ue:S.y=E===dt.Down?k.scrollTop-D.y:k.scrollTop-F.y,S.y&&k.scrollBy({top:-S.y,behavior:f});break}}this.handleMove(t,yr(hu(v,this.referenceCoordinates),S))}}}handleMove(t,s){const{onMove:a}=this.props;t.preventDefault(),a(s)}handleEnd(t){const{onEnd:s}=this.props;t.preventDefault(),this.detach(),s()}handleCancel(t){const{onCancel:s}=this.props;t.preventDefault(),this.detach(),s()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Km.activators=[{eventName:"onKeyDown",handler:(e,t,s)=>{let{keyboardCodes:a=$x,onActivation:o}=t,{active:c}=s;const{code:u}=e.nativeEvent;if(a.start.includes(u)){const f=c.activatorNode.current;return f&&e.target!==f?!1:(e.preventDefault(),o?.({event:e.nativeEvent}),!0)}return!1}}];function eb(e){return!!(e&&"distance"in e)}function tb(e){return!!(e&&"delay"in e)}class Ym{constructor(t,s,a){var o;a===void 0&&(a=KA(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=s;const{event:c}=t,{target:u}=c;this.props=t,this.events=s,this.document=Er(u),this.documentListeners=new Ko(this.document),this.listeners=new Ko(a),this.windowListeners=new Ko(En(u)),this.initialCoordinates=(o=sl(c))!=null?o:vs,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:s,bypassActivationConstraint:a}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(rs.Resize,this.handleCancel),this.windowListeners.add(rs.DragStart,Jv),this.windowListeners.add(rs.VisibilityChange,this.handleCancel),this.windowListeners.add(rs.ContextMenu,Jv),this.documentListeners.add(rs.Keydown,this.handleKeydown),s){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(tb(s)){this.timeoutId=setTimeout(this.handleStart,s.delay),this.handlePending(s);return}if(eb(s)){this.handlePending(s);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,s){const{active:a,onPending:o}=this.props;o(a,t,this.initialCoordinates,s)}handleStart(){const{initialCoordinates:t}=this,{onStart:s}=this.props;t&&(this.activated=!0,this.documentListeners.add(rs.Click,YA,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(rs.SelectionChange,this.removeTextSelection),s(t))}handleMove(t){var s;const{activated:a,initialCoordinates:o,props:c}=this,{onMove:u,options:{activationConstraint:f}}=c;if(!o)return;const m=(s=sl(t))!=null?s:vs,g=hu(o,m);if(!a&&f){if(eb(f)){if(f.tolerance!=null&&rh(g,f.tolerance))return this.handleCancel();if(rh(g,f.distance))return this.handleStart()}if(tb(f)&&rh(g,f.tolerance))return this.handleCancel();this.handlePending(f,g);return}t.cancelable&&t.preventDefault(),u(m)}handleEnd(){const{onAbort:t,onEnd:s}=this.props;this.detach(),this.activated||t(this.props.active),s()}handleCancel(){const{onAbort:t,onCancel:s}=this.props;this.detach(),this.activated||t(this.props.active),s()}handleKeydown(t){t.code===dt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const QA={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Fm extends Ym{constructor(t){const{event:s}=t,a=Er(s.target);super(t,QA,a)}}Fm.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:s}=e,{onActivation:a}=t;return!s.isPrimary||s.button!==0?!1:(a?.({event:s}),!0)}}];const XA={move:{name:"mousemove"},end:{name:"mouseup"}};var Fh;(function(e){e[e.RightClick=2]="RightClick"})(Fh||(Fh={}));class Gx extends Ym{constructor(t){super(t,XA,Er(t.event.target))}}Gx.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:s}=e,{onActivation:a}=t;return s.button===Fh.RightClick?!1:(a?.({event:s}),!0)}}];const oh={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Kx extends Ym{constructor(t){super(t,oh)}static setup(){return window.addEventListener(oh.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(oh.move.name,t)};function t(){}}}Kx.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:s}=e,{onActivation:a}=t;const{touches:o}=s;return o.length>1?!1:(a?.({event:s}),!0)}}];var Yo;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Yo||(Yo={}));var pu;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(pu||(pu={}));function IA(e){let{acceleration:t,activator:s=Yo.Pointer,canScroll:a,draggingRect:o,enabled:c,interval:u=5,order:f=pu.TreeOrder,pointerCoordinates:m,scrollableAncestors:g,scrollableAncestorRects:y,delta:v,threshold:x}=e;const S=WA({delta:v,disabled:!c}),[T,k]=lA(),E=b.useRef({x:0,y:0}),A=b.useRef({x:0,y:0}),N=b.useMemo(()=>{switch(s){case Yo.Pointer:return m?{top:m.y,bottom:m.y,left:m.x,right:m.x}:null;case Yo.DraggableRect:return o}},[s,o,m]),_=b.useRef(null),H=b.useCallback(()=>{const F=_.current;if(!F)return;const I=E.current.x*A.current.x,O=E.current.y*A.current.y;F.scrollBy(I,O)},[]),D=b.useMemo(()=>f===pu.TreeOrder?[...g].reverse():g,[f,g]);b.useEffect(()=>{if(!c||!g.length||!N){k();return}for(const F of D){if(a?.(F)===!1)continue;const I=g.indexOf(F),O=y[I];if(!O)continue;const{direction:ee,speed:ae}=UA(F,O,N,t,x);for(const ue of["x","y"])S[ue][ee[ue]]||(ae[ue]=0,ee[ue]=0);if(ae.x>0||ae.y>0){k(),_.current=F,T(H,u),E.current=ae,A.current=ee;return}}E.current={x:0,y:0},A.current={x:0,y:0},k()},[t,H,a,k,c,u,JSON.stringify(N),JSON.stringify(S),T,g,D,y,JSON.stringify(x)])}const ZA={x:{[on.Backward]:!1,[on.Forward]:!1},y:{[on.Backward]:!1,[on.Forward]:!1}};function WA(e){let{delta:t,disabled:s}=e;const a=du(t);return gl(o=>{if(s||!a||!o)return ZA;const c={x:Math.sign(t.x-a.x),y:Math.sign(t.y-a.y)};return{x:{[on.Backward]:o.x[on.Backward]||c.x===-1,[on.Forward]:o.x[on.Forward]||c.x===1},y:{[on.Backward]:o.y[on.Backward]||c.y===-1,[on.Forward]:o.y[on.Forward]||c.y===1}}},[s,t,a])}function JA(e,t){const s=t!=null?e.get(t):void 0,a=s?s.node.current:null;return gl(o=>{var c;return t==null?null:(c=a??o)!=null?c:null},[a,t])}function eN(e,t){return b.useMemo(()=>e.reduce((s,a)=>{const{sensor:o}=a,c=o.activators.map(u=>({eventName:u.eventName,handler:t(u.handler,a)}));return[...s,...c]},[]),[e,t])}var al;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(al||(al={}));var Qh;(function(e){e.Optimized="optimized"})(Qh||(Qh={}));const nb=new Map;function tN(e,t){let{dragging:s,dependencies:a,config:o}=t;const[c,u]=b.useState(null),{frequency:f,measure:m,strategy:g}=o,y=b.useRef(e),v=E(),x=nl(v),S=b.useCallback(function(A){A===void 0&&(A=[]),!x.current&&u(N=>N===null?A:N.concat(A.filter(_=>!N.includes(_))))},[x]),T=b.useRef(null),k=gl(A=>{if(v&&!s)return nb;if(!A||A===nb||y.current!==e||c!=null){const N=new Map;for(let _ of e){if(!_)continue;if(c&&c.length>0&&!c.includes(_.id)&&_.rect.current){N.set(_.id,_.rect.current);continue}const H=_.node.current,D=H?new Gm(m(H),H):null;_.rect.current=D,D&&N.set(_.id,D)}return N}return A},[e,c,s,v,m]);return b.useEffect(()=>{y.current=e},[e]),b.useEffect(()=>{v||S()},[s,v]),b.useEffect(()=>{c&&c.length>0&&u(null)},[JSON.stringify(c)]),b.useEffect(()=>{v||typeof f!="number"||T.current!==null||(T.current=setTimeout(()=>{S(),T.current=null},f))},[f,v,S,...a]),{droppableRects:k,measureDroppableContainers:S,measuringScheduled:c!=null};function E(){switch(g){case al.Always:return!1;case al.BeforeDragging:return s;default:return!s}}}function Qm(e,t){return gl(s=>e?s||(typeof t=="function"?t(e):e):null,[t,e])}function nN(e,t){return Qm(e,t)}function sN(e){let{callback:t,disabled:s}=e;const a=Nu(t),o=b.useMemo(()=>{if(s||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:c}=window;return new c(a)},[a,s]);return b.useEffect(()=>()=>o?.disconnect(),[o]),o}function ju(e){let{callback:t,disabled:s}=e;const a=Nu(t),o=b.useMemo(()=>{if(s||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:c}=window;return new c(a)},[s]);return b.useEffect(()=>()=>o?.disconnect(),[o]),o}function iN(e){return new Gm(yl(e),e)}function sb(e,t,s){t===void 0&&(t=iN);const[a,o]=b.useState(null);function c(){o(m=>{if(!e)return null;if(e.isConnected===!1){var g;return(g=m??s)!=null?g:null}const y=t(e);return JSON.stringify(m)===JSON.stringify(y)?m:y})}const u=sN({callback(m){if(e)for(const g of m){const{type:y,target:v}=g;if(y==="childList"&&v instanceof HTMLElement&&v.contains(e)){c();break}}}}),f=ju({callback:c});return ai(()=>{c(),e?(f?.observe(e),u?.observe(document.body,{childList:!0,subtree:!0})):(f?.disconnect(),u?.disconnect())},[e]),a}function aN(e){const t=Qm(e);return Lx(e,t)}const ib=[];function rN(e){const t=b.useRef(e),s=gl(a=>e?a&&a!==ib&&e&&t.current&&e.parentNode===t.current.parentNode?a:$m(e):ib,[e]);return b.useEffect(()=>{t.current=e},[e]),s}function oN(e){const[t,s]=b.useState(null),a=b.useRef(e),o=b.useCallback(c=>{const u=ah(c.target);u&&s(f=>f?(f.set(u,Yh(u)),new Map(f)):null)},[]);return b.useEffect(()=>{const c=a.current;if(e!==c){u(c);const f=e.map(m=>{const g=ah(m);return g?(g.addEventListener("scroll",o,{passive:!0}),[g,Yh(g)]):null}).filter(m=>m!=null);s(f.length?new Map(f):null),a.current=e}return()=>{u(e),u(c)};function u(f){f.forEach(m=>{const g=ah(m);g?.removeEventListener("scroll",o)})}},[o,e]),b.useMemo(()=>e.length?t?Array.from(t.values()).reduce((c,u)=>yr(c,u),vs):Vx(e):vs,[e,t])}function ab(e,t){t===void 0&&(t=[]);const s=b.useRef(null);return b.useEffect(()=>{s.current=null},t),b.useEffect(()=>{const a=e!==vs;a&&!s.current&&(s.current=e),!a&&s.current&&(s.current=null)},[e]),s.current?hu(e,s.current):vs}function lN(e){b.useEffect(()=>{if(!Au)return;const t=e.map(s=>{let{sensor:a}=s;return a.setup==null?void 0:a.setup()});return()=>{for(const s of t)s?.()}},e.map(t=>{let{sensor:s}=t;return s}))}function cN(e,t){return b.useMemo(()=>e.reduce((s,a)=>{let{eventName:o,handler:c}=a;return s[o]=u=>{c(u,t)},s},{}),[e,t])}function Yx(e){return b.useMemo(()=>e?PA(e):null,[e])}const rb=[];function uN(e,t){t===void 0&&(t=yl);const[s]=e,a=Yx(s?En(s):null),[o,c]=b.useState(rb);function u(){c(()=>e.length?e.map(m=>qx(m)?a:new Gm(t(m),m)):rb)}const f=ju({callback:u});return ai(()=>{f?.disconnect(),u(),e.forEach(m=>f?.observe(m))},[e]),o}function Fx(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return pl(t)?t:e}function fN(e){let{measure:t}=e;const[s,a]=b.useState(null),o=b.useCallback(g=>{for(const{target:y}of g)if(pl(y)){a(v=>{const x=t(y);return v?{...v,width:x.width,height:x.height}:x});break}},[t]),c=ju({callback:o}),u=b.useCallback(g=>{const y=Fx(g);c?.disconnect(),y&&c?.observe(y),a(y?t(y):null)},[t,c]),[f,m]=fu(u);return b.useMemo(()=>({nodeRef:f,rect:s,setRef:m}),[s,f,m])}const dN=[{sensor:Fm,options:{}},{sensor:Km,options:{}}],hN={current:{}},Zc={draggable:{measure:Wv},droppable:{measure:Wv,strategy:al.WhileDragging,frequency:Qh.Optimized},dragOverlay:{measure:yl}};class Fo extends Map{get(t){var s;return t!=null&&(s=super.get(t))!=null?s:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:s}=t;return!s})}getNodeFor(t){var s,a;return(s=(a=this.get(t))==null?void 0:a.node.current)!=null?s:void 0}}const mN={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Fo,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:mu},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Zc,measureDroppableContainers:mu,windowRect:null,measuringScheduled:!1},Qx={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:mu,draggableNodes:new Map,over:null,measureDroppableContainers:mu},vl=b.createContext(Qx),Xx=b.createContext(mN);function pN(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Fo}}}function gN(e,t){switch(t.type){case Zt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Zt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Zt.DragEnd:case Zt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Zt.RegisterDroppable:{const{element:s}=t,{id:a}=s,o=new Fo(e.droppable.containers);return o.set(a,s),{...e,droppable:{...e.droppable,containers:o}}}case Zt.SetDroppableDisabled:{const{id:s,key:a,disabled:o}=t,c=e.droppable.containers.get(s);if(!c||a!==c.key)return e;const u=new Fo(e.droppable.containers);return u.set(s,{...c,disabled:o}),{...e,droppable:{...e.droppable,containers:u}}}case Zt.UnregisterDroppable:{const{id:s,key:a}=t,o=e.droppable.containers.get(s);if(!o||a!==o.key)return e;const c=new Fo(e.droppable.containers);return c.delete(s),{...e,droppable:{...e.droppable,containers:c}}}default:return e}}function yN(e){let{disabled:t}=e;const{active:s,activatorEvent:a,draggableNodes:o}=b.useContext(vl),c=du(a),u=du(s?.id);return b.useEffect(()=>{if(!t&&!a&&c&&u!=null){if(!Hm(c)||document.activeElement===c.target)return;const f=o.get(u);if(!f)return;const{activatorNode:m,node:g}=f;if(!m.current&&!g.current)return;requestAnimationFrame(()=>{for(const y of[m.current,g.current]){if(!y)continue;const v=fA(y);if(v){v.focus();break}}})}},[a,t,o,u,c]),null}function Ix(e,t){let{transform:s,...a}=t;return e!=null&&e.length?e.reduce((o,c)=>c({transform:o,...a}),s):s}function vN(e){return b.useMemo(()=>({draggable:{...Zc.draggable,...e?.draggable},droppable:{...Zc.droppable,...e?.droppable},dragOverlay:{...Zc.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function bN(e){let{activeNode:t,measure:s,initialRect:a,config:o=!0}=e;const c=b.useRef(!1),{x:u,y:f}=typeof o=="boolean"?{x:o,y:o}:o;ai(()=>{if(!u&&!f||!t){c.current=!1;return}if(c.current||!a)return;const g=t?.node.current;if(!g||g.isConnected===!1)return;const y=s(g),v=Lx(y,a);if(u||(v.x=0),f||(v.y=0),c.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const x=Px(g);x&&x.scrollBy({top:v.y,left:v.x})}},[t,u,f,a,s])}const Mu=b.createContext({...vs,scaleX:1,scaleY:1});var Bi;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Bi||(Bi={}));const xN=b.memo(function(t){var s,a,o,c;let{id:u,accessibility:f,autoScroll:m=!0,children:g,sensors:y=dN,collisionDetection:v=Dx,measuring:x,modifiers:S,...T}=t;const k=b.useReducer(gN,void 0,pN),[E,A]=k,[N,_]=yA(),[H,D]=b.useState(Bi.Uninitialized),F=H===Bi.Initialized,{draggable:{active:I,nodes:O,translate:ee},droppable:{containers:ae}}=E,ue=I!=null?O.get(I):null,fe=b.useRef({initial:null,translated:null}),be=b.useMemo(()=>{var xt;return I!=null?{id:I,data:(xt=ue?.data)!=null?xt:hN,rect:fe}:null},[I,ue]),ve=b.useRef(null),[he,B]=b.useState(null),[V,X]=b.useState(null),ie=nl(T,Object.values(T)),M=Eu("DndDescribedBy",u),Y=b.useMemo(()=>ae.getEnabled(),[ae]),se=vN(x),{droppableRects:te,measureDroppableContainers:oe,measuringScheduled:de}=tN(Y,{dragging:F,dependencies:[ee.x,ee.y],config:se.droppable}),re=JA(O,I),ke=b.useMemo(()=>V?sl(V):null,[V]),Re=Yi(),vt=nN(re,se.draggable.measure);bN({activeNode:I!=null?O.get(I):null,config:Re.layoutShiftCompensation,initialRect:vt,measure:se.draggable.measure});const Qe=sb(re,se.draggable.measure,vt),it=sb(re?re.parentElement:null),ce=b.useRef({activatorEvent:null,active:null,activeNode:re,collisionRect:null,collisions:null,droppableRects:te,draggableNodes:O,draggingNode:null,draggingNodeRect:null,droppableContainers:ae,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ae=ae.getNodeFor((s=ce.current.over)==null?void 0:s.id),De=fN({measure:se.dragOverlay.measure}),Xe=(a=De.nodeRef.current)!=null?a:re,gt=F?(o=De.rect)!=null?o:Qe:null,Je=!!(De.nodeRef.current&&De.rect),bt=aN(Je?null:Qe),Wt=Yx(Xe?En(Xe):null),le=rN(F?Ae??re:null),Se=uN(le),at=Ix(S,{transform:{x:ee.x-bt.x,y:ee.y-bt.y,scaleX:1,scaleY:1},activatorEvent:V,active:be,activeNodeRect:Qe,containerNodeRect:it,draggingNodeRect:gt,over:ce.current.over,overlayNodeRect:De.rect,scrollableAncestors:le,scrollableAncestorRects:Se,windowRect:Wt}),Ve=ke?yr(ke,ee):null,Dt=oN(le),kt=ab(Dt),ct=ab(Dt,[Qe]),Ge=yr(at,kt),Bt=gt?DA(gt,at):null,Tt=be&&Bt?v({active:be,collisionRect:Bt,droppableRects:te,droppableContainers:Y,pointerCoordinates:Ve}):null,ci=NA(Tt,"id"),[Ze,et]=b.useState(null),ut=Je?at:yr(at,ct),Xn=_A(ut,(c=Ze?.rect)!=null?c:null,Qe),At=b.useRef(null),gn=b.useCallback((xt,cn)=>{let{sensor:Jt,options:On}=cn;if(ve.current==null)return;const en=O.get(ve.current);if(!en)return;const Kt=xt.nativeEvent,Cn=new Jt({active:ve.current,activeNode:en,event:Kt,options:On,context:ce,onAbort(Fe){if(!O.get(Fe))return;const{onDragAbort:tt}=ie.current,ne={id:Fe};tt?.(ne),N({type:"onDragAbort",event:ne})},onPending(Fe,Be,tt,ne){if(!O.get(Fe))return;const{onDragPending:mt}=ie.current,Lt={id:Fe,constraint:Be,initialCoordinates:tt,offset:ne};mt?.(Lt),N({type:"onDragPending",event:Lt})},onStart(Fe){const Be=ve.current;if(Be==null)return;const tt=O.get(Be);if(!tt)return;const{onDragStart:ne}=ie.current,kn={activatorEvent:Kt,active:{id:Be,data:tt.data,rect:fe}};qo.unstable_batchedUpdates(()=>{ne?.(kn),D(Bi.Initializing),A({type:Zt.DragStart,initialCoordinates:Fe,active:Be}),N({type:"onDragStart",event:kn}),B(At.current),X(Kt)})},onMove(Fe){A({type:Zt.DragMove,coordinates:Fe})},onEnd:G(Zt.DragEnd),onCancel:G(Zt.DragCancel)});At.current=Cn;function G(Fe){return async function(){const{active:tt,collisions:ne,over:kn,scrollAdjustedTranslate:mt}=ce.current;let Lt=null;if(tt&&mt){const{cancelDrop:Ss}=ie.current;Lt={activatorEvent:Kt,active:tt,collisions:ne,delta:mt,over:kn},Fe===Zt.DragEnd&&typeof Ss=="function"&&await Promise.resolve(Ss(Lt))&&(Fe=Zt.DragCancel)}ve.current=null,qo.unstable_batchedUpdates(()=>{A({type:Fe}),D(Bi.Uninitialized),et(null),B(null),X(null),At.current=null;const Ss=Fe===Zt.DragEnd?"onDragEnd":"onDragCancel";if(Lt){const jt=ie.current[Ss];jt?.(Lt),N({type:Ss,event:Lt})}})}}},[O]),jn=b.useCallback((xt,cn)=>(Jt,On)=>{const en=Jt.nativeEvent,Kt=O.get(On);if(ve.current!==null||!Kt||en.dndKit||en.defaultPrevented)return;const Cn={active:Kt};xt(Jt,cn.options,Cn)===!0&&(en.dndKit={capturedBy:cn.sensor},ve.current=On,gn(Jt,cn))},[O,gn]),ws=eN(y,jn);lN(y),ai(()=>{Qe&&H===Bi.Initializing&&D(Bi.Initialized)},[Qe,H]),b.useEffect(()=>{const{onDragMove:xt}=ie.current,{active:cn,activatorEvent:Jt,collisions:On,over:en}=ce.current;if(!cn||!Jt)return;const Kt={active:cn,activatorEvent:Jt,collisions:On,delta:{x:Ge.x,y:Ge.y},over:en};qo.unstable_batchedUpdates(()=>{xt?.(Kt),N({type:"onDragMove",event:Kt})})},[Ge.x,Ge.y]),b.useEffect(()=>{const{active:xt,activatorEvent:cn,collisions:Jt,droppableContainers:On,scrollAdjustedTranslate:en}=ce.current;if(!xt||ve.current==null||!cn||!en)return;const{onDragOver:Kt}=ie.current,Cn=On.get(ci),G=Cn&&Cn.rect.current?{id:Cn.id,rect:Cn.rect.current,data:Cn.data,disabled:Cn.disabled}:null,Fe={active:xt,activatorEvent:cn,collisions:Jt,delta:{x:en.x,y:en.y},over:G};qo.unstable_batchedUpdates(()=>{et(G),Kt?.(Fe),N({type:"onDragOver",event:Fe})})},[ci]),ai(()=>{ce.current={activatorEvent:V,active:be,activeNode:re,collisionRect:Bt,collisions:Tt,droppableRects:te,draggableNodes:O,draggingNode:Xe,draggingNodeRect:gt,droppableContainers:ae,over:Ze,scrollableAncestors:le,scrollAdjustedTranslate:Ge},fe.current={initial:gt,translated:Bt}},[be,re,Tt,Bt,O,Xe,gt,te,ae,Ze,le,Ge]),IA({...Re,delta:ee,draggingRect:Bt,pointerCoordinates:Ve,scrollableAncestors:le,scrollableAncestorRects:Se});const Ta=b.useMemo(()=>({active:be,activeNode:re,activeNodeRect:Qe,activatorEvent:V,collisions:Tt,containerNodeRect:it,dragOverlay:De,draggableNodes:O,droppableContainers:ae,droppableRects:te,over:Ze,measureDroppableContainers:oe,scrollableAncestors:le,scrollableAncestorRects:Se,measuringConfiguration:se,measuringScheduled:de,windowRect:Wt}),[be,re,Qe,V,Tt,it,De,O,ae,te,Ze,oe,le,Se,se,de,Wt]),Aa=b.useMemo(()=>({activatorEvent:V,activators:ws,active:be,activeNodeRect:Qe,ariaDescribedById:{draggable:M},dispatch:A,draggableNodes:O,over:Ze,measureDroppableContainers:oe}),[V,ws,be,Qe,A,M,O,Ze,oe]);return yt.createElement(Rx.Provider,{value:_},yt.createElement(vl.Provider,{value:Aa},yt.createElement(Xx.Provider,{value:Ta},yt.createElement(Mu.Provider,{value:Xn},g)),yt.createElement(yN,{disabled:f?.restoreFocus===!1})),yt.createElement(xA,{...f,hiddenTextDescribedById:M}));function Yi(){const xt=he?.autoScrollEnabled===!1,cn=typeof m=="object"?m.enabled===!1:m===!1,Jt=F&&!xt&&!cn;return typeof m=="object"?{...m,enabled:Jt}:{enabled:Jt}}}),wN=b.createContext(null),ob="button",SN="Draggable";function CN(e){let{id:t,data:s,disabled:a=!1,attributes:o}=e;const c=Eu(SN),{activators:u,activatorEvent:f,active:m,activeNodeRect:g,ariaDescribedById:y,draggableNodes:v,over:x}=b.useContext(vl),{role:S=ob,roleDescription:T="draggable",tabIndex:k=0}=o??{},E=m?.id===t,A=b.useContext(E?Mu:wN),[N,_]=fu(),[H,D]=fu(),F=cN(u,t),I=nl(s);ai(()=>(v.set(t,{id:t,key:c,node:N,activatorNode:H,data:I}),()=>{const ee=v.get(t);ee&&ee.key===c&&v.delete(t)}),[v,t]);const O=b.useMemo(()=>({role:S,tabIndex:k,"aria-disabled":a,"aria-pressed":E&&S===ob?!0:void 0,"aria-roledescription":T,"aria-describedby":y.draggable}),[a,S,k,E,T,y.draggable]);return{active:m,activatorEvent:f,activeNodeRect:g,attributes:O,isDragging:E,listeners:a?void 0:F,node:N,over:x,setNodeRef:_,setActivatorNodeRef:D,transform:A}}function kN(){return b.useContext(Xx)}const TN="Droppable",AN={timeout:25};function NN(e){let{data:t,disabled:s=!1,id:a,resizeObserverConfig:o}=e;const c=Eu(TN),{active:u,dispatch:f,over:m,measureDroppableContainers:g}=b.useContext(vl),y=b.useRef({disabled:s}),v=b.useRef(!1),x=b.useRef(null),S=b.useRef(null),{disabled:T,updateMeasurementsFor:k,timeout:E}={...AN,...o},A=nl(k??a),N=b.useCallback(()=>{if(!v.current){v.current=!0;return}S.current!=null&&clearTimeout(S.current),S.current=setTimeout(()=>{g(Array.isArray(A.current)?A.current:[A.current]),S.current=null},E)},[E]),_=ju({callback:N,disabled:T||!u}),H=b.useCallback((O,ee)=>{_&&(ee&&(_.unobserve(ee),v.current=!1),O&&_.observe(O))},[_]),[D,F]=fu(H),I=nl(t);return b.useEffect(()=>{!_||!D.current||(_.disconnect(),v.current=!1,_.observe(D.current))},[D,_]),b.useEffect(()=>(f({type:Zt.RegisterDroppable,element:{id:a,key:c,disabled:s,node:D,rect:x,data:I}}),()=>f({type:Zt.UnregisterDroppable,key:c,id:a})),[a]),b.useEffect(()=>{s!==y.current.disabled&&(f({type:Zt.SetDroppableDisabled,id:a,key:c,disabled:s}),y.current.disabled=s)},[a,c,s,f]),{active:u,rect:x,isOver:m?.id===a,node:D,over:m,setNodeRef:F}}function EN(e){let{animation:t,children:s}=e;const[a,o]=b.useState(null),[c,u]=b.useState(null),f=du(s);return!s&&!a&&f&&o(f),ai(()=>{if(!c)return;const m=a?.key,g=a?.props.id;if(m==null||g==null){o(null);return}Promise.resolve(t(g,c)).then(()=>{o(null)})},[t,a,c]),yt.createElement(yt.Fragment,null,s,a?b.cloneElement(a,{ref:u}):null)}const jN={x:0,y:0,scaleX:1,scaleY:1};function MN(e){let{children:t}=e;return yt.createElement(vl.Provider,{value:Qx},yt.createElement(Mu.Provider,{value:jN},t))}const _N={position:"fixed",touchAction:"none"},RN=e=>Hm(e)?"transform 250ms ease":void 0,DN=b.forwardRef((e,t)=>{let{as:s,activatorEvent:a,adjustScale:o,children:c,className:u,rect:f,style:m,transform:g,transition:y=RN}=e;if(!f)return null;const v=o?g:{...g,scaleX:1,scaleY:1},x={..._N,width:f.width,height:f.height,top:f.top,left:f.left,transform:il.Transform.toString(v),transformOrigin:o&&a?CA(a,f):void 0,transition:typeof y=="function"?y(a):y,...m};return yt.createElement(s,{className:u,style:x,ref:t},c)}),LN=e=>t=>{let{active:s,dragOverlay:a}=t;const o={},{styles:c,className:u}=e;if(c!=null&&c.active)for(const[f,m]of Object.entries(c.active))m!==void 0&&(o[f]=s.node.style.getPropertyValue(f),s.node.style.setProperty(f,m));if(c!=null&&c.dragOverlay)for(const[f,m]of Object.entries(c.dragOverlay))m!==void 0&&a.node.style.setProperty(f,m);return u!=null&&u.active&&s.node.classList.add(u.active),u!=null&&u.dragOverlay&&a.node.classList.add(u.dragOverlay),function(){for(const[m,g]of Object.entries(o))s.node.style.setProperty(m,g);u!=null&&u.active&&s.node.classList.remove(u.active)}},ON=e=>{let{transform:{initial:t,final:s}}=e;return[{transform:il.Transform.toString(t)},{transform:il.Transform.toString(s)}]},PN={duration:250,easing:"ease",keyframes:ON,sideEffects:LN({styles:{active:{opacity:"0"}}})};function zN(e){let{config:t,draggableNodes:s,droppableContainers:a,measuringConfiguration:o}=e;return Nu((c,u)=>{if(t===null)return;const f=s.get(c);if(!f)return;const m=f.node.current;if(!m)return;const g=Fx(u);if(!g)return;const{transform:y}=En(u).getComputedStyle(u),v=Ox(y);if(!v)return;const x=typeof t=="function"?t:BN(t);return Hx(m,o.draggable.measure),x({active:{id:c,data:f.data,node:m,rect:o.draggable.measure(m)},draggableNodes:s,dragOverlay:{node:u,rect:o.dragOverlay.measure(g)},droppableContainers:a,measuringConfiguration:o,transform:v})})}function BN(e){const{duration:t,easing:s,sideEffects:a,keyframes:o}={...PN,...e};return c=>{let{active:u,dragOverlay:f,transform:m,...g}=c;if(!t)return;const y={x:f.rect.left-u.rect.left,y:f.rect.top-u.rect.top},v={scaleX:m.scaleX!==1?u.rect.width*m.scaleX/f.rect.width:1,scaleY:m.scaleY!==1?u.rect.height*m.scaleY/f.rect.height:1},x={x:m.x-y.x,y:m.y-y.y,...v},S=o({...g,active:u,dragOverlay:f,transform:{initial:m,final:x}}),[T]=S,k=S[S.length-1];if(JSON.stringify(T)===JSON.stringify(k))return;const E=a?.({active:u,dragOverlay:f,...g}),A=f.node.animate(S,{duration:t,easing:s,fill:"forwards"});return new Promise(N=>{A.onfinish=()=>{E?.(),N()}})}}let lb=0;function qN(e){return b.useMemo(()=>{if(e!=null)return lb++,lb},[e])}const UN=yt.memo(e=>{let{adjustScale:t=!1,children:s,dropAnimation:a,style:o,transition:c,modifiers:u,wrapperElement:f="div",className:m,zIndex:g=999}=e;const{activatorEvent:y,active:v,activeNodeRect:x,containerNodeRect:S,draggableNodes:T,droppableContainers:k,dragOverlay:E,over:A,measuringConfiguration:N,scrollableAncestors:_,scrollableAncestorRects:H,windowRect:D}=kN(),F=b.useContext(Mu),I=qN(v?.id),O=Ix(u,{activatorEvent:y,active:v,activeNodeRect:x,containerNodeRect:S,draggingNodeRect:E.rect,over:A,overlayNodeRect:E.rect,scrollableAncestors:_,scrollableAncestorRects:H,transform:F,windowRect:D}),ee=Qm(x),ae=zN({config:a,draggableNodes:T,droppableContainers:k,measuringConfiguration:N}),ue=ee?E.setRef:void 0;return yt.createElement(MN,null,yt.createElement(EN,{animation:ae},v&&I?yt.createElement(DN,{key:I,id:v.id,ref:ue,as:f,activatorEvent:y,adjustScale:t,className:m,transition:c,rect:ee,style:{zIndex:g,...o},transform:O},s):null))}),VN=e=>{let{activatorEvent:t,draggingNodeRect:s,transform:a}=e;if(s&&t){const o=sl(t);if(!o)return a;const c=o.x-s.left,u=o.y-s.top;return{...a,x:a.x+c-s.width/2,y:a.y+u-s.height/2}}return a};function HN(e,t,s){const a=Array.from(Array(e),()=>new Array(t));for(let o=0;o<e;o++)for(let c=0;c<t;c++)a[o][c]={squareId:`${Xm(c,t,s)}${Zx(o,e,s)}`,isLightSquare:(o+c)%2===0};return a}function Zx(e,t,s){return s==="white"?(t-e).toString():(e+1).toString()}function Xm(e,t,s){return s==="white"?String.fromCharCode(97+e):String.fromCharCode(97+t-e-1)}function Uo(e,t,s){return s==="white"?e.charCodeAt(0)-97:t-(e.charCodeAt(0)-97)-1}function $N(e,t,s){return s==="white"?t-Number(e):Number(e)-1}function lh(e,t,s){const a={},o=e.split(" ")[0].split("/");for(let c=0;c<o.length;c++){let u=0;for(const f of o[c])if(isNaN(Number(f))){const m=`${Xm(u,s,"white")}${Zx(c,t,"white")}`;a[m]={pieceType:GN(f)},u++}else u+=Number(f)}return a}function GN(e){return e.toLowerCase()===e?"b"+e.toUpperCase():"w"+e.toUpperCase()}function KN(e,t,s,a){const o={};for(const c in t){const u=[];if(e[c]?.pieceType!==t[c].pieceType){for(const f in e)e[f].pieceType===t[c].pieceType&&f!==c&&e[f].pieceType!==t[f]?.pieceType&&u.push(f);if(u.length===1)o[u[0]]=c;else{for(const f of u){const m=e[f].pieceType[1],g=Math.abs(Uo(f.match(/^[a-z]+/)?.[0]??"",s,a)-Uo(c.match(/^[a-z]+/)?.[0]??"",s,a)),y=Math.abs(Number(f.match(/\d+$/)?.[0]??"")-Number(c.match(/\d+$/)?.[0]??"")),v=(Uo(f.match(/^[a-z]+/)?.[0]??"",s,a)+Number(f.match(/\d+$/)?.[0]??""))%2===0,x=(Uo(c.match(/^[a-z]+/)?.[0]??"",s,a)+Number(c.match(/\d+$/)?.[0]??""))%2===0;if(m==="P"&&f.match(/^[a-z]+/)?.[0]===c.match(/^[a-z]+/)?.[0]){o[f]=c;break}if(m==="N"&&(g===2&&y===1||g===1&&y===2)){o[f]=c;break}if(m==="B"&&g===y&&v===x){o[f]=c;break}if(m==="R"&&(g===0||y===0)){o[f]=c;break}if(m==="Q"&&(g===0||y===0||g===y)){o[f]=c;break}if(m==="K"&&g<=1&&y<=1){o[f]=c;break}}if(!Object.values(o).includes(c)&&u.length>0){for(const f of u)if(!Object.keys(o).includes(f)){o[f]=c;break}}}}}return o}function cb(e,t,s,a,o){const c=t/s,u=Uo(o.match(/^[a-z]+/)?.[0]??"",s,e)*c+c/2,f=$N(o.match(/\d+$/)?.[0]??"",a,e)*c+c/2;return{x:u,y:f}}const YN={wP:e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:d.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:e?.fill??"#ffffff",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})}),wR:e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:d.jsxs("g",{style:{opacity:"1",fill:e?.fill??"#ffffff",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[d.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),d.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),d.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14",style:{strokeLinecap:"butt"}}),d.jsx("path",{d:"M 34,14 L 31,17 L 14,17 L 11,14"}),d.jsx("path",{d:"M 31,17 L 31,29.5 L 14,29.5 L 14,17",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),d.jsx("path",{d:"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5"}),d.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]})}),wN:e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:d.jsxs("g",{style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[d.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:e?.fill??"#ffffff",stroke:"#000000"}}),d.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:e?.fill??"#ffffff",stroke:"#000000"}}),d.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#000000",stroke:"#000000"}}),d.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#000000",stroke:"#000000"}})]})}),wB:e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:d.jsxs("g",{style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[d.jsxs("g",{style:{fill:e?.fill??"#ffffff",stroke:"#000000",strokeLinecap:"butt"},children:[d.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),d.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),d.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]}),d.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]})}),wQ:e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:d.jsxs("g",{style:{fill:e?.fill??"#ffffff",stroke:"#000000",strokeWidth:"1.5",strokeLinejoin:"round"},children:[d.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"}),d.jsx("path",{d:"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"}),d.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30",style:{fill:"none"}}),d.jsx("path",{d:"M 12,33.5 C 18,32.5 27,32.5 33,33.5",style:{fill:"none"}}),d.jsx("circle",{cx:"6",cy:"12",r:"2"}),d.jsx("circle",{cx:"14",cy:"9",r:"2"}),d.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),d.jsx("circle",{cx:"31",cy:"9",r:"2"}),d.jsx("circle",{cx:"39",cy:"12",r:"2"})]})}),wK:e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:d.jsxs("g",{style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[d.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),d.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),d.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:e?.fill??"#ffffff",stroke:"#000000",strokeLinecap:"butt",strokeLinejoin:"miter"}}),d.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:e?.fill??"#ffffff",stroke:"#000000"}}),d.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30",style:{fill:"none",stroke:"#000000"}}),d.jsx("path",{d:"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5",style:{fill:"none",stroke:"#000000"}}),d.jsx("path",{d:"M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#000000"}})]})}),bP:e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:d.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:e?.fill??"#000000",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})}),bR:e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:d.jsxs("g",{style:{opacity:"1",fill:e?.fill??"#000000",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[d.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),d.jsx("path",{d:"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z ",style:{strokeLinecap:"butt"}}),d.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),d.jsx("path",{d:"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z ",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),d.jsx("path",{d:"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z ",style:{strokeLinecap:"butt"}}),d.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z ",style:{strokeLinecap:"butt"}}),d.jsx("path",{d:"M 12,35.5 L 33,35.5 L 33,35.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),d.jsx("path",{d:"M 13,31.5 L 32,31.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),d.jsx("path",{d:"M 14,29.5 L 31,29.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),d.jsx("path",{d:"M 14,16.5 L 31,16.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),d.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}})]})}),bN:e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:d.jsxs("g",{style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[d.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:e?.fill??"#000000",stroke:"#000000"}}),d.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:e?.fill??"#000000",stroke:"#000000"}}),d.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#ffffff",stroke:"#ffffff"}}),d.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#ffffff",stroke:"#ffffff"}}),d.jsx("path",{d:"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z ",style:{fill:"#ffffff",stroke:"none"}})]})}),bB:e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:d.jsxs("g",{style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[d.jsxs("g",{style:{fill:e?.fill??"#000000",stroke:"#000000",strokeLinecap:"butt"},children:[d.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),d.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),d.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]}),d.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#ffffff",strokeLinejoin:"miter"}})]})}),bQ:e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:d.jsxs("g",{style:{fill:e?.fill??"#000000",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},children:[d.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z",style:{strokeLinecap:"butt",fill:e?.fill??"#000000"}}),d.jsx("path",{d:"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z"}),d.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30"}),d.jsx("path",{d:"m 12,33.5 c 6,-1 15,-1 21,0"}),d.jsx("circle",{cx:"6",cy:"12",r:"2"}),d.jsx("circle",{cx:"14",cy:"9",r:"2"}),d.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),d.jsx("circle",{cx:"31",cy:"9",r:"2"}),d.jsx("circle",{cx:"39",cy:"12",r:"2"}),d.jsx("path",{d:"M 11,38.5 A 35,35 1 0 0 34,38.5",style:{fill:"none",stroke:"#000000",strokeLinecap:"butt"}}),d.jsxs("g",{style:{fill:"none",stroke:"#ffffff"},children:[d.jsx("path",{d:"M 11,29 A 35,35 1 0 1 34,29"}),d.jsx("path",{d:"M 12.5,31.5 L 32.5,31.5"}),d.jsx("path",{d:"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"}),d.jsx("path",{d:"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"})]})]})}),bK:e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:e?.svgStyle,children:d.jsxs("g",{style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[d.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"},id:"path6570"}),d.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:e?.fill??"#000000",fillOpacity:"1",strokeLinecap:"butt",strokeLinejoin:"miter"}}),d.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:e?.fill??"#000000",stroke:"#000000"}}),d.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),d.jsx("path",{d:"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5",style:{fill:"none",stroke:"#ffffff"}}),d.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#ffffff"}})]})})};function Wx(e){return{display:"grid",gridTemplateColumns:`repeat(${e}, 1fr)`,overflow:"hidden",width:"100%",height:"100%",position:"relative"}}const Jx={aspectRatio:"1/1",display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},ew={backgroundColor:"#B58863"},tw={backgroundColor:"#F0D9B5"},nw={boxShadow:"inset 0px 0px 0px 1px black"},sw={color:"#F0D9B5"},iw={color:"#B58863"},aw={fontSize:"13px",position:"absolute",bottom:1,right:4,userSelect:"none"},rw={fontSize:"13px",position:"absolute",top:2,left:2,userSelect:"none"},ow={transform:"scale(1.2)"},lw={opacity:.5},FN={color:"#ffaa00",secondaryColor:"#4caf50",tertiaryColor:"#f44336",arrowLengthReducerDenominator:8,sameTargetArrowLengthReducerDenominator:4,arrowWidthDenominator:5,activeArrowWidthMultiplier:.9,opacity:.65,activeOpacity:.5},cw=b.createContext(null),jr=()=>b.use(cw);function QN({children:e,options:t}){const{id:s="chessboard",pieces:a=YN,position:o="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR",boardOrientation:c="white",chessboardRows:u=8,chessboardColumns:f=8,boardStyle:m=Wx(f),squareStyle:g=Jx,squareStyles:y={},darkSquareStyle:v=ew,lightSquareStyle:x=tw,dropSquareStyle:S=nw,draggingPieceStyle:T=ow,draggingPieceGhostStyle:k=lw,darkSquareNotationStyle:E=sw,lightSquareNotationStyle:A=iw,alphaNotationStyle:N=aw,numericNotationStyle:_=rw,showNotation:H=!0,animationDurationInMs:D=300,showAnimations:F=!0,allowDragging:I=!0,allowDragOffBoard:O=!0,allowAutoScroll:ee=!1,dragActivationDistance:ae=1,allowDrawingArrows:ue=!0,arrows:fe=[],arrowOptions:be=FN,clearArrowsOnClick:ve=!0,canDragPiece:he,onArrowsChange:B,onMouseOutSquare:V,onMouseOverSquare:X,onPieceClick:ie,onPieceDrag:M,onPieceDrop:Y,onSquareClick:se,onSquareRightClick:te,squareRenderer:oe}=t||{},[de,re]=b.useState(null),[ke,Re]=b.useState(typeof o=="string"?lh(o,u,f):o),[vt,Qe]=b.useState({}),[it,ce]=b.useState(null),[Ae,De]=b.useState(null),[Xe,gt]=b.useState(null),[Je,bt]=b.useState([]),[Wt,le]=b.useState(null),Se=b.useRef(null);b.useEffect(()=>{const Ze=typeof o=="string"?lh(o,u,f):o;if(!F){Re(Ze);return}const et=Wt;et&&(Re(et),le(null));const ut=KN(et??ke,Ze,f,c),Xn=Object.keys(ut).length>1;if(it&&Xn){const gn={...ke};delete gn[it.sourceSquare],gn[it.targetSquare]={pieceType:it.piece},Re(gn);const jn={...ut};delete jn[it.sourceSquare],Qe(jn);const ws=setTimeout(()=>{Re(Ze),Qe({}),ce(null)},D);Se.current=ws;return}if(it){Re(Ze),ce(null);return}Qe(ut),le(Ze);const At=setTimeout(()=>{Re(Ze),Qe({}),le(null)},D);return Se.current=At,()=>{Se.current&&clearTimeout(Se.current)}},[o]),b.useEffect(()=>{Re(typeof o=="string"?lh(o,u,f):o)},[u,f,c]),b.useEffect(()=>{B?.({arrows:Je})},[Je]);const at=b.useMemo(()=>HN(u,f,c),[u,f,c]),Ve=b.useCallback((Ze,et)=>{if(!ue)return;const ut=Je.findIndex(At=>At.startSquare===Ae&&At.endSquare===Ze);if(fe.some(At=>At.startSquare===Ae&&At.endSquare===Ze)){De(null),gt(null);return}if(Ae&&Ae!==Ze){const At=et?.shiftKey?be.secondaryColor:et?.ctrlKey?be.tertiaryColor:be.color;bt(gn=>ut===-1?[...gn,{startSquare:Ae,endSquare:Ze,color:At}]:gn.filter((jn,ws)=>ws!==ut)),De(null),gt(null)}},[ue,fe,be.color,be.secondaryColor,be.tertiaryColor,Je,Ae,Xe]),Dt=b.useCallback(()=>{ve&&(bt([]),De(null),gt(null))},[ve]),kt=b.useCallback((Ze,et)=>{const ut=et?.shiftKey?be.secondaryColor:et?.ctrlKey?be.tertiaryColor:be.color;gt({square:Ze,color:ut})},[be]),ct=b.useCallback(()=>{re(null)},[]),Ge=b.useCallback(function(et){if(!de)return;const ut=et.over?.id.toString();if(!ut){Y?.({piece:de,sourceSquare:de.position,targetSquare:null}),ce({piece:de.pieceType,sourceSquare:de.position,targetSquare:""}),re(null);return}et.over&&(Y?.({piece:de,sourceSquare:de.position,targetSquare:ut})&&ce({piece:de.pieceType,sourceSquare:de.position,targetSquare:ut}),re(null))},[de]),Bt=b.useCallback(function({active:et}){const ut=et.data.current?.isSparePiece;M?.({isSparePiece:ut,piece:ut?{pieceType:et.id}:ke[et.id],square:ut?null:et.id}),re({isSparePiece:ut,position:et.id,pieceType:ut?et.id:ke[et.id].pieceType})},[ke]),Tt=wA(Bc(Fm,{activationConstraint:ae>0?{distance:ae}:void 0}),Bc(Km),Bc(Kx),Bc(Gx));function ci(Ze){const et=MA(Ze);return et.length>0?et:Dx(Ze)}return d.jsx(cw.Provider,{value:{id:s,pieces:a,boardOrientation:c,chessboardRows:u,chessboardColumns:f,boardStyle:m,squareStyle:g,squareStyles:y,darkSquareStyle:v,lightSquareStyle:x,dropSquareStyle:S,draggingPieceStyle:T,draggingPieceGhostStyle:k,darkSquareNotationStyle:E,lightSquareNotationStyle:A,alphaNotationStyle:N,numericNotationStyle:_,showNotation:H,animationDurationInMs:D,showAnimations:F,allowDragging:I,allowDragOffBoard:O,allowDrawingArrows:ue,arrows:fe,arrowOptions:be,canDragPiece:he,onMouseOutSquare:V,onMouseOverSquare:X,onPieceClick:ie,onSquareClick:se,onSquareRightClick:te,squareRenderer:oe,board:at,isWrapped:!0,draggingPiece:de,currentPosition:ke,positionDifferences:vt,newArrowStartSquare:Ae,newArrowOverSquare:Xe,setNewArrowStartSquare:De,setNewArrowOverSquare:kt,internalArrows:Je,drawArrow:Ve,clearArrows:Dt},children:d.jsx(xN,{autoScroll:ee,collisionDetection:ci,onDragStart:Bt,onDragEnd:Ge,onDragCancel:ct,sensors:Tt,children:e})})}function XN(){const{id:e,arrows:t,arrowOptions:s,boardOrientation:a,chessboardColumns:o,chessboardRows:c,internalArrows:u,newArrowStartSquare:f,newArrowOverSquare:m}=jr(),g=2048,y=g*(c/o),v=f&&m&&f!==m.square?{startSquare:f,endSquare:m.square,color:m.color}:null,x=v?[...t,...u,v]:[...t,...u];return d.jsx("svg",{viewBox:`0 0 ${g} ${y}`,style:{position:"absolute",top:"0",right:"0",bottom:"0",left:"0",pointerEvents:"none",zIndex:"20"},children:x.map((S,T)=>{const k=cb(a,g,o,c,S.startSquare),E=cb(a,g,o,c,S.endSquare),A=g/o;let N=A/s.arrowLengthReducerDenominator;const _=v&&T===x.length-1;x.some(O=>O.startSquare!==S.startSquare&&O.endSquare===S.endSquare)&&!_&&(N=A/s.sameTargetArrowLengthReducerDenominator);const H=E.x-k.x,D=E.y-k.y,F=Math.hypot(D,H);let I;if(F===Math.hypot(1,2)*A){const O=Math.abs(H)<Math.abs(D)?{x:k.x,y:E.y}:{x:E.x,y:k.y},ee=E.x-O.x,ae=E.y-O.y,ue=A,fe={x:O.x+ee*(ue-N)/ue,y:O.y+ae*(ue-N)/ue};I=`M${k.x},${k.y} L${O.x},${O.y} L${fe.x},${fe.y}`}else{const O={x:k.x+H*(F-N)/F,y:k.y+D*(F-N)/F};I=`M${k.x},${k.y} L${O.x},${O.y}`}return d.jsxs(b.Fragment,{children:[d.jsx("marker",{id:`${e}-arrowhead-${T}-${S.startSquare}-${S.endSquare}`,markerWidth:"2",markerHeight:"2.5",refX:"1.25",refY:"1.25",orient:"auto",children:d.jsx("polygon",{points:"0.3 0, 2 1.25, 0.3 2.5",fill:S.color})}),d.jsx("path",{d:I,fill:"none",opacity:_?s.activeOpacity:s.opacity,stroke:S.color,strokeWidth:_?s.activeArrowWidthMultiplier*(A/s.arrowWidthDenominator):A/s.arrowWidthDenominator,markerEnd:`url(#${e}-arrowhead-${T}-${S.startSquare}-${S.endSquare})`})]},`${e}-arrow-${S.startSquare}-${S.endSquare}${_?"-active":""}`)})})}function IN({children:e,isSparePiece:t=!1,pieceType:s,position:a}){const{allowDragging:o,canDragPiece:c}=jr(),{setNodeRef:u,attributes:f,listeners:m}=CN({id:a,data:{isSparePiece:t,pieceType:s},disabled:!o||c&&!c({piece:{pieceType:s},isSparePiece:t,square:a})});return d.jsx("div",{ref:u,...f,...m,children:e})}function ZN({children:e,squareId:t}){const{isOver:s,setNodeRef:a}=NN({id:t});return d.jsx("div",{ref:a,children:e({isOver:s})})}const ub=b.memo(function({clone:t,isSparePiece:s=!1,position:a,pieceType:o}){const{id:c,allowDragging:u,animationDurationInMs:f,boardOrientation:m,canDragPiece:g,draggingPiece:y,draggingPieceStyle:v,draggingPieceGhostStyle:x,pieces:S,positionDifferences:T,onPieceClick:k}=jr(),[E,A]=b.useState({});let N=t?"grabbing":"grab";(!u||g&&!g({piece:{pieceType:o},isSparePiece:s,square:a}))&&(N="pointer"),b.useEffect(()=>{if(T[a]){const H=a,D=T[a],F=document.querySelector(`#${c}-square-${H}`)?.getBoundingClientRect().width;if(!F)throw new Error("Square width not found");A({transform:`translate(${(m==="black"?-1:1)*(D.charCodeAt(0)-H.charCodeAt(0))*F}px, ${(m==="black"?-1:1)*(Number(H[1])-Number(D[1]))*F}px)`,transition:`transform ${f}ms`,position:"relative",zIndex:10})}else A({})},[T]);const _=S[o];return d.jsx("div",{id:`${c}-piece-${o}-${a}`,"data-piece":o,style:{...E,...t?{...ow,...v}:{},...!t&&y?.position===a?{...lw,...x}:{},width:"100%",height:"100%",cursor:N,touchAction:"none"},onClick:()=>k?.({isSparePiece:s,piece:{pieceType:o},square:a}),children:d.jsx(_,{})})}),WN=b.memo(function({children:t,squareId:s,isLightSquare:a,isOver:o}){const{id:c,allowDrawingArrows:u,boardOrientation:f,chessboardColumns:m,chessboardRows:g,currentPosition:y,squareStyle:v,squareStyles:x,darkSquareStyle:S,lightSquareStyle:T,dropSquareStyle:k,darkSquareNotationStyle:E,lightSquareNotationStyle:A,alphaNotationStyle:N,numericNotationStyle:_,showNotation:H,onMouseOutSquare:D,onMouseOverSquare:F,onSquareClick:I,onSquareRightClick:O,squareRenderer:ee,newArrowStartSquare:ae,setNewArrowStartSquare:ue,setNewArrowOverSquare:fe,drawArrow:be,clearArrows:ve}=jr(),he=s.match(/^[a-z]+/)?.[0],B=s.match(/\d+$/)?.[0];return d.jsxs("div",{id:`${c}-square-${s}`,style:{...Jx,...v,...a?{...tw,...T}:{...ew,...S},...o?{...nw,...k}:{}},"data-column":he,"data-row":B,"data-square":s,onClick:V=>{V.button===0&&I?.({piece:y[s]??null,square:s})},onTouchEnd:V=>{V.preventDefault(),I?.({piece:y[s]??null,square:s})},onContextMenu:V=>{V.preventDefault(),O?.({piece:y[s]??null,square:s})},onMouseDown:V=>{V.button===0&&ve(),V.button===2&&u&&ue(s)},onMouseUp:V=>{V.button===2&&ae&&be(s,{shiftKey:V.shiftKey,ctrlKey:V.ctrlKey})},onMouseOver:V=>{V.buttons===2&&ae&&fe(s,{shiftKey:V.shiftKey,ctrlKey:V.ctrlKey}),F?.({piece:y[s]??null,square:s})},onMouseLeave:()=>D?.({piece:y[s]??null,square:s}),children:[H?d.jsxs("span",{style:a?{...iw,...A}:{...sw,...E},children:[B===(f==="white"?"1":g.toString())&&d.jsx("span",{style:{...aw,...N},children:he}),he===(f==="white"?"a":Xm(0,m,f))&&d.jsx("span",{style:{...rw,..._},children:B})]}):null,ee?.({piece:y[s]??null,square:s,children:t})||d.jsx("div",{style:{width:"100%",height:"100%",...x[s]},children:t})]})}),JN=(e,t)=>({transform:s})=>{const a=typeof document<"u"?document.getElementById(`${e}-board`):null;if(!a)return s;const o=a.getBoundingClientRect(),c=a.querySelector('[data-column="a"][data-row="1"]');if(!c)return s;const f=c.getBoundingClientRect().width/2,m=t.match(/^([a-zA-Z]+)(\d+)$/);if(!m)return s;const[,g,y]=m,v=a.querySelector(`[data-column="${g}"][data-row="${y}"]`);if(!v)return s;const x=v.getBoundingClientRect(),S=x.left+f-o.left,T=x.top+f-o.top,k=-S,E=o.width-S,A=-T,N=o.height-T,_=Math.min(Math.max(s.x,k),E),H=Math.min(Math.max(s.y,A),N);return{...s,x:_,y:H}};function fb(){const{allowDragOffBoard:e,board:t,boardStyle:s,chessboardColumns:a,currentPosition:o,draggingPiece:c,id:u}=jr();return d.jsxs(d.Fragment,{children:[d.jsxs("div",{id:`${u}-board`,style:{...Wx(a),...s},children:[t.map(f=>f.map(m=>{const g=o[m.squareId];return d.jsx(ZN,{squareId:m.squareId,children:({isOver:y})=>d.jsx(WN,{isOver:y,...m,children:g?d.jsx(IN,{isSparePiece:!1,position:m.squareId,pieceType:g.pieceType,children:d.jsx(ub,{...g,position:m.squareId})}):null})},m.squareId)})),d.jsx(XN,{})]}),d.jsx(UN,{dropAnimation:null,modifiers:[VN,...e?[]:[JN(u,c?.position||"")]],children:c?d.jsx(ub,{clone:!0,position:c.position,pieceType:c.pieceType}):null})]})}function eE({options:e}){const{isWrapped:t}=jr()??{isWrapped:!1};return t?d.jsx(fb,{}):d.jsx(QN,{options:e,children:d.jsx(fb,{})})}function tE(e){return e!==null?{comment:e,variations:[]}:{variations:[]}}function nE(e,t,s,a,o){const c={move:e,variations:o};return t&&(c.suffix=t),s&&(c.nag=s),a!==null&&(c.comment=a),c}function sE(...e){const[t,...s]=e;let a=t;for(const o of s)o!==null&&(a.variations=[o,...o.variations],o.variations=[],a=o);return t}function iE(e,t){if(t.marker&&t.marker.comment){let s=t.root;for(;;){const a=s.variations[0];if(!a){s.comment=t.marker.comment;break}s=a}}return{headers:e,root:t.root,result:(t.marker&&t.marker.result)??void 0}}function aE(e,t){function s(){this.constructor=e}s.prototype=t.prototype,e.prototype=new s}function br(e,t,s,a){var o=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(o,br.prototype),o.expected=t,o.found=s,o.location=a,o.name="SyntaxError",o}aE(br,Error);function ch(e,t,s){return s=s||" ",e.length>t?e:(t-=e.length,s+=s.repeat(t),e+s.slice(0,t))}br.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var s=null,a;for(a=0;a<e.length;a++)if(e[a].source===this.location.source){s=e[a].text.split(/\r\n|\n|\r/g);break}var o=this.location.start,c=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(o):o,u=this.location.source+":"+c.line+":"+c.column;if(s){var f=this.location.end,m=ch("",c.line.toString().length," "),g=s[o.line-1],y=o.line===f.line?f.column:g.length+1,v=y-o.column||1;t+=`
 --> `+u+`
`+m+` |
`+c.line+" | "+g+`
`+m+" | "+ch("",o.column-1," ")+ch("",v,"^")}else t+=`
 at `+u}return t};br.buildMessage=function(e,t){var s={literal:function(g){return'"'+o(g.text)+'"'},class:function(g){var y=g.parts.map(function(v){return Array.isArray(v)?c(v[0])+"-"+c(v[1]):c(v)});return"["+(g.inverted?"^":"")+y.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(g){return g.description}};function a(g){return g.charCodeAt(0).toString(16).toUpperCase()}function o(g){return g.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(y){return"\\x0"+a(y)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(y){return"\\x"+a(y)})}function c(g){return g.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(y){return"\\x0"+a(y)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(y){return"\\x"+a(y)})}function u(g){return s[g.type](g)}function f(g){var y=g.map(u),v,x;if(y.sort(),y.length>0){for(v=1,x=1;v<y.length;v++)y[v-1]!==y[v]&&(y[x]=y[v],x++);y.length=x}switch(y.length){case 1:return y[0];case 2:return y[0]+" or "+y[1];default:return y.slice(0,-1).join(", ")+", or "+y[y.length-1]}}function m(g){return g?'"'+o(g)+'"':"end of input"}return"Expected "+f(e)+" but "+m(t)+" found."};function rE(e,t){t=t!==void 0?t:{};var s={},a=t.grammarSource,o={pgn:zs},c=zs,u="[",f='"',m="]",g=".",y="O-O-O",v="O-O",x="0-0-0",S="0-0",T="$",k="{",E="}",A=";",N="(",_=")",H="1-0",D="0-1",F="1/2-1/2",I="*",O=/^[a-zA-Z]/,ee=/^[^"]/,ae=/^[0-9]/,ue=/^[.]/,fe=/^[a-zA-Z1-8\-=]/,be=/^[+#]/,ve=/^[!?]/,he=/^[^}]/,B=/^[^\r\n]/,V=/^[ \t\r\n]/,X=jt("tag pair"),ie=mt("[",!1),M=mt('"',!1),Y=mt("]",!1),se=jt("tag name"),te=Lt([["a","z"],["A","Z"]],!1,!1),oe=jt("tag value"),de=Lt(['"'],!0,!1),re=jt("move number"),ke=Lt([["0","9"]],!1,!1),Re=mt(".",!1),vt=Lt(["."],!1,!1),Qe=jt("standard algebraic notation"),it=mt("O-O-O",!1),ce=mt("O-O",!1),Ae=mt("0-0-0",!1),De=mt("0-0",!1),Xe=Lt([["a","z"],["A","Z"],["1","8"],"-","="],!1,!1),gt=Lt(["+","#"],!1,!1),Je=jt("suffix annotation"),bt=Lt(["!","?"],!1,!1),Wt=jt("NAG"),le=mt("$",!1),Se=jt("brace comment"),at=mt("{",!1),Ve=Lt(["}"],!0,!1),Dt=mt("}",!1),kt=jt("rest of line comment"),ct=mt(";",!1),Ge=Lt(["\r",`
`],!0,!1),Bt=jt("variation"),Tt=mt("(",!1),ci=mt(")",!1),Ze=jt("game termination marker"),et=mt("1-0",!1),ut=mt("0-1",!1),Xn=mt("1/2-1/2",!1),At=mt("*",!1),gn=jt("whitespace"),jn=Lt([" ","	","\r",`
`],!1,!1),ws=function(P,Q){return iE(P,Q)},Ta=function(P){return Object.fromEntries(P)},Aa=function(P,Q){return[P,Q]},Yi=function(P,Q){return{root:P,marker:Q}},xt=function(P,Q){return sE(tE(P),...Q.flat())},cn=function(P,Q,K,we,Ce){return nE(P,Q,K,we,Ce)},Jt=function(P){return P},On=function(P){return P.replace(/[\r\n]+/g," ")},en=function(P){return P.trim()},Kt=function(P){return P},Cn=function(P,Q){return{result:P,comment:Q}},G=t.peg$currPos|0,Fe=[{line:1,column:1}],Be=G,tt=t.peg$maxFailExpected||[],ne=t.peg$silentFails|0,kn;if(t.startRule){if(!(t.startRule in o))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');c=o[t.startRule]}function mt(P,Q){return{type:"literal",text:P,ignoreCase:Q}}function Lt(P,Q,K){return{type:"class",parts:P,inverted:Q,ignoreCase:K}}function Ss(){return{type:"end"}}function jt(P){return{type:"other",description:P}}function Na(P){var Q=Fe[P],K;if(Q)return Q;if(P>=Fe.length)K=Fe.length-1;else for(K=P;!Fe[--K];);for(Q=Fe[K],Q={line:Q.line,column:Q.column};K<P;)e.charCodeAt(K)===10?(Q.line++,Q.column=1):Q.column++,K++;return Fe[P]=Q,Q}function Ps(P,Q,K){var we=Na(P),Ce=Na(Q),Ke={source:a,start:{offset:P,line:we.line,column:we.column},end:{offset:Q,line:Ce.line,column:Ce.column}};return Ke}function ye(P){G<Be||(G>Be&&(Be=G,tt=[]),tt.push(P))}function Fi(P,Q,K){return new br(br.buildMessage(P,Q),P,Q,K)}function zs(){var P,Q,K;return P=G,Q=qt(),K=ui(),P=ws(Q,K),P}function qt(){var P,Q,K;for(P=G,Q=[],K=Lr();K!==s;)Q.push(K),K=Lr();return K=Yt(),P=Ta(Q),P}function Lr(){var P,Q,K,we,Ce,Ke,Cs;return ne++,P=G,Yt(),e.charCodeAt(G)===91?(Q=u,G++):(Q=s,ne===0&&ye(ie)),Q!==s?(Yt(),K=Cl(),K!==s?(Yt(),e.charCodeAt(G)===34?(we=f,G++):(we=s,ne===0&&ye(M)),we!==s?(Ce=Bs(),e.charCodeAt(G)===34?(Ke=f,G++):(Ke=s,ne===0&&ye(M)),Ke!==s?(Yt(),e.charCodeAt(G)===93?(Cs=m,G++):(Cs=s,ne===0&&ye(Y)),Cs!==s?P=Aa(K,Ce):(G=P,P=s)):(G=P,P=s)):(G=P,P=s)):(G=P,P=s)):(G=P,P=s),ne--,P===s&&ne===0&&ye(X),P}function Cl(){var P,Q,K;if(ne++,P=G,Q=[],K=e.charAt(G),O.test(K)?G++:(K=s,ne===0&&ye(te)),K!==s)for(;K!==s;)Q.push(K),K=e.charAt(G),O.test(K)?G++:(K=s,ne===0&&ye(te));else Q=s;return Q!==s?P=e.substring(P,G):P=Q,ne--,P===s&&(Q=s,ne===0&&ye(se)),P}function Bs(){var P,Q,K;for(ne++,P=G,Q=[],K=e.charAt(G),ee.test(K)?G++:(K=s,ne===0&&ye(de));K!==s;)Q.push(K),K=e.charAt(G),ee.test(K)?G++:(K=s,ne===0&&ye(de));return P=e.substring(P,G),ne--,Q=s,ne===0&&ye(oe),P}function ui(){var P,Q,K;return P=G,Q=kl(),Yt(),K=zr(),K===s&&(K=null),Yt(),P=Yi(Q,K),P}function kl(){var P,Q,K,we;for(P=G,Q=Pn(),Q===s&&(Q=null),K=[],we=Or();we!==s;)K.push(we),we=Or();return P=xt(Q,K),P}function Or(){var P,Q,K,we,Ce,Ke,Cs,Us;if(P=G,Yt(),Tl(),Yt(),Q=qu(),Q!==s){for(K=Ea(),K===s&&(K=null),we=[],Ce=Qi();Ce!==s;)we.push(Ce),Ce=Qi();for(Ce=Yt(),Ke=Pn(),Ke===s&&(Ke=null),Cs=[],Us=qs();Us!==s;)Cs.push(Us),Us=qs();P=cn(Q,K,we,Ke,Cs)}else G=P,P=s;return P}function Tl(){var P,Q,K,we,Ce,Ke;for(ne++,P=G,Q=[],K=e.charAt(G),ae.test(K)?G++:(K=s,ne===0&&ye(ke));K!==s;)Q.push(K),K=e.charAt(G),ae.test(K)?G++:(K=s,ne===0&&ye(ke));if(e.charCodeAt(G)===46?(K=g,G++):(K=s,ne===0&&ye(Re)),K!==s){for(we=Yt(),Ce=[],Ke=e.charAt(G),ue.test(Ke)?G++:(Ke=s,ne===0&&ye(vt));Ke!==s;)Ce.push(Ke),Ke=e.charAt(G),ue.test(Ke)?G++:(Ke=s,ne===0&&ye(vt));Q=[Q,K,we,Ce],P=Q}else G=P,P=s;return ne--,P===s&&(Q=s,ne===0&&ye(re)),P}function qu(){var P,Q,K,we,Ce,Ke;if(ne++,P=G,Q=G,e.substr(G,5)===y?(K=y,G+=5):(K=s,ne===0&&ye(it)),K===s&&(e.substr(G,3)===v?(K=v,G+=3):(K=s,ne===0&&ye(ce)),K===s&&(e.substr(G,5)===x?(K=x,G+=5):(K=s,ne===0&&ye(Ae)),K===s&&(e.substr(G,3)===S?(K=S,G+=3):(K=s,ne===0&&ye(De)),K===s))))if(K=G,we=e.charAt(G),O.test(we)?G++:(we=s,ne===0&&ye(te)),we!==s){if(Ce=[],Ke=e.charAt(G),fe.test(Ke)?G++:(Ke=s,ne===0&&ye(Xe)),Ke!==s)for(;Ke!==s;)Ce.push(Ke),Ke=e.charAt(G),fe.test(Ke)?G++:(Ke=s,ne===0&&ye(Xe));else Ce=s;Ce!==s?(we=[we,Ce],K=we):(G=K,K=s)}else G=K,K=s;return K!==s?(we=e.charAt(G),be.test(we)?G++:(we=s,ne===0&&ye(gt)),we===s&&(we=null),K=[K,we],Q=K):(G=Q,Q=s),Q!==s?P=e.substring(P,G):P=Q,ne--,P===s&&(Q=s,ne===0&&ye(Qe)),P}function Ea(){var P,Q,K;for(ne++,P=G,Q=[],K=e.charAt(G),ve.test(K)?G++:(K=s,ne===0&&ye(bt));K!==s;)Q.push(K),Q.length>=2?K=s:(K=e.charAt(G),ve.test(K)?G++:(K=s,ne===0&&ye(bt)));return Q.length<1?(G=P,P=s):P=Q,ne--,P===s&&(Q=s,ne===0&&ye(Je)),P}function Qi(){var P,Q,K,we,Ce;if(ne++,P=G,Yt(),e.charCodeAt(G)===36?(Q=T,G++):(Q=s,ne===0&&ye(le)),Q!==s){if(K=G,we=[],Ce=e.charAt(G),ae.test(Ce)?G++:(Ce=s,ne===0&&ye(ke)),Ce!==s)for(;Ce!==s;)we.push(Ce),Ce=e.charAt(G),ae.test(Ce)?G++:(Ce=s,ne===0&&ye(ke));else we=s;we!==s?K=e.substring(K,G):K=we,K!==s?P=Jt(K):(G=P,P=s)}else G=P,P=s;return ne--,P===s&&ne===0&&ye(Wt),P}function Pn(){var P;return P=Pr(),P===s&&(P=Al()),P}function Pr(){var P,Q,K,we,Ce;if(ne++,P=G,e.charCodeAt(G)===123?(Q=k,G++):(Q=s,ne===0&&ye(at)),Q!==s){for(K=G,we=[],Ce=e.charAt(G),he.test(Ce)?G++:(Ce=s,ne===0&&ye(Ve));Ce!==s;)we.push(Ce),Ce=e.charAt(G),he.test(Ce)?G++:(Ce=s,ne===0&&ye(Ve));K=e.substring(K,G),e.charCodeAt(G)===125?(we=E,G++):(we=s,ne===0&&ye(Dt)),we!==s?P=On(K):(G=P,P=s)}else G=P,P=s;return ne--,P===s&&(Q=s,ne===0&&ye(Se)),P}function Al(){var P,Q,K,we,Ce;if(ne++,P=G,e.charCodeAt(G)===59?(Q=A,G++):(Q=s,ne===0&&ye(ct)),Q!==s){for(K=G,we=[],Ce=e.charAt(G),B.test(Ce)?G++:(Ce=s,ne===0&&ye(Ge));Ce!==s;)we.push(Ce),Ce=e.charAt(G),B.test(Ce)?G++:(Ce=s,ne===0&&ye(Ge));K=e.substring(K,G),P=en(K)}else G=P,P=s;return ne--,P===s&&(Q=s,ne===0&&ye(kt)),P}function qs(){var P,Q,K,we;return ne++,P=G,Yt(),e.charCodeAt(G)===40?(Q=N,G++):(Q=s,ne===0&&ye(Tt)),Q!==s?(K=kl(),K!==s?(Yt(),e.charCodeAt(G)===41?(we=_,G++):(we=s,ne===0&&ye(ci)),we!==s?P=Kt(K):(G=P,P=s)):(G=P,P=s)):(G=P,P=s),ne--,P===s&&ne===0&&ye(Bt),P}function zr(){var P,Q,K;return ne++,P=G,e.substr(G,3)===H?(Q=H,G+=3):(Q=s,ne===0&&ye(et)),Q===s&&(e.substr(G,3)===D?(Q=D,G+=3):(Q=s,ne===0&&ye(ut)),Q===s&&(e.substr(G,7)===F?(Q=F,G+=7):(Q=s,ne===0&&ye(Xn)),Q===s&&(e.charCodeAt(G)===42?(Q=I,G++):(Q=s,ne===0&&ye(At))))),Q!==s?(Yt(),K=Pn(),K===s&&(K=null),P=Cn(Q,K)):(G=P,P=s),ne--,P===s&&(Q=s,ne===0&&ye(Ze)),P}function Yt(){var P,Q;for(ne++,P=[],Q=e.charAt(G),V.test(Q)?G++:(Q=s,ne===0&&ye(jn));Q!==s;)P.push(Q),Q=e.charAt(G),V.test(Q)?G++:(Q=s,ne===0&&ye(jn));return ne--,Q=s,ne===0&&ye(gn),P}if(kn=c(),t.peg$library)return{peg$result:kn,peg$currPos:G,peg$FAILED:s,peg$maxFailExpected:tt,peg$maxFailPos:Be};if(kn!==s&&G===e.length)return kn;throw kn!==s&&G<e.length&&ye(Ss()),Fi(tt,Be<e.length?e.charAt(Be):null,Be<e.length?Ps(Be,Be+1):Ps(Be,Be))}/**
 * @license
 * Copyright (c) 2025, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const Wc=0xffffffffffffffffn;function uh(e,t){return(e<<t|e>>64n-t)&0xffffffffffffffffn}function db(e,t){return e*t&Wc}function oE(e){return function(){let t=BigInt(e&Wc),s=BigInt(e>>64n&Wc);const a=db(uh(db(t,5n),7n),9n);return s^=t,t=(uh(t,24n)^s^s<<16n)&Wc,s=uh(s,37n),e=s<<64n|t,a}}const _u=oE(0xa187eb39cdcaed8f31c4b365b102e01en),lE=Array.from({length:2},()=>Array.from({length:6},()=>Array.from({length:128},()=>_u()))),cE=Array.from({length:8},()=>_u()),uE=Array.from({length:16},()=>_u()),fh=_u(),bn="w",Kn="b",Ht="p",Xh="n",Jc="b",Vo="r",qi="q",It="k",dh="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class qc{color;from;to;piece;captured;promotion;flags;san;lan;before;after;constructor(t,s){const{color:a,piece:o,from:c,to:u,flags:f,captured:m,promotion:g}=s,y=an(c),v=an(u);this.color=a,this.piece=o,this.from=y,this.to=v,this.san=t._moveToSan(s,t._moves({legal:!0})),this.lan=y+v,this.before=t.fen(),t._makeMove(s),this.after=t.fen(),t._undoMove(),this.flags="";for(const x in _e)_e[x]&f&&(this.flags+=da[x]);m&&(this.captured=m),g&&(this.promotion=g,this.lan+=g)}isCapture(){return this.flags.indexOf(da.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(da.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(da.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(da.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(da.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(da.BIG_PAWN)>-1}}const hn=-1,da={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q",NULL_MOVE:"-"},_e={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64,NULL_MOVE:128},Ih={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},fE={WhiteTitle:null,BlackTitle:null,WhiteElo:null,BlackElo:null,WhiteUSCF:null,BlackUSCF:null,WhiteNA:null,BlackNA:null,WhiteType:null,BlackType:null,EventDate:null,EventSponsor:null,Section:null,Stage:null,Board:null,Opening:null,Variation:null,SubVariation:null,ECO:null,NIC:null,Time:null,UTCTime:null,UTCDate:null,TimeControl:null,SetUp:null,FEN:null,Termination:null,Annotator:null,Mode:null,PlyCount:null},dE={...Ih,...fE},je={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},hh={b:[16,32,17,15],w:[-16,-32,-17,-15]},hb={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},hE=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],mE=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],pE={p:1,n:2,b:4,r:8,q:16,k:32},gE="pnbrqkPNBRQK",mb=[Xh,Jc,Vo,qi],yE=7,vE=6,bE=1,xE=0,Uc={[It]:_e.KSIDE_CASTLE,[qi]:_e.QSIDE_CASTLE},Li={w:[{square:je.a1,flag:_e.QSIDE_CASTLE},{square:je.h1,flag:_e.KSIDE_CASTLE}],b:[{square:je.a8,flag:_e.QSIDE_CASTLE},{square:je.h8,flag:_e.KSIDE_CASTLE}]},wE={b:bE,w:vE},mh="--";function xa(e){return e>>4}function rl(e){return e&15}function uw(e){return"0123456789".indexOf(e)!==-1}function an(e){const t=rl(e),s=xa(e);return"abcdefgh".substring(t,t+1)+"87654321".substring(s,s+1)}function Oo(e){return e===bn?Kn:bn}function SE(e){const t=e.split(/\s+/);if(t.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const s=parseInt(t[5],10);if(isNaN(s)||s<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const a=parseInt(t[4],10);if(isNaN(a)||a<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(t[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(t[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(t[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const o=t[0].split("/");if(o.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let u=0;u<o.length;u++){let f=0,m=!1;for(let g=0;g<o[u].length;g++)if(uw(o[u][g])){if(m)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};f+=parseInt(o[u][g],10),m=!0}else{if(!/^[prnbqkPRNBQK]$/.test(o[u][g]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};f+=1,m=!1}if(f!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(t[3][1]=="3"&&t[1]=="w"||t[3][1]=="6"&&t[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const c=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:u,regex:f}of c){if(!f.test(t[0]))return{ok:!1,error:`Invalid FEN: missing ${u} king`};if((t[0].match(f)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${u} kings`}}return Array.from(o[0]+o[7]).some(u=>u.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function CE(e,t){const s=e.from,a=e.to,o=e.piece;let c=0,u=0,f=0;for(let m=0,g=t.length;m<g;m++){const y=t[m].from,v=t[m].to,x=t[m].piece;o===x&&s!==y&&a===v&&(c++,xa(s)===xa(y)&&u++,rl(s)===rl(y)&&f++)}return c>0?u>0&&f>0?an(s):f>0?an(s).charAt(1):an(s).charAt(0):""}function Oi(e,t,s,a,o,c=void 0,u=_e.NORMAL){const f=xa(a);if(o===Ht&&(f===yE||f===xE))for(let m=0;m<mb.length;m++){const g=mb[m];e.push({color:t,from:s,to:a,piece:o,captured:c,promotion:g,flags:u|_e.PROMOTION})}else e.push({color:t,from:s,to:a,piece:o,captured:c,flags:u})}function pb(e){let t=e.charAt(0);return t>="a"&&t<="h"?e.match(/[a-h]\d.*[a-h]\d/)?void 0:Ht:(t=t.toLowerCase(),t==="o"?It:t)}function ph(e){return e.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class fr{_board=new Array(128);_turn=bn;_header={};_kings={w:hn,b:hn};_epSquare=-1;_halfMoves=0;_moveNumber=0;_history=[];_comments={};_castling={w:0,b:0};_hash=0n;_positionCount=new Map;constructor(t=dh,{skipValidation:s=!1}={}){this.load(t,{skipValidation:s})}clear({preserveHeaders:t=!1}={}){this._board=new Array(128),this._kings={w:hn,b:hn},this._turn=bn,this._castling={w:0,b:0},this._epSquare=hn,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=t?this._header:{...dE},this._hash=this._computeHash(),this._positionCount=new Map,this._header.SetUp=null,this._header.FEN=null}load(t,{skipValidation:s=!1,preserveHeaders:a=!1}={}){let o=t.split(/\s+/);if(o.length>=2&&o.length<6){const f=["-","-","0","1"];t=o.concat(f.slice(-(6-o.length))).join(" ")}if(o=t.split(/\s+/),!s){const{ok:f,error:m}=SE(t);if(!f)throw new Error(m)}const c=o[0];let u=0;this.clear({preserveHeaders:a});for(let f=0;f<c.length;f++){const m=c.charAt(f);if(m==="/")u+=8;else if(uw(m))u+=parseInt(m,10);else{const g=m<"a"?bn:Kn;this._put({type:m.toLowerCase(),color:g},an(u)),u++}}this._turn=o[1],o[2].indexOf("K")>-1&&(this._castling.w|=_e.KSIDE_CASTLE),o[2].indexOf("Q")>-1&&(this._castling.w|=_e.QSIDE_CASTLE),o[2].indexOf("k")>-1&&(this._castling.b|=_e.KSIDE_CASTLE),o[2].indexOf("q")>-1&&(this._castling.b|=_e.QSIDE_CASTLE),this._epSquare=o[3]==="-"?hn:je[o[3]],this._halfMoves=parseInt(o[4],10),this._moveNumber=parseInt(o[5],10),this._hash=this._computeHash(),this._updateSetup(t),this._incPositionCount()}fen({forceEnpassantSquare:t=!1}={}){let s=0,a="";for(let u=je.a8;u<=je.h1;u++){if(this._board[u]){s>0&&(a+=s,s=0);const{color:f,type:m}=this._board[u];a+=f===bn?m.toUpperCase():m.toLowerCase()}else s++;u+1&136&&(s>0&&(a+=s),u!==je.h1&&(a+="/"),s=0,u+=8)}let o="";this._castling[bn]&_e.KSIDE_CASTLE&&(o+="K"),this._castling[bn]&_e.QSIDE_CASTLE&&(o+="Q"),this._castling[Kn]&_e.KSIDE_CASTLE&&(o+="k"),this._castling[Kn]&_e.QSIDE_CASTLE&&(o+="q"),o=o||"-";let c="-";if(this._epSquare!==hn)if(t)c=an(this._epSquare);else{const u=this._epSquare+(this._turn===bn?16:-16),f=[u+1,u-1];for(const m of f){if(m&136)continue;const g=this._turn;if(this._board[m]?.color===g&&this._board[m]?.type===Ht){this._makeMove({color:g,from:m,to:this._epSquare,piece:Ht,captured:Ht,flags:_e.EP_CAPTURE});const y=!this._isKingAttacked(g);if(this._undoMove(),y){c=an(this._epSquare);break}}}}return[a,this._turn,o,c,this._halfMoves,this._moveNumber].join(" ")}_pieceKey(t){if(!this._board[t])return 0n;const{color:s,type:a}=this._board[t],o={w:0,b:1}[s],c={p:0,n:1,b:2,r:3,q:4,k:5}[a];return lE[o][c][t]}_epKey(){return this._epSquare===hn?0n:cE[this._epSquare&7]}_castlingKey(){const t=this._castling.w>>5|this._castling.b>>3;return uE[t]}_computeHash(){let t=0n;for(let s=je.a8;s<=je.h1;s++){if(s&136){s+=7;continue}this._board[s]&&(t^=this._pieceKey(s))}return t^=this._epKey(),t^=this._castlingKey(),this._turn==="b"&&(t^=fh),t}_updateSetup(t){this._history.length>0||(t!==dh?(this._header.SetUp="1",this._header.FEN=t):(this._header.SetUp=null,this._header.FEN=null))}reset(){this.load(dh)}get(t){return this._board[je[t]]}findPiece(t){const s=[];for(let a=je.a8;a<=je.h1;a++){if(a&136){a+=7;continue}!this._board[a]||this._board[a]?.color!==t.color||this._board[a].color===t.color&&this._board[a].type===t.type&&s.push(an(a))}return s}put({type:t,color:s},a){return this._put({type:t,color:s},a)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_set(t,s){this._hash^=this._pieceKey(t),this._board[t]=s,this._hash^=this._pieceKey(t)}_put({type:t,color:s},a){if(gE.indexOf(t.toLowerCase())===-1||!(a in je))return!1;const o=je[a];if(t==It&&!(this._kings[s]==hn||this._kings[s]==o))return!1;const c=this._board[o];return c&&c.type===It&&(this._kings[c.color]=hn),this._set(o,{type:t,color:s}),t===It&&(this._kings[s]=o),!0}_clear(t){this._hash^=this._pieceKey(t),delete this._board[t]}remove(t){const s=this.get(t);return this._clear(je[t]),s&&s.type===It&&(this._kings[s.color]=hn),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),s}_updateCastlingRights(){this._hash^=this._castlingKey();const t=this._board[je.e1]?.type===It&&this._board[je.e1]?.color===bn,s=this._board[je.e8]?.type===It&&this._board[je.e8]?.color===Kn;(!t||this._board[je.a1]?.type!==Vo||this._board[je.a1]?.color!==bn)&&(this._castling.w&=-65),(!t||this._board[je.h1]?.type!==Vo||this._board[je.h1]?.color!==bn)&&(this._castling.w&=-33),(!s||this._board[je.a8]?.type!==Vo||this._board[je.a8]?.color!==Kn)&&(this._castling.b&=-65),(!s||this._board[je.h8]?.type!==Vo||this._board[je.h8]?.color!==Kn)&&(this._castling.b&=-33),this._hash^=this._castlingKey()}_updateEnPassantSquare(){if(this._epSquare===hn)return;const t=this._epSquare+(this._turn===bn?-16:16),s=this._epSquare+(this._turn===bn?16:-16),a=[s+1,s-1];if(this._board[t]!==null||this._board[this._epSquare]!==null||this._board[s]?.color!==Oo(this._turn)||this._board[s]?.type!==Ht){this._hash^=this._epKey(),this._epSquare=hn;return}const o=c=>!(c&136)&&this._board[c]?.color===this._turn&&this._board[c]?.type===Ht;a.some(o)||(this._hash^=this._epKey(),this._epSquare=hn)}_attacked(t,s,a){const o=[];for(let c=je.a8;c<=je.h1;c++){if(c&136){c+=7;continue}if(this._board[c]===void 0||this._board[c].color!==t)continue;const u=this._board[c],f=c-s;if(f===0)continue;const m=f+119;if(hE[m]&pE[u.type]){if(u.type===Ht){if(f>0&&u.color===bn||f<=0&&u.color===Kn)if(a)o.push(an(c));else return!0;continue}if(u.type==="n"||u.type==="k")if(a){o.push(an(c));continue}else return!0;const g=mE[m];let y=c+g,v=!1;for(;y!==s;){if(this._board[y]!=null){v=!0;break}y+=g}if(!v)if(a){o.push(an(c));continue}else return!0}}return a?o:!1}attackers(t,s){return s?this._attacked(s,je[t],!0):this._attacked(this._turn,je[t],!0)}_isKingAttacked(t){const s=this._kings[t];return s===-1?!1:this._attacked(Oo(t),s)}hash(){return this._hash.toString(16)}isAttacked(t,s){return this._attacked(s,je[t])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const t={b:0,n:0,r:0,q:0,k:0,p:0},s=[];let a=0,o=0;for(let c=je.a8;c<=je.h1;c++){if(o=(o+1)%2,c&136){c+=7;continue}const u=this._board[c];u&&(t[u.type]=u.type in t?t[u.type]+1:1,u.type===Jc&&s.push(o),a++)}if(a===2)return!0;if(a===3&&(t[Jc]===1||t[Xh]===1))return!0;if(a===t[Jc]+2){let c=0;const u=s.length;for(let f=0;f<u;f++)c+=s[f];if(c===0||c===u)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this._hash)>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isDraw()}moves({verbose:t=!1,square:s=void 0,piece:a=void 0}={}){const o=this._moves({square:s,piece:a});return t?o.map(c=>new qc(this,c)):o.map(c=>this._moveToSan(c,o))}_moves({legal:t=!0,piece:s=void 0,square:a=void 0}={}){const o=a?a.toLowerCase():void 0,c=s?.toLowerCase(),u=[],f=this._turn,m=Oo(f);let g=je.a8,y=je.h1,v=!1;if(o)if(o in je)g=y=je[o],v=!0;else return[];for(let S=g;S<=y;S++){if(S&136){S+=7;continue}if(!this._board[S]||this._board[S].color===m)continue;const{type:T}=this._board[S];let k;if(T===Ht){if(c&&c!==T)continue;k=S+hh[f][0],this._board[k]||(Oi(u,f,S,k,Ht),k=S+hh[f][1],wE[f]===xa(S)&&!this._board[k]&&Oi(u,f,S,k,Ht,void 0,_e.BIG_PAWN));for(let E=2;E<4;E++)k=S+hh[f][E],!(k&136)&&(this._board[k]?.color===m?Oi(u,f,S,k,Ht,this._board[k].type,_e.CAPTURE):k===this._epSquare&&Oi(u,f,S,k,Ht,Ht,_e.EP_CAPTURE))}else{if(c&&c!==T)continue;for(let E=0,A=hb[T].length;E<A;E++){const N=hb[T][E];for(k=S;k+=N,!(k&136);){if(!this._board[k])Oi(u,f,S,k,T);else{if(this._board[k].color===f)break;Oi(u,f,S,k,T,this._board[k].type,_e.CAPTURE);break}if(T===Xh||T===It)break}}}}if((c===void 0||c===It)&&(!v||y===this._kings[f])){if(this._castling[f]&_e.KSIDE_CASTLE){const S=this._kings[f],T=S+2;!this._board[S+1]&&!this._board[T]&&!this._attacked(m,this._kings[f])&&!this._attacked(m,S+1)&&!this._attacked(m,T)&&Oi(u,f,this._kings[f],T,It,void 0,_e.KSIDE_CASTLE)}if(this._castling[f]&_e.QSIDE_CASTLE){const S=this._kings[f],T=S-2;!this._board[S-1]&&!this._board[S-2]&&!this._board[S-3]&&!this._attacked(m,this._kings[f])&&!this._attacked(m,S-1)&&!this._attacked(m,T)&&Oi(u,f,this._kings[f],T,It,void 0,_e.QSIDE_CASTLE)}}if(!t||this._kings[f]===-1)return u;const x=[];for(let S=0,T=u.length;S<T;S++)this._makeMove(u[S]),this._isKingAttacked(f)||x.push(u[S]),this._undoMove();return x}move(t,{strict:s=!1}={}){let a=null;if(typeof t=="string")a=this._moveFromSan(t,s);else if(t===null)a=this._moveFromSan(mh,s);else if(typeof t=="object"){const c=this._moves();for(let u=0,f=c.length;u<f;u++)if(t.from===an(c[u].from)&&t.to===an(c[u].to)&&(!("promotion"in c[u])||t.promotion===c[u].promotion)){a=c[u];break}}if(!a)throw typeof t=="string"?new Error(`Invalid move: ${t}`):new Error(`Invalid move: ${JSON.stringify(t)}`);if(this.isCheck()&&a.flags&_e.NULL_MOVE)throw new Error("Null move not allowed when in check");const o=new qc(this,a);return this._makeMove(a),this._incPositionCount(),o}_push(t){this._history.push({move:t,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_movePiece(t,s){this._hash^=this._pieceKey(t),this._board[s]=this._board[t],delete this._board[t],this._hash^=this._pieceKey(s)}_makeMove(t){const s=this._turn,a=Oo(s);if(this._push(t),t.flags&_e.NULL_MOVE){s===Kn&&this._moveNumber++,this._halfMoves++,this._turn=a,this._epSquare=hn;return}if(this._hash^=this._epKey(),this._hash^=this._castlingKey(),t.captured&&(this._hash^=this._pieceKey(t.to)),this._movePiece(t.from,t.to),t.flags&_e.EP_CAPTURE&&(this._turn===Kn?this._clear(t.to-16):this._clear(t.to+16)),t.promotion&&(this._clear(t.to),this._set(t.to,{type:t.promotion,color:s})),this._board[t.to].type===It){if(this._kings[s]=t.to,t.flags&_e.KSIDE_CASTLE){const o=t.to-1,c=t.to+1;this._movePiece(c,o)}else if(t.flags&_e.QSIDE_CASTLE){const o=t.to+1,c=t.to-2;this._movePiece(c,o)}this._castling[s]=0}if(this._castling[s]){for(let o=0,c=Li[s].length;o<c;o++)if(t.from===Li[s][o].square&&this._castling[s]&Li[s][o].flag){this._castling[s]^=Li[s][o].flag;break}}if(this._castling[a]){for(let o=0,c=Li[a].length;o<c;o++)if(t.to===Li[a][o].square&&this._castling[a]&Li[a][o].flag){this._castling[a]^=Li[a][o].flag;break}}if(this._hash^=this._castlingKey(),t.flags&_e.BIG_PAWN){let o;s===Kn?o=t.to-16:o=t.to+16,!(t.to-1&136)&&this._board[t.to-1]?.type===Ht&&this._board[t.to-1]?.color===a||!(t.to+1&136)&&this._board[t.to+1]?.type===Ht&&this._board[t.to+1]?.color===a?(this._epSquare=o,this._hash^=this._epKey()):this._epSquare=hn}else this._epSquare=hn;t.piece===Ht?this._halfMoves=0:t.flags&(_e.CAPTURE|_e.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,s===Kn&&this._moveNumber++,this._turn=a,this._hash^=fh}undo(){const t=this._hash,s=this._undoMove();if(s){const a=new qc(this,s);return this._decPositionCount(t),a}return null}_undoMove(){const t=this._history.pop();if(t===void 0)return null;this._hash^=this._epKey(),this._hash^=this._castlingKey();const s=t.move;this._kings=t.kings,this._turn=t.turn,this._castling=t.castling,this._epSquare=t.epSquare,this._halfMoves=t.halfMoves,this._moveNumber=t.moveNumber,this._hash^=this._epKey(),this._hash^=this._castlingKey(),this._hash^=fh;const a=this._turn,o=Oo(a);if(s.flags&_e.NULL_MOVE)return s;if(this._movePiece(s.to,s.from),s.piece&&(this._clear(s.from),this._set(s.from,{type:s.piece,color:a})),s.captured)if(s.flags&_e.EP_CAPTURE){let c;a===Kn?c=s.to-16:c=s.to+16,this._set(c,{type:Ht,color:o})}else this._set(s.to,{type:s.captured,color:o});if(s.flags&(_e.KSIDE_CASTLE|_e.QSIDE_CASTLE)){let c,u;s.flags&_e.KSIDE_CASTLE?(c=s.to+1,u=s.to-1):(c=s.to-2,u=s.to+1),this._movePiece(u,c)}return s}pgn({newline:t=`
`,maxWidth:s=0}={}){const a=[];let o=!1;for(const x in this._header)this._header[x]&&a.push(`[${x} "${this._header[x]}"]`+t),o=!0;o&&this._history.length&&a.push(t);const c=x=>{const S=this._comments[this.fen()];if(typeof S<"u"){const T=x.length>0?" ":"";x=`${x}${T}{${S}}`}return x},u=[];for(;this._history.length>0;)u.push(this._undoMove());const f=[];let m="";for(u.length===0&&f.push(c(""));u.length>0;){m=c(m);const x=u.pop();if(!x)break;if(!this._history.length&&x.color==="b"){const S=`${this._moveNumber}. ...`;m=m?`${m} ${S}`:S}else x.color==="w"&&(m.length&&f.push(m),m=this._moveNumber+".");m=m+" "+this._moveToSan(x,this._moves({legal:!0})),this._makeMove(x)}if(m.length&&f.push(c(m)),f.push(this._header.Result||"*"),s===0)return a.join("")+f.join(" ");const g=function(){return a.length>0&&a[a.length-1]===" "?(a.pop(),!0):!1},y=function(x,S){for(const T of S.split(" "))if(T){if(x+T.length>s){for(;g();)x--;a.push(t),x=0}a.push(T),x+=T.length,a.push(" "),x++}return g()&&x--,x};let v=0;for(let x=0;x<f.length;x++){if(v+f[x].length>s&&f[x].includes("{")){v=y(v,f[x]);continue}v+f[x].length>s&&x!==0?(a[a.length-1]===" "&&a.pop(),a.push(t),v=0):x!==0&&(a.push(" "),v++),a.push(f[x]),v+=f[x].length}return a.join("")}header(...t){for(let s=0;s<t.length;s+=2)typeof t[s]=="string"&&typeof t[s+1]=="string"&&(this._header[t[s]]=t[s+1]);return this._header}setHeader(t,s){return this._header[t]=s??Ih[t]??null,this.getHeaders()}removeHeader(t){return t in this._header?(this._header[t]=Ih[t]||null,!0):!1}getHeaders(){const t={};for(const[s,a]of Object.entries(this._header))a!==null&&(t[s]=a);return t}loadPgn(t,{strict:s=!1,newlineChar:a=`\r?
`}={}){a!==`\r?
`&&(t=t.replace(new RegExp(a,"g"),`
`));const o=rE(t);this.reset();const c=o.headers;let u="";for(const g in c)g.toLowerCase()==="fen"&&(u=c[g]),this.header(g,c[g]);if(!s)u&&this.load(u,{preserveHeaders:!0});else if(c.SetUp==="1"){if(!("FEN"in c))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(c.FEN,{preserveHeaders:!0})}let f=o.root;for(;f;){if(f.move){const g=this._moveFromSan(f.move,s);if(g==null)throw new Error(`Invalid move in PGN: ${f.move}`);this._makeMove(g),this._incPositionCount()}f.comment!==void 0&&(this._comments[this.fen()]=f.comment),f=f.variations[0]}const m=o.result;m&&Object.keys(this._header).length&&this._header.Result!==m&&this.setHeader("Result",m)}_moveToSan(t,s){let a="";if(t.flags&_e.KSIDE_CASTLE)a="O-O";else if(t.flags&_e.QSIDE_CASTLE)a="O-O-O";else{if(t.flags&_e.NULL_MOVE)return mh;if(t.piece!==Ht){const o=CE(t,s);a+=t.piece.toUpperCase()+o}t.flags&(_e.CAPTURE|_e.EP_CAPTURE)&&(t.piece===Ht&&(a+=an(t.from)[0]),a+="x"),a+=an(t.to),t.promotion&&(a+="="+t.promotion.toUpperCase())}return this._makeMove(t),this.isCheck()&&(this.isCheckmate()?a+="#":a+="+"),this._undoMove(),a}_moveFromSan(t,s=!1){let a=ph(t);if(s||(a==="0-0"?a="O-O":a==="0-0-0"&&(a="O-O-O")),a==mh)return{color:this._turn,from:0,to:0,piece:"k",flags:_e.NULL_MOVE};let o=pb(a),c=this._moves({legal:!0,piece:o});for(let x=0,S=c.length;x<S;x++)if(a===ph(this._moveToSan(c[x],c)))return c[x];if(s)return null;let u,f,m,g,y,v=!1;if(f=a.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),f?(u=f[1],m=f[2],g=f[3],y=f[4],m.length==1&&(v=!0)):(f=a.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),f&&(u=f[1],m=f[2],g=f[3],y=f[4],m.length==1&&(v=!0))),o=pb(a),c=this._moves({legal:!0,piece:u||o}),!g)return null;for(let x=0,S=c.length;x<S;x++)if(m){if((!u||u.toLowerCase()==c[x].piece)&&je[m]==c[x].from&&je[g]==c[x].to&&(!y||y.toLowerCase()==c[x].promotion))return c[x];if(v){const T=an(c[x].from);if((!u||u.toLowerCase()==c[x].piece)&&je[g]==c[x].to&&(m==T[0]||m==T[1])&&(!y||y.toLowerCase()==c[x].promotion))return c[x]}}else if(a===ph(this._moveToSan(c[x],c)).replace("x",""))return c[x];return null}ascii(){let t=`   +------------------------+
`;for(let s=je.a8;s<=je.h1;s++){if(rl(s)===0&&(t+=" "+"87654321"[xa(s)]+" |"),this._board[s]){const a=this._board[s].type,c=this._board[s].color===bn?a.toUpperCase():a.toLowerCase();t+=" "+c+" "}else t+=" . ";s+1&136&&(t+=`|
`,s+=8)}return t+=`   +------------------------+
`,t+="     a  b  c  d  e  f  g  h",t}perft(t){const s=this._moves({legal:!1});let a=0;const o=this._turn;for(let c=0,u=s.length;c<u;c++)this._makeMove(s[c]),this._isKingAttacked(o)||(t-1>0?a+=this.perft(t-1):a++),this._undoMove();return a}setTurn(t){return this._turn==t?!1:(this.move("--"),!0)}turn(){return this._turn}board(){const t=[];let s=[];for(let a=je.a8;a<=je.h1;a++)this._board[a]==null?s.push(null):s.push({square:an(a),type:this._board[a].type,color:this._board[a].color}),a+1&136&&(t.push(s),s=[],a+=8);return t}squareColor(t){if(t in je){const s=je[t];return(xa(s)+rl(s))%2===0?"light":"dark"}return null}history({verbose:t=!1}={}){const s=[],a=[];for(;this._history.length>0;)s.push(this._undoMove());for(;;){const o=s.pop();if(!o)break;t?a.push(new qc(this,o)):a.push(this._moveToSan(o,this._moves())),this._makeMove(o)}return a}_getPositionCount(t){return this._positionCount.get(t)??0}_incPositionCount(){this._positionCount.set(this._hash,(this._positionCount.get(this._hash)??0)+1)}_decPositionCount(t){const s=this._positionCount.get(t)??0;s===1?this._positionCount.delete(t):this._positionCount.set(t,s-1)}_pruneComments(){const t=[],s={},a=o=>{o in this._comments&&(s[o]=this._comments[o])};for(;this._history.length>0;)t.push(this._undoMove());for(a(this.fen());;){const o=t.pop();if(!o)break;this._makeMove(o),a(this.fen())}this._comments=s}getComment(){return this._comments[this.fen()]}setComment(t){this._comments[this.fen()]=t.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const t=this._comments[this.fen()];return delete this._comments[this.fen()],t}getComments(){return this._pruneComments(),Object.keys(this._comments).map(t=>({fen:t,comment:this._comments[t]}))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map(t=>{const s=this._comments[t];return delete this._comments[t],{fen:t,comment:s}})}setCastlingRights(t,s){for(const o of[It,qi])s[o]!==void 0&&(s[o]?this._castling[t]|=Uc[o]:this._castling[t]&=~Uc[o]);this._updateCastlingRights();const a=this.getCastlingRights(t);return(s[It]===void 0||s[It]===a[It])&&(s[qi]===void 0||s[qi]===a[qi])}getCastlingRights(t){return{[It]:(this._castling[t]&Uc[It])!==0,[qi]:(this._castling[t]&Uc[qi])!==0}}moveNumber(){return this._moveNumber}}class kE{sounds=new Map;enabled=!0;masterVolume=.7;soundConfig={};constructor(){this.initializeSounds(),this.loadUserPreferences()}initializeSounds(){const t={move:this.createTone(200,.1,"sine"),capture:this.createTone(150,.15,"square"),check:this.createTone(400,.2,"triangle"),checkmate:this.createTone(100,.5,"sawtooth"),gameStart:this.createChord([262,330,392],.3),gameWin:this.createChord([523,659,784],.4),gameLose:this.createTone(100,.4,"sawtooth"),buttonClick:this.createTone(800,.05,"square"),buttonHover:this.createTone(1e3,.03,"sine"),levelUp:this.createChord([523,659,784,1047],.6),achievement:this.createChord([392,494,587,698],.5),puzzleSolved:this.createChord([523,659,784],.3),puzzleError:this.createTone(150,.2,"square"),lessonComplete:this.createChord([440,554,659],.4),xpGain:this.createTone(600,.1,"sine"),streakBonus:this.createChord([659,784,988],.3),notification:this.createTone(800,.1,"triangle"),success:this.createChord([523,659],.2),error:this.createTone(200,.3,"square"),whoosh:this.createNoise(.1),pop:this.createTone(400,.05,"sine"),ding:this.createTone(1200,.1,"triangle")};Object.entries(t).forEach(([s,a])=>{this.soundConfig[s]=a})}createTone(t,s,a="sine"){return`data:audio/wav;base64,${this.generateToneDataURL(t,s,a)}`}createChord(t,s){return`data:audio/wav;base64,${this.generateChordDataURL(t,s)}`}createNoise(t){return`data:audio/wav;base64,${this.generateNoiseDataURL(t)}`}generateToneDataURL(t,s,a){return"UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA="}generateChordDataURL(t,s){return"UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA="}generateNoiseDataURL(t){return"UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA="}loadUserPreferences(){const t=localStorage.getItem("chess-audio-enabled"),s=localStorage.getItem("chess-audio-volume");t!==null&&(this.enabled=JSON.parse(t)),s!==null&&(this.masterVolume=parseFloat(s))}saveUserPreferences(){localStorage.setItem("chess-audio-enabled",JSON.stringify(this.enabled)),localStorage.setItem("chess-audio-volume",this.masterVolume.toString())}async playSound(t,s=1){if(!this.enabled){console.log("AudioService: Audio disabled, skipping sound:",t);return}try{console.log("AudioService: Playing sound:",t);const a=new(window.AudioContext||window.webkitAudioContext);a.state==="suspended"&&await a.resume();const o=a.createOscillator(),c=a.createGain();o.connect(c),c.connect(a.destination);const u=this.getSoundConfig(t);o.frequency.setValueAtTime(u.frequency,a.currentTime),o.type=u.type,c.gain.setValueAtTime(0,a.currentTime),c.gain.linearRampToValueAtTime(this.masterVolume*s*u.volume,a.currentTime+.01),c.gain.exponentialRampToValueAtTime(.01,a.currentTime+u.duration),o.start(a.currentTime),o.stop(a.currentTime+u.duration)}catch(a){console.warn("Audio playback failed:",a)}}getSoundConfig(t){const s={move:{frequency:200,type:"sine",duration:.1,volume:.3},capture:{frequency:150,type:"square",duration:.15,volume:.4},check:{frequency:400,type:"triangle",duration:.2,volume:.5},checkmate:{frequency:100,type:"sawtooth",duration:.5,volume:.6},gameStart:{frequency:330,type:"sine",duration:.3,volume:.4},gameWin:{frequency:523,type:"sine",duration:.4,volume:.5},gameLose:{frequency:100,type:"sawtooth",duration:.4,volume:.4},buttonClick:{frequency:800,type:"square",duration:.05,volume:.2},buttonHover:{frequency:1e3,type:"sine",duration:.03,volume:.1},levelUp:{frequency:523,type:"sine",duration:.6,volume:.6},achievement:{frequency:392,type:"triangle",duration:.5,volume:.5},puzzleSolved:{frequency:523,type:"sine",duration:.3,volume:.4},puzzleError:{frequency:150,type:"square",duration:.2,volume:.3},lessonComplete:{frequency:440,type:"sine",duration:.4,volume:.4},xpGain:{frequency:600,type:"sine",duration:.1,volume:.3},streakBonus:{frequency:659,type:"triangle",duration:.3,volume:.4},notification:{frequency:800,type:"triangle",duration:.1,volume:.3},success:{frequency:523,type:"sine",duration:.2,volume:.3},error:{frequency:200,type:"square",duration:.3,volume:.4},whoosh:{frequency:300,type:"sawtooth",duration:.1,volume:.2},pop:{frequency:400,type:"sine",duration:.05,volume:.2},ding:{frequency:1200,type:"triangle",duration:.1,volume:.3}};return s[t]||s.buttonClick}playMoveSound(t=!1){this.playSound(t?"capture":"move")}playGameStateSound(t){this.playSound(t==="start"?"gameStart":t==="win"?"gameWin":t==="lose"?"gameLose":t==="checkmate"?"checkmate":"check")}playUISound(t){const s={click:"buttonClick",hover:"buttonHover",success:"success",error:"error",notification:"notification"};this.playSound(s[t])}playGamificationSound(t){const s={xp:"xpGain",levelUp:"levelUp",achievement:"achievement",puzzleSolved:"puzzleSolved",lessonComplete:"lessonComplete",streak:"streakBonus"};this.playSound(s[t])}setEnabled(t){this.enabled=t,this.saveUserPreferences()}setMasterVolume(t){this.masterVolume=Math.max(0,Math.min(1,t)),this.saveUserPreferences()}isEnabled(){return this.enabled}getMasterVolume(){return this.masterVolume}async playSequence(t){for(const{sound:s,delay:a,volume:o}of t)setTimeout(()=>this.playSound(s,o),a)}playCelebration(){this.playSequence([{sound:"success",delay:0},{sound:"ding",delay:200},{sound:"achievement",delay:400}])}}const ln=new kE,TE={p:"Pawn",r:"Rook",n:"Knight",b:"Bishop",q:"Queen",k:"King"},AE={p:["The only piece that captures differently than it moves!","Can promote to any piece except King when reaching the end","En passant is a special pawn capture rule","Pawns are the soul of chess - Philidor"],r:["Worth about 5 points in material value","Most powerful on open files and ranks","Can castle with the King for safety","Rook and King vs King is a basic checkmate"],n:["The only piece that can jump over others","Always lands on opposite colored squares","Worth about 3 points in material value","Knights on the rim are dim!"],b:["Each player starts with one light and one dark-squared bishop","Worth about 3 points in material value","Long diagonal bishops can be very powerful","Bishop pair advantage in open positions"],q:["The most powerful piece, worth about 9 points","Combines the power of Rook and Bishop","Don't bring your Queen out too early!","Queen sacrifices can lead to brilliant combinations"],k:["The most important piece - must be protected","Can move one square in any direction","Castling helps keep the King safe","In endgames, the King becomes an active piece"]},NE={f7:"This is the weakest square in Black's position!",h7:"A common target for mating attacks",g7:"The fianchetto square for Black's bishop",b7:"The fianchetto square for Black's bishop",f2:"This is the weakest square in White's position!",h2:"A common target for mating attacks",g2:"The fianchetto square for White's bishop",b2:"The fianchetto square for White's bishop",e4:"Best by test - Bobby Fischer's favorite!",d4:"The Queen's Gambit starts here",e5:"The most popular response to 1.e4",d5:"Challenging the center immediately",c4:"The English Opening - flexible and strategic",f4:"The King's Gambit - aggressive and romantic",c5:"The Sicilian Defense - Black's most ambitious reply"},EE=({piece:e,color:t,square:s,show:a,position:o,classicFact:c})=>{if(!a)return null;const u=TE[e],f=t==="w"?"White":"Black",m=AE[e],g=m[Math.floor(Math.random()*m.length)],y=NE[s];return d.jsxs("div",{className:"absolute z-50 bg-gray-900 text-white text-xs rounded-lg p-3 shadow-xl border border-gray-700 max-w-xs pointer-events-none",style:{left:o.x+10,top:o.y-10,transform:"translateY(-100%)"},children:[d.jsxs("div",{className:"font-bold text-yellow-300 mb-1",children:[f," ",u]}),d.jsxs("div",{className:"text-gray-300 mb-2",children:["Square: ",d.jsx("span",{className:"font-mono font-bold",children:s.toUpperCase()})]}),d.jsxs("div",{className:"text-blue-200 text-xs mb-1",children:[" ",g]}),y&&d.jsxs("div",{className:"text-green-200 text-xs border-t border-gray-600 pt-1",children:[" ",y]}),c&&d.jsxs("div",{className:"text-purple-200 text-xs border-t border-gray-600 pt-1",children:[" ",c]}),d.jsx("div",{className:"absolute top-full left-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-900"})]})},jE=({game:e,onHighlightSquare:t,onShowHint:s,disabled:a=!1,maxAttempts:o=5})=>{const[c,u]=b.useState(0),[f,m]=b.useState(!1),[g,y]=b.useState(0),[v,x]=b.useState(!1);b.useEffect(()=>{if(a)return;let A;return(()=>{m(!0),y(10),A=window.setInterval(()=>{y(_=>_<=1?(m(!1),x(!0),0):_-1)},1e3)})(),()=>{A&&clearInterval(A),m(!1)}},[e.fen(),a]),b.useEffect(()=>{u(0),x(!1)},[e.fen()]);const S=()=>{const A=e.moves({verbose:!0});return A.length===0?null:A.sort((_,H)=>{let D=0,F=0;_.captured&&(D+=10),H.captured&&(F+=10),_.san.includes("+")&&(D+=8),H.san.includes("+")&&(F+=8);const I=["e4","e5","d4","d5","f4","f5","c4","c5"];return I.includes(_.to)&&(D+=5),I.includes(H.to)&&(F+=5),(_.piece==="n"||_.piece==="b")&&(D+=3),(H.piece==="n"||H.piece==="b")&&(F+=3),F-D})[0]},T=A=>{const N=S();if(!N)return"No moves available!";const _=[`Look for moves with your ${N.piece==="p"?"pawn":N.piece==="n"?"knight":N.piece==="b"?"bishop":N.piece==="r"?"rook":N.piece==="q"?"queen":"king"}`,`Consider the ${N.from} square`,`Try moving from ${N.from}`,`Move your piece to ${N.to}`,`The best move is ${N.san}!`];return _[Math.min(A,_.length-1)]},k=()=>{if(c>=o||a)return;const A=c+1;u(A);const N=S();N&&(A<=2?(t(N.from),s(T(A-1))):A<=4?(t(N.from),setTimeout(()=>t(N.to),500),s(T(A-1))):(t(N.from),setTimeout(()=>t(N.to),500),s(T(4))))},E=c<o&&!a;return d.jsxs("div",{className:"relative",children:[f&&!v&&d.jsx("div",{className:"fixed top-4 right-4 z-50 bg-yellow-100 border border-yellow-400 rounded-lg p-3 shadow-lg",children:d.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[d.jsx(q5,{className:"h-4 w-4"}),d.jsxs("span",{className:"text-sm",children:["Need help? Auto-hint in ",d.jsxs("span",{className:"font-bold",children:[g,"s"]})]})]})}),v&&E&&d.jsx("div",{className:"fixed top-4 right-4 z-50 bg-blue-100 border border-blue-400 rounded-lg p-3 shadow-lg animate-pulse",children:d.jsxs("div",{className:"flex items-center gap-2 text-blue-800",children:[d.jsx(L5,{className:"h-4 w-4"}),d.jsx("span",{className:"text-sm font-medium",children:"Help is available!"})]})}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(He,{onClick:k,disabled:!E,variant:v?"default":"outline",size:"sm",className:`${v?"animate-bounce":""} ${E?"":"opacity-50 cursor-not-allowed"}`,children:[d.jsx(lx,{className:"h-4 w-4 mr-1"}),"Help (",o-c," left)"]}),c>0&&d.jsxs("div",{className:"text-xs text-gray-600",children:["Hints used: ",c,"/",o]})]})]})},Im=b.createContext({});function Zm(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const Wm=typeof window<"u",fw=Wm?b.useLayoutEffect:b.useEffect,Ru=b.createContext(null);function Jm(e,t){e.indexOf(t)===-1&&e.push(t)}function ep(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const ri=(e,t,s)=>s>t?t:s<e?e:s;let tp=()=>{};const oi={},dw=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function hw(e){return typeof e=="object"&&e!==null}const mw=e=>/^0[^.\s]+$/u.test(e);function np(e){let t;return()=>(t===void 0&&(t=e()),t)}const cs=e=>e,ME=(e,t)=>s=>t(e(s)),bl=(...e)=>e.reduce(ME),ol=(e,t,s)=>{const a=t-e;return a===0?1:(s-e)/a};class sp{constructor(){this.subscriptions=[]}add(t){return Jm(this.subscriptions,t),()=>ep(this.subscriptions,t)}notify(t,s,a){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,s,a);else for(let c=0;c<o;c++){const u=this.subscriptions[c];u&&u(t,s,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _s=e=>e*1e3,Rs=e=>e/1e3;function pw(e,t){return t?e*(1e3/t):0}const gw=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,_E=1e-7,RE=12;function DE(e,t,s,a,o){let c,u,f=0;do u=t+(s-t)/2,c=gw(u,a,o)-e,c>0?s=u:t=u;while(Math.abs(c)>_E&&++f<RE);return u}function xl(e,t,s,a){if(e===t&&s===a)return cs;const o=c=>DE(c,0,1,e,s);return c=>c===0||c===1?c:gw(o(c),t,a)}const yw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,vw=e=>t=>1-e(1-t),bw=xl(.33,1.53,.69,.99),ip=vw(bw),xw=yw(ip),ww=e=>(e*=2)<1?.5*ip(e):.5*(2-Math.pow(2,-10*(e-1))),ap=e=>1-Math.sin(Math.acos(e)),Sw=vw(ap),Cw=yw(ap),LE=xl(.42,0,1,1),OE=xl(0,0,.58,1),kw=xl(.42,0,.58,1),PE=e=>Array.isArray(e)&&typeof e[0]!="number",Tw=e=>Array.isArray(e)&&typeof e[0]=="number",zE={linear:cs,easeIn:LE,easeInOut:kw,easeOut:OE,circIn:ap,circInOut:Cw,circOut:Sw,backIn:ip,backInOut:xw,backOut:bw,anticipate:ww},BE=e=>typeof e=="string",gb=e=>{if(Tw(e)){tp(e.length===4);const[t,s,a,o]=e;return xl(t,s,a,o)}else if(BE(e))return zE[e];return e},Vc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function qE(e,t){let s=new Set,a=new Set,o=!1,c=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(y){u.has(y)&&(g.schedule(y),e()),y(f)}const g={schedule:(y,v=!1,x=!1)=>{const T=x&&o?s:a;return v&&u.add(y),T.has(y)||T.add(y),y},cancel:y=>{a.delete(y),u.delete(y)},process:y=>{if(f=y,o){c=!0;return}o=!0,[s,a]=[a,s],s.forEach(m),s.clear(),o=!1,c&&(c=!1,g.process(y))}};return g}const UE=40;function Aw(e,t){let s=!1,a=!0;const o={delta:0,timestamp:0,isProcessing:!1},c=()=>s=!0,u=Vc.reduce((_,H)=>(_[H]=qE(c),_),{}),{setup:f,read:m,resolveKeyframes:g,preUpdate:y,update:v,preRender:x,render:S,postRender:T}=u,k=()=>{const _=oi.useManualTiming?o.timestamp:performance.now();s=!1,oi.useManualTiming||(o.delta=a?1e3/60:Math.max(Math.min(_-o.timestamp,UE),1)),o.timestamp=_,o.isProcessing=!0,f.process(o),m.process(o),g.process(o),y.process(o),v.process(o),x.process(o),S.process(o),T.process(o),o.isProcessing=!1,s&&t&&(a=!1,e(k))},E=()=>{s=!0,a=!0,o.isProcessing||e(k)};return{schedule:Vc.reduce((_,H)=>{const D=u[H];return _[H]=(F,I=!1,O=!1)=>(s||E(),D.schedule(F,I,O)),_},{}),cancel:_=>{for(let H=0;H<Vc.length;H++)u[Vc[H]].cancel(_)},state:o,steps:u}}const{schedule:St,cancel:$i,state:mn,steps:gh}=Aw(typeof requestAnimationFrame<"u"?requestAnimationFrame:cs,!0);let eu;function VE(){eu=void 0}const Ln={now:()=>(eu===void 0&&Ln.set(mn.isProcessing||oi.useManualTiming?mn.timestamp:performance.now()),eu),set:e=>{eu=e,queueMicrotask(VE)}},Nw=e=>t=>typeof t=="string"&&t.startsWith(e),rp=Nw("--"),HE=Nw("var(--"),op=e=>HE(e)?$E.test(e.split("/*")[0].trim()):!1,$E=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Mr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ll={...Mr,transform:e=>ri(0,1,e)},Hc={...Mr,default:1},Qo=e=>Math.round(e*1e5)/1e5,lp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function GE(e){return e==null}const KE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,cp=(e,t)=>s=>!!(typeof s=="string"&&KE.test(s)&&s.startsWith(e)||t&&!GE(s)&&Object.prototype.hasOwnProperty.call(s,t)),Ew=(e,t,s)=>a=>{if(typeof a!="string")return a;const[o,c,u,f]=a.match(lp);return{[e]:parseFloat(o),[t]:parseFloat(c),[s]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},YE=e=>ri(0,255,e),yh={...Mr,transform:e=>Math.round(YE(e))},va={test:cp("rgb","red"),parse:Ew("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:a=1})=>"rgba("+yh.transform(e)+", "+yh.transform(t)+", "+yh.transform(s)+", "+Qo(ll.transform(a))+")"};function FE(e){let t="",s="",a="",o="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),a=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),a=e.substring(3,4),o=e.substring(4,5),t+=t,s+=s,a+=a,o+=o),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(a,16),alpha:o?parseInt(o,16)/255:1}}const Zh={test:cp("#"),parse:FE,transform:va.transform},wl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),zi=wl("deg"),Ds=wl("%"),Me=wl("px"),QE=wl("vh"),XE=wl("vw"),yb={...Ds,parse:e=>Ds.parse(e)/100,transform:e=>Ds.transform(e*100)},dr={test:cp("hsl","hue"),parse:Ew("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:a=1})=>"hsla("+Math.round(e)+", "+Ds.transform(Qo(t))+", "+Ds.transform(Qo(s))+", "+Qo(ll.transform(a))+")"},$t={test:e=>va.test(e)||Zh.test(e)||dr.test(e),parse:e=>va.test(e)?va.parse(e):dr.test(e)?dr.parse(e):Zh.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?va.transform(e):dr.transform(e),getAnimatableNone:e=>{const t=$t.parse(e);return t.alpha=0,$t.transform(t)}},IE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ZE(e){return isNaN(e)&&typeof e=="string"&&(e.match(lp)?.length||0)+(e.match(IE)?.length||0)>0}const jw="number",Mw="color",WE="var",JE="var(",vb="${}",ej=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function cl(e){const t=e.toString(),s=[],a={color:[],number:[],var:[]},o=[];let c=0;const f=t.replace(ej,m=>($t.test(m)?(a.color.push(c),o.push(Mw),s.push($t.parse(m))):m.startsWith(JE)?(a.var.push(c),o.push(WE),s.push(m)):(a.number.push(c),o.push(jw),s.push(parseFloat(m))),++c,vb)).split(vb);return{values:s,split:f,indexes:a,types:o}}function _w(e){return cl(e).values}function Rw(e){const{split:t,types:s}=cl(e),a=t.length;return o=>{let c="";for(let u=0;u<a;u++)if(c+=t[u],o[u]!==void 0){const f=s[u];f===jw?c+=Qo(o[u]):f===Mw?c+=$t.transform(o[u]):c+=o[u]}return c}}const tj=e=>typeof e=="number"?0:$t.test(e)?$t.getAnimatableNone(e):e;function nj(e){const t=_w(e);return Rw(e)(t.map(tj))}const Gi={test:ZE,parse:_w,createTransformer:Rw,getAnimatableNone:nj};function vh(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function sj({hue:e,saturation:t,lightness:s,alpha:a}){e/=360,t/=100,s/=100;let o=0,c=0,u=0;if(!t)o=c=u=s;else{const f=s<.5?s*(1+t):s+t-s*t,m=2*s-f;o=vh(m,f,e+1/3),c=vh(m,f,e),u=vh(m,f,e-1/3)}return{red:Math.round(o*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:a}}function gu(e,t){return s=>s>0?t:e}const Et=(e,t,s)=>e+(t-e)*s,bh=(e,t,s)=>{const a=e*e,o=s*(t*t-a)+a;return o<0?0:Math.sqrt(o)},ij=[Zh,va,dr],aj=e=>ij.find(t=>t.test(e));function bb(e){const t=aj(e);if(!t)return!1;let s=t.parse(e);return t===dr&&(s=sj(s)),s}const xb=(e,t)=>{const s=bb(e),a=bb(t);if(!s||!a)return gu(e,t);const o={...s};return c=>(o.red=bh(s.red,a.red,c),o.green=bh(s.green,a.green,c),o.blue=bh(s.blue,a.blue,c),o.alpha=Et(s.alpha,a.alpha,c),va.transform(o))},Wh=new Set(["none","hidden"]);function rj(e,t){return Wh.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function oj(e,t){return s=>Et(e,t,s)}function up(e){return typeof e=="number"?oj:typeof e=="string"?op(e)?gu:$t.test(e)?xb:uj:Array.isArray(e)?Dw:typeof e=="object"?$t.test(e)?xb:lj:gu}function Dw(e,t){const s=[...e],a=s.length,o=e.map((c,u)=>up(c)(c,t[u]));return c=>{for(let u=0;u<a;u++)s[u]=o[u](c);return s}}function lj(e,t){const s={...e,...t},a={};for(const o in s)e[o]!==void 0&&t[o]!==void 0&&(a[o]=up(e[o])(e[o],t[o]));return o=>{for(const c in a)s[c]=a[c](o);return s}}function cj(e,t){const s=[],a={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const c=t.types[o],u=e.indexes[c][a[c]],f=e.values[u]??0;s[o]=f,a[c]++}return s}const uj=(e,t)=>{const s=Gi.createTransformer(t),a=cl(e),o=cl(t);return a.indexes.var.length===o.indexes.var.length&&a.indexes.color.length===o.indexes.color.length&&a.indexes.number.length>=o.indexes.number.length?Wh.has(e)&&!o.values.length||Wh.has(t)&&!a.values.length?rj(e,t):bl(Dw(cj(a,o),o.values),s):gu(e,t)};function Lw(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?Et(e,t,s):up(e)(e,t)}const fj=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>St.update(t,s),stop:()=>$i(t),now:()=>mn.isProcessing?mn.timestamp:Ln.now()}},Ow=(e,t,s=10)=>{let a="";const o=Math.max(Math.round(t/s),2);for(let c=0;c<o;c++)a+=Math.round(e(c/(o-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},yu=2e4;function fp(e){let t=0;const s=50;let a=e.next(t);for(;!a.done&&t<yu;)t+=s,a=e.next(t);return t>=yu?1/0:t}function dj(e,t=100,s){const a=s({...e,keyframes:[0,t]}),o=Math.min(fp(a),yu);return{type:"keyframes",ease:c=>a.next(o*c).value/t,duration:Rs(o)}}const hj=5;function Pw(e,t,s){const a=Math.max(t-hj,0);return pw(s-e(a),t-a)}const Rt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xh=.001;function mj({duration:e=Rt.duration,bounce:t=Rt.bounce,velocity:s=Rt.velocity,mass:a=Rt.mass}){let o,c,u=1-t;u=ri(Rt.minDamping,Rt.maxDamping,u),e=ri(Rt.minDuration,Rt.maxDuration,Rs(e)),u<1?(o=g=>{const y=g*u,v=y*e,x=y-s,S=Jh(g,u),T=Math.exp(-v);return xh-x/S*T},c=g=>{const v=g*u*e,x=v*s+s,S=Math.pow(u,2)*Math.pow(g,2)*e,T=Math.exp(-v),k=Jh(Math.pow(g,2),u);return(-o(g)+xh>0?-1:1)*((x-S)*T)/k}):(o=g=>{const y=Math.exp(-g*e),v=(g-s)*e+1;return-xh+y*v},c=g=>{const y=Math.exp(-g*e),v=(s-g)*(e*e);return y*v});const f=5/e,m=gj(o,c,f);if(e=_s(e),isNaN(m))return{stiffness:Rt.stiffness,damping:Rt.damping,duration:e};{const g=Math.pow(m,2)*a;return{stiffness:g,damping:u*2*Math.sqrt(a*g),duration:e}}}const pj=12;function gj(e,t,s){let a=s;for(let o=1;o<pj;o++)a=a-e(a)/t(a);return a}function Jh(e,t){return e*Math.sqrt(1-t*t)}const yj=["duration","bounce"],vj=["stiffness","damping","mass"];function wb(e,t){return t.some(s=>e[s]!==void 0)}function bj(e){let t={velocity:Rt.velocity,stiffness:Rt.stiffness,damping:Rt.damping,mass:Rt.mass,isResolvedFromDuration:!1,...e};if(!wb(e,vj)&&wb(e,yj))if(e.visualDuration){const s=e.visualDuration,a=2*Math.PI/(s*1.2),o=a*a,c=2*ri(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:Rt.mass,stiffness:o,damping:c}}else{const s=mj(e);t={...t,...s,mass:Rt.mass},t.isResolvedFromDuration=!0}return t}function vu(e=Rt.visualDuration,t=Rt.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:a,restDelta:o}=s;const c=s.keyframes[0],u=s.keyframes[s.keyframes.length-1],f={done:!1,value:c},{stiffness:m,damping:g,mass:y,duration:v,velocity:x,isResolvedFromDuration:S}=bj({...s,velocity:-Rs(s.velocity||0)}),T=x||0,k=g/(2*Math.sqrt(m*y)),E=u-c,A=Rs(Math.sqrt(m/y)),N=Math.abs(E)<5;a||(a=N?Rt.restSpeed.granular:Rt.restSpeed.default),o||(o=N?Rt.restDelta.granular:Rt.restDelta.default);let _;if(k<1){const D=Jh(A,k);_=F=>{const I=Math.exp(-k*A*F);return u-I*((T+k*A*E)/D*Math.sin(D*F)+E*Math.cos(D*F))}}else if(k===1)_=D=>u-Math.exp(-A*D)*(E+(T+A*E)*D);else{const D=A*Math.sqrt(k*k-1);_=F=>{const I=Math.exp(-k*A*F),O=Math.min(D*F,300);return u-I*((T+k*A*E)*Math.sinh(O)+D*E*Math.cosh(O))/D}}const H={calculatedDuration:S&&v||null,next:D=>{const F=_(D);if(S)f.done=D>=v;else{let I=D===0?T:0;k<1&&(I=D===0?_s(T):Pw(_,D,F));const O=Math.abs(I)<=a,ee=Math.abs(u-F)<=o;f.done=O&&ee}return f.value=f.done?u:F,f},toString:()=>{const D=Math.min(fp(H),yu),F=Ow(I=>H.next(D*I).value,D,30);return D+"ms "+F},toTransition:()=>{}};return H}vu.applyToOptions=e=>{const t=dj(e,100,vu);return e.ease=t.ease,e.duration=_s(t.duration),e.type="keyframes",e};function em({keyframes:e,velocity:t=0,power:s=.8,timeConstant:a=325,bounceDamping:o=10,bounceStiffness:c=500,modifyTarget:u,min:f,max:m,restDelta:g=.5,restSpeed:y}){const v=e[0],x={done:!1,value:v},S=O=>f!==void 0&&O<f||m!==void 0&&O>m,T=O=>f===void 0?m:m===void 0||Math.abs(f-O)<Math.abs(m-O)?f:m;let k=s*t;const E=v+k,A=u===void 0?E:u(E);A!==E&&(k=A-v);const N=O=>-k*Math.exp(-O/a),_=O=>A+N(O),H=O=>{const ee=N(O),ae=_(O);x.done=Math.abs(ee)<=g,x.value=x.done?A:ae};let D,F;const I=O=>{S(x.value)&&(D=O,F=vu({keyframes:[x.value,T(x.value)],velocity:Pw(_,O,x.value),damping:o,stiffness:c,restDelta:g,restSpeed:y}))};return I(0),{calculatedDuration:null,next:O=>{let ee=!1;return!F&&D===void 0&&(ee=!0,H(O),I(O)),D!==void 0&&O>=D?F.next(O-D):(!ee&&H(O),x)}}}function xj(e,t,s){const a=[],o=s||oi.mix||Lw,c=e.length-1;for(let u=0;u<c;u++){let f=o(e[u],e[u+1]);if(t){const m=Array.isArray(t)?t[u]||cs:t;f=bl(m,f)}a.push(f)}return a}function wj(e,t,{clamp:s=!0,ease:a,mixer:o}={}){const c=e.length;if(tp(c===t.length),c===1)return()=>t[0];if(c===2&&t[0]===t[1])return()=>t[1];const u=e[0]===e[1];e[0]>e[c-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=xj(t,a,o),m=f.length,g=y=>{if(u&&y<e[0])return t[0];let v=0;if(m>1)for(;v<e.length-2&&!(y<e[v+1]);v++);const x=ol(e[v],e[v+1],y);return f[v](x)};return s?y=>g(ri(e[0],e[c-1],y)):g}function Sj(e,t){const s=e[e.length-1];for(let a=1;a<=t;a++){const o=ol(0,t,a);e.push(Et(s,1,o))}}function Cj(e){const t=[0];return Sj(t,e.length-1),t}function kj(e,t){return e.map(s=>s*t)}function Tj(e,t){return e.map(()=>t||kw).splice(0,e.length-1)}function Xo({duration:e=300,keyframes:t,times:s,ease:a="easeInOut"}){const o=PE(a)?a.map(gb):gb(a),c={done:!1,value:t[0]},u=kj(s&&s.length===t.length?s:Cj(t),e),f=wj(u,t,{ease:Array.isArray(o)?o:Tj(t,o)});return{calculatedDuration:e,next:m=>(c.value=f(m),c.done=m>=e,c)}}const Aj=e=>e!==null;function dp(e,{repeat:t,repeatType:s="loop"},a,o=1){const c=e.filter(Aj),f=o<0||t&&s!=="loop"&&t%2===1?0:c.length-1;return!f||a===void 0?c[f]:a}const Nj={decay:em,inertia:em,tween:Xo,keyframes:Xo,spring:vu};function zw(e){typeof e.type=="string"&&(e.type=Nj[e.type])}class hp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const Ej=e=>e/100;class mp extends hp{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==Ln.now()&&this.tick(Ln.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;zw(t);const{type:s=Xo,repeat:a=0,repeatDelay:o=0,repeatType:c,velocity:u=0}=t;let{keyframes:f}=t;const m=s||Xo;m!==Xo&&typeof f[0]!="number"&&(this.mixKeyframes=bl(Ej,Lw(f[0],f[1])),f=[0,100]);const g=m({...t,keyframes:f});c==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...f].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=fp(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+o,this.totalDuration=this.resolvedDuration*(a+1)-o,this.generator=g}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:a,totalDuration:o,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return a.next(0);const{delay:g=0,keyframes:y,repeat:v,repeatType:x,repeatDelay:S,type:T,onUpdate:k,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const A=this.currentTime-g*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?A<0:A>o;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let _=this.currentTime,H=a;if(v){const O=Math.min(this.currentTime,o)/f;let ee=Math.floor(O),ae=O%1;!ae&&O>=1&&(ae=1),ae===1&&ee--,ee=Math.min(ee,v+1),!!(ee%2)&&(x==="reverse"?(ae=1-ae,S&&(ae-=S/f)):x==="mirror"&&(H=u)),_=ri(0,1,ae)*f}const D=N?{done:!1,value:y[0]}:H.next(_);c&&(D.value=c(D.value));let{done:F}=D;!N&&m!==null&&(F=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return I&&T!==em&&(D.value=dp(y,this.options,E,this.speed)),k&&k(D.value),I&&this.finish(),D}then(t,s){return this.finished.then(t,s)}get duration(){return Rs(this.calculatedDuration)}get time(){return Rs(this.currentTime)}set time(t){t=_s(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ln.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=Rs(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=fj,startTime:s}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=s??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ln.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function jj(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ba=e=>e*180/Math.PI,tm=e=>{const t=ba(Math.atan2(e[1],e[0]));return nm(t)},Mj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:tm,rotateZ:tm,skewX:e=>ba(Math.atan(e[1])),skewY:e=>ba(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},nm=e=>(e=e%360,e<0&&(e+=360),e),Sb=tm,Cb=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),kb=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),_j={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Cb,scaleY:kb,scale:e=>(Cb(e)+kb(e))/2,rotateX:e=>nm(ba(Math.atan2(e[6],e[5]))),rotateY:e=>nm(ba(Math.atan2(-e[2],e[0]))),rotateZ:Sb,rotate:Sb,skewX:e=>ba(Math.atan(e[4])),skewY:e=>ba(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function sm(e){return e.includes("scale")?1:0}function im(e,t){if(!e||e==="none")return sm(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,o;if(s)a=_j,o=s;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=Mj,o=f}if(!o)return sm(t);const c=a[t],u=o[1].split(",").map(Dj);return typeof c=="function"?c(u):u[c]}const Rj=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return im(s,t)};function Dj(e){return parseFloat(e.trim())}const _r=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Rr=new Set(_r),Tb=e=>e===Mr||e===Me,Lj=new Set(["x","y","z"]),Oj=_r.filter(e=>!Lj.has(e));function Pj(e){const t=[];return Oj.forEach(s=>{const a=e.getValue(s);a!==void 0&&(t.push([s,a.get()]),a.set(s.startsWith("scale")?1:0))}),t}const wa={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>im(t,"x"),y:(e,{transform:t})=>im(t,"y")};wa.translateX=wa.x;wa.translateY=wa.y;const Sa=new Set;let am=!1,rm=!1,om=!1;function Bw(){if(rm){const e=Array.from(Sa).filter(a=>a.needsMeasurement),t=new Set(e.map(a=>a.element)),s=new Map;t.forEach(a=>{const o=Pj(a);o.length&&(s.set(a,o),a.render())}),e.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const o=s.get(a);o&&o.forEach(([c,u])=>{a.getValue(c)?.set(u)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}rm=!1,am=!1,Sa.forEach(e=>e.complete(om)),Sa.clear()}function qw(){Sa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(rm=!0)})}function zj(){om=!0,qw(),Bw(),om=!1}class pp{constructor(t,s,a,o,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=a,this.motionValue=o,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Sa.add(this),am||(am=!0,St.read(qw),St.resolveKeyframes(Bw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:a,motionValue:o}=this;if(t[0]===null){const c=o?.get(),u=t[t.length-1];if(c!==void 0)t[0]=c;else if(a&&s){const f=a.readValue(s,u);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=u),o&&c===void 0&&o.set(t[0])}jj(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Sa.delete(this)}cancel(){this.state==="scheduled"&&(Sa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Bj=e=>e.startsWith("--");function qj(e,t,s){Bj(t)?e.style.setProperty(t,s):e.style[t]=s}const Uj=np(()=>window.ScrollTimeline!==void 0),Vj={};function Hj(e,t){const s=np(e);return()=>Vj[t]??s()}const Uw=Hj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ho=([e,t,s,a])=>`cubic-bezier(${e}, ${t}, ${s}, ${a})`,Ab={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ho([0,.65,.55,1]),circOut:Ho([.55,0,1,.45]),backIn:Ho([.31,.01,.66,-.59]),backOut:Ho([.33,1.53,.69,.99])};function Vw(e,t){if(e)return typeof e=="function"?Uw()?Ow(e,t):"ease-out":Tw(e)?Ho(e):Array.isArray(e)?e.map(s=>Vw(s,t)||Ab.easeOut):Ab[e]}function $j(e,t,s,{delay:a=0,duration:o=300,repeat:c=0,repeatType:u="loop",ease:f="easeOut",times:m}={},g=void 0){const y={[t]:s};m&&(y.offset=m);const v=Vw(f,o);Array.isArray(v)&&(y.easing=v);const x={delay:a,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return g&&(x.pseudoElement=g),e.animate(y,x)}function Hw(e){return typeof e=="function"&&"applyToOptions"in e}function Gj({type:e,...t}){return Hw(e)&&Uw()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Kj extends hp{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:a,keyframes:o,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:f,onComplete:m}=t;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=t,tp(typeof t.type!="string");const g=Gj(t);this.animation=$j(s,a,o,g,c),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const y=dp(o,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):qj(s,a,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Rs(Number(t))}get time(){return Rs(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=_s(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Uj()?(this.animation.timeline=t,cs):s(this)}}const $w={anticipate:ww,backInOut:xw,circInOut:Cw};function Yj(e){return e in $w}function Fj(e){typeof e.ease=="string"&&Yj(e.ease)&&(e.ease=$w[e.ease])}const Nb=10;class Qj extends Kj{constructor(t){Fj(t),zw(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:a,onComplete:o,element:c,...u}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const f=new mp({...u,autoplay:!1}),m=_s(this.finishedTime??this.time);s.setWithVelocity(f.sample(m-Nb).value,f.sample(m).value,Nb),f.stop()}}const Eb=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Gi.test(e)||e==="0")&&!e.startsWith("url("));function Xj(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function Ij(e,t,s,a){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const c=e[e.length-1],u=Eb(o,t),f=Eb(c,t);return!u||!f?!1:Xj(e)||(s==="spring"||Hw(s))&&a}function lm(e){e.duration=0,e.type}const Zj=new Set(["opacity","clipPath","filter","transform"]),Wj=np(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Jj(e){const{motionValue:t,name:s,repeatDelay:a,repeatType:o,damping:c,type:u}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=t.owner.getProps();return Wj()&&s&&Zj.has(s)&&(s!=="transform"||!g)&&!m&&!a&&o!=="mirror"&&c!==0&&u!=="inertia"}const eM=40;class tM extends hp{constructor({autoplay:t=!0,delay:s=0,type:a="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:u="loop",keyframes:f,name:m,motionValue:g,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ln.now();const x={autoplay:t,delay:s,type:a,repeat:o,repeatDelay:c,repeatType:u,name:m,motionValue:g,element:y,...v},S=y?.KeyframeResolver||pp;this.keyframeResolver=new S(f,(T,k,E)=>this.onKeyframesResolved(T,k,x,!E),m,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,s,a,o){this.keyframeResolver=void 0;const{name:c,type:u,velocity:f,delay:m,isHandoff:g,onUpdate:y}=a;this.resolvedAt=Ln.now(),Ij(t,c,u,f)||((oi.instantAnimations||!m)&&y?.(dp(t,a,s)),t[0]=t[t.length-1],lm(a),a.repeat=0);const x={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>eM?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...a,keyframes:t},S=!g&&Jj(x)?new Qj({...x,element:x.motionValue.owner.current}):new mp(x);S.finished.then(()=>this.notifyFinished()).catch(cs),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),zj()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const nM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function sM(e){const t=nM.exec(e);if(!t)return[,];const[,s,a,o]=t;return[`--${s??a}`,o]}function Gw(e,t,s=1){const[a,o]=sM(e);if(!a)return;const c=window.getComputedStyle(t).getPropertyValue(a);if(c){const u=c.trim();return dw(u)?parseFloat(u):u}return op(o)?Gw(o,t,s+1):o}function gp(e,t){return e?.[t]??e?.default??e}const Kw=new Set(["width","height","top","left","right","bottom",..._r]),iM={test:e=>e==="auto",parse:e=>e},Yw=e=>t=>t.test(e),Fw=[Mr,Me,Ds,zi,XE,QE,iM],jb=e=>Fw.find(Yw(e));function aM(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||mw(e):!0}const rM=new Set(["brightness","contrast","saturate","opacity"]);function oM(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=s.match(lp)||[];if(!a)return e;const o=s.replace(a,"");let c=rM.has(t)?1:0;return a!==s&&(c*=100),t+"("+c+o+")"}const lM=/\b([a-z-]*)\(.*?\)/gu,cm={...Gi,getAnimatableNone:e=>{const t=e.match(lM);return t?t.map(oM).join(" "):e}},Mb={...Mr,transform:Math.round},cM={rotate:zi,rotateX:zi,rotateY:zi,rotateZ:zi,scale:Hc,scaleX:Hc,scaleY:Hc,scaleZ:Hc,skew:zi,skewX:zi,skewY:zi,distance:Me,translateX:Me,translateY:Me,translateZ:Me,x:Me,y:Me,z:Me,perspective:Me,transformPerspective:Me,opacity:ll,originX:yb,originY:yb,originZ:Me},yp={borderWidth:Me,borderTopWidth:Me,borderRightWidth:Me,borderBottomWidth:Me,borderLeftWidth:Me,borderRadius:Me,radius:Me,borderTopLeftRadius:Me,borderTopRightRadius:Me,borderBottomRightRadius:Me,borderBottomLeftRadius:Me,width:Me,maxWidth:Me,height:Me,maxHeight:Me,top:Me,right:Me,bottom:Me,left:Me,padding:Me,paddingTop:Me,paddingRight:Me,paddingBottom:Me,paddingLeft:Me,margin:Me,marginTop:Me,marginRight:Me,marginBottom:Me,marginLeft:Me,backgroundPositionX:Me,backgroundPositionY:Me,...cM,zIndex:Mb,fillOpacity:ll,strokeOpacity:ll,numOctaves:Mb},uM={...yp,color:$t,backgroundColor:$t,outlineColor:$t,fill:$t,stroke:$t,borderColor:$t,borderTopColor:$t,borderRightColor:$t,borderBottomColor:$t,borderLeftColor:$t,filter:cm,WebkitFilter:cm},Qw=e=>uM[e];function Xw(e,t){let s=Qw(e);return s!==cm&&(s=Gi),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const fM=new Set(["auto","none","0"]);function dM(e,t,s){let a=0,o;for(;a<e.length&&!o;){const c=e[a];typeof c=="string"&&!fM.has(c)&&cl(c).values.length&&(o=e[a]),a++}if(o&&s)for(const c of t)e[c]=Xw(s,o)}class hM extends pp{constructor(t,s,a,o,c){super(t,s,a,o,c,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:a}=this;if(!s||!s.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let g=t[m];if(typeof g=="string"&&(g=g.trim(),op(g))){const y=Gw(g,s.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Kw.has(a)||t.length!==2)return;const[o,c]=t,u=jb(o),f=jb(c);if(u!==f)if(Tb(u)&&Tb(f))for(let m=0;m<t.length;m++){const g=t[m];typeof g=="string"&&(t[m]=parseFloat(g))}else wa[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,a=[];for(let o=0;o<t.length;o++)(t[o]===null||aM(t[o]))&&a.push(o);a.length&&dM(t,a,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wa[a](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const o=s[s.length-1];o!==void 0&&t.getValue(a,o).jump(o,!1)}measureEndState(){const{element:t,name:s,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const o=t.getValue(s);o&&o.jump(this.measuredOrigin,!1);const c=a.length-1,u=a[c];a[c]=wa[s](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{t.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function mM(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let a=document;const o=s?.[e]??a.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const Iw=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Zw(e){return hw(e)&&"offsetHeight"in e}const _b=30,pM=e=>!isNaN(parseFloat(e));class gM{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{const o=Ln.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Ln.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=pM(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new sp);const a=this.events[t].add(s);return t==="change"?()=>{a(),St.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,s,a){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ln.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>_b)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,_b);return pw(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xr(e,t){return new gM(e,t)}const{schedule:vp}=Aw(queueMicrotask,!1),hs={x:!1,y:!1};function Ww(){return hs.x||hs.y}function yM(e){return e==="x"||e==="y"?hs[e]?null:(hs[e]=!0,()=>{hs[e]=!1}):hs.x||hs.y?null:(hs.x=hs.y=!0,()=>{hs.x=hs.y=!1})}function Jw(e,t){const s=mM(e),a=new AbortController,o={passive:!0,...t,signal:a.signal};return[s,o,()=>a.abort()]}function Rb(e){return!(e.pointerType==="touch"||Ww())}function vM(e,t,s={}){const[a,o,c]=Jw(e,s),u=f=>{if(!Rb(f))return;const{target:m}=f,g=t(m,f);if(typeof g!="function"||!m)return;const y=v=>{Rb(v)&&(g(v),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,o)};return a.forEach(f=>{f.addEventListener("pointerenter",u,o)}),c}const eS=(e,t)=>t?e===t?!0:eS(e,t.parentElement):!1,bp=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,bM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function xM(e){return bM.has(e.tagName)||e.tabIndex!==-1}const tu=new WeakSet;function Db(e){return t=>{t.key==="Enter"&&e(t)}}function wh(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const wM=(e,t)=>{const s=e.currentTarget;if(!s)return;const a=Db(()=>{if(tu.has(s))return;wh(s,"down");const o=Db(()=>{wh(s,"up")}),c=()=>wh(s,"cancel");s.addEventListener("keyup",o,t),s.addEventListener("blur",c,t)});s.addEventListener("keydown",a,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",a),t)};function Lb(e){return bp(e)&&!Ww()}function SM(e,t,s={}){const[a,o,c]=Jw(e,s),u=f=>{const m=f.currentTarget;if(!Lb(f))return;tu.add(m);const g=t(m,f),y=(S,T)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",x),tu.has(m)&&tu.delete(m),Lb(S)&&typeof g=="function"&&g(S,{success:T})},v=S=>{y(S,m===window||m===document||s.useGlobalTarget||eS(m,S.target))},x=S=>{y(S,!1)};window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",x,o)};return a.forEach(f=>{(s.useGlobalTarget?window:f).addEventListener("pointerdown",u,o),Zw(f)&&(f.addEventListener("focus",g=>wM(g,o)),!xM(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),c}function tS(e){return hw(e)&&"ownerSVGElement"in e}function CM(e){return tS(e)&&e.tagName==="svg"}const wn=e=>!!(e&&e.getVelocity),kM=[...Fw,$t,Gi],TM=e=>kM.find(Yw(e)),xp=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class AM extends b.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const a=s.offsetParent,o=Zw(a)&&a.offsetWidth||0,c=this.props.sizeRef.current;c.height=s.offsetHeight||0,c.width=s.offsetWidth||0,c.top=s.offsetTop,c.left=s.offsetLeft,c.right=o-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function NM({children:e,isPresent:t,anchorX:s,root:a}){const o=b.useId(),c=b.useRef(null),u=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=b.useContext(xp);return b.useInsertionEffect(()=>{const{width:m,height:g,top:y,left:v,right:x}=u.current;if(t||!c.current||!m||!g)return;const S=s==="left"?`left: ${v}`:`right: ${x}`;c.current.dataset.motionPopId=o;const T=document.createElement("style");f&&(T.nonce=f);const k=a??document.head;return k.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${g}px !important;
            ${S}px !important;
            top: ${y}px !important;
          }
        `),()=>{k.contains(T)&&k.removeChild(T)}},[t]),d.jsx(AM,{isPresent:t,childRef:c,sizeRef:u,children:b.cloneElement(e,{ref:c})})}const EM=({children:e,initial:t,isPresent:s,onExitComplete:a,custom:o,presenceAffectsLayout:c,mode:u,anchorX:f,root:m})=>{const g=Zm(jM),y=b.useId();let v=!0,x=b.useMemo(()=>(v=!1,{id:y,initial:t,isPresent:s,custom:o,onExitComplete:S=>{g.set(S,!0);for(const T of g.values())if(!T)return;a&&a()},register:S=>(g.set(S,!1),()=>g.delete(S))}),[s,g,a]);return c&&v&&(x={...x}),b.useMemo(()=>{g.forEach((S,T)=>g.set(T,!1))},[s]),b.useEffect(()=>{!s&&!g.size&&a&&a()},[s]),u==="popLayout"&&(e=d.jsx(NM,{isPresent:s,anchorX:f,root:m,children:e})),d.jsx(Ru.Provider,{value:x,children:e})};function jM(){return new Map}function nS(e=!0){const t=b.useContext(Ru);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:a,register:o}=t,c=b.useId();b.useEffect(()=>{if(e)return o(c)},[e]);const u=b.useCallback(()=>e&&a&&a(c),[c,a,e]);return!s&&a?[!1,u]:[!0]}const $c=e=>e.key||"";function Ob(e){const t=[];return b.Children.forEach(e,s=>{b.isValidElement(s)&&t.push(s)}),t}const Du=({children:e,custom:t,initial:s=!0,onExitComplete:a,presenceAffectsLayout:o=!0,mode:c="sync",propagate:u=!1,anchorX:f="left",root:m})=>{const[g,y]=nS(u),v=b.useMemo(()=>Ob(e),[e]),x=u&&!g?[]:v.map($c),S=b.useRef(!0),T=b.useRef(v),k=Zm(()=>new Map),[E,A]=b.useState(v),[N,_]=b.useState(v);fw(()=>{S.current=!1,T.current=v;for(let F=0;F<N.length;F++){const I=$c(N[F]);x.includes(I)?k.delete(I):k.get(I)!==!0&&k.set(I,!1)}},[N,x.length,x.join("-")]);const H=[];if(v!==E){let F=[...v];for(let I=0;I<N.length;I++){const O=N[I],ee=$c(O);x.includes(ee)||(F.splice(I,0,O),H.push(O))}return c==="wait"&&H.length&&(F=H),_(Ob(F)),A(v),null}const{forceRender:D}=b.useContext(Im);return d.jsx(d.Fragment,{children:N.map(F=>{const I=$c(F),O=u&&!g?!1:v===N||x.includes(I),ee=()=>{if(k.has(I))k.set(I,!0);else return;let ae=!0;k.forEach(ue=>{ue||(ae=!1)}),ae&&(D?.(),_(T.current),u&&y?.(),a&&a())};return d.jsx(EM,{isPresent:O,initial:!S.current||s?void 0:!1,custom:t,presenceAffectsLayout:o,mode:c,root:m,onExitComplete:O?void 0:ee,anchorX:f,children:F},I)})})},sS=b.createContext({strict:!1}),Pb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wr={};for(const e in Pb)wr[e]={isEnabled:t=>Pb[e].some(s=>!!t[s])};function MM(e){for(const t in e)wr[t]={...wr[t],...e[t]}}const _M=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||_M.has(e)}let iS=e=>!bu(e);function RM(e){typeof e=="function"&&(iS=t=>t.startsWith("on")?!bu(t):e(t))}try{RM(require("@emotion/is-prop-valid").default)}catch{}function DM(e,t,s){const a={};for(const o in e)o==="values"&&typeof e.values=="object"||(iS(o)||s===!0&&bu(o)||!t&&!bu(o)||e.draggable&&o.startsWith("onDrag"))&&(a[o]=e[o]);return a}const Lu=b.createContext({});function Ou(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ul(e){return typeof e=="string"||Array.isArray(e)}const wp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Sp=["initial",...wp];function Pu(e){return Ou(e.animate)||Sp.some(t=>ul(e[t]))}function aS(e){return!!(Pu(e)||e.variants)}function LM(e,t){if(Pu(e)){const{initial:s,animate:a}=e;return{initial:s===!1||ul(s)?s:void 0,animate:ul(a)?a:void 0}}return e.inherit!==!1?t:{}}function OM(e){const{initial:t,animate:s}=LM(e,b.useContext(Lu));return b.useMemo(()=>({initial:t,animate:s}),[zb(t),zb(s)])}function zb(e){return Array.isArray(e)?e.join(" "):e}const fl={};function PM(e){for(const t in e)fl[t]=e[t],rp(t)&&(fl[t].isCSSVariable=!0)}function rS(e,{layout:t,layoutId:s}){return Rr.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!fl[e]||e==="opacity")}const zM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},BM=_r.length;function qM(e,t,s){let a="",o=!0;for(let c=0;c<BM;c++){const u=_r[c],f=e[u];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(u.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||s){const g=Iw(f,yp[u]);if(!m){o=!1;const y=zM[u]||u;a+=`${y}(${g}) `}s&&(t[u]=g)}}return a=a.trim(),s?a=s(t,o?"":a):o&&(a="none"),a}function Cp(e,t,s){const{style:a,vars:o,transformOrigin:c}=e;let u=!1,f=!1;for(const m in t){const g=t[m];if(Rr.has(m)){u=!0;continue}else if(rp(m)){o[m]=g;continue}else{const y=Iw(g,yp[m]);m.startsWith("origin")?(f=!0,c[m]=y):a[m]=y}}if(t.transform||(u||s?a.transform=qM(t,e.transform,s):a.transform&&(a.transform="none")),f){const{originX:m="50%",originY:g="50%",originZ:y=0}=c;a.transformOrigin=`${m} ${g} ${y}`}}const kp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function oS(e,t,s){for(const a in t)!wn(t[a])&&!rS(a,s)&&(e[a]=t[a])}function UM({transformTemplate:e},t){return b.useMemo(()=>{const s=kp();return Cp(s,t,e),Object.assign({},s.vars,s.style)},[t])}function VM(e,t){const s=e.style||{},a={};return oS(a,s,e),Object.assign(a,UM(e,t)),a}function HM(e,t){const s={},a=VM(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=a,s}const $M={offset:"stroke-dashoffset",array:"stroke-dasharray"},GM={offset:"strokeDashoffset",array:"strokeDasharray"};function KM(e,t,s=1,a=0,o=!0){e.pathLength=1;const c=o?$M:GM;e[c.offset]=Me.transform(-a);const u=Me.transform(t),f=Me.transform(s);e[c.array]=`${u} ${f}`}function lS(e,{attrX:t,attrY:s,attrScale:a,pathLength:o,pathSpacing:c=1,pathOffset:u=0,...f},m,g,y){if(Cp(e,f,g),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:x}=e;v.transform&&(x.transform=v.transform,delete v.transform),(x.transform||v.transformOrigin)&&(x.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),x.transform&&(x.transformBox=y?.transformBox??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),s!==void 0&&(v.y=s),a!==void 0&&(v.scale=a),o!==void 0&&KM(v,o,c,u,!1)}const cS=()=>({...kp(),attrs:{}}),uS=e=>typeof e=="string"&&e.toLowerCase()==="svg";function YM(e,t,s,a){const o=b.useMemo(()=>{const c=cS();return lS(c,t,uS(a),e.transformTemplate,e.style),{...c.attrs,style:{...c.style}}},[t]);if(e.style){const c={};oS(c,e.style,e),o.style={...c,...o.style}}return o}const FM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Tp(e){return typeof e!="string"||e.includes("-")?!1:!!(FM.indexOf(e)>-1||/[A-Z]/u.test(e))}function QM(e,t,s,{latestValues:a},o,c=!1){const f=(Tp(e)?YM:HM)(t,a,o,e),m=DM(t,typeof e=="string",c),g=e!==b.Fragment?{...m,...f,ref:s}:{},{children:y}=t,v=b.useMemo(()=>wn(y)?y.get():y,[y]);return b.createElement(e,{...g,children:v})}function Bb(e){const t=[{},{}];return e?.values.forEach((s,a)=>{t[0][a]=s.get(),t[1][a]=s.getVelocity()}),t}function Ap(e,t,s,a){if(typeof t=="function"){const[o,c]=Bb(a);t=t(s!==void 0?s:e.custom,o,c)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,c]=Bb(a);t=t(s!==void 0?s:e.custom,o,c)}return t}function nu(e){return wn(e)?e.get():e}function XM({scrapeMotionValuesFromProps:e,createRenderState:t},s,a,o){return{latestValues:IM(s,a,o,e),renderState:t()}}function IM(e,t,s,a){const o={},c=a(e,{});for(const x in c)o[x]=nu(c[x]);let{initial:u,animate:f}=e;const m=Pu(e),g=aS(e);t&&g&&!m&&e.inherit!==!1&&(u===void 0&&(u=t.initial),f===void 0&&(f=t.animate));let y=s?s.initial===!1:!1;y=y||u===!1;const v=y?f:u;if(v&&typeof v!="boolean"&&!Ou(v)){const x=Array.isArray(v)?v:[v];for(let S=0;S<x.length;S++){const T=Ap(e,x[S]);if(T){const{transitionEnd:k,transition:E,...A}=T;for(const N in A){let _=A[N];if(Array.isArray(_)){const H=y?_.length-1:0;_=_[H]}_!==null&&(o[N]=_)}for(const N in k)o[N]=k[N]}}}return o}const fS=e=>(t,s)=>{const a=b.useContext(Lu),o=b.useContext(Ru),c=()=>XM(e,t,a,o);return s?c():Zm(c)};function Np(e,t,s){const{style:a}=e,o={};for(const c in a)(wn(a[c])||t.style&&wn(t.style[c])||rS(c,e)||s?.getValue(c)?.liveStyle!==void 0)&&(o[c]=a[c]);return o}const ZM=fS({scrapeMotionValuesFromProps:Np,createRenderState:kp});function dS(e,t,s){const a=Np(e,t,s);for(const o in e)if(wn(e[o])||wn(t[o])){const c=_r.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;a[c]=e[o]}return a}const WM=fS({scrapeMotionValuesFromProps:dS,createRenderState:cS}),JM=Symbol.for("motionComponentSymbol");function hr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function e4(e,t,s){return b.useCallback(a=>{a&&e.onMount&&e.onMount(a),t&&(a?t.mount(a):t.unmount()),s&&(typeof s=="function"?s(a):hr(s)&&(s.current=a))},[t])}const Ep=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),t4="framerAppearId",hS="data-"+Ep(t4),mS=b.createContext({});function n4(e,t,s,a,o){const{visualElement:c}=b.useContext(Lu),u=b.useContext(sS),f=b.useContext(Ru),m=b.useContext(xp).reducedMotion,g=b.useRef(null);a=a||u.renderer,!g.current&&a&&(g.current=a(e,{visualState:t,parent:c,props:s,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const y=g.current,v=b.useContext(mS);y&&!y.projection&&o&&(y.type==="html"||y.type==="svg")&&s4(g.current,s,o,v);const x=b.useRef(!1);b.useInsertionEffect(()=>{y&&x.current&&y.update(s,f)});const S=s[hS],T=b.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return fw(()=>{y&&(x.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),T.current&&y.animationState&&y.animationState.animateChanges())}),b.useEffect(()=>{y&&(!T.current&&y.animationState&&y.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),T.current=!1),y.enteringChildren=void 0)}),y}function s4(e,t,s,a){const{layoutId:o,layout:c,drag:u,dragConstraints:f,layoutScroll:m,layoutRoot:g,layoutCrossfade:y}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:pS(e.parent)),e.projection.setOptions({layoutId:o,layout:c,alwaysMeasureLayout:!!u||f&&hr(f),visualElement:e,animationType:typeof c=="string"?c:"both",initialPromotionConfig:a,crossfade:y,layoutScroll:m,layoutRoot:g})}function pS(e){if(e)return e.options.allowProjection!==!1?e.projection:pS(e.parent)}function Sh(e,{forwardMotionProps:t=!1}={},s,a){s&&MM(s);const o=Tp(e)?WM:ZM;function c(f,m){let g;const y={...b.useContext(xp),...f,layoutId:i4(f)},{isStatic:v}=y,x=OM(f),S=o(f,v);if(!v&&Wm){a4();const T=r4(y);g=T.MeasureLayout,x.visualElement=n4(e,S,y,a,T.ProjectionNode)}return d.jsxs(Lu.Provider,{value:x,children:[g&&x.visualElement?d.jsx(g,{visualElement:x.visualElement,...y}):null,QM(e,f,e4(S,x.visualElement,m),S,v,t)]})}c.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const u=b.forwardRef(c);return u[JM]=e,u}function i4({layoutId:e}){const t=b.useContext(Im).id;return t&&e!==void 0?t+"-"+e:e}function a4(e,t){b.useContext(sS).strict}function r4(e){const{drag:t,layout:s}=wr;if(!t&&!s)return{};const a={...t,...s};return{MeasureLayout:t?.isEnabled(e)||s?.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function o4(e,t){if(typeof Proxy>"u")return Sh;const s=new Map,a=(c,u)=>Sh(c,u,e,t),o=(c,u)=>a(c,u);return new Proxy(o,{get:(c,u)=>u==="create"?a:(s.has(u)||s.set(u,Sh(u,void 0,e,t)),s.get(u))})}function gS({top:e,left:t,right:s,bottom:a}){return{x:{min:t,max:s},y:{min:e,max:a}}}function l4({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function c4(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:a.y,right:a.x}}function Ch(e){return e===void 0||e===1}function um({scale:e,scaleX:t,scaleY:s}){return!Ch(e)||!Ch(t)||!Ch(s)}function ga(e){return um(e)||yS(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function yS(e){return qb(e.x)||qb(e.y)}function qb(e){return e&&e!=="0%"}function xu(e,t,s){const a=e-s,o=t*a;return s+o}function Ub(e,t,s,a,o){return o!==void 0&&(e=xu(e,o,a)),xu(e,s,a)+t}function fm(e,t=0,s=1,a,o){e.min=Ub(e.min,t,s,a,o),e.max=Ub(e.max,t,s,a,o)}function vS(e,{x:t,y:s}){fm(e.x,t.translate,t.scale,t.originPoint),fm(e.y,s.translate,s.scale,s.originPoint)}const Vb=.999999999999,Hb=1.0000000000001;function u4(e,t,s,a=!1){const o=s.length;if(!o)return;t.x=t.y=1;let c,u;for(let f=0;f<o;f++){c=s[f],u=c.projectionDelta;const{visualElement:m}=c.options;m&&m.props.style&&m.props.style.display==="contents"||(a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&pr(e,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,vS(e,u)),a&&ga(c.latestValues)&&pr(e,c.latestValues))}t.x<Hb&&t.x>Vb&&(t.x=1),t.y<Hb&&t.y>Vb&&(t.y=1)}function mr(e,t){e.min=e.min+t,e.max=e.max+t}function $b(e,t,s,a,o=.5){const c=Et(e.min,e.max,o);fm(e,t,s,c,a)}function pr(e,t){$b(e.x,t.x,t.scaleX,t.scale,t.originX),$b(e.y,t.y,t.scaleY,t.scale,t.originY)}function bS(e,t){return gS(c4(e.getBoundingClientRect(),t))}function f4(e,t,s){const a=bS(e,s),{scroll:o}=t;return o&&(mr(a.x,o.offset.x),mr(a.y,o.offset.y)),a}const Gb=()=>({translate:0,scale:1,origin:0,originPoint:0}),gr=()=>({x:Gb(),y:Gb()}),Kb=()=>({min:0,max:0}),zt=()=>({x:Kb(),y:Kb()}),dm={current:null},xS={current:!1};function d4(){if(xS.current=!0,!!Wm)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>dm.current=e.matches;e.addEventListener("change",t),t()}else dm.current=!1}const h4=new WeakMap;function m4(e,t,s){for(const a in t){const o=t[a],c=s[a];if(wn(o))e.addValue(a,o);else if(wn(c))e.addValue(a,xr(o,{owner:e}));else if(c!==o)if(e.hasValue(a)){const u=e.getValue(a);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=e.getStaticValue(a);e.addValue(a,xr(u!==void 0?u:o,{owner:e}))}}for(const a in s)t[a]===void 0&&e.removeValue(a);return t}const Yb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class p4{scrapeMotionValuesFromProps(t,s,a){return{}}constructor({parent:t,props:s,presenceContext:a,reducedMotionConfig:o,blockInitialAnimation:c,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=pp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Ln.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,St.render(this.render,!1,!0))};const{latestValues:m,renderState:g}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=s.initial?{...m}:{},this.renderState=g,this.parent=t,this.props=s,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!c,this.isControllingVariants=Pu(s),this.isVariantNode=aS(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(s,{},this);for(const x in v){const S=v[x];m[x]!==void 0&&wn(S)&&S.set(m[x])}}mount(t){this.current=t,h4.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),xS.current||d4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:dm.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),$i(this.notifyUpdate),$i(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=Rr.has(t);a&&this.onBindTransform&&this.onBindTransform();const o=s.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&St.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{o(),c&&c(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in wr){const s=wr[t];if(!s)continue;const{isEnabled:a,Feature:o}=s;if(!this.features[t]&&o&&a(this.props)&&(this.features[t]=new o(this)),this.features[t]){const c=this.features[t];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):zt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let a=0;a<Yb.length;a++){const o=Yb[a];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const c="on"+o,u=t[c];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=m4(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const a=this.values.get(t);s!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&s!==void 0&&(a=xr(s===null?void 0:s,{owner:this}),this.addValue(t,a)),a}readValue(t,s){let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(dw(a)||mw(a))?a=parseFloat(a):!TM(a)&&Gi.test(s)&&(a=Xw(t,s)),this.setBaseTarget(t,wn(a)?a.get():a)),wn(a)?a.get():a}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const c=Ap(this.props,s,this.presenceContext?.custom);c&&(a=c[t])}if(s&&a!==void 0)return a;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!wn(o)?o:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new sp),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){vp.render(this.render)}}class wS extends p4{constructor(){super(...arguments),this.KeyframeResolver=hM}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:a}){delete s[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;wn(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function SS(e,{style:t,vars:s},a,o){const c=e.style;let u;for(u in t)c[u]=t[u];o?.applyProjectionStyles(c,a);for(u in s)c.setProperty(u,s[u])}function g4(e){return window.getComputedStyle(e)}class y4 extends wS{constructor(){super(...arguments),this.type="html",this.renderInstance=SS}readValueFromInstance(t,s){if(Rr.has(s))return this.projection?.isProjecting?sm(s):Rj(t,s);{const a=g4(t),o=(rp(s)?a.getPropertyValue(s):a[s])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:s}){return bS(t,s)}build(t,s,a){Cp(t,s,a.transformTemplate)}scrapeMotionValuesFromProps(t,s,a){return Np(t,s,a)}}const CS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function v4(e,t,s,a){SS(e,t,void 0,a);for(const o in t.attrs)e.setAttribute(CS.has(o)?o:Ep(o),t.attrs[o])}class b4 extends wS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=zt}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Rr.has(s)){const a=Qw(s);return a&&a.default||0}return s=CS.has(s)?s:Ep(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,a){return dS(t,s,a)}build(t,s,a){lS(t,s,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(t,s,a,o){v4(t,s,a,o)}mount(t){this.isSVGTag=uS(t.tagName),super.mount(t)}}const x4=(e,t)=>Tp(e)?new b4(t):new y4(t,{allowProjection:e!==b.Fragment});function vr(e,t,s){const a=e.getProps();return Ap(a,t,s!==void 0?s:a.custom,e)}const hm=e=>Array.isArray(e);function w4(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,xr(s))}function S4(e){return hm(e)?e[e.length-1]||0:e}function C4(e,t){const s=vr(e,t);let{transitionEnd:a={},transition:o={},...c}=s||{};c={...c,...a};for(const u in c){const f=S4(c[u]);w4(e,u,f)}}function k4(e){return!!(wn(e)&&e.add)}function mm(e,t){const s=e.getValue("willChange");if(k4(s))return s.add(t);if(!s&&oi.WillChange){const a=new oi.WillChange("auto");e.addValue("willChange",a),a.add(t)}}function kS(e){return e.props[hS]}const T4=e=>e!==null;function A4(e,{repeat:t,repeatType:s="loop"},a){const o=e.filter(T4),c=t&&s!=="loop"&&t%2===1?0:o.length-1;return o[c]}const N4={type:"spring",stiffness:500,damping:25,restSpeed:10},E4=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),j4={type:"keyframes",duration:.8},M4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_4=(e,{keyframes:t})=>t.length>2?j4:Rr.has(e)?e.startsWith("scale")?E4(t[1]):N4:M4;function R4({when:e,delay:t,delayChildren:s,staggerChildren:a,staggerDirection:o,repeat:c,repeatType:u,repeatDelay:f,from:m,elapsed:g,...y}){return!!Object.keys(y).length}const jp=(e,t,s,a={},o,c)=>u=>{const f=gp(a,e)||{},m=f.delay||a.delay||0;let{elapsed:g=0}=a;g=g-_s(m);const y={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-g,onUpdate:x=>{t.set(x),f.onUpdate&&f.onUpdate(x)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:c?void 0:o};R4(f)||Object.assign(y,_4(e,y)),y.duration&&(y.duration=_s(y.duration)),y.repeatDelay&&(y.repeatDelay=_s(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(lm(y),y.delay===0&&(v=!0)),(oi.instantAnimations||oi.skipAnimations)&&(v=!0,lm(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,v&&!c&&t.get()!==void 0){const x=A4(y.keyframes,f);if(x!==void 0){St.update(()=>{y.onUpdate(x),y.onComplete()});return}}return f.isSync?new mp(y):new tM(y)};function D4({protectedKeys:e,needsAnimating:t},s){const a=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,a}function TS(e,t,{delay:s=0,transitionOverride:a,type:o}={}){let{transition:c=e.getDefaultTransition(),transitionEnd:u,...f}=t;a&&(c=a);const m=[],g=o&&e.animationState&&e.animationState.getState()[o];for(const y in f){const v=e.getValue(y,e.latestValues[y]??null),x=f[y];if(x===void 0||g&&D4(g,y))continue;const S={delay:s,...gp(c||{},y)},T=v.get();if(T!==void 0&&!v.isAnimating&&!Array.isArray(x)&&x===T&&!S.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const A=kS(e);if(A){const N=window.MotionHandoffAnimation(A,y,St);N!==null&&(S.startTime=N,k=!0)}}mm(e,y),v.start(jp(y,v,x,e.shouldReduceMotion&&Kw.has(y)?{type:!1}:S,e,k));const E=v.animation;E&&m.push(E)}return u&&Promise.all(m).then(()=>{St.update(()=>{u&&C4(e,u)})}),m}function AS(e,t,s,a=0,o=1){const c=Array.from(e).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),u=e.size,f=(u-1)*a;return typeof s=="function"?s(c,u):o===1?c*a:f-c*a}function pm(e,t,s={}){const a=vr(e,t,s.type==="exit"?e.presenceContext?.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=a||{};s.transitionOverride&&(o=s.transitionOverride);const c=a?()=>Promise.all(TS(e,a,s)):()=>Promise.resolve(),u=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:v}=o;return L4(e,t,m,g,y,v,s)}:()=>Promise.resolve(),{when:f}=o;if(f){const[m,g]=f==="beforeChildren"?[c,u]:[u,c];return m().then(()=>g())}else return Promise.all([c(),u(s.delay)])}function L4(e,t,s=0,a=0,o=0,c=1,u){const f=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),f.push(pm(m,t,{...u,delay:s+(typeof a=="function"?0:a)+AS(e.variantChildren,m,a,o,c)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(f)}function O4(e,t,s={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const o=t.map(c=>pm(e,c,s));a=Promise.all(o)}else if(typeof t=="string")a=pm(e,t,s);else{const o=typeof t=="function"?vr(e,t,s.custom):t;a=Promise.all(TS(e,o,s))}return a.then(()=>{e.notify("AnimationComplete",t)})}function NS(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let a=0;a<s;a++)if(t[a]!==e[a])return!1;return!0}const P4=Sp.length;function ES(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?ES(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<P4;s++){const a=Sp[s],o=e.props[a];(ul(o)||o===!1)&&(t[a]=o)}return t}const z4=[...wp].reverse(),B4=wp.length;function q4(e){return t=>Promise.all(t.map(({animation:s,options:a})=>O4(e,s,a)))}function U4(e){let t=q4(e),s=Fb(),a=!0;const o=m=>(g,y)=>{const v=vr(e,y,m==="exit"?e.presenceContext?.custom:void 0);if(v){const{transition:x,transitionEnd:S,...T}=v;g={...g,...T,...S}}return g};function c(m){t=m(e)}function u(m){const{props:g}=e,y=ES(e.parent)||{},v=[],x=new Set;let S={},T=1/0;for(let E=0;E<B4;E++){const A=z4[E],N=s[A],_=g[A]!==void 0?g[A]:y[A],H=ul(_),D=A===m?N.isActive:null;D===!1&&(T=E);let F=_===y[A]&&_!==g[A]&&H;if(F&&a&&e.manuallyAnimateOnMount&&(F=!1),N.protectedKeys={...S},!N.isActive&&D===null||!_&&!N.prevProp||Ou(_)||typeof _=="boolean")continue;const I=V4(N.prevProp,_);let O=I||A===m&&N.isActive&&!F&&H||E>T&&H,ee=!1;const ae=Array.isArray(_)?_:[_];let ue=ae.reduce(o(A),{});D===!1&&(ue={});const{prevResolvedValues:fe={}}=N,be={...fe,...ue},ve=V=>{O=!0,x.has(V)&&(ee=!0,x.delete(V)),N.needsAnimating[V]=!0;const X=e.getValue(V);X&&(X.liveStyle=!1)};for(const V in be){const X=ue[V],ie=fe[V];if(S.hasOwnProperty(V))continue;let M=!1;hm(X)&&hm(ie)?M=!NS(X,ie):M=X!==ie,M?X!=null?ve(V):x.add(V):X!==void 0&&x.has(V)?ve(V):N.protectedKeys[V]=!0}N.prevProp=_,N.prevResolvedValues=ue,N.isActive&&(S={...S,...ue}),a&&e.blockInitialAnimation&&(O=!1);const he=F&&I;O&&(!he||ee)&&v.push(...ae.map(V=>{const X={type:A};if(typeof V=="string"&&a&&!he&&e.manuallyAnimateOnMount&&e.parent){const{parent:ie}=e,M=vr(ie,V);if(ie.enteringChildren&&M){const{delayChildren:Y}=M.transition||{};X.delay=AS(ie.enteringChildren,e,Y)}}return{animation:V,options:X}}))}if(x.size){const E={};if(typeof g.initial!="boolean"){const A=vr(e,Array.isArray(g.initial)?g.initial[0]:g.initial);A&&A.transition&&(E.transition=A.transition)}x.forEach(A=>{const N=e.getBaseTarget(A),_=e.getValue(A);_&&(_.liveStyle=!0),E[A]=N??null}),v.push({animation:E})}let k=!!v.length;return a&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(k=!1),a=!1,k?t(v):Promise.resolve()}function f(m,g){if(s[m].isActive===g)return Promise.resolve();e.variantChildren?.forEach(v=>v.animationState?.setActive(m,g)),s[m].isActive=g;const y=u(m);for(const v in s)s[v].protectedKeys={};return y}return{animateChanges:u,setActive:f,setAnimateFunction:c,getState:()=>s,reset:()=>{s=Fb(),a=!0}}}function V4(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!NS(t,e):!1}function ha(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Fb(){return{animate:ha(!0),whileInView:ha(),whileHover:ha(),whileTap:ha(),whileDrag:ha(),whileFocus:ha(),exit:ha()}}class Ki{constructor(t){this.isMounted=!1,this.node=t}update(){}}class H4 extends Ki{constructor(t){super(t),t.animationState||(t.animationState=U4(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ou(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let $4=0;class G4 extends Ki{constructor(){super(...arguments),this.id=$4++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const o=this.node.animationState.setActive("exit",!t);s&&!t&&o.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const K4={animation:{Feature:H4},exit:{Feature:G4}};function dl(e,t,s,a={passive:!0}){return e.addEventListener(t,s,a),()=>e.removeEventListener(t,s)}function Sl(e){return{point:{x:e.pageX,y:e.pageY}}}const Y4=e=>t=>bp(t)&&e(t,Sl(t));function Io(e,t,s,a){return dl(e,t,Y4(s),a)}const jS=1e-4,F4=1-jS,Q4=1+jS,MS=.01,X4=0-MS,I4=0+MS;function Nn(e){return e.max-e.min}function Z4(e,t,s){return Math.abs(e-t)<=s}function Qb(e,t,s,a=.5){e.origin=a,e.originPoint=Et(t.min,t.max,e.origin),e.scale=Nn(s)/Nn(t),e.translate=Et(s.min,s.max,e.origin)-e.originPoint,(e.scale>=F4&&e.scale<=Q4||isNaN(e.scale))&&(e.scale=1),(e.translate>=X4&&e.translate<=I4||isNaN(e.translate))&&(e.translate=0)}function Zo(e,t,s,a){Qb(e.x,t.x,s.x,a?a.originX:void 0),Qb(e.y,t.y,s.y,a?a.originY:void 0)}function Xb(e,t,s){e.min=s.min+t.min,e.max=e.min+Nn(t)}function W4(e,t,s){Xb(e.x,t.x,s.x),Xb(e.y,t.y,s.y)}function Ib(e,t,s){e.min=t.min-s.min,e.max=e.min+Nn(t)}function Wo(e,t,s){Ib(e.x,t.x,s.x),Ib(e.y,t.y,s.y)}function as(e){return[e("x"),e("y")]}const _S=({current:e})=>e?e.ownerDocument.defaultView:null,Zb=(e,t)=>Math.abs(e-t);function J4(e,t){const s=Zb(e.x,t.x),a=Zb(e.y,t.y);return Math.sqrt(s**2+a**2)}class RS{constructor(t,s,{transformPagePoint:a,contextWindow:o=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Th(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,T=J4(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!T)return;const{point:k}=x,{timestamp:E}=mn;this.history.push({...k,timestamp:E});const{onStart:A,onMove:N}=this.handlers;S||(A&&A(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,x)},this.handlePointerMove=(x,S)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=kh(S,this.transformPagePoint),St.update(this.updatePoint,!0)},this.handlePointerUp=(x,S)=>{this.end();const{onEnd:T,onSessionEnd:k,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Th(x.type==="pointercancel"?this.lastMoveEventInfo:kh(S,this.transformPagePoint),this.history);this.startEvent&&T&&T(x,A),k&&k(x,A)},!bp(t))return;this.dragSnapToOrigin=c,this.handlers=s,this.transformPagePoint=a,this.distanceThreshold=u,this.contextWindow=o||window;const f=Sl(t),m=kh(f,this.transformPagePoint),{point:g}=m,{timestamp:y}=mn;this.history=[{...g,timestamp:y}];const{onSessionStart:v}=s;v&&v(t,Th(m,this.history)),this.removeListeners=bl(Io(this.contextWindow,"pointermove",this.handlePointerMove),Io(this.contextWindow,"pointerup",this.handlePointerUp),Io(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),$i(this.updatePoint)}}function kh(e,t){return t?{point:t(e.point)}:e}function Wb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Th({point:e},t){return{point:e,delta:Wb(e,DS(t)),offset:Wb(e,e_(t)),velocity:t_(t,.1)}}function e_(e){return e[0]}function DS(e){return e[e.length-1]}function t_(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,a=null;const o=DS(e);for(;s>=0&&(a=e[s],!(o.timestamp-a.timestamp>_s(t)));)s--;if(!a)return{x:0,y:0};const c=Rs(o.timestamp-a.timestamp);if(c===0)return{x:0,y:0};const u={x:(o.x-a.x)/c,y:(o.y-a.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function n_(e,{min:t,max:s},a){return t!==void 0&&e<t?e=a?Et(t,e,a.min):Math.max(e,t):s!==void 0&&e>s&&(e=a?Et(s,e,a.max):Math.min(e,s)),e}function Jb(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function s_(e,{top:t,left:s,bottom:a,right:o}){return{x:Jb(e.x,s,o),y:Jb(e.y,t,a)}}function e1(e,t){let s=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,a]=[a,s]),{min:s,max:a}}function i_(e,t){return{x:e1(e.x,t.x),y:e1(e.y,t.y)}}function a_(e,t){let s=.5;const a=Nn(e),o=Nn(t);return o>a?s=ol(t.min,t.max-a,e.min):a>o&&(s=ol(e.min,e.max-o,t.min)),ri(0,1,s)}function r_(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const gm=.35;function o_(e=gm){return e===!1?e=0:e===!0&&(e=gm),{x:t1(e,"left","right"),y:t1(e,"top","bottom")}}function t1(e,t,s){return{min:n1(e,t),max:n1(e,s)}}function n1(e,t){return typeof e=="number"?e:e[t]||0}const l_=new WeakMap;class c_{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=zt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:a}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const c=v=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Sl(v).point)},u=(v,x)=>{const{drag:S,dragPropagation:T,onDragStart:k}=this.getProps();if(S&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=yM(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),as(A=>{let N=this.getAxisMotionValue(A).get()||0;if(Ds.test(N)){const{projection:_}=this.visualElement;if(_&&_.layout){const H=_.layout.layoutBox[A];H&&(N=Nn(H)*(parseFloat(N)/100))}}this.originPoint[A]=N}),k&&St.postRender(()=>k(v,x)),mm(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},f=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x;const{dragPropagation:S,dragDirectionLock:T,onDirectionLock:k,onDrag:E}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:A}=x;if(T&&this.currentDirection===null){this.currentDirection=u_(A),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",x.point,A),this.updateAxis("y",x.point,A),this.visualElement.render(),E&&E(v,x)},m=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x,this.stop(v,x),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>as(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new RS(t,{onSessionStart:c,onStart:u,onMove:f,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:a,contextWindow:_S(this.visualElement)})}stop(t,s){const a=t||this.latestPointerEvent,o=s||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!o||!a)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&St.postRender(()=>f(a,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,a){const{drag:o}=this.getProps();if(!a||!Gc(t,o,this.currentDirection))return;const c=this.getAxisMotionValue(t);let u=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(u=n_(u,this.constraints[t],this.elastic[t])),c.set(u)}resolveConstraints(){const{dragConstraints:t,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&hr(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=s_(a.layoutBox,t):this.constraints=!1,this.elastic=o_(s),o!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&as(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=r_(a.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!hr(t))return!1;const a=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=f4(a,o.root,this.visualElement.getTransformPagePoint());let u=i_(o.layout.layoutBox,c);if(s){const f=s(l4(u));this.hasMutatedConstraints=!!f,f&&(u=gS(f))}return u}startAnimation(t){const{drag:s,dragMomentum:a,dragElastic:o,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},g=as(y=>{if(!Gc(y,s,this.currentDirection))return;let v=m&&m[y]||{};u&&(v={min:0,max:0});const x=o?200:1e6,S=o?40:1e7,T={type:"inertia",velocity:a?t[y]:0,bounceStiffness:x,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...c,...v};return this.startAxisValueAnimation(y,T)});return Promise.all(g).then(f)}startAxisValueAnimation(t,s){const a=this.getAxisMotionValue(t);return mm(this.visualElement,t),a.start(jp(t,a,0,s,this.visualElement,!1))}stopAnimation(){as(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){as(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),o=a[s];return o||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){as(s=>{const{drag:a}=this.getProps();if(!Gc(s,a,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(s);if(o&&o.layout){const{min:u,max:f}=o.layout.layoutBox[s];c.set(t[s]-Et(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:a}=this.visualElement;if(!hr(s)||!a||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};as(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const m=f.get();o[u]=a_({min:m,max:m},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),as(u=>{if(!Gc(u,t,null))return;const f=this.getAxisMotionValue(u),{min:m,max:g}=this.constraints[u];f.set(Et(m,g,o[u]))})}addListeners(){if(!this.visualElement.current)return;l_.set(this.visualElement,this);const t=this.visualElement.current,s=Io(t,"pointerdown",m=>{const{drag:g,dragListener:y=!0}=this.getProps();g&&y&&this.start(m)}),a=()=>{const{dragConstraints:m}=this.getProps();hr(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,c=o.addEventListener("measure",a);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),St.read(a);const u=dl(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(as(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=m[y].translate,v.set(v.get()+m[y].translate))}),this.visualElement.render())}));return()=>{u(),s(),c(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:a=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:u=gm,dragMomentum:f=!0}=t;return{...t,drag:s,dragDirectionLock:a,dragPropagation:o,dragConstraints:c,dragElastic:u,dragMomentum:f}}}function Gc(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function u_(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class f_ extends Ki{constructor(t){super(t),this.removeGroupControls=cs,this.removeListeners=cs,this.controls=new c_(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||cs}unmount(){this.removeGroupControls(),this.removeListeners()}}const s1=e=>(t,s)=>{e&&St.postRender(()=>e(t,s))};class d_ extends Ki{constructor(){super(...arguments),this.removePointerDownListener=cs}onPointerDown(t){this.session=new RS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_S(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:a,onPanEnd:o}=this.node.getProps();return{onSessionStart:s1(t),onStart:s1(s),onMove:a,onEnd:(c,u)=>{delete this.session,o&&St.postRender(()=>o(c,u))}}}mount(){this.removePointerDownListener=Io(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const su={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function i1(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Po={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Me.test(e))e=parseFloat(e);else return e;const s=i1(e,t.target.x),a=i1(e,t.target.y);return`${s}% ${a}%`}},h_={correct:(e,{treeScale:t,projectionDelta:s})=>{const a=e,o=Gi.parse(e);if(o.length>5)return a;const c=Gi.createTransformer(e),u=typeof o[0]!="number"?1:0,f=s.x.scale*t.x,m=s.y.scale*t.y;o[0+u]/=f,o[1+u]/=m;const g=Et(f,m,.5);return typeof o[2+u]=="number"&&(o[2+u]/=g),typeof o[3+u]=="number"&&(o[3+u]/=g),c(o)}};let Ah=!1;class m_ extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:a,layoutId:o}=this.props,{projection:c}=t;PM(p_),c&&(s.group&&s.group.add(c),a&&a.register&&o&&a.register(c),Ah&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),su.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:a,drag:o,isPresent:c}=this.props,{projection:u}=a;return u&&(u.isPresent=c,Ah=!0,o||t.layoutDependency!==s||s===void 0||t.isPresent!==c?u.willUpdate():this.safeToRemove(),t.isPresent!==c&&(c?u.promote():u.relegate()||St.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),vp.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:a}=this.props,{projection:o}=t;Ah=!0,o&&(o.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(o),a&&a.deregister&&a.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function LS(e){const[t,s]=nS(),a=b.useContext(Im);return d.jsx(m_,{...e,layoutGroup:a,switchLayoutGroup:b.useContext(mS),isPresent:t,safeToRemove:s})}const p_={borderRadius:{...Po,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Po,borderTopRightRadius:Po,borderBottomLeftRadius:Po,borderBottomRightRadius:Po,boxShadow:h_};function g_(e,t,s){const a=wn(e)?e:xr(e);return a.start(jp("",a,t,s)),a.animation}const y_=(e,t)=>e.depth-t.depth;class v_{constructor(){this.children=[],this.isDirty=!1}add(t){Jm(this.children,t),this.isDirty=!0}remove(t){ep(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(y_),this.isDirty=!1,this.children.forEach(t)}}function b_(e,t){const s=Ln.now(),a=({timestamp:o})=>{const c=o-s;c>=t&&($i(a),e(c-t))};return St.setup(a,!0),()=>$i(a)}const OS=["TopLeft","TopRight","BottomLeft","BottomRight"],x_=OS.length,a1=e=>typeof e=="string"?parseFloat(e):e,r1=e=>typeof e=="number"||Me.test(e);function w_(e,t,s,a,o,c){o?(e.opacity=Et(0,s.opacity??1,S_(a)),e.opacityExit=Et(t.opacity??1,0,C_(a))):c&&(e.opacity=Et(t.opacity??1,s.opacity??1,a));for(let u=0;u<x_;u++){const f=`border${OS[u]}Radius`;let m=o1(t,f),g=o1(s,f);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||r1(m)===r1(g)?(e[f]=Math.max(Et(a1(m),a1(g),a),0),(Ds.test(g)||Ds.test(m))&&(e[f]+="%")):e[f]=g}(t.rotate||s.rotate)&&(e.rotate=Et(t.rotate||0,s.rotate||0,a))}function o1(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const S_=PS(0,.5,Sw),C_=PS(.5,.95,cs);function PS(e,t,s){return a=>a<e?0:a>t?1:s(ol(e,t,a))}function l1(e,t){e.min=t.min,e.max=t.max}function is(e,t){l1(e.x,t.x),l1(e.y,t.y)}function c1(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function u1(e,t,s,a,o){return e-=t,e=xu(e,1/s,a),o!==void 0&&(e=xu(e,1/o,a)),e}function k_(e,t=0,s=1,a=.5,o,c=e,u=e){if(Ds.test(t)&&(t=parseFloat(t),t=Et(u.min,u.max,t/100)-u.min),typeof t!="number")return;let f=Et(c.min,c.max,a);e===c&&(f-=t),e.min=u1(e.min,t,s,f,o),e.max=u1(e.max,t,s,f,o)}function f1(e,t,[s,a,o],c,u){k_(e,t[s],t[a],t[o],t.scale,c,u)}const T_=["x","scaleX","originX"],A_=["y","scaleY","originY"];function d1(e,t,s,a){f1(e.x,t,T_,s?s.x:void 0,a?a.x:void 0),f1(e.y,t,A_,s?s.y:void 0,a?a.y:void 0)}function h1(e){return e.translate===0&&e.scale===1}function zS(e){return h1(e.x)&&h1(e.y)}function m1(e,t){return e.min===t.min&&e.max===t.max}function N_(e,t){return m1(e.x,t.x)&&m1(e.y,t.y)}function p1(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function BS(e,t){return p1(e.x,t.x)&&p1(e.y,t.y)}function g1(e){return Nn(e.x)/Nn(e.y)}function y1(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class E_{constructor(){this.members=[]}add(t){Jm(this.members,t),t.scheduleRender()}remove(t){if(ep(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(o=>t===o);if(s===0)return!1;let a;for(let o=s;o>=0;o--){const c=this.members[o];if(c.isPresent!==!1){a=c;break}}return a?(this.promote(a),!0):!1}promote(t,s){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,s&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:a}=t;s.onExitComplete&&s.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function j_(e,t,s){let a="";const o=e.x.translate/t.x,c=e.y.translate/t.y,u=s?.z||0;if((o||c||u)&&(a=`translate3d(${o}px, ${c}px, ${u}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:g,rotate:y,rotateX:v,rotateY:x,skewX:S,skewY:T}=s;g&&(a=`perspective(${g}px) ${a}`),y&&(a+=`rotate(${y}deg) `),v&&(a+=`rotateX(${v}deg) `),x&&(a+=`rotateY(${x}deg) `),S&&(a+=`skewX(${S}deg) `),T&&(a+=`skewY(${T}deg) `)}const f=e.x.scale*t.x,m=e.y.scale*t.y;return(f!==1||m!==1)&&(a+=`scale(${f}, ${m})`),a||"none"}const Nh=["","X","Y","Z"],M_=1e3;let __=0;function Eh(e,t,s,a){const{latestValues:o}=t;o[e]&&(s[e]=o[e],t.setStaticValue(e,0),a&&(a[e]=0))}function qS(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=kS(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:o,layoutId:c}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",St,!(o||c))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&qS(a)}function US({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:a,resetTransform:o}){return class{constructor(u={},f=t?.()){this.id=__++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(L_),this.nodes.forEach(B_),this.nodes.forEach(q_),this.nodes.forEach(O_)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new v_)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new sp),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const m=this.eventHandlers.get(u);m&&m.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=tS(u)&&!CM(u),this.instance=u;const{layoutId:f,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),e){let y,v=0;const x=()=>this.root.updateBlockedByResize=!1;St.read(()=>{v=window.innerWidth}),e(u,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,y&&y(),y=b_(x,250),su.hasAnimatedSinceResize&&(su.hasAnimatedSinceResize=!1,this.nodes.forEach(x1)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:x,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||g.getDefaultTransition()||G_,{onLayoutAnimationStart:k,onLayoutAnimationComplete:E}=g.getProps(),A=!this.targetLayout||!BS(this.targetLayout,S),N=!v&&x;if(this.options.layoutRoot||this.resumeFrom||N||v&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...gp(T,"layout"),onPlay:k,onComplete:E};(g.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(y,N)}else v||x1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),$i(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(U_),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(v1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(b1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(z_),this.nodes.forEach(R_),this.nodes.forEach(D_)):this.nodes.forEach(b1),this.clearAllSnapshots();const f=Ln.now();mn.delta=ri(0,1e3/60,f-mn.timestamp),mn.timestamp=f,mn.isProcessing=!0,gh.update.process(mn),gh.preRender.process(mn),gh.render.process(mn),mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(P_),this.sharedNodes.forEach(V_)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,St.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){St.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Nn(this.snapshot.measuredBox.x)&&!Nn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=zt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const m=a(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!zS(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;u&&this.instance&&(f||ga(this.latestValues)||y)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return u&&(m=this.removeTransform(m)),K_(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return zt();const f=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Y_))){const{scroll:g}=this.root;g&&(mr(f.x,g.offset.x),mr(f.y,g.offset.y))}return f}removeElementScroll(u){const f=zt();if(is(f,u),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:v}=g;g!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&is(f,u),mr(f.x,y.offset.x),mr(f.y,y.offset.y))}return f}applyTransform(u,f=!1){const m=zt();is(m,u);for(let g=0;g<this.path.length;g++){const y=this.path[g];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&pr(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ga(y.latestValues)&&pr(m,y.latestValues)}return ga(this.latestValues)&&pr(m,this.latestValues),m}removeTransform(u){const f=zt();is(f,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!ga(g.latestValues))continue;um(g.latestValues)&&g.updateSnapshot();const y=zt(),v=g.measurePageBox();is(y,v),d1(f,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return ga(this.latestValues)&&d1(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=mn.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zt(),this.relativeTargetOrigin=zt(),Wo(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),is(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=zt(),this.targetWithTransforms=zt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),W4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):is(this.target,this.layout.layoutBox),vS(this.target,this.targetDelta)):is(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zt(),this.relativeTargetOrigin=zt(),Wo(this.relativeTargetOrigin,this.target,x.target),is(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||um(this.parent.latestValues)||yS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),f=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===mn.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;is(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;u4(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=zt());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(c1(this.prevProjectionDelta.x,this.projectionDelta.x),c1(this.prevProjectionDelta.y,this.projectionDelta.y)),Zo(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!y1(this.projectionDelta.x,this.prevProjectionDelta.x)||!y1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=gr(),this.projectionDelta=gr(),this.projectionDeltaWithTransform=gr()}setAnimationOrigin(u,f=!1){const m=this.snapshot,g=m?m.latestValues:{},y={...this.latestValues},v=gr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const x=zt(),S=m?m.source:void 0,T=this.layout?this.layout.source:void 0,k=S!==T,E=this.getStack(),A=!E||E.members.length<=1,N=!!(k&&!A&&this.options.crossfade===!0&&!this.path.some($_));this.animationProgress=0;let _;this.mixTargetDelta=H=>{const D=H/1e3;w1(v.x,u.x,D),w1(v.y,u.y,D),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wo(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),H_(this.relativeTarget,this.relativeTargetOrigin,x,D),_&&N_(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=zt()),is(_,this.relativeTarget)),k&&(this.animationValues=y,w_(y,g,this.latestValues,D,N,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&($i(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=St.update(()=>{su.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=xr(0)),this.currentAnimation=g_(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(M_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:m,layout:g,latestValues:y}=u;if(!(!f||!m||!g)){if(this!==u&&this.layout&&g&&VS(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||zt();const v=Nn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+v;const x=Nn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+x}is(f,m),pr(f,y),Zo(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new E_),this.sharedNodes.get(u).add(f);const g=f.options.initialPromotionConfig;f.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const g={};m.z&&Eh("z",u,g,this.animationValues);for(let y=0;y<Nh.length;y++)Eh(`rotate${Nh[y]}`,u,g,this.animationValues),Eh(`skew${Nh[y]}`,u,g,this.animationValues);u.render();for(const y in g)u.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=nu(f?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=nu(f?.pointerEvents)||""),this.hasProjected&&!ga(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let v=j_(this.projectionDeltaWithTransform,this.treeScale,y);m&&(v=m(y,v)),u.transform=v;const{x,y:S}=this.projectionDelta;u.transformOrigin=`${x.origin*100}% ${S.origin*100}% 0`,g.animationValues?u.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const T in fl){if(y[T]===void 0)continue;const{correct:k,applyTo:E,isCSSVariable:A}=fl[T],N=v==="none"?y[T]:k(y[T],g);if(E){const _=E.length;for(let H=0;H<_;H++)u[E[H]]=N}else A?this.options.visualElement.renderState.vars[T]=N:u[T]=N}this.options.layoutId&&(u.pointerEvents=g===this?nu(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(v1),this.root.sharedNodes.clear()}}}function R_(e){e.updateLayout()}function D_(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=e.layout,{animationType:o}=e.options,c=t.source!==e.layout.source;o==="size"?as(y=>{const v=c?t.measuredBox[y]:t.layoutBox[y],x=Nn(v);v.min=s[y].min,v.max=v.min+x}):VS(o,t.layoutBox,s)&&as(y=>{const v=c?t.measuredBox[y]:t.layoutBox[y],x=Nn(s[y]);v.max=v.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+x)});const u=gr();Zo(u,s,t.layoutBox);const f=gr();c?Zo(f,e.applyTransform(a,!0),t.measuredBox):Zo(f,s,t.layoutBox);const m=!zS(u);let g=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:x}=y;if(v&&x){const S=zt();Wo(S,t.layoutBox,v.layoutBox);const T=zt();Wo(T,s,x.layoutBox),BS(S,T)||(g=!0),y.options.layoutRoot&&(e.relativeTarget=T,e.relativeTargetOrigin=S,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:f,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function L_(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function O_(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function P_(e){e.clearSnapshot()}function v1(e){e.clearMeasurements()}function b1(e){e.isLayoutDirty=!1}function z_(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function x1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function B_(e){e.resolveTargetDelta()}function q_(e){e.calcProjection()}function U_(e){e.resetSkewAndRotation()}function V_(e){e.removeLeadSnapshot()}function w1(e,t,s){e.translate=Et(t.translate,0,s),e.scale=Et(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function S1(e,t,s,a){e.min=Et(t.min,s.min,a),e.max=Et(t.max,s.max,a)}function H_(e,t,s,a){S1(e.x,t.x,s.x,a),S1(e.y,t.y,s.y,a)}function $_(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const G_={duration:.45,ease:[.4,0,.1,1]},C1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),k1=C1("applewebkit/")&&!C1("chrome/")?Math.round:cs;function T1(e){e.min=k1(e.min),e.max=k1(e.max)}function K_(e){T1(e.x),T1(e.y)}function VS(e,t,s){return e==="position"||e==="preserve-aspect"&&!Z4(g1(t),g1(s),.2)}function Y_(e){return e!==e.root&&e.scroll?.wasRoot}const F_=US({attachResizeListener:(e,t)=>dl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jh={current:void 0},HS=US({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!jh.current){const e=new F_({});e.mount(window),e.setOptions({layoutScroll:!0}),jh.current=e}return jh.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Q_={pan:{Feature:d_},drag:{Feature:f_,ProjectionNode:HS,MeasureLayout:LS}};function A1(e,t,s){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",s==="Start");const o="onHover"+s,c=a[o];c&&St.postRender(()=>c(t,Sl(t)))}class X_ extends Ki{mount(){const{current:t}=this.node;t&&(this.unmount=vM(t,(s,a)=>(A1(this.node,a,"Start"),o=>A1(this.node,o,"End"))))}unmount(){}}class I_ extends Ki{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bl(dl(this.node.current,"focus",()=>this.onFocus()),dl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function N1(e,t,s){const{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",s==="Start");const o="onTap"+(s==="End"?"":s),c=a[o];c&&St.postRender(()=>c(t,Sl(t)))}class Z_ extends Ki{mount(){const{current:t}=this.node;t&&(this.unmount=SM(t,(s,a)=>(N1(this.node,a,"Start"),(o,{success:c})=>N1(this.node,o,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ym=new WeakMap,Mh=new WeakMap,W_=e=>{const t=ym.get(e.target);t&&t(e)},J_=e=>{e.forEach(W_)};function eR({root:e,...t}){const s=e||document;Mh.has(s)||Mh.set(s,{});const a=Mh.get(s),o=JSON.stringify(t);return a[o]||(a[o]=new IntersectionObserver(J_,{root:e,...t})),a[o]}function tR(e,t,s){const a=eR(t);return ym.set(e,s),a.observe(e),()=>{ym.delete(e),a.unobserve(e)}}const nR={some:0,all:1};class sR extends Ki{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:a,amount:o="some",once:c}=t,u={root:s?s.current:void 0,rootMargin:a,threshold:typeof o=="number"?o:nR[o]},f=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,c&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),x=g?y:v;x&&x(m)};return tR(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(iR(t,s))&&this.startObserver()}unmount(){}}function iR({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const aR={inView:{Feature:sR},tap:{Feature:Z_},focus:{Feature:I_},hover:{Feature:X_}},rR={layout:{ProjectionNode:HS,MeasureLayout:LS}},oR={...K4,...aR,...Q_,...rR},Ui=o4(oR,x4),$S=({show:e,onComplete:t})=>{const[s]=b.useState(()=>Array.from({length:50},(a,o)=>({id:o,x:Math.random()*100,y:Math.random()*100,rotation:Math.random()*360,scale:.5+Math.random()*.5,color:["#FFD700","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7"][Math.floor(Math.random()*6)]})));return b.useEffect(()=>{if(e){const a=setTimeout(()=>{t?.()},3e3);return()=>clearTimeout(a)}},[e,t]),d.jsx(Du,{children:e&&d.jsx("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",children:s.map(a=>d.jsx(Ui.div,{className:"absolute w-2 h-2 rounded",style:{left:`${a.x}%`,backgroundColor:a.color},initial:{y:-20,rotate:0,scale:0},animate:{y:window.innerHeight+20,rotate:a.rotation*4,scale:a.scale},transition:{duration:2+Math.random()*2,ease:"easeOut"}},a.id))})})},GS=({show:e,message:t,type:s,onComplete:a})=>{const o=()=>{switch(s){case"brilliant":return{bg:"bg-gradient-to-r from-purple-500 to-pink-500",text:"text-white",emoji:"",animation:"animate-bounce"};case"excellent":return{bg:"bg-gradient-to-r from-green-500 to-emerald-500",text:"text-white",emoji:"",animation:"animate-pulse"};case"great":return{bg:"bg-gradient-to-r from-blue-500 to-cyan-500",text:"text-white",emoji:"",animation:"animate-bounce"};case"good":return{bg:"bg-gradient-to-r from-yellow-500 to-orange-500",text:"text-white",emoji:"",animation:"animate-pulse"};case"win":return{bg:"bg-gradient-to-r from-yellow-400 via-yellow-500 to-yellow-600",text:"text-black",emoji:"",animation:"animate-bounce"};default:return{bg:"bg-blue-500",text:"text-white",emoji:"",animation:"animate-pulse"}}};b.useEffect(()=>{if(e){const u=setTimeout(()=>{a?.()},2e3);return()=>clearTimeout(u)}},[e,a]);const c=o();return d.jsx(Du,{children:e&&d.jsx(Ui.div,{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:300,damping:25},children:d.jsx("div",{className:`${c.bg} ${c.text} px-6 py-4 rounded-xl shadow-2xl ${c.animation}`,children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-2xl",children:c.emoji}),d.jsx("span",{className:"font-bold text-lg",children:t})]})})})})},lR=({show:e,children:t})=>(b.useEffect(()=>{e&&"vibrate"in navigator&&navigator.vibrate([100,50,100])},[e]),d.jsx(Ui.div,{animate:e?{x:[-5,5,-5,5,0]}:{},transition:{duration:.4},children:t})),cR=({show:e,message:t})=>d.jsx(Du,{children:e&&d.jsx(Ui.div,{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-40",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:d.jsxs("div",{className:"bg-gray-800 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2",children:[d.jsxs("div",{className:"flex gap-1",children:[d.jsx(Ui.div,{className:"w-2 h-2 bg-blue-400 rounded-full",animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0,delay:0}}),d.jsx(Ui.div,{className:"w-2 h-2 bg-blue-400 rounded-full",animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0,delay:.3}}),d.jsx(Ui.div,{className:"w-2 h-2 bg-blue-400 rounded-full",animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0,delay:.6}})]}),d.jsx("span",{className:"text-sm",children:t})]})})}),uR=({show:e,message:t="Move not allowed!"})=>d.jsx(Du,{children:e&&d.jsx(Ui.div,{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:500,damping:30},children:d.jsxs("div",{className:"bg-red-500 text-white px-6 py-3 rounded-lg shadow-xl flex items-center gap-2",children:[d.jsx("span",{className:"text-xl",children:""}),d.jsx("span",{className:"font-medium",children:t})]})})}),Mp=({fen:e,orientation:t="white",allowAllMoves:s=!0,onMove:a,onGameOver:o,highlightMoves:c=!0,showCoordinates:u=!0,disabled:f=!1,puzzleMode:m=!1,correctMoves:g=[],onCorrectMove:y,onIncorrectMove:v,showHelp:x=!1,highlightSquare:S,showPieceTooltips:T=!0,enableGamification:k=!0,lessonMode:E=!1})=>{const A=b.useMemo(()=>new fr(e||void 0),[e]),[N,_]=b.useState(null),[H,D]=b.useState(null),[F,I]=b.useState(!1),[O,ee]=b.useState({}),[ae,ue]=b.useState({show:!1,position:{x:0,y:0}}),[fe,be]=b.useState(""),[ve,he]=b.useState(!1),[B,V]=b.useState(""),[X,ie]=b.useState("good"),[M,Y]=b.useState(!1),[se,te]=b.useState(!1),[oe,de]=b.useState({show:!1,quality:"good"}),re=b.useCallback(()=>{_(null),D(null),I(!1),ee({})},[]);b.useEffect(()=>{console.log("ChessBoard: Parent FEN changed to:",e),re()},[e,re]),b.useCallback((ce,Ae)=>{if(!T)return;const De=A.get(Ae);De&&ue({show:!0,piece:De.type,color:De.color,square:Ae,position:{x:ce.clientX,y:ce.clientY}})},[A,T]),b.useCallback(()=>{ue(ce=>({...ce,show:!1}))},[]),b.useCallback((ce,Ae)=>{const Xe=A.moves({verbose:!0}).find(gt=>gt.from===ce&&gt.to===Ae);return Xe?Xe.captured&&Xe.piece!=="p"?"excellent":Xe.san.includes("+")?"good":Xe.san.includes("#")?"brilliant":(Xe.captured||["e4","e5","d4","d5"].includes(Ae),"good"):"illegal"},[A]),b.useCallback(ce=>{if(k)switch(ce){case"brilliant":V("Brilliant move!"),ie("brilliant"),he(!0),te(!0);break;case"excellent":V("Excellent move!"),ie("excellent"),he(!0);break;case"good":V("Good move!"),ie("good"),he(!0);break}},[k]);const ke=b.useCallback(ce=>{ee(Ae=>({...Ae,[ce]:{background:"rgba(255, 255, 0, 0.6)",border:"3px solid #FFD700"}})),setTimeout(()=>{ee(Ae=>{const De={...Ae};return delete De[ce],De})},2e3)},[]),Re=b.useCallback(ce=>{be(ce),setTimeout(()=>be(""),3e3)},[]),vt=b.useCallback(({square:ce})=>{if(console.log("ChessBoard: Square clicked:",ce),f){console.log("ChessBoard: Board disabled, ignoring click");return}if(!N){const Ae=A.moves({square:ce,verbose:!0});if(Ae.length>0){if(console.log("ChessBoard: Selected piece at",ce,"with",Ae.length,"moves"),_(ce),c){const De={};Ae.forEach(Xe=>{De[Xe.to]={background:`
                radial-gradient(circle, #10B981 25%, transparent 25%),
                radial-gradient(circle, rgba(0,0,0,.1) 85%, transparent 85%)
              `,borderRadius:"50%"}}),De[ce]={background:"rgba(255, 255, 0, 0.4)",border:"2px solid #FFD700",boxShadow:"0 0 10px rgba(255, 215, 0, 0.5)"},ee(De)}}else console.log("ChessBoard: No moves available from",ce);return}if(N===ce){console.log("ChessBoard: Deselecting piece"),re();return}console.log("ChessBoard: Attempting move:",N,"",ce),it(N,ce)},[A,N,f,c,re]),Qe=b.useCallback(({sourceSquare:ce,targetSquare:Ae})=>{if(console.log("ChessBoard: Piece dropped:",ce,"",Ae),f)return console.log("ChessBoard: Board disabled, move rejected"),!1;const De=it(ce,Ae);return console.log("ChessBoard: Drag move",De?"successful":"failed"),De},[f]),it=b.useCallback((ce,Ae,De="q")=>{try{console.log("ChessBoard: Validating move",ce,Ae,De);const Xe=A.moves({square:ce,verbose:!0}),gt=Xe.find(bt=>bt.from===ce&&bt.to===Ae);if(gt&&gt.flags.includes("p"))return console.log("ChessBoard: Promotion move detected"),_(ce),D(Ae),I(!0),!0;if(!Xe.find(bt=>bt.from===ce&&bt.to===Ae))return console.log("ChessBoard: Invalid move"),k&&(Y(!0),setTimeout(()=>Y(!1),1500)),re(),!1;if(console.log("ChessBoard: Valid move, notifying parent"),re(),m&&g.length>0){const bt=`${ce}${Ae}${De}`,Wt=`${ce}${Ae}`;g.includes(bt)||g.includes(Wt)?(console.log("ChessBoard: Correct puzzle move!"),ln.playGamificationSound("puzzleSolved"),y?.()):(console.log("ChessBoard: Incorrect puzzle move"),ln.playUISound("error"),v?.())}return a?.({from:ce,to:Ae,promotion:De}),!0}catch(Xe){return console.error("ChessBoard: Move validation error:",Xe),re(),!1}},[A,re,m,g,y,v,a]);return b.useCallback(ce=>{if(console.log("ChessBoard: Promotion piece selected:",ce),ce&&N&&H){const Ae=ce[1]?.toLowerCase()||"q";it(N,H,Ae)}else console.log("ChessBoard: Promotion cancelled"),re();return!0},[N,H,it,re]),console.log("ChessBoard render:",{position:A.fen(),disabled:f,orientation:t,allowDragging:!f,hasOnMove:!!a}),d.jsx(lR,{show:M,children:d.jsxs("div",{className:"chess-board-container relative w-full",children:[d.jsxs("div",{className:"relative w-full max-w-full",style:{background:"linear-gradient(145deg, #f0f0f0, #e0e0e0)",borderRadius:"12px",padding:"8px",boxShadow:`
              0 8px 32px rgba(0, 0, 0, 0.1),
              inset 0 2px 4px rgba(255, 255, 255, 0.3)
            `,aspectRatio:"1"},children:[d.jsx("div",{className:"w-full",onMouseMove:ce=>{if(!T)return;const Ae=ce.currentTarget.getBoundingClientRect(),De=ce.clientX-Ae.left,Xe=ce.clientY-Ae.top,gt=Ae.width/8,Je=Ae.height/8,bt=Math.floor(De/gt),Wt=t==="white"?7-Math.floor(Xe/Je):Math.floor(Xe/Je);if(bt>=0&&bt<8&&Wt>=0&&Wt<8){const le=`${String.fromCharCode(97+bt)}${Wt+1}`,Se=A.get(le);ue(Se?{show:!0,piece:Se.type,color:Se.color,square:le,position:{x:ce.clientX,y:ce.clientY-50}}:at=>({...at,show:!1}))}},onMouseLeave:()=>ue(ce=>({...ce,show:!1})),children:d.jsx(eE,{options:{position:A.fen(),onSquareClick:vt,onPieceDrop:Qe,boardOrientation:t,squareStyles:O,allowDragging:!f,animationDurationInMs:200,boardStyle:{borderRadius:"8px",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.2)"}}})}),u&&d.jsx("div",{className:"absolute -bottom-8 left-0 right-0 text-center",children:d.jsxs("div",{className:"text-sm text-gray-600",children:["Turn: ",A.turn()==="w"?"White":"Black",A.isCheck()&&" | Check!",A.isGameOver()&&" | Game Over!"]})}),fe&&d.jsx("div",{className:"absolute -top-12 left-0 right-0 text-center",children:d.jsxs("div",{className:"bg-blue-500 text-white px-4 py-2 rounded-lg text-sm font-medium",children:[" ",fe]})}),E&&S&&d.jsx("div",{className:"absolute inset-0 pointer-events-none",children:d.jsx("div",{className:"absolute w-12 h-12 border-4 border-yellow-400 bg-yellow-200 bg-opacity-30 rounded animate-pulse",style:{transform:`translate(${(S.charCodeAt(0)-97)*50}px, ${(8-parseInt(S[1]))*50}px)`}})})]}),x&&d.jsx("div",{className:"mt-4",children:d.jsx(jE,{game:A,onHighlightSquare:ke,onShowHint:Re,disabled:f})}),d.jsx(EE,{piece:ae.piece,color:ae.color,square:ae.square,show:ae.show,position:ae.position}),d.jsx($S,{show:se,onComplete:()=>te(!1)}),d.jsx(GS,{show:ve,message:B,type:X,onComplete:()=>he(!1)}),d.jsx(uR,{show:M,message:"That move is not allowed!"})]})})},E1={1:{id:"1",title:"Chess Basics: How the Pieces Move",description:"Learn how each chess piece moves and captures. Perfect for beginners!",steps:[{id:"1-1",title:"Welcome to Chess Basics",instruction:"Welcome! In this lesson, you'll learn how each chess piece moves. Let's start with the fundamentals of chess.",type:"instruction"},{id:"1-2",title:"The Pawn",instruction:"Pawns are the foot soldiers of chess. They move forward one square, but capture diagonally. On their first move, they can advance two squares. Let's see a pawn on the board.",fen:"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",type:"instruction"},{id:"1-3",title:"Practice: Move a Pawn",instruction:"Now it's your turn! Try moving the pawn in front of the king (the e2 pawn) forward one or two squares.",fen:"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",correctMoves:["e2e3","e2e4"],explanation:"Excellent! You moved the pawn correctly. Pawns are unique - they can move two squares on their first move, which helps develop your position quickly.",type:"practice"},{id:"1-4",title:"The Rook",instruction:"Rooks are powerful pieces that move horizontally or vertically any number of squares, as long as the path is clear. They're like towers defending your kingdom.",fen:"8/8/8/8/8/8/8/R7 w - - 0 1",type:"instruction"},{id:"1-5",title:"Practice: Move the Rook",instruction:"Move the white rook to any valid square. Remember: rooks move in straight lines along ranks (horizontal) and files (vertical)!",fen:"8/8/8/8/8/8/8/R7 w - - 0 1",correctMoves:["a1a2","a1a3","a1a4","a1a5","a1a6","a1a7","a1a8","a1b1","a1c1","a1d1","a1e1","a1f1","a1g1","a1h1"],explanation:"Perfect! The rook can move to any square in its rank (horizontal row) or file (vertical column). Rooks are most powerful on open files.",type:"practice"},{id:"1-6",title:"The Bishop",instruction:"Bishops move diagonally any number of squares. Each player has two bishops - one that moves on light squares and one on dark squares.",fen:"8/8/8/8/8/8/8/2B5 w - - 0 1",type:"instruction"},{id:"1-7",title:"Practice: Move the Bishop",instruction:"Move the white bishop diagonally. Notice how it can only move to squares of the same color.",fen:"8/8/8/8/8/8/8/2B5 w - - 0 1",correctMoves:["c1d2","c1e3","c1f4","c1g5","c1h6","c1b2","c1a3"],explanation:"Great! Bishops are restricted to squares of one color throughout the entire game. This bishop can only move on dark squares.",type:"practice"},{id:"1-8",title:"The Knight",instruction:"Knights move in an L-shape: two squares in one direction and one square perpendicular. They're the only pieces that can jump over other pieces.",fen:"8/8/8/8/8/8/8/1N6 w - - 0 1",type:"instruction"},{id:"1-9",title:"Practice: Move the Knight",instruction:"Move the white knight to any valid square. Remember the L-shape pattern!",fen:"8/8/8/8/8/8/8/1N6 w - - 0 1",correctMoves:["b1a3","b1c3","b1d2"],explanation:"Excellent! The knight's L-shaped move makes it a tricky piece to master, but very powerful for surprising attacks.",type:"practice"},{id:"1-10",title:"Congratulations!",instruction:"You've learned the basic piece movements! Practice makes perfect. Ready to move on to more advanced lessons?",type:"instruction"}]},2:{id:"2",title:"Checkmate Patterns",description:"Learn essential checkmate patterns. Great for intermediate players.",steps:[{id:"2-1",title:"What is Checkmate?",instruction:"Checkmate is the ultimate goal in chess. It occurs when the king is under attack (in check) and has no legal moves to escape capture.",type:"instruction"},{id:"2-2",title:"Back Rank Mate Setup",instruction:"One of the most common checkmate patterns is the back rank mate. Here, the enemy king is trapped on the back rank by its own pawns.",fen:"6k1/5ppp/8/8/8/8/8/R7 w - - 0 1",type:"instruction"},{id:"2-3",title:"Practice: Deliver Back Rank Mate!",instruction:"Move your white rook to deliver checkmate in one move! Look for the square that attacks the black king with no escape.",fen:"6k1/5ppp/8/8/8/8/8/R7 w - - 0 1",correctMoves:["a1a8"],explanation:"Brilliant! Ra8# is checkmate because the king is attacked and cannot escape - the pawns block its retreat and no piece can block or capture the rook.",type:"practice"},{id:"2-4",title:"Queen and King vs King",instruction:"With a queen and king, you can force checkmate against a lone king. The key is to restrict the enemy king's movement.",fen:"7k/6Q1/6K1/8/8/8/8/8 w - - 0 1",type:"instruction"},{id:"2-5",title:"Practice: Queen Checkmate",instruction:"Deliver checkmate with your queen. The black king has no escape squares.",fen:"7k/6Q1/6K1/8/8/8/8/8 w - - 0 1",correctMoves:["g7g8"],explanation:"Perfect! Qg8# is checkmate. The queen attacks the king, and with your king supporting, the black king has no legal moves.",type:"practice"},{id:"2-6",title:"Smothered Mate",instruction:"A smothered mate occurs when the king is surrounded by its own pieces and gets checkmated by a knight.",fen:"6rk/6pp/8/8/8/8/8/5N2 w - - 0 1",type:"instruction"},{id:"2-7",title:"Practice: Smothered Mate",instruction:"Use the white knight to deliver a smothered mate! The black king is trapped by its own pieces.",fen:"6rk/6pp/8/8/8/8/8/5N2 w - - 0 1",correctMoves:["f1g3","f1e3"],explanation:"Well done! You've learned about smothered mate - one of the most beautiful checkmate patterns in chess.",type:"practice"}]},3:{id:"3",title:"Advanced Tactics",description:"Master advanced tactical patterns including forks, pins, and skewers.",steps:[{id:"3-1",title:"Introduction to Tactics",instruction:"Chess tactics are short-term combinations that win material or deliver checkmate. Mastering tactics is crucial for improvement.",type:"instruction"},{id:"3-2",title:"The Fork",instruction:"A fork is when one piece attacks two or more enemy pieces simultaneously. Knights are especially good at creating forks.",fen:"r1bqkb1r/pppp1ppp/2n2n2/4p3/2B1P3/3P1N2/PPP2PPP/RNBQK2R w KQkq - 0 4",type:"instruction"},{id:"3-3",title:"Practice: Knight Fork",instruction:"Find the knight move that forks the black king and queen! Look for a square where your knight attacks both pieces.",fen:"r1bqkb1r/pppp1ppp/2n2n2/4p3/2B1P3/3P1N2/PPP2PPP/RNBQK2R w KQkq - 0 4",correctMoves:["f3g5"],explanation:"Brilliant! Ng5+ forks the king and queen. Black must move the king, and then you can capture the queen on the next move.",type:"practice"},{id:"3-4",title:"The Pin",instruction:"A pin occurs when a piece cannot move because it would expose a more valuable piece behind it to attack.",fen:"rnbqkbnr/ppp2ppp/8/3pp3/4P3/8/PPPP1PPP/RNBQKBNR w KQkq - 0 3",type:"instruction"},{id:"3-5",title:"Practice: Create a Pin",instruction:"Move your bishop to create a pin on the black knight, preventing it from moving.",fen:"rnbqkbnr/ppp2ppp/8/3pp3/4P3/8/PPPP1PPP/RNBQKBNR w KQkq - 0 3",correctMoves:["f1b5"],explanation:"Excellent! Bb5+ pins the knight to the king. The knight cannot move because it would expose the king to check.",type:"practice"},{id:"3-6",title:"The Skewer",instruction:"A skewer forces a valuable piece to move, exposing a less valuable piece behind it. It's like a reverse pin.",fen:"8/8/8/3k4/8/8/3R4/3K4 w - - 0 1",type:"instruction"},{id:"3-7",title:"Practice: Execute a Skewer",instruction:"Use your rook to skewer the black king, forcing it to move and win material.",fen:"8/8/8/3k4/8/8/3R4/3K4 w - - 0 1",correctMoves:["d2d5"],explanation:"Perfect! Rd5+ skewers the king. The king must move, and you can capture whatever piece was behind it.",type:"practice"},{id:"3-8",title:"Discovery Attack",instruction:"A discovery attack occurs when moving one piece unveils an attack from another piece behind it.",fen:"8/8/8/8/3k4/8/3BP3/3K4 w - - 0 1",type:"instruction"},{id:"3-9",title:"Tactics Mastery Complete!",instruction:"Congratulations! You've mastered the fundamental chess tactics. These patterns will serve you well in your games. Keep practicing!",type:"instruction"}]},4:{id:"4",title:"King and Pawn Endgames",description:"Master the most important endgame: King and Pawn vs King.",steps:[{id:"4-1",title:"Endgame Fundamentals",instruction:"King and pawn endgames are the foundation of all endgame study. Understanding these positions is crucial for chess improvement.",type:"instruction"},{id:"4-2",title:"The Rule of the Square",instruction:"The rule of the square helps you determine if a king can catch a passed pawn. Draw an imaginary square from the pawn to the promotion square.",fen:"8/8/8/8/8/8/4P3/4K1k1 w - - 0 1",type:"instruction"},{id:"4-3",title:"Opposition Concept",instruction:"Opposition is when the two kings face each other with one square between them. The player NOT to move has the opposition.",fen:"8/8/8/3k4/8/3K4/8/8 w - - 0 1",type:"instruction"},{id:"4-4",title:"Practice: Win with Opposition",instruction:"Use the opposition to help your pawn promote. Move your king to gain the opposition.",fen:"8/8/8/3k4/3P4/3K4/8/8 w - - 0 1",correctMoves:["d3e3","d3c3"],explanation:"Good! By gaining the opposition, you can support your pawn's advance to promotion.",type:"practice"}]},5:{id:"5",title:"Opening Principles",description:"Learn the fundamental principles of chess openings for advanced play.",steps:[{id:"5-1",title:"Opening Goals",instruction:"The opening phase has three main goals: develop your pieces, control the center, and ensure king safety.",type:"instruction"},{id:"5-2",title:"Control the Center",instruction:"The center squares (e4, e5, d4, d5) are the most important. Pieces in the center have maximum influence.",fen:"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",type:"instruction"},{id:"5-3",title:"Practice: Open with Center Control",instruction:"Start the game by occupying the center with a pawn move.",fen:"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",correctMoves:["e2e4","d2d4"],explanation:"Excellent! 1.e4 or 1.d4 are the most popular first moves because they immediately stake a claim in the center.",type:"practice"},{id:"5-4",title:"Piece Development",instruction:"Develop your pieces (knights before bishops) toward the center. Don't move the same piece twice in the opening.",fen:"rnbqkbnr/pppp1ppp/8/4p3/4P3/8/PPPP1PPP/RNBQKBNR w KQkq - 0 2",type:"instruction"},{id:"5-5",title:"Practice: Develop Knights First",instruction:"Develop your knight toward the center. Knights should generally be developed before bishops.",fen:"rnbqkbnr/pppp1ppp/8/4p3/4P3/8/PPPP1PPP/RNBQKBNR w KQkq - 0 2",correctMoves:["g1f3","b1c3"],explanation:"Perfect! Developing knights early gives you good central control and prepares for castling.",type:"practice"}]}},fR=()=>{const{lessonId:e}=Q3(),t=Su(),[s,a]=b.useState(0),[o,c]=b.useState(new Set),[u,f]=b.useState(!1),[m,g]=b.useState(0),[y,v]=b.useState(!1),x=e?E1[e]:null,S=x?.steps[s];b.useEffect(()=>{if(!x&&e){console.log("Lesson not found for ID:",e),console.log("Available lessons:",Object.keys(E1)),setTimeout(()=>t("/lessons"),100);return}x&&(console.log("Lesson loaded:",x.title),ln.playGamificationSound("lessonComplete"))},[x,t,e]);const T=b.useCallback(()=>{S&&(console.log("InteractiveLesson: Correct move made"),ln.playGamificationSound("puzzleSolved"),c(D=>new Set([...D,S.id])),f(!1),g(0),S.explanation?setTimeout(()=>{E()},3e3):E())},[S]),k=b.useCallback(()=>{console.log("InteractiveLesson: Incorrect move made"),ln.playUISound("error"),g(D=>D+1),m>=1&&f(!0)},[m]),E=b.useCallback(()=>{console.log("handleNextStep called",{lesson:!!x,currentStepIndex:s,totalSteps:x?.steps.length}),x&&(s<x.steps.length-1?(console.log("Moving to next step"),a(D=>D+1),f(!1),g(0)):(console.log("Lesson completed"),v(!0),ln.playGamificationSound("lessonComplete")))},[x,s]),A=b.useCallback(()=>{s>0&&(a(D=>D-1),f(!1),g(0))},[s]),N=b.useCallback(()=>{a(0),c(new Set),f(!1),g(0),v(!1)},[]),_=b.useCallback(()=>{console.log("Navigating back to lessons"),t("/lessons")},[t]);if(!x&&e)return d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),d.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Loading lesson..."}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Please wait while we load the lesson."}),d.jsxs(He,{onClick:_,children:[d.jsx(Oc,{className:"h-4 w-4 mr-2"}),"Back to Lessons"]})]})});if(!x)return d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsxs("div",{className:"text-center",children:[d.jsx(M5,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),d.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Lesson Not Found"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"The requested lesson could not be loaded."}),d.jsxs(He,{onClick:_,children:[d.jsx(Oc,{className:"h-4 w-4 mr-2"}),"Back to Lessons"]})]})});if(y)return d.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:d.jsx(rn,{className:"text-center",children:d.jsxs(xn,{className:"p-12",children:[d.jsx(R5,{className:"h-16 w-16 text-green-500 mx-auto mb-6"}),d.jsx("h1",{className:"text-3xl font-bold text-green-600 mb-4",children:"Lesson Completed! "}),d.jsxs("p",{className:"text-lg text-gray-600 mb-6",children:[`Congratulations! You've successfully completed "`,x?.title||"this lesson",'".']}),d.jsxs("div",{className:"flex gap-4 justify-center",children:[d.jsxs(He,{onClick:N,variant:"outline",children:[d.jsx(Vh,{className:"h-4 w-4 mr-2"}),"Restart Lesson"]}),d.jsxs(He,{onClick:_,children:[d.jsx(Bv,{className:"h-4 w-4 mr-2"}),"More Lessons"]})]})]})})});const H=(s+1)/x.steps.length*100;return d.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs(He,{variant:"ghost",onClick:_,className:"text-gray-600 hover:text-gray-900",children:[d.jsx(Oc,{className:"h-4 w-4 mr-2"}),"Back to Lessons"]}),d.jsxs(ka,{variant:"secondary",children:["Step ",s+1," of ",x.steps.length]})]}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:x.title}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[d.jsx("span",{children:"Progress"}),d.jsxs("span",{children:[Math.round(H),"%"]})]}),d.jsx(qm,{value:H,className:"h-2"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs(rn,{children:[d.jsx(Yn,{children:d.jsxs(Fn,{className:"flex items-center gap-2",children:[d.jsx(Bv,{className:"h-5 w-5"}),S?.title]})}),d.jsxs(xn,{children:[d.jsx("p",{className:"text-gray-700 leading-relaxed",children:S?.instruction}),u&&S?.correctMoves&&d.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:d.jsxs("p",{className:"text-yellow-800 text-sm",children:[" ",d.jsx("strong",{children:"Hint:"})," Try moving to one of these squares: ",S.correctMoves.join(", ")]})}),o.has(S?.id||"")&&S?.explanation&&d.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:d.jsxs("p",{className:"text-green-800 text-sm",children:[" ",d.jsx("strong",{children:"Well done!"})," ",S.explanation]})}),S?.type==="instruction"&&d.jsx("div",{className:"mt-6",children:d.jsxs(He,{onClick:E,className:"w-full",children:["Continue",d.jsx(qv,{className:"h-4 w-4 ml-2"})]})})]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsxs(He,{variant:"outline",onClick:A,disabled:s===0,children:[d.jsx(Oc,{className:"h-4 w-4 mr-2"}),"Previous"]}),d.jsxs(He,{variant:"outline",onClick:E,disabled:S?.type==="practice"&&!o.has(S?.id||""),children:["Next",d.jsx(qv,{className:"h-4 w-4 ml-2"})]})]})]}),d.jsx("div",{className:"flex justify-center",children:S?.fen&&d.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:[d.jsx(Mp,{fen:S.fen,orientation:"white",puzzleMode:S.type==="practice",correctMoves:S.correctMoves,onCorrectMove:T,onIncorrectMove:k,disabled:o.has(S.id),highlightMoves:!0,showCoordinates:!0,showHelp:S.type==="practice",showPieceTooltips:!0,enableGamification:!0,lessonMode:!0}),S.type==="practice"&&d.jsx("div",{className:"mt-4 text-center",children:d.jsx("p",{className:"text-sm text-gray-600",children:o.has(S.id)?" Step completed!":"Make your move on the board"})})]})})]})]})},dR=()=>d.jsx(fR,{}),j1=e=>{let t;const s=new Set,a=(g,y)=>{const v=typeof g=="function"?g(t):g;if(!Object.is(v,t)){const x=t;t=y??(typeof v!="object"||v===null)?v:Object.assign({},t,v),s.forEach(S=>S(t,x))}},o=()=>t,f={setState:a,getState:o,getInitialState:()=>m,subscribe:g=>(s.add(g),()=>s.delete(g))},m=t=e(a,o,f);return f},hR=(e=>e?j1(e):j1),mR=e=>e;function pR(e,t=mR){const s=yt.useSyncExternalStore(e.subscribe,yt.useCallback(()=>t(e.getState()),[e,t]),yt.useCallback(()=>t(e.getInitialState()),[e,t]));return yt.useDebugValue(s),s}const M1=e=>{const t=hR(e),s=a=>pR(t,a);return Object.assign(s,t),s},_p=(e=>e?M1(e):M1);function gR(e,t){let s;try{s=e()}catch{return}return{getItem:o=>{var c;const u=m=>m===null?null:JSON.parse(m,void 0),f=(c=s.getItem(o))!=null?c:null;return f instanceof Promise?f.then(u):u(f)},setItem:(o,c)=>s.setItem(o,JSON.stringify(c,void 0)),removeItem:o=>s.removeItem(o)}}const vm=e=>t=>{try{const s=e(t);return s instanceof Promise?s:{then(a){return vm(a)(s)},catch(a){return this}}}catch(s){return{then(a){return this},catch(a){return vm(a)(s)}}}},yR=(e,t)=>(s,a,o)=>{let c={storage:gR(()=>localStorage),partialize:k=>k,version:0,merge:(k,E)=>({...E,...k}),...t},u=!1;const f=new Set,m=new Set;let g=c.storage;if(!g)return e((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),s(...k)},a,o);const y=()=>{const k=c.partialize({...a()});return g.setItem(c.name,{state:k,version:c.version})},v=o.setState;o.setState=(k,E)=>(v(k,E),y());const x=e((...k)=>(s(...k),y()),a,o);o.getInitialState=()=>x;let S;const T=()=>{var k,E;if(!g)return;u=!1,f.forEach(N=>{var _;return N((_=a())!=null?_:x)});const A=((E=c.onRehydrateStorage)==null?void 0:E.call(c,(k=a())!=null?k:x))||void 0;return vm(g.getItem.bind(g))(c.name).then(N=>{if(N)if(typeof N.version=="number"&&N.version!==c.version){if(c.migrate){const _=c.migrate(N.state,N.version);return _ instanceof Promise?_.then(H=>[!0,H]):[!0,_]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,N.state];return[!1,void 0]}).then(N=>{var _;const[H,D]=N;if(S=c.merge(D,(_=a())!=null?_:x),s(S,!0),H)return y()}).then(()=>{A?.(S,void 0),S=a(),u=!0,m.forEach(N=>N(S))}).catch(N=>{A?.(void 0,N)})};return o.persist={setOptions:k=>{c={...c,...k},k.storage&&(g=k.storage)},clearStorage:()=>{g?.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>T(),hasHydrated:()=>u,onHydrate:k=>(f.add(k),()=>{f.delete(k)}),onFinishHydration:k=>(m.add(k),()=>{m.delete(k)})},c.skipHydration||T(),S||x},KS=yR,ur=[0,100,250,450,700,1e3,1350,1750,2200,2700,3250,3850,4500,5200,5950,6750,7600,8500,9450,10450],_h=e=>e<ur.length?ur[e]:ur[ur.length-1]+(e-ur.length+1)*1e3,vR=e=>{let t=0;for(;t<ur.length-1&&e>=_h(t+1);)t++;const s=_h(t),a=_h(t+1);return{level:t,xpInLevel:e-s,xpForNext:a-e}},bR=()=>[{id:"first_lesson",title:"First Steps",description:"Complete your first chess lesson",icon:"",requirement:1,currentProgress:0,unlocked:!1,category:"lessons"},{id:"lesson_graduate",title:"Chess Scholar",description:"Complete 10 chess lessons",icon:"",requirement:10,currentProgress:0,unlocked:!1,category:"lessons"},{id:"first_puzzle",title:"Puzzle Solver",description:"Solve your first chess puzzle",icon:"",requirement:1,currentProgress:0,unlocked:!1,category:"puzzles"},{id:"puzzle_master",title:"Tactical Genius",description:"Solve 50 chess puzzles",icon:"",requirement:50,currentProgress:0,unlocked:!1,category:"puzzles"},{id:"first_win",title:"Victory!",description:"Win your first game against the computer",icon:"",requirement:1,currentProgress:0,unlocked:!1,category:"games"},{id:"chess_warrior",title:"Chess Warrior",description:"Win 10 games against the computer",icon:"",requirement:10,currentProgress:0,unlocked:!1,category:"games"},{id:"streak_3",title:"Consistency",description:"Maintain a 3-day learning streak",icon:"",requirement:3,currentProgress:0,unlocked:!1,category:"streaks"},{id:"streak_7",title:"Dedication",description:"Maintain a 7-day learning streak",icon:"",requirement:7,currentProgress:0,unlocked:!1,category:"streaks"},{id:"speed_demon",title:"Speed Demon",description:"Solve a puzzle in under 30 seconds",icon:"",requirement:1,currentProgress:0,unlocked:!1,category:"special"},{id:"perfectionist",title:"Perfectionist",description:"Complete a lesson with 100% accuracy",icon:"",requirement:1,currentProgress:0,unlocked:!1,category:"special"}],Rp=_p()(KS((e,t)=>({totalXP:0,currentLevel:0,xpForNextLevel:100,xpInCurrentLevel:0,currentStreak:0,longestStreak:0,lastActivityDate:null,lessonsCompleted:0,puzzlesSolved:0,gamesPlayed:0,gamesWon:0,achievements:bR(),totalTimeSpent:0,averageAccuracy:0,addXP:(s,a)=>{const c=t().totalXP+s,u=vR(c);console.log(`+${s} XP from ${a}! Total: ${c}`),e({totalXP:c,currentLevel:u.level,xpInCurrentLevel:u.xpInLevel,xpForNextLevel:u.xpForNext}),t().checkAchievements()},completeLesson:(s,a,o)=>{const c=t(),u=c.lessonsCompleted+1;let f=50;o>=90&&(f+=20),o===100&&(f+=30),e({lessonsCompleted:u,totalTimeSpent:c.totalTimeSpent+a,averageAccuracy:(c.averageAccuracy*(u-1)+o)/u}),t().addXP(f,"lesson completion"),t().updateStreak(),t().checkAchievements()},solvePuzzle:(s,a,o)=>{const c=t(),u=c.puzzlesSolved+1;let f=30;a===1&&(f+=20),o<30&&(f+=15),e({puzzlesSolved:u,totalTimeSpent:c.totalTimeSpent+Math.floor(o/6e4)}),t().addXP(f,"puzzle solved"),t().updateStreak(),t().checkAchievements()},completeGame:(s,a)=>{const o=t();e({gamesPlayed:o.gamesPlayed+1,gamesWon:s?o.gamesWon+1:o.gamesWon,totalTimeSpent:o.totalTimeSpent+Math.floor(a/6e4)});const c=s?100:25;t().addXP(c,s?"game won":"game played"),t().updateStreak(),t().checkAchievements()},updateStreak:()=>{const s=t(),a=new Date().toDateString(),o=new Date(Date.now()-864e5).toDateString();if(s.lastActivityDate!==a)if(s.lastActivityDate===o){const c=s.currentStreak+1;e({currentStreak:c,longestStreak:Math.max(s.longestStreak,c),lastActivityDate:a})}else s.lastActivityDate===null?e({currentStreak:1,longestStreak:Math.max(s.longestStreak,1),lastActivityDate:a}):e({currentStreak:1,lastActivityDate:a})},checkAchievements:()=>{const s=t(),a=[...s.achievements];let o=!1;a.forEach(c=>{if(c.unlocked)return;let u=0,f=!1;switch(c.id){case"first_lesson":case"lesson_graduate":u=s.lessonsCompleted;break;case"first_puzzle":case"puzzle_master":u=s.puzzlesSolved;break;case"first_win":case"chess_warrior":u=s.gamesWon;break;case"streak_3":case"streak_7":u=s.longestStreak;break;case"perfectionist":u=s.averageAccuracy===100?1:0;break}u!==c.currentProgress&&(c.currentProgress=u,o=!0),u>=c.requirement&&!c.unlocked&&(c.unlocked=!0,c.unlockedAt=new Date,f=!0,o=!0),f&&(console.log(` Achievement Unlocked: ${c.title}!`),t().addXP(100,`achievement: ${c.title}`))}),o&&e({achievements:a})},unlockAchievement:s=>{const a=t(),o=a.achievements.find(c=>c.id===s);o&&!o.unlocked&&(o.unlocked=!0,o.unlockedAt=new Date,e({achievements:[...a.achievements]}))}}),{name:"chess-academy-gamification",partialize:e=>({totalXP:e.totalXP,currentLevel:e.currentLevel,xpForNextLevel:e.xpForNextLevel,xpInCurrentLevel:e.xpInCurrentLevel,currentStreak:e.currentStreak,longestStreak:e.longestStreak,lastActivityDate:e.lastActivityDate,lessonsCompleted:e.lessonsCompleted,puzzlesSolved:e.puzzlesSolved,gamesPlayed:e.gamesPlayed,gamesWon:e.gamesWon,achievements:e.achievements,totalTimeSpent:e.totalTimeSpent,averageAccuracy:e.averageAccuracy})}));class xR{apiKey=null;baseUrl="https://api.anthropic.com/v1";constructor(){this.apiKey=null}setApiKey(t){this.apiKey=t}async getCoaching(t){if(!this.apiKey)return this.getMockCoaching(t);try{const s=this.buildCoachingPrompt(t),a=await fetch(`${this.baseUrl}/messages`,{method:"POST",headers:{"x-api-key":this.apiKey,"Content-Type":"application/json","anthropic-version":"2023-06-01"},body:JSON.stringify({model:"claude-3-sonnet-20240229",max_tokens:200,temperature:.7,system:"You are a friendly and encouraging chess coach. Provide helpful, personalized coaching based on the student's level and situation. Keep responses concise but supportive. Use encouraging emojis and maintain a positive tone.",messages:[{role:"user",content:s}]})});if(!a.ok)throw new Error(`Claude API error: ${a.status}`);return{message:(await a.json()).content[0].text,type:this.determineResponseType(t),confidence:.9}}catch(s){return console.error("AI Coach API error:",s),this.getMockCoaching(t)}}async getPuzzleHint(t,s){if(!this.apiKey)return this.getMockPuzzleHint(t,s);try{const a=`Chess position: ${t.position}
Player level: ${t.playerLevel}
Attempts made: ${s}
Puzzle type: ${t.puzzleType}

The player is struggling with this chess puzzle. Please provide a helpful hint that's appropriate for their skill level and attempt count. For fewer attempts, give gentler hints. For more attempts, be more specific.

Respond with just the hint text, keep it concise and encouraging.`,o=await fetch(`${this.baseUrl}/messages`,{method:"POST",headers:{"x-api-key":this.apiKey,"Content-Type":"application/json","anthropic-version":"2023-06-01"},body:JSON.stringify({model:"claude-3-sonnet-20240229",max_tokens:150,temperature:.7,system:"You are a chess coach providing hints for puzzles. Give helpful, progressive hints that encourage learning.",messages:[{role:"user",content:a}]})});if(!o.ok)throw new Error(`Claude API error: ${o.status}`);const c=await o.json(),u=s<=2?"gentle":s<=4?"specific":"direct";return{hint:c.content[0].text,level:u,suggestedSquares:s>5?["e4","f7","d5"]:void 0}}catch(a){return console.error("AI Coach hint error:",a),this.getMockPuzzleHint(t,s)}}async analyzeGame(t){if(!this.apiKey)return this.getMockGameAnalysis(t);try{const s=`Please analyze this chess game:

Final position: ${t.position}
Player level: ${t.playerLevel}
Move history: ${t.moveHistory.join(" ")}

Provide a brief analysis focusing on:
1. Overall evaluation of the player's performance
2. 2-3 key strengths they showed
3. 1-2 areas for improvement
4. Reasoning for the assessment

Keep it encouraging and educational for a ${t.difficulty} level player.`,a=await fetch(`${this.baseUrl}/messages`,{method:"POST",headers:{"x-api-key":this.apiKey,"Content-Type":"application/json","anthropic-version":"2023-06-01"},body:JSON.stringify({model:"claude-3-sonnet-20240229",max_tokens:300,temperature:.7,system:"You are a chess coach analyzing games. Provide constructive feedback that helps players improve while staying encouraging.",messages:[{role:"user",content:s}]})});if(!a.ok)throw new Error(`Claude API error: ${a.status}`);const c=(await a.json()).content[0].text,u=this.getMockGameAnalysis(t);return{evaluation:c.split(`
`)[0]||u.evaluation,reasoning:"Based on Claude's analysis of your game performance",playerStrengths:u.playerStrengths,areasForImprovement:u.areasForImprovement}}catch(s){return console.error("AI Coach analysis error:",s),this.getMockGameAnalysis(t)}}buildCoachingPrompt(t){let s=`Chess position: ${t.position}
`;return s+=`Player level: ${t.playerLevel}
`,s+=`Difficulty: ${t.difficulty}
`,t.lastMove&&(s+=`Last move: ${t.lastMove}
`),t.isCorrectMove!==void 0&&(s+=`Move was ${t.isCorrectMove?"correct":"incorrect"}
`),t.puzzleType&&(s+=`Puzzle type: ${t.puzzleType}
`),t.lessonTopic&&(s+=`Lesson topic: ${t.lessonTopic}
`),s+="Provide coaching appropriate for this situation.",s}determineResponseType(t){return t.isCorrectMove===!0?"celebration":t.isCorrectMove===!1?"correction":t.puzzleType?"hint":"encouragement"}getMockCoaching(t){const s={celebration:["Excellent move! You're really getting the hang of this! ","Perfect! That was exactly the right idea! ","Brilliant! You spotted that tactic beautifully! ","Great job! Your chess vision is improving! "],correction:["Not quite right, but you're thinking in the right direction! ","That's a reasonable idea, but let's look for something stronger! ","Good attempt! Try to look for forcing moves like checks and captures! ","Almost there! Consider what your opponent's threats are first! "],hint:["Look for a move that attacks two pieces at once! ","Sometimes the best move is the most forcing one! ","What would happen if you moved your most active piece? ","Try to find a move that improves your worst-placed piece! "],encouragement:["Take your time and look for the best move! You've got this! ","Remember the basic principles: develop pieces, control the center! ","You're doing great! Each game makes you stronger! ","Think about what your opponent is planning next! "],analysis:["This position has some interesting tactical possibilities! ","The key here is improving piece coordination! ","Focus on controlling the most important squares! ","This is a great learning position - lots of candidate moves! "]},a=this.determineResponseType(t),o=s[a]||s.encouragement;return{message:o[Math.floor(Math.random()*o.length)],type:a,confidence:.8}}getMockPuzzleHint(t,s){const a={gentle:["Look for moves that create immediate threats!","What pieces can you activate with tempo?","Sometimes the solution involves a sacrifice!","Check if there are any pins or forks available!"],specific:["Focus on the center of the board - there might be a tactic there!","Look at your opponent's king safety - is there a weakness?","Your pieces need to work together - which combination is strongest?","Sometimes retreating a piece can set up a powerful follow-up!"],direct:["Try moving your most active piece to create multiple threats!","Look for a move that attacks the king AND another piece!","The solution probably involves your strongest piece!","Count the attackers and defenders around the key squares!"]},o=s<=2?"gentle":s<=4?"specific":"direct",c=a[o];return{hint:c[Math.floor(Math.random()*c.length)],level:o,suggestedSquares:s>5?["e4","f7","d5"]:void 0}}getMockGameAnalysis(t){const s=["You played a solid opening, focusing on development!","Your tactical awareness was strong in the middlegame!","You handled the endgame with good technique!","Your positional understanding is improving!"],a=["Good piece development","Strong tactical vision","Solid pawn structure","Active piece play","Good time management"],o=["Look for more forcing moves","Improve king safety earlier","Consider pawn structure more","Calculate deeper variations","Work on endgame technique"];return{evaluation:s[Math.floor(Math.random()*s.length)],reasoning:"Based on your recent performance and the moves you made in this game.",playerStrengths:a.slice(0,Math.floor(Math.random()*3)+2),areasForImprovement:o.slice(0,Math.floor(Math.random()*2)+1)}}isApiKeyConfigured(){return this.apiKey!==null}isClaudeApiEnabled(){return this.apiKey!==null}getCoachingForMove(t,s,a,o){return this.getCoaching({position:a,moveHistory:[],playerLevel:o,difficulty:o<5?"beginner":o<15?"intermediate":"advanced",lastMove:t,isCorrectMove:s})}getHintForPuzzle(t,s,a="tactical"){return this.getPuzzleHint({position:t,moveHistory:[],playerLevel:5,difficulty:"intermediate",puzzleType:a},s)}}const Qn=new xR,wR=({isOpen:e,onClose:t})=>{const[s,a]=b.useState(""),[o,c]=b.useState(!1),[u,f]=b.useState(""),m=()=>{if(!s.trim()){f("Please enter a Claude API key");return}if(!s.startsWith("sk-ant-")){f('Claude API keys should start with "sk-ant-"');return}Qn.setApiKey(s.trim()),c(!0),f(""),setTimeout(()=>{c(!1),t()},2e3)},g=()=>{Qn.setApiKey(""),a(""),c(!1),f("")};return e?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-lg font-semibold",children:" Claude Coach Settings"}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:d.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Enter your Claude API key to enable real AI coaching. Without an API key, you'll see demo responses."}),d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-3 mb-4",children:d.jsxs("p",{className:"text-xs text-blue-800",children:[d.jsx("strong",{children:"How to get a Claude API key:"}),d.jsx("br",{}),"1. Visit ",d.jsx("a",{href:"https://console.anthropic.com",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"console.anthropic.com"}),d.jsx("br",{}),"2. Sign up or log in to your account",d.jsx("br",{}),"3. Navigate to API Keys section",d.jsx("br",{}),"4. Create a new API key",d.jsx("br",{}),"5. Copy and paste it here"]})}),d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Claude API Key"}),d.jsx("input",{type:"password",value:s,onChange:y=>{a(y.target.value),f(""),c(!1)},placeholder:"sk-ant-...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),u&&d.jsx("p",{className:"text-red-600 text-xs mt-1",children:u}),o&&d.jsx("p",{className:"text-green-600 text-xs mt-1",children:" API key saved successfully!"})]}),d.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-3",children:d.jsxs("p",{className:"text-xs text-yellow-800",children:[d.jsx("strong",{children:"Privacy Note:"})," Your API key is stored locally in your browser and never sent to our servers. It's only used to make direct requests to Claude's API."]})}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:m,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",children:"Save API Key"}),Qn.isApiKeyConfigured()&&d.jsx("button",{onClick:g,className:"px-4 py-2 text-red-600 border border-red-200 rounded-md hover:bg-red-50 transition-colors",children:"Remove Key"})]}),d.jsx("div",{className:"text-center",children:d.jsx("button",{onClick:t,className:"text-sm text-gray-500 hover:text-gray-700",children:"Continue with Demo Mode"})})]})]})}):null},SR=({position:e="",playerLevel:t=5,isVisible:s=!0,onClose:a,mode:o="general",context:c={}})=>{const[u,f]=b.useState(null),[m,g]=b.useState(null),[y,v]=b.useState(null),[x,S]=b.useState(!1),[T,k]=b.useState(null),[E,A]=b.useState(!1);b.useEffect(()=>{s&&e&&N()},[s,e,c,o]);const N=async()=>{S(!0),k(null);try{const D=t<5?"beginner":t<15?"intermediate":"advanced",F={position:e,moveHistory:[],playerLevel:t,difficulty:D,...c};switch(o){case"puzzle":if(c.attemptCount!==void 0){const ee=await Qn.getPuzzleHint(F,c.attemptCount);g(ee)}else{const ee=await Qn.getCoaching(F);f(ee)}break;case"game":const I=await Qn.analyzeGame(F);v(I);break;default:const O=await Qn.getCoaching(F);f(O);break}}catch(D){k("Failed to get coaching advice. Please try again."),console.error("Coaching error:",D)}finally{S(!1)}},_=D=>{switch(D){case"celebration":return"";case"correction":return"";case"hint":return"";case"encouragement":return"";case"analysis":return"";default:return""}},H=D=>{switch(D){case"celebration":return"border-green-200 bg-green-50 text-green-800";case"correction":return"border-orange-200 bg-orange-50 text-orange-800";case"hint":return"border-blue-200 bg-blue-50 text-blue-800";case"encouragement":return"border-purple-200 bg-purple-50 text-purple-800";case"analysis":return"border-gray-200 bg-gray-50 text-gray-800";default:return"border-blue-200 bg-blue-50 text-blue-800"}};return s?d.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4 mb-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-2xl",children:""}),d.jsx("h3",{className:"font-semibold text-gray-900",children:"Claude Chess Coach"}),!Qn.isApiKeyConfigured()&&d.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded-full",children:"Demo Mode"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>A(!0),className:"text-gray-400 hover:text-gray-600 transition-colors p-1",title:"Configure Claude API Key",children:d.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),a&&d.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),x&&d.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),d.jsx("span",{className:"text-sm",children:"Analyzing your position..."})]}),T&&d.jsx("div",{className:"text-red-600 text-sm bg-red-50 border border-red-200 rounded p-2 mb-3",children:T}),u&&d.jsx("div",{className:`p-3 rounded-lg border ${H(u.type)} mb-3`,children:d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-lg",children:_(u.type)}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-medium mb-1",children:u.message}),u.explanation&&d.jsx("p",{className:"text-xs opacity-90",children:u.explanation}),u.suggestedMove&&d.jsx("div",{className:"mt-2 text-xs",children:d.jsxs("span",{className:"font-mono bg-white bg-opacity-50 px-2 py-1 rounded",children:["Suggested: ",u.suggestedMove]})})]})]})}),m&&d.jsx("div",{className:`p-3 rounded-lg border ${H("hint")} mb-3`,children:d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-lg",children:""}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-medium mb-1",children:m.hint}),d.jsxs("div",{className:"text-xs opacity-75",children:[d.jsx("span",{className:"capitalize",children:m.level})," hint"]}),m.suggestedSquares&&d.jsxs("div",{className:"mt-2 flex gap-1",children:[d.jsx("span",{className:"text-xs",children:"Focus on squares:"}),m.suggestedSquares.map((D,F)=>d.jsx("span",{className:"text-xs font-mono bg-white bg-opacity-50 px-1 rounded",children:D},F))]})]})]})}),y&&d.jsxs("div",{className:"space-y-3",children:[d.jsx("div",{className:`p-3 rounded-lg border ${H("analysis")}`,children:d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-lg",children:""}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-medium mb-1",children:y.evaluation}),d.jsx("p",{className:"text-xs opacity-90",children:y.reasoning})]})]})}),y.playerStrengths.length>0&&d.jsxs("div",{className:"p-3 rounded-lg border border-green-200 bg-green-50",children:[d.jsxs("h4",{className:"text-sm font-medium text-green-800 mb-2 flex items-center gap-1",children:[d.jsx("span",{children:""})," Your Strengths"]}),d.jsx("ul",{className:"text-xs text-green-700 space-y-1",children:y.playerStrengths.map((D,F)=>d.jsxs("li",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"text-green-500",children:""}),D]},F))})]}),y.areasForImprovement.length>0&&d.jsxs("div",{className:"p-3 rounded-lg border border-orange-200 bg-orange-50",children:[d.jsxs("h4",{className:"text-sm font-medium text-orange-800 mb-2 flex items-center gap-1",children:[d.jsx("span",{children:""})," Areas to Improve"]}),d.jsx("ul",{className:"text-xs text-orange-700 space-y-1",children:y.areasForImprovement.map((D,F)=>d.jsxs("li",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"text-orange-500",children:""}),D]},F))})]})]}),d.jsxs("div",{className:"flex gap-2 mt-3",children:[d.jsx("button",{onClick:N,disabled:x,className:"text-xs bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 disabled:opacity-50 transition-colors",children:x?"Thinking...":"New Advice"}),o==="puzzle"&&d.jsx("button",{onClick:async()=>{if(c.attemptCount!==void 0){S(!0);try{const D=await Qn.getHintForPuzzle(e,c.attemptCount+1);g(D)}catch{k("Failed to get hint")}finally{S(!1)}}},disabled:x,className:"text-xs bg-yellow-600 text-white px-3 py-1 rounded hover:bg-yellow-700 disabled:opacity-50 transition-colors",children:"More Specific Hint"})]}),d.jsx(wR,{isOpen:E,onClose:()=>A(!1)})]}):null},CR=(e={})=>{const{autoCoach:t=!0,enableHints:s=!0,playerLevel:a}=e,{currentLevel:o}=Rp(),c=a??o,[u,f]=b.useState(null),[m,g]=b.useState(null),[y,v]=b.useState(null),[x,S]=b.useState(!1),[T,k]=b.useState(null),[E,A]=b.useState(!1),[N,_]=b.useState(0),H=()=>k(null),D=b.useCallback(()=>{f(null),g(null),v(null),k(null)},[]),F=b.useCallback(async(ve,he={})=>{S(!0),H();try{const B=c<5?"beginner":c<15?"intermediate":"advanced",V={position:ve,moveHistory:[],playerLevel:c,difficulty:B,...he},X=await Qn.getCoaching(V);f(X),A(!0)}catch(B){k("Failed to get coaching advice"),console.error("Coaching error:",B)}finally{S(!1)}},[c]),I=b.useCallback(async(ve,he,B="tactical")=>{if(s){S(!0),H();try{const V=await Qn.getHintForPuzzle(ve,he,B);g(V),_(X=>X+1),A(!0)}catch(V){k("Failed to get hint"),console.error("Hint error:",V)}finally{S(!1)}}},[s]),O=b.useCallback(async(ve,he)=>{S(!0),H();try{const B=c<5?"beginner":c<15?"intermediate":"advanced",V={position:ve,moveHistory:he,playerLevel:c,difficulty:B},X=await Qn.analyzeGame(V);v(X),A(!0)}catch(B){k("Failed to analyze game"),console.error("Analysis error:",B)}finally{S(!1)}},[c]),ee=b.useCallback(async(ve,he,B)=>{if(t&&!(he&&Math.random()>.3)){S(!0),H();try{const V=await Qn.getCoachingForMove(ve,he,B,c);f(V),A(!0)}catch(V){k("Failed to get move analysis"),console.error("Move analysis error:",V)}finally{S(!1)}}},[t,c]),ae=b.useCallback(()=>A(!0),[]),ue=b.useCallback(()=>A(!1),[]),fe=b.useCallback(()=>A(ve=>!ve),[]),be=s&&N<3;return{coaching:u,puzzleHint:m,gameAnalysis:y,isLoading:x,error:T,isVisible:E,getCoaching:F,getHint:I,analyzeGame:O,onMoveAnalysis:ee,showCoach:ae,hideCoach:ue,toggleCoach:fe,clearCoaching:D,canRequestHint:be,hintCount:N}},kR=e=>CR({autoCoach:!0,enableHints:!0}),TR=({children:e,className:t="",maxWidth:s="lg",padding:a="md",centerContent:o=!1})=>{const c=()=>({sm:"max-w-sm",md:"max-w-md",lg:"max-w-4xl",xl:"max-w-6xl","2xl":"max-w-7xl",full:"max-w-full"})[s],u=()=>({none:"",sm:"px-2 sm:px-4",md:"px-4 sm:px-6 lg:px-8",lg:"px-6 sm:px-8 lg:px-12",xl:"px-8 sm:px-12 lg:px-16"})[a];return d.jsx("div",{className:`
      w-full ${c()} ${u()}
      ${o?"mx-auto":""}
      ${t}
    `,children:e})},Pi=({children:e,className:t="",direction:s="row",wrap:a=!1,justify:o="start",align:c="start",gap:u="md",responsive:f={}})=>{const m=()=>{const g=["flex"];g.push(`flex-${s}`),a&&g.push("flex-wrap"),g.push(`justify-${o}`),g.push(`items-${c}`);const y={sm:"gap-2",md:"gap-4",lg:"gap-6",xl:"gap-8"};return g.push(y[u]),Object.entries(f).forEach(([v,x])=>{x.direction&&g.push(`${v}:flex-${x.direction}`),x.justify&&g.push(`${v}:justify-${x.justify}`),x.align&&g.push(`${v}:items-${x.align}`)}),g.join(" ")};return d.jsx("div",{className:`${m()} ${t}`,children:e})},Kc=({variant:e="primary",size:t="md",loading:s=!1,soundEffect:a=!0,ripple:o=!0,icon:c,iconPosition:u="left",pulse:f=!1,glow:m=!1,children:g,className:y="",onClick:v,onMouseEnter:x,onMouseLeave:S,disabled:T,...k})=>{const[E,A]=b.useState(!1),[N,_]=b.useState([]),H=()=>({primary:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white shadow-lg hover:shadow-xl border-0",secondary:"bg-gradient-to-r from-gray-100 to-gray-200 hover:from-gray-200 hover:to-gray-300 text-gray-800 border border-gray-300 shadow-md hover:shadow-lg",success:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white shadow-lg hover:shadow-xl border-0",warning:"bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700 text-white shadow-lg hover:shadow-xl border-0",danger:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white shadow-lg hover:shadow-xl border-0",ghost:"bg-transparent hover:bg-gray-100 text-gray-700 border border-gray-300 hover:border-gray-400"})[e],D=()=>({sm:"px-3 py-1.5 text-sm font-medium",md:"px-4 py-2 text-sm font-semibold",lg:"px-6 py-3 text-base font-semibold",xl:"px-8 py-4 text-lg font-bold"})[t],F=()=>m?`shadow-2xl ${{primary:"shadow-blue-500/25",secondary:"shadow-gray-500/25",success:"shadow-green-500/25",warning:"shadow-yellow-500/25",danger:"shadow-red-500/25",ghost:"shadow-gray-500/25"}[e]}`:"",I=ee=>{if(!(T||s)){if(a&&ln.playUISound("click"),o){const ae=ee.currentTarget.getBoundingClientRect(),ue=ee.clientX-ae.left,fe=ee.clientY-ae.top,be={id:Date.now(),x:ue,y:fe};_(ve=>[...ve,be]),setTimeout(()=>{_(ve=>ve.filter(he=>he.id!==be.id))},600)}A(!0),setTimeout(()=>A(!1),150),v?.(ee)}},O=ee=>{a&&!T&&ln.playUISound("hover"),x?.(ee)};return d.jsxs("button",{className:`
        relative overflow-hidden rounded-lg transition-all duration-200 
        transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed
        focus:outline-none focus:ring-4 focus:ring-opacity-50
        ${H()}
        ${D()}
        ${F()}
        ${f?"animate-pulse":""}
        ${E?"scale-95":"hover:scale-105"}
        ${T?"cursor-not-allowed":"cursor-pointer"}
        ${y}
      `,onClick:I,onMouseEnter:O,onMouseLeave:S,disabled:T||s,...k,children:[N.map(ee=>d.jsx("span",{className:"absolute animate-ping bg-white bg-opacity-25 rounded-full",style:{left:ee.x-10,top:ee.y-10,width:20,height:20,animationDuration:"600ms"}},ee.id)),s&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"})}),d.jsxs("div",{className:`flex items-center justify-center gap-2 ${s?"opacity-0":"opacity-100"}`,children:[c&&u==="left"&&d.jsx("span",{className:"flex-shrink-0 transition-transform duration-200 group-hover:scale-110",children:c}),d.jsx("span",{className:"flex-1",children:g}),c&&u==="right"&&d.jsx("span",{className:"flex-shrink-0 transition-transform duration-200 group-hover:scale-110",children:c})]}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 transform -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-700 ease-out"})]})},ni=({children:e,delay:t=0,duration:s=600,direction:a="up",className:o=""})=>{const[c,u]=b.useState(!1),f=b.useRef(null);b.useEffect(()=>{const g=setTimeout(()=>u(!0),t);return()=>clearTimeout(g)},[t]);const m=()=>`transition-all ease-out ${{up:c?"translate-y-0 opacity-100":"translate-y-8 opacity-0",down:c?"translate-y-0 opacity-100":"-translate-y-8 opacity-0",left:c?"translate-x-0 opacity-100":"translate-x-8 opacity-0",right:c?"translate-x-0 opacity-100":"-translate-x-8 opacity-0",scale:c?"scale-100 opacity-100":"scale-95 opacity-0"}[a]}`;return d.jsx("div",{ref:f,className:`${m()} ${o}`,style:{transitionDuration:`${s}ms`},children:e})},_1=({children:e,trigger:t,className:s=""})=>d.jsx("div",{className:`${t?"animate-bounce":""} ${s}`,children:e}),AR=({children:e,active:t,className:s=""})=>d.jsx("div",{className:`${t?"animate-pulse":""} ${s}`,children:e}),NR=({progress:e,height:t="md",color:s="blue",showLabel:a=!0,label:o,animate:c=!0,className:u=""})=>{const[f,m]=b.useState(0);b.useEffect(()=>{if(c){const v=setTimeout(()=>m(e),100);return()=>clearTimeout(v)}else m(e)},[e,c]);const g=()=>({sm:"h-2",md:"h-3",lg:"h-4"})[t],y=()=>({blue:"bg-blue-600",green:"bg-green-600",yellow:"bg-yellow-600",red:"bg-red-600",purple:"bg-purple-600"})[s];return d.jsxs("div",{className:u,children:[a&&d.jsx("div",{className:"flex justify-between items-center mb-1",children:d.jsx("span",{className:"text-sm font-medium text-gray-700",children:o||`Progress: ${Math.round(e)}%`})}),d.jsx("div",{className:`w-full bg-gray-200 rounded-full ${g()}`,children:d.jsx("div",{className:`${g()} ${y()} rounded-full transition-all duration-1000 ease-out`,style:{width:`${f}%`}})})]})},ER=({message:e,type:t,isVisible:s,onClose:a,autoClose:o=!0,duration:c=4e3})=>{b.useEffect(()=>{if(s&&o){const m=setTimeout(a,c);return()=>clearTimeout(m)}},[s,o,c,a]);const u=()=>({success:{icon:"",bgColor:"bg-green-100 border-green-300",textColor:"text-green-800",iconBg:"bg-green-500"},achievement:{icon:"",bgColor:"bg-yellow-100 border-yellow-300",textColor:"text-yellow-800",iconBg:"bg-yellow-500"},streak:{icon:"",bgColor:"bg-orange-100 border-orange-300",textColor:"text-orange-800",iconBg:"bg-orange-500"},level:{icon:"",bgColor:"bg-blue-100 border-blue-300",textColor:"text-blue-800",iconBg:"bg-blue-500"},encouragement:{icon:"",bgColor:"bg-purple-100 border-purple-300",textColor:"text-purple-800",iconBg:"bg-purple-500"}})[t];if(!s)return null;const f=u();return d.jsx("div",{className:"fixed top-4 right-4 z-50",children:d.jsx(ni,{direction:"right",children:d.jsxs("div",{className:`
          flex items-start gap-3 p-4 rounded-lg border-2 shadow-lg max-w-sm
          ${f.bgColor}
          animate-slideInFromRight
        `,children:[d.jsx(AR,{active:!0,children:d.jsx("div",{className:`
              w-8 h-8 rounded-full flex items-center justify-center text-white text-lg
              ${f.iconBg}
            `,children:f.icon})}),d.jsx("div",{className:"flex-1 min-w-0",children:d.jsx("p",{className:`text-sm font-medium ${f.textColor}`,children:e})}),d.jsx("button",{onClick:a,className:`${f.textColor} hover:opacity-75 transition-opacity`,children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})})},jR=({puzzle:e,onSolved:t,onSkip:s,showHints:a=!0})=>{const[o,c]=b.useState(0),[u,f]=b.useState(0),[m,g]=b.useState(Date.now()),[y,v]=b.useState(!1),[x,S]=b.useState({type:null,message:""}),[T,k]=b.useState(!1),[E,A]=b.useState(0),[N,_]=b.useState(!1),[H,D]=b.useState({message:"",type:"success",isVisible:!1}),{solvePuzzle:F}=Rp(),I=kR();b.useEffect(()=>{g(Date.now()),c(0),f(0),v(!1),S({type:null,message:""}),k(!1),A(0)},[e.id]);const O=()=>{const fe=o+1;if(c(fe),fe>=e.solution.length){v(!0);const be=Date.now()-m;let ve=30;const he=[];u===0&&(ve+=20,he.push("Perfect!")),be<3e4&&(ve+=15,he.push("Speed Bonus!")),A(ve),F(e.id,u+1,be),ln.playCelebration(),D({message:`Puzzle Solved! +${ve} XP${he.length>0?" ("+he.join(", ")+")":""}`,type:"achievement",isVisible:!0}),S({type:"success",message:" Puzzle solved!"}),t?.(e.id,u+1,be)}else ln.playUISound("success"),S({type:"success",message:"Correct! Keep going..."}),fe===1&&D({message:"Great start! You found the right move!",type:"encouragement",isVisible:!0})},ee=()=>{const fe=u+1;f(fe),ln.playUISound("error"),I.onMoveAnalysis("",!1,e.fen);let be="Not quite right. Try again!";if(fe>=3&&a){const ve=e.solution[o];if(ve){const he=ve.slice(0,2),B=ve.slice(2,4);be=` Hint: Try moving from ${he} to ${B}`,ln.playUISound("notification")}}else fe===2?be="Don't give up! Think about the position...":fe>=5&&(be="Keep trying! Every attempt makes you stronger ");S({type:fe>=3?"hint":"error",message:be}),fe===3&&D({message:"Hang in there! Learning takes practice.",type:"encouragement",isVisible:!0})},ae=()=>{s?.(e.id),k(!0)},ue=()=>{c(0),f(0),g(Date.now()),v(!1),S({type:null,message:""}),k(!1),A(0)};return d.jsxs(TR,{maxWidth:"xl",className:"chess-puzzle",children:[d.jsx(ER,{message:H.message,type:H.type,isVisible:H.isVisible,onClose:()=>D({...H,isVisible:!1})}),d.jsxs(Pi,{direction:"col",gap:"lg",responsive:{lg:{direction:"row",justify:"between"}},className:"min-h-screen",children:[d.jsxs("div",{className:"flex flex-col items-center lg:w-1/2",children:[d.jsx(ni,{direction:"up",children:d.jsxs("div",{className:"relative",children:[d.jsx(Mp,{fen:e.fen,puzzleMode:!0,correctMoves:e.solution,onCorrectMove:O,onIncorrectMove:ee,disabled:y||T,highlightMoves:!0,showCoordinates:!0}),y&&d.jsx("div",{className:"absolute inset-0 bg-green-100 bg-opacity-90 rounded-lg flex items-center justify-center",children:d.jsx(_1,{trigger:!0,children:d.jsx("div",{className:"text-4xl",children:""})})})]})}),d.jsx(ni,{direction:"up",delay:200,children:d.jsxs(Pi,{gap:"sm",wrap:!0,className:"mt-6",children:[d.jsx(Kc,{onClick:ue,variant:"secondary",size:"md",icon:d.jsx("span",{children:""}),children:"Reset"}),d.jsx(Kc,{onClick:ae,variant:"warning",size:"md",disabled:y,icon:d.jsx("span",{children:""}),children:"Show Solution"}),d.jsx(Kc,{onClick:()=>_(!N),variant:"primary",size:"md",icon:d.jsx("span",{children:""}),pulse:I.isVisible,children:"Coach"}),I.canRequestHint&&!y&&d.jsx(Kc,{onClick:()=>I.getHint(e.fen,u,"tactical"),variant:"ghost",size:"md",icon:d.jsx("span",{children:""}),children:"Hint"})]})})]}),d.jsxs("div",{className:"flex flex-col gap-6 lg:w-1/2",children:[(N||I.isVisible)&&d.jsx(ni,{direction:"left",children:d.jsx(SR,{position:e.fen,playerLevel:e.rating/100,isVisible:N||I.isVisible,onClose:()=>{_(!1),I.hideCoach()},mode:"puzzle",context:{attemptCount:u,puzzleType:"tactical",isCorrectMove:x.type==="success"}})}),d.jsx(ni,{direction:"right",delay:100,children:d.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:e.title}),d.jsx("p",{className:"text-gray-600 mb-4",children:e.description}),d.jsxs(Pi,{gap:"sm",wrap:!0,children:[d.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:["Rating: ",e.rating]}),e.tags.map(fe=>d.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm hover-lift",children:fe},fe))]})]})}),x.type&&d.jsx(ni,{direction:"right",delay:150,children:d.jsx("div",{className:`p-4 rounded-lg border-l-4 shadow-sm ${x.type==="success"?"bg-green-50 text-green-800 border-green-400":x.type==="error"?"bg-red-50 text-red-800 border-red-400":"bg-yellow-50 text-yellow-800 border-yellow-400"}`,children:d.jsxs("p",{className:"font-medium flex items-center gap-2",children:[x.type==="success"&&d.jsx("span",{children:""}),x.type==="error"&&d.jsx("span",{children:""}),x.type==="hint"&&d.jsx("span",{children:""}),x.message]})})}),d.jsx(ni,{direction:"right",delay:200,children:d.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-6 rounded-xl border border-blue-100",children:[d.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[d.jsx("span",{children:""})," Progress"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx(NR,{progress:o/e.solution.length*100,color:"blue",label:`Moves completed: ${o} / ${e.solution.length}`,animate:!0}),d.jsxs(Pi,{justify:"between",className:"text-sm text-gray-600",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("span",{children:""}),d.jsxs("span",{children:["Attempts: ",u]})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("span",{children:""}),d.jsxs("span",{children:["Time: ",Math.floor((Date.now()-m)/1e3),"s"]})]})]})]})]})}),T&&d.jsx(ni,{direction:"right",delay:250,children:d.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-xl border border-blue-200 shadow-sm",children:[d.jsxs("h3",{className:"font-semibold text-blue-900 mb-4 flex items-center gap-2",children:[d.jsx("span",{children:""})," Solution"]}),d.jsx("div",{className:"space-y-2 text-sm text-blue-800",children:e.solution.map((fe,be)=>d.jsxs("div",{className:"flex justify-between py-2 px-3 bg-white bg-opacity-50 rounded-lg hover-lift",children:[d.jsxs("span",{className:"font-medium",children:["Move ",be+1,":"]}),d.jsx("span",{className:"font-mono text-blue-900 font-bold",children:fe})]},be))})]})}),y&&d.jsx(ni,{direction:"scale",delay:300,children:d.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-100 p-6 rounded-xl border border-green-200 shadow-lg",children:[d.jsx(_1,{trigger:!0,children:d.jsxs("h3",{className:"font-bold text-green-900 mb-4 text-xl flex items-center gap-2",children:[d.jsx("span",{children:""})," Puzzle Solved!"]})}),d.jsxs(Pi,{direction:"col",gap:"sm",className:"text-sm text-green-800",children:[d.jsxs(Pi,{justify:"between",className:"p-3 bg-white bg-opacity-50 rounded-lg",children:[d.jsx("span",{children:" Attempts:"}),d.jsx("span",{className:"font-bold",children:u+1})]}),d.jsxs(Pi,{justify:"between",className:"p-3 bg-white bg-opacity-50 rounded-lg",children:[d.jsx("span",{children:" Time:"}),d.jsxs("span",{className:"font-bold",children:[Math.floor((Date.now()-m)/1e3),"s"]})]}),d.jsxs("div",{className:"p-3 bg-gradient-to-r from-yellow-100 to-yellow-200 rounded-lg text-center",children:[d.jsxs("div",{className:"text-2xl font-bold text-green-900 mb-2",children:["+",E," XP"]}),d.jsxs(Pi,{gap:"sm",justify:"center",wrap:!0,children:[u===0&&d.jsx("span",{className:"text-xs bg-yellow-200 text-yellow-800 px-3 py-1 rounded-full font-medium",children:" Perfect!"}),Date.now()-m<3e4&&d.jsx("span",{className:"text-xs bg-blue-200 text-blue-800 px-3 py-1 rounded-full font-medium",children:" Speed Bonus!"})]})]})]})]})})]})]})]})},ma=[{id:"1",title:"Mate in 2",description:"White to move and checkmate in 2 moves. This is a classic back-rank mate pattern.",fen:"6k1/5ppp/8/8/8/8/5PPP/R3R1K1 w - - 0 1",solution:["a1a8","e1e8"],rating:1200,tags:["checkmate","back-rank","beginner"]},{id:"2",title:"Fork the King and Queen",description:"White to move and win material by forking the black king and queen.",fen:"r1bqkb1r/pppp1ppp/2n2n2/4p3/2B1P3/3P1N2/PPP2PPP/RNBQK2R w KQkq - 0 4",solution:["f3g5"],rating:800,tags:["tactics","fork","beginner"]},{id:"3",title:"Pin and Win",description:"Use a pin to win material. Black cannot move the knight without losing the queen.",fen:"r1bqkb1r/ppp2ppp/2n2n2/3pp3/2B1P3/3P1N2/PPP2PPP/RNBQ1RK1 w kq - 0 6",solution:["c1g5"],rating:1e3,tags:["tactics","pin","beginner"]}],MR=()=>{const[e,t]=b.useState(0),[s,a]=b.useState(new Set),o=ma[e],c=(m,g,y)=>{a(v=>new Set(v).add(m)),console.log(`Puzzle ${m} solved in ${g} attempts and ${y}ms`),setTimeout(()=>{e<ma.length-1&&t(e+1)},2e3)},u=m=>{console.log(`Puzzle ${m} skipped`),e<ma.length-1&&t(e+1)},f=m=>{t(m)};return d.jsx("div",{className:"py-8",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Chess Puzzles"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Sharpen your tactical skills with these chess puzzles. Look for checkmates, forks, pins, and other tactical motifs!"}),d.jsxs("div",{className:"flex gap-2 mb-6",children:[d.jsx("span",{className:"text-sm font-medium text-gray-700 self-center mr-2",children:"Puzzles:"}),ma.map((m,g)=>d.jsx("button",{onClick:()=>f(g),className:`w-10 h-10 rounded-full text-sm font-medium transition-colors ${g===e?"bg-blue-600 text-white":s.has(m.id)?"bg-green-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:g+1},m.id))]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8",children:[d.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e+1}),d.jsx("div",{className:"text-sm text-gray-600",children:"Current Puzzle"})]}),d.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[d.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.size}),d.jsx("div",{className:"text-sm text-gray-600",children:"Solved"})]}),d.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[d.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round(s.size/ma.length*100),"%"]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Completion"})]})]})]}),o&&d.jsx(jR,{puzzle:o,onSolved:c,onSkip:u,showHints:!0}),e>=ma.length&&d.jsxs("div",{className:"text-center bg-green-50 border border-green-200 rounded-lg p-8",children:[d.jsx("h2",{className:"text-2xl font-bold text-green-800 mb-2",children:" All Puzzles Complete!"}),d.jsxs("p",{className:"text-green-700 mb-4",children:["Congratulations! You've solved ",s.size," out of ",ma.length," puzzles."]}),d.jsx("button",{onClick:()=>t(0),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Start Over"})]})]})})};class _R{engine=null;isReady=!1;callbacks={};currentPosition="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";constructor(){this.initEngine()}async initEngine(){console.log("StockfishEngine: Starting initialization..."),this.initMockEngine()}async initRealEngine(){try{const t=`
        // Load Stockfish from CDN
        importScripts('https://cdn.jsdelivr.net/npm/stockfish@17/src/stockfish.js');
        
        let stockfish = null;
        
        self.onmessage = function(e) {
          const command = e.data;
          
          if (command === 'init') {
            if (typeof Stockfish === 'function') {
              stockfish = Stockfish();
              stockfish.onmessage = function(message) {
                self.postMessage(message);
              };
              self.postMessage('stockfish_ready');
            } else {
              self.postMessage('stockfish_error: Stockfish not loaded');
            }
          } else if (stockfish) {
            stockfish.postMessage(command);
          }
        };
      `,s=new Blob([t],{type:"application/javascript"}),a=URL.createObjectURL(s);this.engine=new Worker(a),console.log("Real Stockfish web worker created"),this.engine.onmessage=o=>{const c=o.data;if(console.log("Stockfish:",c),c==="stockfish_ready")this.engine.postMessage("uci");else if(c.includes("uciok"))this.emit("uciok");else if(c.includes("readyok"))this.isReady=!0,this.emit("ready");else if(c.startsWith("bestmove"))this.emit("bestmove",c);else if(c.startsWith("info"))this.emit("info",c);else if(c.startsWith("stockfish_error"))throw console.error("Stockfish error:",c),new Error(c)},this.engine.onerror=o=>{throw console.error("Stockfish worker error:",o),o},this.engine.postMessage("init")}catch(t){throw console.error("Failed to initialize real Stockfish:",t),t}}initMockEngine(){console.log("StockfishEngine: Initializing mock engine..."),this.isReady=!0,setTimeout(()=>{console.log("StockfishEngine: Emitting ready event"),this.emit("ready")},10),setTimeout(()=>{console.log("StockfishEngine: Emitting backup ready event"),this.emit("ready")},100),this.engine={postMessage:t=>{t.includes("position fen")&&(this.currentPosition=t.split("position fen ")[1]),setTimeout(()=>{if(t.includes("go")){const s=this.generateValidMove(this.currentPosition);this.handleEngineMessage(`bestmove ${s}`)}},Math.random()*1500+300)},terminate:()=>{console.log("Mock engine terminated")}}}generateValidMove(t){try{const s=new fr(t||this.currentPosition),a=s.moves({verbose:!0});if(a.length===0)return"a1a1";const o=a.filter(g=>g.captured),c=a.filter(g=>g.flags.includes("c")),u=a.filter(g=>(g.piece==="n"||g.piece==="b")&&(g.from.includes("1")||g.from.includes("8")));let f=a;o.length>0&&Math.random()<.3?f=o:c.length>0&&Math.random()<.2?f=c:u.length>0&&s.history().length<10&&Math.random()<.25&&(f=u);const m=f[Math.floor(Math.random()*f.length)];return`${m.from}${m.to}${m.promotion||""}`}catch(s){console.error("Error generating move:",s);const a=["e2e4","d2d4","g1f3","b1c3","f1c4"];return a[Math.floor(Math.random()*a.length)]}}handleEngineMessage(t){if(console.log("Stockfish:",t),t.includes("uciok"))this.send("isready");else if(t.includes("readyok"))this.isReady=!0,this.emit("ready");else if(t.includes("bestmove")){const s=t.match(/bestmove (\w+)/);s&&this.emit("bestmove",s[1])}else t.includes("info")&&t.includes("score")&&this.emit("evaluation",t)}send(t){this.engine?this.engine.postMessage(t):this.handleMockCommand(t)}handleMockCommand(t){t==="isready"?setTimeout(()=>this.handleEngineMessage("readyok"),100):t.startsWith("position")&&setTimeout(()=>{const s=["e2e4","e7e5","g1f3","b8c6","d2d4","f7f6"],a=s[Math.floor(Math.random()*s.length)];this.handleEngineMessage(`bestmove ${a}`)},1e3)}emit(t,s){(this.callbacks[t]||[]).forEach(o=>o(s||""))}on(t,s){this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(s)}off(t,s){this.callbacks[t]&&(this.callbacks[t]=this.callbacks[t].filter(a=>a!==s))}async getBestMove(t,s=10){return new Promise((a,o)=>{if(!this.isReady){o(new Error("Engine not ready"));return}const c=setTimeout(()=>{o(new Error("Engine timeout"))},1e4),u=f=>{clearTimeout(c),this.off("bestmove",u),a(f)};this.on("bestmove",u),this.send(`position fen ${t}`),this.send(`go depth ${s}`)})}async getEvaluation(t,s=15){return new Promise((a,o)=>{if(!this.isReady){o(new Error("Engine not ready"));return}const c=setTimeout(()=>{a({score:0})},5e3);let u={score:0};const f=g=>{const y=g.match(/score cp (-?\d+)/),v=g.match(/score mate (-?\d+)/);v?u={score:0,mate:parseInt(v[1])}:y&&(u={score:parseInt(y[1])})},m=g=>{clearTimeout(c),this.off("evaluation",f),this.off("bestmove",m),a({...u,bestMove:g})};this.on("evaluation",f),this.on("bestmove",m),this.send(`position fen ${t}`),this.send(`go depth ${s}`)})}get ready(){return this.isReady}setDifficulty(t){const s={easy:5,medium:10,hard:15,expert:20},a={easy:5,medium:10,hard:15,expert:20};return this.send(`setoption name Skill Level value ${a[t]}`),s[t]}quit(){this.engine&&(this.send("quit"),this.engine.terminate?.(),this.engine=null),this.isReady=!1}}const R1=new _R,pa=[{id:1,name:"First Steps",botName:"Bobby Beginner",botPersonality:"friendly",difficulty:"beginner",description:"Learn the basics with a very gentle opponent",thinkingMessages:["Hmm, let me think...","What's a good move?","Maybe this piece?"],skillLevel:1,icon:d.jsx(os,{className:"h-4 w-4"}),color:"bg-green-100 text-green-800"},{id:2,name:"Baby Steps",botName:"Anna Amateur",botPersonality:"encouraging",difficulty:"beginner",description:"Simple tactics and basic piece development",thinkingMessages:["Looking for simple moves...","Hmm, development first!","Let's see..."],skillLevel:2,icon:d.jsx(Wd,{className:"h-4 w-4"}),color:"bg-green-100 text-green-800"},{id:3,name:"Learning Mode",botName:"Carl Casual",botPersonality:"patient",difficulty:"beginner",description:"Focus on piece safety and simple combinations",thinkingMessages:["Checking piece safety...","Any tactics here?","Simple is good..."],skillLevel:3,icon:d.jsx(Uv,{className:"h-4 w-4"}),color:"bg-green-100 text-green-800"},{id:4,name:"Rookie Challenge",botName:"Rita Rookie",botPersonality:"helpful",difficulty:"beginner",description:"Basic tactics and endgame patterns",thinkingMessages:["Looking for tactics...","Can I win material?","Endgame principles..."],skillLevel:4,icon:d.jsx(lx,{className:"h-4 w-4"}),color:"bg-green-100 text-green-800"},{id:5,name:"Novice Level",botName:"Nick Novice",botPersonality:"steady",difficulty:"beginner",description:"Improved tactical awareness",thinkingMessages:["Analyzing position...","What about this move?","Tactical opportunities..."],skillLevel:5,icon:d.jsx(eh,{className:"h-4 w-4"}),color:"bg-green-100 text-green-800"},{id:6,name:"Student Stage",botName:"Sally Student",botPersonality:"studious",difficulty:"beginner",description:"Better position understanding",thinkingMessages:["Studying the position...","Piece coordination...","Strategic planning..."],skillLevel:6,icon:d.jsx(ya,{className:"h-4 w-4"}),color:"bg-green-100 text-green-800"},{id:7,name:"Rising Player",botName:"Ryan Rising",botPersonality:"ambitious",difficulty:"beginner",description:"More complex tactical patterns",thinkingMessages:["Complex tactics ahead...","Multiple threats!","Strategic depth..."],skillLevel:7,icon:d.jsx(Jd,{className:"h-4 w-4"}),color:"bg-green-100 text-green-800"},{id:8,name:"Promising Talent",botName:"Tina Talent",botPersonality:"confident",difficulty:"beginner",description:"Good tactical and positional play",thinkingMessages:["Calculating variations...","Positional considerations...","Time to strike!"],skillLevel:8,icon:d.jsx(Vi,{className:"h-4 w-4"}),color:"bg-green-100 text-green-800"},{id:9,name:"Club Player",botName:"Charlie Club",botPersonality:"competitive",difficulty:"intermediate",description:"Solid club-level play with good tactics",thinkingMessages:["Deep calculation...","Strategic planning...","Tactical combinations..."],skillLevel:9,icon:d.jsx(os,{className:"h-4 w-4"}),color:"bg-yellow-100 text-yellow-800"},{id:10,name:"Tournament Ready",botName:"Terry Tournament",botPersonality:"focused",difficulty:"intermediate",description:"Tournament-level tactical awareness",thinkingMessages:["Tournament mindset...","Calculating deeply...","No blunders allowed..."],skillLevel:10,timeLimit:30,icon:d.jsx(Wd,{className:"h-4 w-4"}),color:"bg-yellow-100 text-yellow-800"},{id:11,name:"Tactical Fighter",botName:"Felix Fighter",botPersonality:"aggressive",difficulty:"intermediate",description:"Sharp tactical battles and combinations",thinkingMessages:["Looking for attacks...","Tactical storm brewing...","Time to fight!"],skillLevel:11,timeLimit:25,icon:d.jsx(Jd,{className:"h-4 w-4"}),color:"bg-yellow-100 text-yellow-800"},{id:12,name:"Positional Player",botName:"Pete Positional",botPersonality:"strategic",difficulty:"intermediate",description:"Strong positional understanding",thinkingMessages:["Positional evaluation...","Long-term planning...","Structural advantages..."],skillLevel:12,timeLimit:20,icon:d.jsx(ya,{className:"h-4 w-4"}),color:"bg-yellow-100 text-yellow-800"},{id:13,name:"Balanced Expert",botName:"Bella Balanced",botPersonality:"versatile",difficulty:"intermediate",description:"Well-rounded tactical and positional play",thinkingMessages:["Balanced approach...","All factors considered...","Optimal choice..."],skillLevel:13,timeLimit:18,icon:d.jsx(Uv,{className:"h-4 w-4"}),color:"bg-yellow-100 text-yellow-800"},{id:14,name:"Rising Expert",botName:"Rex Rising",botPersonality:"determined",difficulty:"intermediate",description:"Strong player with few weaknesses",thinkingMessages:["Expert analysis...","No weaknesses here...","Precise calculation..."],skillLevel:14,timeLimit:15,icon:d.jsx(eh,{className:"h-4 w-4"}),color:"bg-yellow-100 text-yellow-800"},{id:15,name:"Near Master",botName:"Nora Near-Master",botPersonality:"serious",difficulty:"intermediate",description:"Very strong play approaching master level",thinkingMessages:["Master-level thinking...","Deep understanding...","Excellent technique..."],skillLevel:15,timeLimit:12,icon:d.jsx(os,{className:"h-4 w-4"}),color:"bg-yellow-100 text-yellow-800"},{id:16,name:"Candidate Master",botName:"Max Candidate",botPersonality:"ambitious",difficulty:"intermediate",description:"Candidate Master strength with excellent tactics",thinkingMessages:["Candidate Master level...","Complex calculations...","Mastery emerging..."],skillLevel:16,timeLimit:10,icon:d.jsx(Vi,{className:"h-4 w-4"}),color:"bg-yellow-100 text-yellow-800"},{id:17,name:"Master Level",botName:"Magnus Master",botPersonality:"masterful",difficulty:"advanced",description:"True master strength with deep understanding",thinkingMessages:["Master-level analysis...","Profound understanding...","Chess artistry..."],skillLevel:17,timeLimit:8,icon:d.jsx(os,{className:"h-4 w-4"}),color:"bg-red-100 text-red-800"},{id:18,name:"International Master",botName:"Igor International",botPersonality:"worldly",difficulty:"advanced",description:"International Master level play",thinkingMessages:["International standard...","World-class thinking...","IM-level precision..."],skillLevel:18,timeLimit:6,icon:d.jsx(Wd,{className:"h-4 w-4"}),color:"bg-red-100 text-red-800"},{id:19,name:"Grandmaster Track",botName:"Gary Grandmaster",botPersonality:"legendary",difficulty:"advanced",description:"Approaching Grandmaster strength",thinkingMessages:["GM-level calculation...","Legendary precision...","Championship thinking..."],skillLevel:19,timeLimit:5,icon:d.jsx(ya,{className:"h-4 w-4"}),color:"bg-red-100 text-red-800"},{id:20,name:"Super Grandmaster",botName:"Sophia Super-GM",botPersonality:"elite",difficulty:"advanced",description:"Super Grandmaster level - elite play",thinkingMessages:["Elite-level thinking...","Superhuman calculation...","Chess perfection..."],skillLevel:20,timeLimit:4,icon:d.jsx(Jd,{className:"h-4 w-4"}),color:"bg-red-100 text-red-800"},{id:21,name:"World Championship",botName:"Wesley World Champion",botPersonality:"champion",difficulty:"expert",description:"World Championship level strength",thinkingMessages:["World Champion analysis...","Championship precision...","Ultimate chess..."],skillLevel:20,timeLimit:3,icon:d.jsx(os,{className:"h-4 w-4"}),color:"bg-purple-100 text-purple-800"},{id:22,name:"Computer Challenger",botName:"Cypher Computer",botPersonality:"computational",difficulty:"expert",description:"Computer-level calculation and precision",thinkingMessages:["Computing optimal moves...","Analyzing millions of positions...","Mechanical precision..."],skillLevel:20,timeLimit:2,icon:d.jsx(ya,{className:"h-4 w-4"}),color:"bg-purple-100 text-purple-800"},{id:23,name:"Chess Engine",botName:"Alpha Engine",botPersonality:"mechanical",difficulty:"expert",description:"Chess engine strength - nearly perfect play",thinkingMessages:["Engine analysis...","Perfect calculation...","Optimal play engaged..."],skillLevel:20,timeLimit:1,icon:d.jsx(eh,{className:"h-4 w-4"}),color:"bg-purple-100 text-purple-800"},{id:24,name:"Stockfish Mode",botName:"Stockfish Supreme",botPersonality:"supreme",difficulty:"master",description:"Top engine level - extremely challenging",thinkingMessages:["Supreme analysis...","Stockfish precision...","Chess mastery..."],skillLevel:20,timeLimit:.5,icon:d.jsx(Vi,{className:"h-4 w-4"}),color:"bg-black text-white"},{id:25,name:"Chess God",botName:"Divinity Chess God",botPersonality:"divine",difficulty:"master",description:"The ultimate chess challenge - near perfect play",thinkingMessages:["Divine calculation...","Perfect chess...","Ultimate mastery..."],skillLevel:20,timeLimit:0,icon:d.jsx(os,{className:"h-4 w-4"}),color:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white"}],RR=({level:e,isActive:t=!1,onClick:s})=>d.jsxs("div",{onClick:s,className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${t?"border-blue-500 bg-blue-50 shadow-lg transform scale-105":"border-gray-200 hover:border-gray-300 hover:shadow-md"}`,children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsxs(ka,{className:e.color,children:[e.icon,d.jsxs("span",{className:"ml-1",children:["Level ",e.id]})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-bold text-gray-900",children:e.name}),d.jsx("p",{className:"text-sm text-gray-600",children:e.botName})]})]}),d.jsx("p",{className:"text-sm text-gray-700 mb-2",children:e.description}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[d.jsxs("span",{children:["Difficulty: ",e.difficulty]}),e.timeLimit&&d.jsxs("span",{children:[" Time: ",e.timeLimit,"s per move"]})]})]}),D1={1:25,2:28,3:30,4:32,5:35,6:38,7:40,8:42,9:45,10:48,11:50,12:52,13:55,14:58,15:60,16:62,17:65,18:68,19:70,20:72,21:75,22:78,23:80,24:82,25:85},DR=({initialLevel:e=1})=>{const[t,s]=b.useState(new fr),[a,o]=b.useState(t.fen()),[c,u]=b.useState("white"),[f,m]=b.useState(e),[g,y]=b.useState(!1),[v,x]=b.useState(!0),[S,T]=b.useState(!1),[k,E]=b.useState(!1),[A,N]=b.useState(""),[_,H]=b.useState(null),[D,F]=b.useState(!1),[I,O]=b.useState(!1),[ee,ae]=b.useState(!1),[ue,fe]=b.useState(!1),[be,ve]=b.useState(0),[he,B]=b.useState(0),[V,X]=b.useState(Date.now()),[ie,M]=b.useState(pa[0]),[Y,se]=b.useState(null),[te,oe]=b.useState(Date.now()),[de,re]=b.useState(()=>{const le=localStorage.getItem("chessPlayerStats");return le?JSON.parse(le):{gamesPlayed:0,wins:0,losses:0,draws:0,totalMoves:0,bestLevel:1,points:0}}),[ke,Re]=b.useState(()=>[...pa.slice(0,10).map(Se=>({name:Se.botName,points:Math.floor(Math.random()*500)+Se.id*50,level:Se.id,gamesPlayed:Math.floor(Math.random()*100)+50})),{name:"You",points:de.points,level:de.bestLevel,gamesPlayed:de.gamesPlayed}].sort((Se,at)=>at.points-Se.points)),{completeGame:vt}=Rp();b.useEffect(()=>{f>=1&&f<=pa.length&&M(pa[f-1])},[f]),b.useEffect(()=>{f>=1&&f<=pa.length&&M(pa[f-1])},[]),b.useEffect(()=>{let le;return g&&_===null&&(le=window.setInterval(()=>{oe(Date.now())},1e3)),()=>{le&&clearInterval(le)}},[g,_]);const Qe=le=>{console.log("Starting new game with color:",le),u(le),T(!1),x(!1),it(le)},it=le=>{console.log("Starting new game:",le,"vs",ie.botName);const Se=new fr;s(Se),o(Se.fen()),u(le),y(!0),H(null),ve(0),B(0),X(Date.now()),R1.setDifficulty(ie.difficulty==="beginner"?"easy":ie.difficulty==="intermediate"?"medium":ie.difficulty==="advanced"?"hard":"expert"),ln.playGameStateSound("start"),le==="black"&&(console.log("Player is black, computer will move first"),setTimeout(()=>ce(Se),500))},ce=async le=>{E(!0);const Se=ie.thinkingMessages,at=Se[Math.floor(Math.random()*Se.length)];N(`${ie.botName}: ${at}`);try{const Ve=ie.timeLimit?ie.timeLimit*1e3:Math.random()*2e3+1e3;await new Promise(kt=>setTimeout(kt,Math.max(Ve,500)));const Dt=await R1.getBestMove(le.fen(),ie.skillLevel);if(console.log("Computer received move from engine:",Dt),Dt&&Dt!=="a1a1")try{const kt=le.move(Dt);kt?(console.log("Computer move successful:",kt.san),s(new fr(le.fen())),o(le.fen()),ve(ct=>ct+1),ln.playMoveSound(!!kt.captured),De(le)):console.error("Computer move failed - invalid move:",Dt)}catch(kt){console.error("Computer move error:",kt,"Move:",Dt)}else console.warn("No valid computer move generated")}catch(Ve){console.error("Computer move error:",Ve)}finally{E(!1),N("")}},Ae=le=>{console.log("Player move attempt:",le,"from position:",a);const Se=new fr(a),at=Se.move(le);if(at){if(console.log("Player move successful:",at.san,"new position:",Se.fen()),s(Se),o(Se.fen()),ve(Ve=>Ve+1),B(Ve=>Ve+1),De(Se))return;setTimeout(()=>{console.log("Triggering computer move..."),ce(Se)},300)}else console.error("Player move failed - invalid move:",le)},De=le=>{if(le.isGameOver()){const Se=Date.now()-V;let at;return le.isCheckmate()?(le.turn()==="w"?"black":"white")===c?(at="win",H("win"),F(!0),O(!0),ln.playGameStateSound("win")):(at="lose",H("lose"),ln.playGameStateSound("lose")):(at="draw",H("draw"),ln.playUISound("notification")),Xe(at,he,Se),!0}return!1},Xe=(le,Se,at)=>{const Ve=D1[f]||50,Dt=Se/Ve;let kt,ct=0,Ge=[];le==="win"?(ct=f*10,Dt<=1.2?(kt="excellent",ct+=20,Ge=["Outstanding efficiency!","You played like a pro!","Try the next level!"]):Dt<=1.5?(kt="good",ct+=10,Ge=["Good game!","Work on tactical patterns","Consider endgame studies"]):(kt="average",Ge=["Victory achieved!","Focus on piece activity","Study opening principles"])):le==="draw"?(ct=f*3,kt="average",Ge=["Draw achieved!","Look for winning chances","Practice tactics daily"]):(ct=f,kt="needs_improvement",Ge=["Keep practicing!","Review basic tactics","Study endgame fundamentals"]),se({result:le,playerMoves:Se,proMoves:Ve,timeTaken:at,level:f,performance:kt,tips:Ge,pointsEarned:ct}),gt(le,Se,ct),setTimeout(()=>ae(!0),1e3)},gt=(le,Se,at)=>{const Ve={...de};Ve.gamesPlayed+=1,Ve.totalMoves+=Se,Ve.points+=at,le==="win"?(Ve.wins+=1,f>Ve.bestLevel&&(Ve.bestLevel=f)):le==="lose"?Ve.losses+=1:Ve.draws+=1,re(Ve),localStorage.setItem("chessPlayerStats",JSON.stringify(Ve)),Re(Dt=>Dt.map(ct=>ct.name==="You"?{...ct,points:Ve.points,level:Ve.bestLevel,gamesPlayed:Ve.gamesPlayed}:ct).sort((ct,Ge)=>Ge.points-ct.points))},Je=()=>{y(!1),x(!0),T(!1),H(null),F(!1),O(!1),ae(!1),B(0),se(null)},bt=()=>{window.confirm("Are you sure you want to quit this game?")&&Je()},Wt=()=>{window.confirm("Are you sure you want to forfeit this game?")&&(H("lose"),Xe("lose",he,Date.now()-V),ln.playGameStateSound("lose"))};return g&&!v&&!S&&console.log("Game screen rendered - Game state:",{gameStarted:g,gamePosition:a.substring(0,20)+"...",playerColor:c,isComputerThinking:k,disabled:k||_!==null}),ue?d.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:d.jsxs(rn,{children:[d.jsx(Yn,{children:d.jsxs(Fn,{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Vi,{className:"h-6 w-6"}),"Leaderboard"]}),d.jsx(He,{onClick:()=>fe(!1),variant:"outline",children:d.jsx(Hh,{className:"h-4 w-4"})})]})}),d.jsxs(xn,{children:[d.jsx("div",{className:"space-y-3",children:ke.map((le,Se)=>d.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${le.name==="You"?"bg-blue-50 border-2 border-blue-200":"bg-gray-50 border border-gray-200"}`,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${Se===0?"bg-yellow-400 text-yellow-900":Se===1?"bg-gray-400 text-gray-900":Se===2?"bg-orange-400 text-orange-900":"bg-gray-200 text-gray-700"}`,children:Se+1}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold",children:le.name}),d.jsxs("p",{className:"text-sm text-gray-600",children:["Level ",le.level,"  ",le.gamesPlayed," games"]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"font-bold text-lg",children:le.points}),d.jsx("p",{className:"text-sm text-gray-600",children:"points"})]})]},le.name))}),d.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[d.jsx("h3",{className:"font-semibold mb-2",children:"Your Statistics"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{children:["Games: ",de.gamesPlayed]}),d.jsxs("div",{children:["Wins: ",de.wins]}),d.jsxs("div",{children:["Best Level: ",de.bestLevel]}),d.jsxs("div",{children:["Win Rate: ",de.gamesPlayed>0?Math.round(de.wins/de.gamesPlayed*100):0,"%"]})]})]})]})]})}):ee&&Y?d.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:d.jsxs(rn,{className:Y.result==="win"?"border-green-500 bg-green-50":Y.result==="lose"?"border-red-500 bg-red-50":"border-yellow-500 bg-yellow-50",children:[d.jsx(Yn,{children:d.jsx(Fn,{className:"text-center",children:Y.result==="win"?" Victory!":Y.result==="lose"?" Defeat":" Draw"})}),d.jsxs(xn,{children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsxs("div",{className:"text-4xl mb-2",children:["+",Y.pointsEarned," points"]}),d.jsx(ka,{className:`text-lg px-4 py-2 ${Y.performance==="excellent"?"bg-green-100 text-green-800":Y.performance==="good"?"bg-blue-100 text-blue-800":Y.performance==="average"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:Y.performance.replace("_"," ").toUpperCase()})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[d.jsxs(rn,{className:"p-4",children:[d.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[d.jsx(tT,{className:"h-4 w-4"})," Performance Comparison"]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Your moves:"}),d.jsx("span",{className:"font-bold",children:Y.playerMoves})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Pro moves:"}),d.jsx("span",{className:"font-bold",children:Y.proMoves})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Efficiency:"}),d.jsxs("span",{className:`font-bold ${Y.playerMoves<=Y.proMoves*1.2?"text-green-600":Y.playerMoves<=Y.proMoves*1.5?"text-yellow-600":"text-red-600"}`,children:[Math.round(Y.proMoves/Y.playerMoves*100),"%"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Time taken:"}),d.jsxs("span",{className:"font-bold",children:[Math.floor(Y.timeTaken/6e4),":",String(Math.floor(Y.timeTaken%6e4/1e3)).padStart(2,"0")]})]})]})]}),d.jsxs(rn,{className:"p-4",children:[d.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[d.jsx(W5,{className:"h-4 w-4"})," Tips & Improvement"]}),d.jsx("ul",{className:"space-y-1 text-sm",children:Y.tips.map((le,Se)=>d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-green-500 mt-0.5",children:""}),le]},Se))})]})]}),d.jsxs("div",{className:"flex justify-center gap-4",children:[d.jsxs(He,{onClick:Je,size:"lg",children:[d.jsx(Vh,{className:"h-4 w-4 mr-2"}),"Play Again"]}),Y.result==="win"&&f<25&&d.jsxs(He,{onClick:()=>{m(le=>le+1),ae(!1),T(!0)},size:"lg",className:"bg-green-600 hover:bg-green-700",children:[d.jsx(x5,{className:"h-4 w-4 mr-2"}),"Next Level"]}),d.jsxs(He,{onClick:()=>fe(!0),variant:"outline",size:"lg",children:[d.jsx(Vi,{className:"h-4 w-4 mr-2"}),"Leaderboard"]})]})]})]})}):v?d.jsx("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:d.jsxs(rn,{className:"mb-6",children:[d.jsx(Yn,{children:d.jsxs(Fn,{className:"flex items-center gap-2",children:[d.jsx(os,{className:"h-6 w-6"}),"Choose Your Challenge Level"]})}),d.jsxs(xn,{children:[d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-96 overflow-y-auto",children:pa.slice(0,25).map(le=>d.jsx(RR,{level:le,isActive:f===le.id,onClick:()=>{m(le.id),M(le)}},le.id))}),d.jsxs("div",{className:"mt-6 flex justify-center gap-4",children:[d.jsxs(He,{onClick:()=>{T(!0),x(!1)},disabled:!f||!ie,size:"lg",className:`flex items-center gap-2 bg-green-600 hover:bg-green-700 ${!f||!ie?"opacity-50 cursor-not-allowed":""}`,children:[d.jsx(G5,{className:"h-5 w-5"}),"PLAY vs ",ie?.botName||"Computer"]}),d.jsxs(He,{onClick:()=>fe(!0),variant:"outline",size:"lg",className:"flex items-center gap-2",children:[d.jsx(Vi,{className:"h-4 w-4"}),"Leaderboard"]})]})]})]})}):S?d.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:d.jsxs(rn,{children:[d.jsx(Yn,{children:d.jsx(Fn,{className:"text-center",children:"Choose Your Color"})}),d.jsxs(xn,{children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsxs("h3",{className:"text-xl font-semibold mb-2",children:["Playing against: ",ie?.botName||"Computer"]}),d.jsx("p",{className:"text-gray-600",children:ie?.description||"Select a difficulty level to play"})]}),d.jsxs("div",{className:"flex justify-center gap-8",children:[d.jsxs(He,{onClick:()=>Qe("white"),size:"lg",variant:"outline",className:"flex flex-col items-center gap-2 h-24 w-32",children:[d.jsx("div",{className:"text-4xl",children:""}),d.jsx("span",{children:"White"}),d.jsx("span",{className:"text-xs text-gray-500",children:"You move first"})]}),d.jsxs(He,{onClick:()=>Qe("black"),size:"lg",variant:"outline",className:"flex flex-col items-center gap-2 h-24 w-32",children:[d.jsx("div",{className:"text-4xl",children:""}),d.jsx("span",{children:"Black"}),d.jsx("span",{className:"text-xs text-gray-500",children:"Computer starts"})]})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsx(He,{onClick:()=>{T(!1),x(!0)},variant:"ghost",children:"Back to Level Selection"})})]})]})}):d.jsxs("div",{className:"container mx-auto px-4 py-4 md:py-8 max-w-7xl",children:[d.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs(ka,{className:ie.color,children:[ie.icon,d.jsxs("span",{className:"ml-1",children:["Level ",ie.id]})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold",children:ie.name}),d.jsxs("p",{className:"text-sm text-gray-600",children:["vs ",ie.botName]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(He,{onClick:bt,variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",children:[d.jsx(Hh,{className:"h-4 w-4 mr-1"}),"Quit"]}),d.jsxs(He,{onClick:Wt,variant:"outline",size:"sm",className:"text-orange-600 hover:text-orange-700",children:[d.jsx(z5,{className:"h-4 w-4 mr-1"}),"Forfeit"]}),d.jsxs(He,{onClick:Je,variant:"outline",size:"sm",children:[d.jsx(Vh,{className:"h-4 w-4 mr-1"}),"New Game"]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-6",children:[d.jsx("div",{className:"xl:col-span-3 flex justify-center",children:d.jsxs("div",{className:"relative w-full max-w-[600px]",children:[d.jsx(Mp,{fen:a,orientation:c,onMove:Ae,disabled:k||_!==null,showPieceTooltips:!0,enableGamification:!0,showHelp:!1}),!1]})}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs(rn,{children:[d.jsx(Yn,{children:d.jsx(Fn,{className:"text-lg",children:"Game Status"})}),d.jsx(xn,{children:d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Your Moves:"}),d.jsx("span",{className:"font-bold",children:he})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Pro Moves:"}),d.jsx("span",{className:"font-bold text-green-600",children:D1[f]||50})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Time:"}),d.jsxs("span",{className:"font-bold",children:[Math.floor((te-V)/6e4),":",String(Math.floor((te-V)%6e4/1e3)).padStart(2,"0")]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Turn:"}),d.jsx("span",{className:"font-bold",children:t.turn()===c[0]?"Your":ie.botName+"'s"})]})]})})]}),d.jsxs(rn,{children:[d.jsx(Yn,{children:d.jsxs(Fn,{className:"text-lg flex items-center gap-2",children:[d.jsx(ya,{className:"h-4 w-4"}),ie.botName]})}),d.jsxs(xn,{children:[d.jsx("p",{className:"text-sm text-gray-600 mb-2",children:ie.description}),d.jsxs("div",{className:"text-xs text-gray-500",children:["Difficulty: ",ie.difficulty,ie.timeLimit&&`  ${ie.timeLimit}s per move`]})]})]}),_&&d.jsx(rn,{className:_==="win"?"border-green-500 bg-green-50":_==="lose"?"border-red-500 bg-red-50":"border-yellow-500 bg-yellow-50",children:d.jsxs(xn,{className:"pt-6 text-center",children:[d.jsx("div",{className:"text-2xl mb-2",children:_==="win"?"":_==="lose"?"":""}),d.jsx("h3",{className:"text-lg font-bold mb-2",children:_==="win"?"Victory!":_==="lose"?"Defeat":"Draw"}),d.jsxs("div",{className:"flex gap-2 justify-center",children:[d.jsx(He,{onClick:Je,size:"sm",children:"New Game"}),d.jsx(He,{onClick:()=>m(Math.min(25,f+1)),size:"sm",children:"Next Level"})]})]})})]})]}),d.jsx(cR,{show:k,message:A}),d.jsx($S,{show:I,onComplete:()=>O(!1)}),d.jsx(GS,{show:D,message:`Victory against ${ie.botName}!`,type:"win",onComplete:()=>F(!1)})]})},LR=()=>d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:d.jsx(DR,{})}),OR=()=>d.jsx("div",{className:"py-8",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[d.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Profile"}),d.jsx("p",{className:"text-gray-600",children:"Profile page will be implemented here!"})]})}),PR=()=>d.jsx("div",{className:"py-8",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[d.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Leaderboard"}),d.jsx("p",{className:"text-gray-600",children:"Leaderboard will be implemented here!"})]})}),zR=()=>d.jsx("div",{className:"py-8",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[d.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Settings"}),d.jsx("p",{className:"text-gray-600",children:"Settings page will be implemented here!"})]})}),BR=()=>d.jsx("div",{className:"container mx-auto p-8 max-w-4xl",children:d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground mb-4",children:"Component Test Page"}),d.jsx("p",{className:"text-muted-foreground",children:"Testing shadcn/ui components to identify UI issues"})]}),d.jsxs(rn,{children:[d.jsxs(Yn,{children:[d.jsx(Fn,{children:"Button Components"}),d.jsx(Go,{children:"Testing different button variants and sizes"})]}),d.jsx(xn,{className:"space-y-4",children:d.jsxs("div",{className:"flex flex-wrap gap-4",children:[d.jsx(He,{children:"Default Button"}),d.jsx(He,{variant:"secondary",children:"Secondary"}),d.jsx(He,{variant:"outline",children:"Outline"}),d.jsx(He,{variant:"ghost",children:"Ghost"}),d.jsx(He,{size:"sm",children:"Small"}),d.jsx(He,{size:"lg",children:"Large"}),d.jsx(He,{size:"icon",children:d.jsx(os,{className:"h-4 w-4"})})]})})]}),d.jsxs(rn,{children:[d.jsxs(Yn,{children:[d.jsx(Fn,{children:"Lucide Icons"}),d.jsx(Go,{children:"Testing icon rendering and sizes"})]}),d.jsxs(xn,{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(os,{className:"h-4 w-4"}),d.jsx("span",{children:"h-4 w-4"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(ya,{className:"h-6 w-6"}),d.jsx("span",{children:"h-6 w-6"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(Om,{className:"h-8 w-8"}),d.jsx("span",{children:"h-8 w-8"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(os,{className:"h-16 w-16"}),d.jsx("span",{children:"h-16 w-16 (should be big but not distorted)"})]})]})]}),d.jsxs(rn,{children:[d.jsxs(Yn,{children:[d.jsx(Fn,{children:"Card Layout"}),d.jsx(Go,{children:"Testing card component styling"})]}),d.jsxs(xn,{children:[d.jsx("p",{children:"This card should have proper spacing, borders, and background."}),d.jsxs("div",{className:"mt-4",children:[d.jsx(ka,{children:"Demo Badge"}),d.jsx(ka,{variant:"secondary",className:"ml-2",children:"Secondary Badge"})]})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(e=>d.jsxs(rn,{children:[d.jsx(Yn,{children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-3 rounded-xl bg-blue-500",children:d.jsx(os,{className:"h-6 w-6 text-white"})}),d.jsxs(Fn,{className:"text-lg",children:["Card ",e]})]})}),d.jsx(xn,{children:d.jsx(He,{className:"w-full",children:"Action Button"})})]},e))})]})}),qR=()=>d.jsx(BR,{}),Os=Object.create(null);Os.open="0";Os.close="1";Os.ping="2";Os.pong="3";Os.message="4";Os.upgrade="5";Os.noop="6";const iu=Object.create(null);Object.keys(Os).forEach(e=>{iu[Os[e]]=e});const bm={type:"error",data:"parser error"},YS=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",FS=typeof ArrayBuffer=="function",QS=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Dp=({type:e,data:t},s,a)=>YS&&t instanceof Blob?s?a(t):L1(t,a):FS&&(t instanceof ArrayBuffer||QS(t))?s?a(t):L1(new Blob([t]),a):a(Os[e]+(t||"")),L1=(e,t)=>{const s=new FileReader;return s.onload=function(){const a=s.result.split(",")[1];t("b"+(a||""))},s.readAsDataURL(e)};function O1(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Rh;function UR(e,t){if(YS&&e.data instanceof Blob)return e.data.arrayBuffer().then(O1).then(t);if(FS&&(e.data instanceof ArrayBuffer||QS(e.data)))return t(O1(e.data));Dp(e,!1,s=>{Rh||(Rh=new TextEncoder),t(Rh.encode(s))})}const P1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$o=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<P1.length;e++)$o[P1.charCodeAt(e)]=e;const VR=e=>{let t=e.length*.75,s=e.length,a,o=0,c,u,f,m;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const g=new ArrayBuffer(t),y=new Uint8Array(g);for(a=0;a<s;a+=4)c=$o[e.charCodeAt(a)],u=$o[e.charCodeAt(a+1)],f=$o[e.charCodeAt(a+2)],m=$o[e.charCodeAt(a+3)],y[o++]=c<<2|u>>4,y[o++]=(u&15)<<4|f>>2,y[o++]=(f&3)<<6|m&63;return g},HR=typeof ArrayBuffer=="function",Lp=(e,t)=>{if(typeof e!="string")return{type:"message",data:XS(e,t)};const s=e.charAt(0);return s==="b"?{type:"message",data:$R(e.substring(1),t)}:iu[s]?e.length>1?{type:iu[s],data:e.substring(1)}:{type:iu[s]}:bm},$R=(e,t)=>{if(HR){const s=VR(e);return XS(s,t)}else return{base64:!0,data:e}},XS=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},IS="",GR=(e,t)=>{const s=e.length,a=new Array(s);let o=0;e.forEach((c,u)=>{Dp(c,!1,f=>{a[u]=f,++o===s&&t(a.join(IS))})})},KR=(e,t)=>{const s=e.split(IS),a=[];for(let o=0;o<s.length;o++){const c=Lp(s[o],t);if(a.push(c),c.type==="error")break}return a};function YR(){return new TransformStream({transform(e,t){UR(e,s=>{const a=s.length;let o;if(a<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,a);else if(a<65536){o=new Uint8Array(3);const c=new DataView(o.buffer);c.setUint8(0,126),c.setUint16(1,a)}else{o=new Uint8Array(9);const c=new DataView(o.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(a))}e.data&&typeof e.data!="string"&&(o[0]|=128),t.enqueue(o),t.enqueue(s)})}})}let Dh;function Yc(e){return e.reduce((t,s)=>t+s.length,0)}function Fc(e,t){if(e[0].length===t)return e.shift();const s=new Uint8Array(t);let a=0;for(let o=0;o<t;o++)s[o]=e[0][a++],a===e[0].length&&(e.shift(),a=0);return e.length&&a<e[0].length&&(e[0]=e[0].slice(a)),s}function FR(e,t){Dh||(Dh=new TextDecoder);const s=[];let a=0,o=-1,c=!1;return new TransformStream({transform(u,f){for(s.push(u);;){if(a===0){if(Yc(s)<1)break;const m=Fc(s,1);c=(m[0]&128)===128,o=m[0]&127,o<126?a=3:o===126?a=1:a=2}else if(a===1){if(Yc(s)<2)break;const m=Fc(s,2);o=new DataView(m.buffer,m.byteOffset,m.length).getUint16(0),a=3}else if(a===2){if(Yc(s)<8)break;const m=Fc(s,8),g=new DataView(m.buffer,m.byteOffset,m.length),y=g.getUint32(0);if(y>Math.pow(2,21)-1){f.enqueue(bm);break}o=y*Math.pow(2,32)+g.getUint32(4),a=3}else{if(Yc(s)<o)break;const m=Fc(s,o);f.enqueue(Lp(c?m:Dh.decode(m),t)),a=0}if(o===0||o>e){f.enqueue(bm);break}}}})}const ZS=4;function Gt(e){if(e)return QR(e)}function QR(e){for(var t in Gt.prototype)e[t]=Gt.prototype[t];return e}Gt.prototype.on=Gt.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Gt.prototype.once=function(e,t){function s(){this.off(e,s),t.apply(this,arguments)}return s.fn=t,this.on(e,s),this};Gt.prototype.off=Gt.prototype.removeListener=Gt.prototype.removeAllListeners=Gt.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+e];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var a,o=0;o<s.length;o++)if(a=s[o],a===t||a.fn===t){s.splice(o,1);break}return s.length===0&&delete this._callbacks["$"+e],this};Gt.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),s=this._callbacks["$"+e],a=1;a<arguments.length;a++)t[a-1]=arguments[a];if(s){s=s.slice(0);for(var a=0,o=s.length;a<o;++a)s[a].apply(this,t)}return this};Gt.prototype.emitReserved=Gt.prototype.emit;Gt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Gt.prototype.hasListeners=function(e){return!!this.listeners(e).length};const zu=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,s)=>s(t,0),ls=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),XR="arraybuffer";function WS(e,...t){return t.reduce((s,a)=>(e.hasOwnProperty(a)&&(s[a]=e[a]),s),{})}const IR=ls.setTimeout,ZR=ls.clearTimeout;function Bu(e,t){t.useNativeTimers?(e.setTimeoutFn=IR.bind(ls),e.clearTimeoutFn=ZR.bind(ls)):(e.setTimeoutFn=ls.setTimeout.bind(ls),e.clearTimeoutFn=ls.clearTimeout.bind(ls))}const WR=1.33;function JR(e){return typeof e=="string"?e6(e):Math.ceil((e.byteLength||e.size)*WR)}function e6(e){let t=0,s=0;for(let a=0,o=e.length;a<o;a++)t=e.charCodeAt(a),t<128?s+=1:t<2048?s+=2:t<55296||t>=57344?s+=3:(a++,s+=4);return s}function JS(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function t6(e){let t="";for(let s in e)e.hasOwnProperty(s)&&(t.length&&(t+="&"),t+=encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t}function n6(e){let t={},s=e.split("&");for(let a=0,o=s.length;a<o;a++){let c=s[a].split("=");t[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return t}class s6 extends Error{constructor(t,s,a){super(t),this.description=s,this.context=a,this.type="TransportError"}}class Op extends Gt{constructor(t){super(),this.writable=!1,Bu(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,s,a){return super.emitReserved("error",new s6(t,s,a)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const s=Lp(t,this.socket.binaryType);this.onPacket(s)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,s={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const s=t6(t);return s.length?"?"+s:""}}class i6 extends Op{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const s=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let a=0;this._polling&&(a++,this.once("pollComplete",function(){--a||s()})),this.writable||(a++,this.once("drain",function(){--a||s()}))}else s()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const s=a=>{if(this.readyState==="opening"&&a.type==="open"&&this.onOpen(),a.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(a)};KR(t,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,GR(t,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=JS()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(t,s)}}let e2=!1;try{e2=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const a6=e2;function r6(){}class o6 extends i6{constructor(t){if(super(t),typeof location<"u"){const s=location.protocol==="https:";let a=location.port;a||(a=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||a!==t.port}}doWrite(t,s){const a=this.request({method:"POST",data:t});a.on("success",s),a.on("error",(o,c)=>{this.onError("xhr post error",o,c)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(s,a)=>{this.onError("xhr poll error",s,a)}),this.pollXhr=t}}class Ls extends Gt{constructor(t,s,a){super(),this.createRequest=t,Bu(this,a),this._opts=a,this._method=a.method||"GET",this._uri=s,this._data=a.data!==void 0?a.data:null,this._create()}_create(){var t;const s=WS(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this._opts.xd;const a=this._xhr=this.createRequest(s);try{a.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&a.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{a.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(a),"withCredentials"in a&&(a.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(a.timeout=this._opts.requestTimeout),a.onreadystatechange=()=>{var o;a.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(a.getResponseHeader("set-cookie"))),a.readyState===4&&(a.status===200||a.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof a.status=="number"?a.status:0)},0))},a.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=Ls.requestsCount++,Ls.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=r6,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Ls.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Ls.requestsCount=0;Ls.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",z1);else if(typeof addEventListener=="function"){const e="onpagehide"in ls?"pagehide":"unload";addEventListener(e,z1,!1)}}function z1(){for(let e in Ls.requests)Ls.requests.hasOwnProperty(e)&&Ls.requests[e].abort()}const l6=(function(){const e=t2({xdomain:!1});return e&&e.responseType!==null})();class c6 extends o6{constructor(t){super(t);const s=t&&t.forceBase64;this.supportsBinary=l6&&!s}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Ls(t2,this.uri(),t)}}function t2(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||a6))return new XMLHttpRequest}catch{}if(!t)try{return new ls[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const n2=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class u6 extends Op{get name(){return"websocket"}doOpen(){const t=this.uri(),s=this.opts.protocols,a=n2?{}:WS(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(a.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,s,a)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const a=t[s],o=s===t.length-1;Dp(a,this.supportsBinary,c=>{try{this.doWrite(a,c)}catch{}o&&zu(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=JS()),this.supportsBinary||(s.b64=1),this.createUri(t,s)}}const Lh=ls.WebSocket||ls.MozWebSocket;class f6 extends u6{createSocket(t,s,a){return n2?new Lh(t,s,a):s?new Lh(t,s):new Lh(t)}doWrite(t,s){this.ws.send(s)}}class d6 extends Op{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const s=FR(Number.MAX_SAFE_INTEGER,this.socket.binaryType),a=t.readable.pipeThrough(s).getReader(),o=YR();o.readable.pipeTo(t.writable),this._writer=o.writable.getWriter();const c=()=>{a.read().then(({done:f,value:m})=>{f||(this.onPacket(m),c())}).catch(f=>{})};c();const u={type:"open"};this.query.sid&&(u.data=`{"sid":"${this.query.sid}"}`),this._writer.write(u).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const a=t[s],o=s===t.length-1;this._writer.write(a).then(()=>{o&&zu(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const h6={websocket:f6,webtransport:d6,polling:c6},m6=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,p6=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function xm(e){if(e.length>8e3)throw"URI too long";const t=e,s=e.indexOf("["),a=e.indexOf("]");s!=-1&&a!=-1&&(e=e.substring(0,s)+e.substring(s,a).replace(/:/g,";")+e.substring(a,e.length));let o=m6.exec(e||""),c={},u=14;for(;u--;)c[p6[u]]=o[u]||"";return s!=-1&&a!=-1&&(c.source=t,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=g6(c,c.path),c.queryKey=y6(c,c.query),c}function g6(e,t){const s=/\/{2,9}/g,a=t.replace(s,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&a.splice(0,1),t.slice(-1)=="/"&&a.splice(a.length-1,1),a}function y6(e,t){const s={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,o,c){o&&(s[o]=c)}),s}const wm=typeof addEventListener=="function"&&typeof removeEventListener=="function",au=[];wm&&addEventListener("offline",()=>{au.forEach(e=>e())},!1);class Hi extends Gt{constructor(t,s){if(super(),this.binaryType=XR,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(s=t,t=null),t){const a=xm(t);s.hostname=a.host,s.secure=a.protocol==="https"||a.protocol==="wss",s.port=a.port,a.query&&(s.query=a.query)}else s.host&&(s.hostname=xm(s.host).host);Bu(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},s.transports.forEach(a=>{const o=a.prototype.name;this.transports.push(o),this._transportsByName[o]=a}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=n6(this.opts.query)),wm&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},au.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const s=Object.assign({},this.opts.query);s.EIO=ZS,s.transport=t,this.id&&(s.sid=this.id);const a=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](a)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Hi.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const s=this.createTransport(t);s.open(),this.setTransport(s)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",s=>this._onClose("transport close",s))}onOpen(){this.readyState="open",Hi.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const s=new Error("server error");s.code=t.data,this._onError(s);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let a=0;a<this.writeBuffer.length;a++){const o=this.writeBuffer[a].data;if(o&&(s+=JR(o)),a>0&&s>this._maxPayload)return this.writeBuffer.slice(0,a);s+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,zu(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,s,a){return this._sendPacket("message",t,s,a),this}send(t,s,a){return this._sendPacket("message",t,s,a),this}_sendPacket(t,s,a,o){if(typeof s=="function"&&(o=s,s=void 0),typeof a=="function"&&(o=a,a=null),this.readyState==="closing"||this.readyState==="closed")return;a=a||{},a.compress=a.compress!==!1;const c={type:t,data:s,options:a};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),o&&this.once("flush",o),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),t()},a=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():t()}):this.upgrading?a():t()),this}_onError(t){if(Hi.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),wm&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const a=au.indexOf(this._offlineEventListener);a!==-1&&au.splice(a,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,s),this.writeBuffer=[],this._prevBufferLen=0}}}Hi.protocol=ZS;class v6 extends Hi{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let s=this.createTransport(t),a=!1;Hi.priorWebsocketSuccess=!1;const o=()=>{a||(s.send([{type:"ping",data:"probe"}]),s.once("packet",v=>{if(!a)if(v.type==="pong"&&v.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;Hi.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{a||this.readyState!=="closed"&&(y(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const x=new Error("probe error");x.transport=s.name,this.emitReserved("upgradeError",x)}}))};function c(){a||(a=!0,y(),s.close(),s=null)}const u=v=>{const x=new Error("probe error: "+v);x.transport=s.name,c(),this.emitReserved("upgradeError",x)};function f(){u("transport closed")}function m(){u("socket closed")}function g(v){s&&v.name!==s.name&&c()}const y=()=>{s.removeListener("open",o),s.removeListener("error",u),s.removeListener("close",f),this.off("close",m),this.off("upgrading",g)};s.once("open",o),s.once("error",u),s.once("close",f),this.once("close",m),this.once("upgrading",g),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{a||s.open()},200):s.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const s=[];for(let a=0;a<t.length;a++)~this.transports.indexOf(t[a])&&s.push(t[a]);return s}}let b6=class extends v6{constructor(t,s={}){const a=typeof t=="object"?t:s;(!a.transports||a.transports&&typeof a.transports[0]=="string")&&(a.transports=(a.transports||["polling","websocket","webtransport"]).map(o=>h6[o]).filter(o=>!!o)),super(t,a)}};function x6(e,t="",s){let a=e;s=s||typeof location<"u"&&location,e==null&&(e=s.protocol+"//"+s.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=s.protocol+e:e=s.host+e),/^(https?|wss?):\/\//.test(e)||(typeof s<"u"?e=s.protocol+"//"+e:e="https://"+e),a=xm(e)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const c=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+c+":"+a.port+t,a.href=a.protocol+"://"+c+(s&&s.port===a.port?"":":"+a.port),a}const w6=typeof ArrayBuffer=="function",S6=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,s2=Object.prototype.toString,C6=typeof Blob=="function"||typeof Blob<"u"&&s2.call(Blob)==="[object BlobConstructor]",k6=typeof File=="function"||typeof File<"u"&&s2.call(File)==="[object FileConstructor]";function Pp(e){return w6&&(e instanceof ArrayBuffer||S6(e))||C6&&e instanceof Blob||k6&&e instanceof File}function ru(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let s=0,a=e.length;s<a;s++)if(ru(e[s]))return!0;return!1}if(Pp(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return ru(e.toJSON(),!0);for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&ru(e[s]))return!0;return!1}function T6(e){const t=[],s=e.data,a=e;return a.data=Sm(s,t),a.attachments=t.length,{packet:a,buffers:t}}function Sm(e,t){if(!e)return e;if(Pp(e)){const s={_placeholder:!0,num:t.length};return t.push(e),s}else if(Array.isArray(e)){const s=new Array(e.length);for(let a=0;a<e.length;a++)s[a]=Sm(e[a],t);return s}else if(typeof e=="object"&&!(e instanceof Date)){const s={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(s[a]=Sm(e[a],t));return s}return e}function A6(e,t){return e.data=Cm(e.data,t),delete e.attachments,e}function Cm(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let s=0;s<e.length;s++)e[s]=Cm(e[s],t);else if(typeof e=="object")for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(e[s]=Cm(e[s],t));return e}const N6=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],E6=5;var $e;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})($e||($e={}));class j6{constructor(t){this.replacer=t}encode(t){return(t.type===$e.EVENT||t.type===$e.ACK)&&ru(t)?this.encodeAsBinary({type:t.type===$e.EVENT?$e.BINARY_EVENT:$e.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let s=""+t.type;return(t.type===$e.BINARY_EVENT||t.type===$e.BINARY_ACK)&&(s+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(s+=t.nsp+","),t.id!=null&&(s+=t.id),t.data!=null&&(s+=JSON.stringify(t.data,this.replacer)),s}encodeAsBinary(t){const s=T6(t),a=this.encodeAsString(s.packet),o=s.buffers;return o.unshift(a),o}}function B1(e){return Object.prototype.toString.call(e)==="[object Object]"}class zp extends Gt{constructor(t){super(),this.reviver=t}add(t){let s;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(t);const a=s.type===$e.BINARY_EVENT;a||s.type===$e.BINARY_ACK?(s.type=a?$e.EVENT:$e.ACK,this.reconstructor=new M6(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(Pp(t)||t.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(t),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let s=0;const a={type:Number(t.charAt(0))};if($e[a.type]===void 0)throw new Error("unknown packet type "+a.type);if(a.type===$e.BINARY_EVENT||a.type===$e.BINARY_ACK){const c=s+1;for(;t.charAt(++s)!=="-"&&s!=t.length;);const u=t.substring(c,s);if(u!=Number(u)||t.charAt(s)!=="-")throw new Error("Illegal attachments");a.attachments=Number(u)}if(t.charAt(s+1)==="/"){const c=s+1;for(;++s&&!(t.charAt(s)===","||s===t.length););a.nsp=t.substring(c,s)}else a.nsp="/";const o=t.charAt(s+1);if(o!==""&&Number(o)==o){const c=s+1;for(;++s;){const u=t.charAt(s);if(u==null||Number(u)!=u){--s;break}if(s===t.length)break}a.id=Number(t.substring(c,s+1))}if(t.charAt(++s)){const c=this.tryParse(t.substr(s));if(zp.isPayloadValid(a.type,c))a.data=c;else throw new Error("invalid payload")}return a}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,s){switch(t){case $e.CONNECT:return B1(s);case $e.DISCONNECT:return s===void 0;case $e.CONNECT_ERROR:return typeof s=="string"||B1(s);case $e.EVENT:case $e.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&N6.indexOf(s[0])===-1);case $e.ACK:case $e.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class M6{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const s=A6(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const _6=Object.freeze(Object.defineProperty({__proto__:null,Decoder:zp,Encoder:j6,get PacketType(){return $e},protocol:E6},Symbol.toStringTag,{value:"Module"}));function ps(e,t,s){return e.on(t,s),function(){e.off(t,s)}}const R6=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class i2 extends Gt{constructor(t,s,a){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=s,a&&a.auth&&(this.auth=a.auth),this._opts=Object.assign({},a),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[ps(t,"open",this.onopen.bind(this)),ps(t,"packet",this.onpacket.bind(this)),ps(t,"error",this.onerror.bind(this)),ps(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...s){var a,o,c;if(R6.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(s.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const u={type:$e.EVENT,data:s};if(u.options={},u.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const y=this.ids++,v=s.pop();this._registerAckCallback(y,v),u.id=y}const f=(o=(a=this.io.engine)===null||a===void 0?void 0:a.transport)===null||o===void 0?void 0:o.writable,m=this.connected&&!(!((c=this.io.engine)===null||c===void 0)&&c._hasPingExpired());return this.flags.volatile&&!f||(m?(this.notifyOutgoingListeners(u),this.packet(u)):this.sendBuffer.push(u)),this.flags={},this}_registerAckCallback(t,s){var a;const o=(a=this.flags.timeout)!==null&&a!==void 0?a:this._opts.ackTimeout;if(o===void 0){this.acks[t]=s;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let f=0;f<this.sendBuffer.length;f++)this.sendBuffer[f].id===t&&this.sendBuffer.splice(f,1);s.call(this,new Error("operation has timed out"))},o),u=(...f)=>{this.io.clearTimeoutFn(c),s.apply(this,f)};u.withError=!0,this.acks[t]=u}emitWithAck(t,...s){return new Promise((a,o)=>{const c=(u,f)=>u?o(u):a(f);c.withError=!0,s.push(c),this.emit(t,...s)})}_addToQueue(t){let s;typeof t[t.length-1]=="function"&&(s=t.pop());const a={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((o,...c)=>a!==this._queue[0]?void 0:(o!==null?a.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(o)):(this._queue.shift(),s&&s(null,...c)),a.pending=!1,this._drainQueue())),this._queue.push(a),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!t||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:$e.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,s),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(a=>String(a.id)===t)){const a=this.acks[t];delete this.acks[t],a.withError&&a.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case $e.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case $e.EVENT:case $e.BINARY_EVENT:this.onevent(t);break;case $e.ACK:case $e.BINARY_ACK:this.onack(t);break;case $e.DISCONNECT:this.ondisconnect();break;case $e.CONNECT_ERROR:this.destroy();const a=new Error(t.data.message);a.data=t.data.data,this.emitReserved("connect_error",a);break}}onevent(t){const s=t.data||[];t.id!=null&&s.push(this.ack(t.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const a of s)a.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const s=this;let a=!1;return function(...o){a||(a=!0,s.packet({type:$e.ACK,id:t,data:o}))}}onack(t){const s=this.acks[t.id];typeof s=="function"&&(delete this.acks[t.id],s.withError&&t.data.unshift(null),s.apply(this,t.data))}onconnect(t,s){this.id=t,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:$e.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const s=this._anyListeners;for(let a=0;a<s.length;a++)if(t===s[a])return s.splice(a,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const s=this._anyOutgoingListeners;for(let a=0;a<s.length;a++)if(t===s[a])return s.splice(a,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const a of s)a.apply(this,t.data)}}}function Dr(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Dr.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),s=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-s:e+s}return Math.min(e,this.max)|0};Dr.prototype.reset=function(){this.attempts=0};Dr.prototype.setMin=function(e){this.ms=e};Dr.prototype.setMax=function(e){this.max=e};Dr.prototype.setJitter=function(e){this.jitter=e};class km extends Gt{constructor(t,s){var a;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(s=t,t=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,Bu(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((a=s.randomizationFactor)!==null&&a!==void 0?a:.5),this.backoff=new Dr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=t;const o=s.parser||_6;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var s;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(s=this.backoff)===null||s===void 0||s.setMin(t),this)}randomizationFactor(t){var s;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(s=this.backoff)===null||s===void 0||s.setJitter(t),this)}reconnectionDelayMax(t){var s;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(s=this.backoff)===null||s===void 0||s.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new b6(this.uri,this.opts);const s=this.engine,a=this;this._readyState="opening",this.skipReconnect=!1;const o=ps(s,"open",function(){a.onopen(),t&&t()}),c=f=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",f),t?t(f):this.maybeReconnectOnOpen()},u=ps(s,"error",c);if(this._timeout!==!1){const f=this._timeout,m=this.setTimeoutFn(()=>{o(),c(new Error("timeout")),s.close()},f);this.opts.autoUnref&&m.unref(),this.subs.push(()=>{this.clearTimeoutFn(m)})}return this.subs.push(o),this.subs.push(u),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(ps(t,"ping",this.onping.bind(this)),ps(t,"data",this.ondata.bind(this)),ps(t,"error",this.onerror.bind(this)),ps(t,"close",this.onclose.bind(this)),ps(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(s){this.onclose("parse error",s)}}ondecoded(t){zu(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,s){let a=this.nsps[t];return a?this._autoConnect&&!a.active&&a.connect():(a=new i2(this,t,s),this.nsps[t]=a),a}_destroy(t){const s=Object.keys(this.nsps);for(const a of s)if(this.nsps[a].active)return;this._close()}_packet(t){const s=this.encoder.encode(t);for(let a=0;a<s.length;a++)this.engine.write(s[a],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,s){var a;this.cleanup(),(a=this.engine)===null||a===void 0||a.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const a=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(o=>{o?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",o)):t.onreconnect()}))},s);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const zo={};function ou(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const s=x6(e,t.path||"/socket.io"),a=s.source,o=s.id,c=s.path,u=zo[o]&&c in zo[o].nsps,f=t.forceNew||t["force new connection"]||t.multiplex===!1||u;let m;return f?m=new km(a,t):(zo[o]||(zo[o]=new km(a,t)),m=zo[o]),s.query&&!t.query&&(t.query=s.queryKey),m.socket(s.path,t)}Object.assign(ou,{Manager:km,Socket:i2,io:ou,connect:ou});class D6{socket=null;listeners=new Map;reconnectAttempts=0;maxReconnectAttempts=5;constructor(){this.connect()}connect(){if(this.socket?.connected)return;console.log(" Connecting to multiplayer server...");const t="https://backend-coral-kappa-57.vercel.app";console.log(" Connecting to:",t),this.socket=ou(t,{transports:["websocket","polling"],timeout:1e4,forceNew:!0,reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:this.maxReconnectAttempts}),this.socket.on("connect",()=>{console.log(" Connected to multiplayer server"),this.reconnectAttempts=0,this.emit("connection_status",{connected:!0})}),this.socket.on("disconnect",s=>{console.log(" Disconnected from server:",s),this.emit("connection_status",{connected:!1,reason:s})}),this.socket.on("connect_error",s=>{console.error(" Connection error:",s),this.emit("connection_error",{error:s.message})}),this.socket.on("reconnect",s=>{console.log(" Reconnected after",s,"attempts"),this.emit("reconnected",{attemptNumber:s})}),this.socket.on("reconnect_failed",()=>{console.error(" Failed to reconnect after",this.maxReconnectAttempts,"attempts"),this.emit("reconnect_failed",{})}),this.socket.on("authenticated",s=>{console.log(" Authenticated:",s),this.emit("authenticated",s)}),this.socket.on("matchmaking_joined",s=>{console.log(" Joined matchmaking queue:",s),this.emit("matchmaking_joined",s)}),this.socket.on("game_found",s=>{console.log(" Game found:",s),this.emit("game_found",s)}),this.socket.on("game_started",s=>{console.log(" Game started:",s),this.emit("game_started",s)}),this.socket.on("move_made",s=>{console.log(" Move made:",s),this.emit("move_made",s)}),this.socket.on("game_ended",s=>{console.log(" Game ended:",s),this.emit("game_ended",s)}),this.socket.on("chat_message",s=>{this.emit("chat_message",s)}),this.socket.on("spectator_joined",s=>{this.emit("spectator_joined",s)}),this.socket.on("spectator_left",s=>{this.emit("spectator_left",s)}),this.socket.on("draw_offered",s=>{this.emit("draw_offered",s)}),this.socket.on("draw_declined",s=>{this.emit("draw_declined",s)})}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null)}authenticate(t){if(!this.socket?.connected)throw new Error("Socket not connected");this.socket.emit("authenticate",t)}joinMatchmaking(t){if(!this.socket?.connected)throw new Error("Socket not connected");this.socket.emit("join_matchmaking",t)}leaveMatchmaking(){if(!this.socket?.connected)throw new Error("Socket not connected");this.socket.emit("leave_matchmaking")}makeMove(t,s,a){if(!this.socket?.connected)throw new Error("Socket not connected");this.socket.emit("make_move",{gameId:t,move:s,timeLeft:a})}offerDraw(t){if(!this.socket?.connected)throw new Error("Socket not connected");this.socket.emit("offer_draw",{gameId:t})}acceptDraw(t){if(!this.socket?.connected)throw new Error("Socket not connected");this.socket.emit("accept_draw",{gameId:t})}declineDraw(t){if(!this.socket?.connected)throw new Error("Socket not connected");this.socket.emit("decline_draw",{gameId:t})}resignGame(t){if(!this.socket?.connected)throw new Error("Socket not connected");this.socket.emit("resign_game",{gameId:t})}joinGameAsSpectator(t){if(!this.socket?.connected)throw new Error("Socket not connected");this.socket.emit("join_game_as_spectator",{gameId:t})}leaveGameAsSpectator(t){if(!this.socket?.connected)throw new Error("Socket not connected");this.socket.emit("leave_game_as_spectator",{gameId:t})}sendChatMessage(t,s){if(!this.socket?.connected)throw new Error("Socket not connected");this.socket.emit("send_chat_message",{gameId:t,message:s})}on(t,s){this.listeners.has(t)||this.listeners.set(t,[]),this.listeners.get(t).push(s)}off(t,s){if(!s){this.listeners.delete(t);return}const a=this.listeners.get(t);if(a){const o=a.indexOf(s);o>-1&&a.splice(o,1)}}emit(t,s){const a=this.listeners.get(t);a&&a.forEach(o=>o(s))}isConnected(){return this.socket?.connected||!1}getConnectionId(){return this.socket?.id}}const Sn=new D6,Qc={isSearching:!1,timeControl:null,estimatedWaitTime:0,queuePosition:0,searchStartTime:null},Oh={gameState:null,gameRoom:null,playerColor:null,isSpectating:!1,chatMessages:[],drawOfferedBy:null,connectionStatus:"disconnected"},pn=_p((e,t)=>({isConnected:!1,isAuthenticated:!1,playerInfo:null,connectionError:null,matchmaking:Qc,currentGame:Oh,liveGames:[],setConnectionStatus:(s,a)=>{e({isConnected:s,connectionError:a||null,currentGame:{...t().currentGame,connectionStatus:s?"connected":"disconnected"}})},setAuthenticated:(s,a)=>{e({isAuthenticated:s,playerInfo:a||null})},startMatchmaking:(s,a)=>{try{Sn.joinMatchmaking({timeControl:s,ratingRange:a}),e({matchmaking:{isSearching:!0,timeControl:s,estimatedWaitTime:0,queuePosition:0,searchStartTime:new Date}})}catch(o){console.error("Failed to start matchmaking:",o),e({connectionError:"Failed to start matchmaking"})}},stopMatchmaking:()=>{try{Sn.leaveMatchmaking(),e({matchmaking:Qc})}catch(s){console.error("Failed to stop matchmaking:",s)}},setMatchmakingStatus:s=>{e({matchmaking:{...t().matchmaking,...s}})},startGame:(s,a,o)=>{e({matchmaking:Qc,currentGame:{gameState:s,gameRoom:a,playerColor:o,isSpectating:!1,chatMessages:[{id:"game-start",username:"System",message:`Game started! You are playing as ${o}.`,timestamp:new Date,type:"system"}],drawOfferedBy:null,connectionStatus:t().isConnected?"connected":"disconnected"}})},updateGameState:s=>{e({currentGame:{...t().currentGame,gameState:s}})},endGame:s=>{const{currentGame:a}=t(),o={id:"game-end-"+Date.now(),username:"System",message:`Game ended: ${s.result} - ${s.reason}. Rating change: ${s.ratingChanges?.[t().playerInfo?.userId||""]||0}`,timestamp:new Date,type:"system"};e({currentGame:{...a,chatMessages:[...a.chatMessages,o]}})},addChatMessage:s=>{e({currentGame:{...t().currentGame,chatMessages:[...t().currentGame.chatMessages,s]}})},setDrawOffer:s=>{if(e({currentGame:{...t().currentGame,drawOfferedBy:s}}),s){const a={id:"draw-offer-"+Date.now(),username:"System",message:`${s} offered a draw`,timestamp:new Date,type:"draw_offer"};t().addChatMessage(a)}},joinAsSpectator:s=>{e({currentGame:{gameState:null,gameRoom:s,playerColor:null,isSpectating:!0,chatMessages:[{id:"spectator-join",username:"System",message:`Now spectating: ${s.white.username} vs ${s.black.username}`,timestamp:new Date,type:"system"}],drawOfferedBy:null,connectionStatus:t().isConnected?"connected":"disconnected"}})},leaveSpectator:()=>{e({currentGame:Oh})},updateLiveGames:s=>{e({liveGames:s})},reset:()=>{e({isConnected:!1,isAuthenticated:!1,playerInfo:null,connectionError:null,matchmaking:Qc,currentGame:Oh,liveGames:[]})}}));Sn.on("connection_status",e=>{pn.getState().setConnectionStatus(e.connected,e.reason)});Sn.on("authenticated",e=>{e.success&&e.playerInfo&&pn.getState().setAuthenticated(!0,e.playerInfo)});Sn.on("matchmaking_joined",e=>{pn.getState().setMatchmakingStatus({estimatedWaitTime:e.estimatedWaitTime,queuePosition:e.queuePosition})});Sn.on("game_found",e=>{const t={id:"game-found",username:"System",message:`Game found! Playing as ${e.color} against ${e.opponent.username} (${e.opponent.rating})`,timestamp:new Date,type:"system"};pn.getState().addChatMessage(t)});Sn.on("game_started",e=>{pn.getState().startGame(e.gameState,e.gameRoom,e.playerColor)});Sn.on("move_made",e=>{pn.getState().updateGameState(e.gameState)});Sn.on("game_ended",e=>{pn.getState().endGame(e)});Sn.on("chat_message",e=>{const t={id:"chat-"+Date.now(),username:e.username,message:e.message,timestamp:new Date(e.timestamp),type:"chat"};pn.getState().addChatMessage(t)});Sn.on("draw_offered",e=>{pn.getState().setDrawOffer(e.offeredBy)});Sn.on("draw_declined",()=>{pn.getState().setDrawOffer(null)});Sn.on("connection_error",e=>{pn.getState().setConnectionStatus(!1,e.error)});Sn.on("reconnected",()=>{const{playerInfo:e}=pn.getState();e&&Sn.authenticate(e)});const L6=[{initial:60,increment:1,type:"bullet"},{initial:180,increment:0,type:"blitz"},{initial:180,increment:2,type:"blitz"},{initial:300,increment:0,type:"blitz"},{initial:300,increment:3,type:"blitz"},{initial:600,increment:0,type:"rapid"},{initial:900,increment:10,type:"rapid"},{initial:1800,increment:0,type:"classical"},{initial:1800,increment:30,type:"classical"}],Bp=e=>{const t=Math.floor(e.initial/60);return e.increment>0?`${t}+${e.increment}`:`${t}`},qp=e=>{switch(e){case"bullet":return"text-red-400 border-red-400/30 bg-red-400/5";case"blitz":return"text-orange-400 border-orange-400/30 bg-orange-400/5";case"rapid":return"text-green-400 border-green-400/30 bg-green-400/5";case"classical":return"text-blue-400 border-blue-400/30 bg-blue-400/5";default:return"text-gray-400 border-gray-400/30 bg-gray-400/5"}},O6=()=>{const{isConnected:e,connectionError:t,isAuthenticated:s,playerInfo:a}=pn(),o=e?"text-green-400":"text-red-400";return d.jsx("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg p-4 mb-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:`flex items-center gap-2 ${o}`,children:[d.jsx("span",{className:"text-sm",children:""}),d.jsx("span",{className:"text-sm font-medium",children:e?"Connected":"Disconnected"})]}),s&&a&&d.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[d.jsx("span",{className:"text-sm",children:"Playing as:"}),d.jsx("span",{className:"text-sm font-semibold text-white",children:a.username}),d.jsx("span",{className:"text-xs px-2 py-1 bg-blue-600 rounded text-white",children:a.rating})]})]}),t&&d.jsx("div",{className:"text-red-400 text-sm",children:t})]})})},P6=()=>{const{matchmaking:e,stopMatchmaking:t}=pn(),[s,a]=b.useState(0);if(b.useEffect(()=>{if(!e.isSearching||!e.searchStartTime)return;const c=setInterval(()=>{const u=Math.floor((Date.now()-e.searchStartTime.getTime())/1e3);a(u)},1e3);return()=>clearInterval(c)},[e.isSearching,e.searchStartTime]),!e.isSearching)return null;const o=c=>{const u=Math.floor(c/60),f=c%60;return`${u}:${f.toString().padStart(2,"0")}`};return d.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-blue-500/30 rounded-lg p-6 mb-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-white",children:"Searching for opponent..."}),d.jsx("button",{onClick:t,className:"bg-gray-600 hover:bg-gray-700 text-white text-sm px-4 py-2 rounded transition-colors",children:"Cancel"})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-400",children:"Time Control:"}),d.jsx("span",{className:`font-medium ${qp(e.timeControl.type)}`,children:Bp(e.timeControl)})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-400",children:"Elapsed Time:"}),d.jsx("span",{className:"text-white font-mono",children:o(s)})]}),e.estimatedWaitTime>0&&d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-400",children:"Estimated Wait:"}),d.jsxs("span",{className:"text-orange-400",children:[e.estimatedWaitTime,"s"]})]}),e.queuePosition>0&&d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-400",children:"Queue Position:"}),d.jsxs("span",{className:"text-blue-400",children:["#",e.queuePosition]})]})]}),d.jsx("div",{className:"mt-4 h-1 bg-gray-700 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-400 rounded-full animate-pulse",style:{width:"60%"}})})]})},z6=()=>{const{startMatchmaking:e,isConnected:t,isAuthenticated:s}=pn(),a=o=>{if(!t||!s){console.log("Please authenticate first");return}e(o)};return d.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg p-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:"Choose Time Control"}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:L6.map((o,c)=>d.jsx("button",{onClick:()=>a(o),disabled:!t||!s,className:`
              p-4 rounded-lg border-2 transition-all duration-200
              hover:scale-105 hover:border-blue-400 active:scale-95
              disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100
              ${qp(o.type)}
              group
            `,children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold mb-1 group-hover:text-white transition-colors",children:Bp(o)}),d.jsx("div",{className:"text-xs uppercase font-medium opacity-80 group-hover:opacity-100",children:o.type}),o.increment>0&&d.jsxs("div",{className:"text-xs opacity-60 mt-1",children:["+",o.increment,"s per move"]})]})},c))}),d.jsxs("div",{className:"mt-6 text-center",children:[d.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Rating range: 200 points by default"}),d.jsx("p",{className:"text-gray-500 text-xs",children:"Games are rated and affect your ELO rating"})]})]})},B6=()=>{const{liveGames:e}=pn(),t=Su(),s=a=>{t(`/spectate/${a}`)};return e.length===0?d.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg p-6",children:[d.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Live Games"}),d.jsxs("div",{className:"text-center text-gray-400 py-8",children:[d.jsx("div",{className:"text-4xl mb-2",children:""}),d.jsx("p",{children:"No live games at the moment"}),d.jsx("p",{className:"text-sm mt-1",children:"Games will appear here when players are online"})]})]}):d.jsxs("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg p-6",children:[d.jsxs("h3",{className:"text-xl font-semibold text-white mb-4",children:["Live Games (",e.length,")"]}),d.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:e.map(a=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-800/50 rounded-lg hover:bg-gray-700/50 transition-colors",children:[d.jsx("div",{className:"flex items-center gap-3",children:d.jsxs("div",{className:"text-sm",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-white font-medium",children:a.white.username}),d.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-gray-600 rounded text-gray-300",children:a.white.rating}),d.jsx("span",{className:"text-gray-400",children:"vs"}),d.jsx("span",{className:"text-white font-medium",children:a.black.username}),d.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-gray-600 rounded text-gray-300",children:a.black.rating})]}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsx("span",{className:`text-xs px-2 py-1 rounded ${qp(a.timeControl.type)}`,children:Bp(a.timeControl)}),d.jsxs("span",{className:"text-xs text-gray-500",children:[a.spectators.length," watching"]})]})]})}),d.jsx("button",{onClick:()=>s(a.id),className:"bg-gray-600 hover:bg-gray-700 text-white text-xs px-3 py-1.5 rounded transition-colors",children:"Watch"})]},a.id))})]})},q6=()=>{const{isAuthenticated:e,playerInfo:t}=pn();return b.useEffect(()=>{if(!e&&!t){const s={userId:"demo-user-"+Date.now(),username:"TestPlayer",rating:1200};Sn.authenticate(s)}},[e,t]),d.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Multiplayer Chess"}),d.jsx("p",{className:"text-gray-400",children:"Play rated games against opponents worldwide"})]}),d.jsx(O6,{}),d.jsx(P6,{}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsx("div",{className:"lg:col-span-2",children:d.jsx(z6,{})}),d.jsx("div",{children:d.jsx(B6,{})})]}),d.jsx("div",{className:"mt-8 text-center",children:d.jsx("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg p-4",children:d.jsx("p",{className:"text-gray-400 text-sm",children:"Tip: Choose faster time controls for quick games, or classical for deeper thinking"})})})]})},U6=()=>d.jsxs("div",{className:"container mx-auto px-4 py-8",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:" Live Multiplayer Chess"}),d.jsx("p",{className:"text-lg text-gray-600",children:"Play real-time chess games with players around the world"})]}),d.jsx(q6,{}),d.jsx("div",{className:"mt-8 max-w-4xl mx-auto",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-lg",children:[d.jsx("div",{className:"text-3xl mb-2",children:""}),d.jsx("h3",{className:"font-bold text-blue-800 mb-2",children:"Quick Match"}),d.jsx("p",{className:"text-blue-600 text-sm",children:"Get matched instantly with players of similar skill level"})]}),d.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-lg",children:[d.jsx("div",{className:"text-3xl mb-2",children:""}),d.jsx("h3",{className:"font-bold text-green-800 mb-2",children:"Ranked Games"}),d.jsx("p",{className:"text-green-600 text-sm",children:"Compete in ranked matches to climb the leaderboard"})]}),d.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-lg",children:[d.jsx("div",{className:"text-3xl mb-2",children:""}),d.jsx("h3",{className:"font-bold text-purple-800 mb-2",children:"Private Rooms"}),d.jsx("p",{className:"text-purple-600 text-sm",children:"Create custom rooms to play with friends"})]})]})})]}),V6="http://localhost:3001";class H6{baseURL;constructor(t){this.baseURL=t}async request(t,s={}){const a=`${this.baseURL}${t}`,o={headers:{"Content-Type":"application/json",...s.headers},credentials:"include",...s},c=localStorage.getItem("chess-academy-auth");if(c){const u=JSON.parse(c);u.state?.token&&(o.headers={...o.headers,Authorization:`Bearer ${u.state.token}`})}try{const u=await fetch(a,o),f=await u.json();if(!u.ok)throw new Error(f.message||`HTTP error! status: ${u.status}`);return f}catch(u){throw new Error(u instanceof Error?u.message:"Network error")}}async register(t){return this.request("/api/auth/register",{method:"POST",body:JSON.stringify(t)})}async login(t){return this.request("/api/auth/login",{method:"POST",body:JSON.stringify(t)})}async logout(){return this.request("/api/auth/logout",{method:"POST"})}async refreshToken(){return this.request("/api/auth/refresh",{method:"POST"})}async getProfile(){return this.request("/api/auth/profile")}async getUserProfile(){return this.request("/api/users/profile")}async updateUserProfile(t){return this.request("/api/users/profile",{method:"PUT",body:JSON.stringify(t)})}async getUserStats(){return this.request("/api/users/stats")}async getUserProgress(){return this.request("/api/users/progress")}}const Bo=new H6(V6),$6=_p()(KS((e,t)=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null,register:async s=>{e({isLoading:!0,error:null});try{const a=await Bo.register(s);if(a.success&&a.data){const{user:o,accessToken:c}=a.data;e({user:o,token:c,isAuthenticated:!0,isLoading:!1,error:null})}}catch(a){throw e({isLoading:!1,error:a instanceof Error?a.message:"Registration failed"}),a}},login:async s=>{e({isLoading:!0,error:null});try{const a=await Bo.login(s);if(a.success&&a.data){const{user:o,accessToken:c}=a.data;e({user:o,token:c,isAuthenticated:!0,isLoading:!1,error:null})}}catch(a){throw e({isLoading:!1,error:a instanceof Error?a.message:"Login failed"}),a}},loginDemo:()=>{const s={id:"demo-user-123",email:"demo@chesslacademy.com",username:"demo_player",displayName:"Demo Player",createdAt:new Date().toISOString()};e({user:s,token:"demo-token-123",isAuthenticated:!0,isLoading:!1,error:null})},logout:async()=>{e({isLoading:!0});try{await Bo.logout()}catch(s){console.error("Logout error:",s)}finally{e({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null})}},refreshToken:async()=>{try{const s=await Bo.refreshToken();if(s.success&&s.data){const{accessToken:a}=s.data;e({token:a})}}catch(s){console.error("Token refresh failed:",s),t().logout()}},checkAuth:async()=>{const{token:s}=t();if(s){e({isLoading:!0});try{const a=await Bo.getProfile();a.success&&a.data&&e({user:a.data.user,isAuthenticated:!0,isLoading:!1,error:null})}catch(a){console.error("Auth check failed:",a),e({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null})}}},setUser:(s,a)=>e({user:s,token:a,isAuthenticated:!0,error:null}),setLoading:s=>e({isLoading:s}),setError:s=>e({error:s}),clearError:()=>e({error:null})}),{name:"chess-academy-auth",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated})})),G6=({children:e})=>{const{loginDemo:t,isAuthenticated:s}=$6();return b.useEffect(()=>{s||t()},[t,s]),d.jsx(d.Fragment,{children:e})},K6=new f5({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*10,retry:1,refetchOnWindowFocus:!1}}}),Ms=({children:e})=>d.jsx(d.Fragment,{children:e});function Y6(){return d.jsx(h5,{client:K6,children:d.jsx(G6,{children:d.jsx(Rk,{children:d.jsx("div",{className:"min-h-screen bg-background",children:d.jsxs(ck,{children:[d.jsx(Gn,{path:"/",element:d.jsx(jv,{to:"/dashboard",replace:!0})}),d.jsx(Gn,{path:"/dashboard",element:d.jsx(Ms,{children:d.jsx(js,{children:d.jsx(rA,{})})})}),d.jsx(Gn,{path:"/lessons",element:d.jsx(Ms,{children:d.jsx(js,{children:d.jsx(oA,{})})})}),d.jsx(Gn,{path:"/lessons/:lessonId",element:d.jsx(Ms,{children:d.jsx(js,{children:d.jsx(dR,{})})})}),d.jsx(Gn,{path:"/puzzles",element:d.jsx(Ms,{children:d.jsx(js,{children:d.jsx(MR,{})})})}),d.jsx(Gn,{path:"/play",element:d.jsx(Ms,{children:d.jsx(js,{children:d.jsx(LR,{})})})}),d.jsx(Gn,{path:"/multiplayer",element:d.jsx(Ms,{children:d.jsx(js,{children:d.jsx(U6,{})})})}),d.jsx(Gn,{path:"/profile",element:d.jsx(Ms,{children:d.jsx(js,{children:d.jsx(OR,{})})})}),d.jsx(Gn,{path:"/leaderboard",element:d.jsx(Ms,{children:d.jsx(js,{children:d.jsx(PR,{})})})}),d.jsx(Gn,{path:"/settings",element:d.jsx(Ms,{children:d.jsx(js,{children:d.jsx(zR,{})})})}),d.jsx(Gn,{path:"/debug",element:d.jsx(Ms,{children:d.jsx(js,{children:d.jsx(qR,{})})})}),d.jsx(Gn,{path:"*",element:d.jsx(jv,{to:"/dashboard",replace:!0})})]})})})})})}v3.createRoot(document.getElementById("root")).render(d.jsx(b.StrictMode,{children:d.jsx(Y6,{})}));
